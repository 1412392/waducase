"undefined" ==
  /*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
  typeof jQuery.migrateMute && (jQuery.migrateMute = !0),
  (function(a, b, c) {
    function d(c) {
      var d = b.console;
      f[c] ||
        ((f[c] = !0),
        a.migrateWarnings.push(c),
        d &&
          d.warn &&
          !a.migrateMute &&
          (d.warn("JQMIGRATE: " + c), a.migrateTrace && d.trace && d.trace()));
    }
    function e(b, c, e, f) {
      if (Object.defineProperty)
        try {
          return void Object.defineProperty(b, c, {
            configurable: !0,
            enumerable: !0,
            get: function() {
              return d(f), e;
            },
            set: function(a) {
              d(f), (e = a);
            }
          });
        } catch (g) {}
      (a._definePropertyBroken = !0), (b[c] = e);
    }
    a.migrateVersion = "1.4.1";
    var f = {};
    (a.migrateWarnings = []),
      b.console &&
        b.console.log &&
        b.console.log(
          "JQMIGRATE: Migrate is installed" +
            (a.migrateMute ? "" : " with logging active") +
            ", version " +
            a.migrateVersion
        ),
      a.migrateTrace === c && (a.migrateTrace = !0),
      (a.migrateReset = function() {
        (f = {}), (a.migrateWarnings.length = 0);
      }),
      "BackCompat" === document.compatMode &&
        d("jQuery is not compatible with Quirks Mode");
    var g = a("<input/>", { size: 1 }).attr("size") && a.attrFn,
      h = a.attr,
      i =
        (a.attrHooks.value && a.attrHooks.value.get) ||
        function() {
          return null;
        },
      j =
        (a.attrHooks.value && a.attrHooks.value.set) ||
        function() {
          return c;
        },
      k = /^(?:input|button)$/i,
      l = /^[238]$/,
      m = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
      n = /^(?:checked|selected)$/i;
    e(a, "attrFn", g || {}, "jQuery.attrFn is deprecated"),
      (a.attr = function(b, e, f, i) {
        var j = e.toLowerCase(),
          o = b && b.nodeType;
        return i &&
          (h.length < 4 && d("jQuery.fn.attr( props, pass ) is deprecated"),
          b && !l.test(o) && (g ? e in g : a.isFunction(a.fn[e])))
          ? a(b)[e](f)
          : ("type" === e &&
              f !== c &&
              k.test(b.nodeName) &&
              b.parentNode &&
              d("Can't change the 'type' of an input or button in IE 6/7/8"),
            !a.attrHooks[j] &&
              m.test(j) &&
              ((a.attrHooks[j] = {
                get: function(b, d) {
                  var e,
                    f = a.prop(b, d);
                  return f === !0 ||
                    ("boolean" != typeof f &&
                      (e = b.getAttributeNode(d)) &&
                      e.nodeValue !== !1)
                    ? d.toLowerCase()
                    : c;
                },
                set: function(b, c, d) {
                  var e;
                  return (
                    c === !1
                      ? a.removeAttr(b, d)
                      : ((e = a.propFix[d] || d),
                        e in b && (b[e] = !0),
                        b.setAttribute(d, d.toLowerCase())),
                    d
                  );
                }
              }),
              n.test(j) &&
                d(
                  "jQuery.fn.attr('" +
                    j +
                    "') might use property instead of attribute"
                )),
            h.call(a, b, e, f));
      }),
      (a.attrHooks.value = {
        get: function(a, b) {
          var c = (a.nodeName || "").toLowerCase();
          return "button" === c
            ? i.apply(this, arguments)
            : ("input" !== c &&
                "option" !== c &&
                d("jQuery.fn.attr('value') no longer gets properties"),
              b in a ? a.value : null);
        },
        set: function(a, b) {
          var c = (a.nodeName || "").toLowerCase();
          return "button" === c
            ? j.apply(this, arguments)
            : ("input" !== c &&
                "option" !== c &&
                d("jQuery.fn.attr('value', val) no longer sets properties"),
              void (a.value = b));
        }
      });
    var o,
      p,
      q = a.fn.init,
      r = a.find,
      s = a.parseJSON,
      t = /^\s*</,
      u = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,
      v = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,
      w = /^([^<]*)(<[\w\W]+>)([^>]*)$/;
    (a.fn.init = function(b, e, f) {
      var g, h;
      return b &&
        "string" == typeof b &&
        !a.isPlainObject(e) &&
        (g = w.exec(a.trim(b))) &&
        g[0] &&
        (t.test(b) || d("$(html) HTML strings must start with '<' character"),
        g[3] && d("$(html) HTML text after last tag is ignored"),
        "#" === g[0].charAt(0) &&
          (d("HTML string cannot start with a '#' character"),
          a.error("JQMIGRATE: Invalid selector string (XSS)")),
        e && e.context && e.context.nodeType && (e = e.context),
        a.parseHTML)
        ? q.call(
            this,
            a.parseHTML(g[2], (e && e.ownerDocument) || e || document, !0),
            e,
            f
          )
        : ((h = q.apply(this, arguments)),
          b && b.selector !== c
            ? ((h.selector = b.selector), (h.context = b.context))
            : ((h.selector = "string" == typeof b ? b : ""),
              b && (h.context = b.nodeType ? b : e || document)),
          h);
    }),
      (a.fn.init.prototype = a.fn),
      (a.find = function(a) {
        var b = Array.prototype.slice.call(arguments);
        if ("string" == typeof a && u.test(a))
          try {
            document.querySelector(a);
          } catch (c) {
            a = a.replace(v, function(a, b, c, d) {
              return "[" + b + c + '"' + d + '"]';
            });
            try {
              document.querySelector(a),
                d("Attribute selector with '#' must be quoted: " + b[0]),
                (b[0] = a);
            } catch (e) {
              d("Attribute selector with '#' was not fixed: " + b[0]);
            }
          }
        return r.apply(this, b);
      });
    var x;
    for (x in r)
      Object.prototype.hasOwnProperty.call(r, x) && (a.find[x] = r[x]);
    (a.parseJSON = function(a) {
      return a
        ? s.apply(this, arguments)
        : (d("jQuery.parseJSON requires a valid JSON string"), null);
    }),
      (a.uaMatch = function(a) {
        a = a.toLowerCase();
        var b =
          /(chrome)[ \/]([\w.]+)/.exec(a) ||
          /(webkit)[ \/]([\w.]+)/.exec(a) ||
          /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) ||
          /(msie) ([\w.]+)/.exec(a) ||
          (a.indexOf("compatible") < 0 &&
            /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)) ||
          [];
        return { browser: b[1] || "", version: b[2] || "0" };
      }),
      a.browser ||
        ((o = a.uaMatch(navigator.userAgent)),
        (p = {}),
        o.browser && ((p[o.browser] = !0), (p.version = o.version)),
        p.chrome ? (p.webkit = !0) : p.webkit && (p.safari = !0),
        (a.browser = p)),
      e(a, "browser", a.browser, "jQuery.browser is deprecated"),
      (a.boxModel = a.support.boxModel = "CSS1Compat" === document.compatMode),
      e(a, "boxModel", a.boxModel, "jQuery.boxModel is deprecated"),
      e(
        a.support,
        "boxModel",
        a.support.boxModel,
        "jQuery.support.boxModel is deprecated"
      ),
      (a.sub = function() {
        function b(a, c) {
          return new b.fn.init(a, c);
        }
        a.extend(!0, b, this),
          (b.superclass = this),
          (b.fn = b.prototype = this()),
          (b.fn.constructor = b),
          (b.sub = this.sub),
          (b.fn.init = function(d, e) {
            var f = a.fn.init.call(this, d, e, c);
            return f instanceof b ? f : b(f);
          }),
          (b.fn.init.prototype = b.fn);
        var c = b(document);
        return d("jQuery.sub() is deprecated"), b;
      }),
      (a.fn.size = function() {
        return (
          d("jQuery.fn.size() is deprecated; use the .length property"),
          this.length
        );
      });
    var y = !1;
    a.swap &&
      a.each(["height", "width", "reliableMarginRight"], function(b, c) {
        var d = a.cssHooks[c] && a.cssHooks[c].get;
        d &&
          (a.cssHooks[c].get = function() {
            var a;
            return (y = !0), (a = d.apply(this, arguments)), (y = !1), a;
          });
      }),
      (a.swap = function(a, b, c, e) {
        var f,
          g,
          h = {};
        y || d("jQuery.swap() is undocumented and deprecated");
        for (g in b) (h[g] = a.style[g]), (a.style[g] = b[g]);
        f = c.apply(a, e || []);
        for (g in b) a.style[g] = h[g];
        return f;
      }),
      a.ajaxSetup({ converters: { "text json": a.parseJSON } });
    var z = a.fn.data;
    a.fn.data = function(b) {
      var e,
        f,
        g = this[0];
      return !g ||
        "events" !== b ||
        1 !== arguments.length ||
        ((e = a.data(g, b)),
        (f = a._data(g, b)),
        (e !== c && e !== f) || f === c)
        ? z.apply(this, arguments)
        : (d("Use of jQuery.fn.data('events') is deprecated"), f);
    };
    var A = /\/(java|ecma)script/i;
    a.clean ||
      (a.clean = function(b, c, e, f) {
        (c = c || document),
          (c = (!c.nodeType && c[0]) || c),
          (c = c.ownerDocument || c),
          d("jQuery.clean() is deprecated");
        var g,
          h,
          i,
          j,
          k = [];
        if ((a.merge(k, a.buildFragment(b, c).childNodes), e))
          for (
            i = function(a) {
              return !a.type || A.test(a.type)
                ? f
                  ? f.push(a.parentNode ? a.parentNode.removeChild(a) : a)
                  : e.appendChild(a)
                : void 0;
            },
              g = 0;
            null != (h = k[g]);
            g++
          )
            (a.nodeName(h, "script") && i(h)) ||
              (e.appendChild(h),
              "undefined" != typeof h.getElementsByTagName &&
                ((j = a.grep(a.merge([], h.getElementsByTagName("script")), i)),
                k.splice.apply(k, [g + 1, 0].concat(j)),
                (g += j.length)));
        return k;
      });
    var B = a.event.add,
      C = a.event.remove,
      D = a.event.trigger,
      E = a.fn.toggle,
      F = a.fn.live,
      G = a.fn.die,
      H = a.fn.load,
      I = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",
      J = new RegExp("\\b(?:" + I + ")\\b"),
      K = /(?:^|\s)hover(\.\S+|)\b/,
      L = function(b) {
        return "string" != typeof b || a.event.special.hover
          ? b
          : (K.test(b) &&
              d(
                "'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"
              ),
            b && b.replace(K, "mouseenter$1 mouseleave$1"));
      };
    a.event.props &&
      "attrChange" !== a.event.props[0] &&
      a.event.props.unshift(
        "attrChange",
        "attrName",
        "relatedNode",
        "srcElement"
      ),
      a.event.dispatch &&
        e(
          a.event,
          "handle",
          a.event.dispatch,
          "jQuery.event.handle is undocumented and deprecated"
        ),
      (a.event.add = function(a, b, c, e, f) {
        a !== document &&
          J.test(b) &&
          d("AJAX events should be attached to document: " + b),
          B.call(this, a, L(b || ""), c, e, f);
      }),
      (a.event.remove = function(a, b, c, d, e) {
        C.call(this, a, L(b) || "", c, d, e);
      }),
      a.each(["load", "unload", "error"], function(b, c) {
        a.fn[c] = function() {
          var a = Array.prototype.slice.call(arguments, 0);
          return "load" === c && "string" == typeof a[0]
            ? H.apply(this, a)
            : (d("jQuery.fn." + c + "() is deprecated"),
              a.splice(0, 0, c),
              arguments.length
                ? this.bind.apply(this, a)
                : (this.triggerHandler.apply(this, a), this));
        };
      }),
      (a.fn.toggle = function(b, c) {
        if (!a.isFunction(b) || !a.isFunction(c))
          return E.apply(this, arguments);
        d("jQuery.fn.toggle(handler, handler...) is deprecated");
        var e = arguments,
          f = b.guid || a.guid++,
          g = 0,
          h = function(c) {
            var d = (a._data(this, "lastToggle" + b.guid) || 0) % g;
            return (
              a._data(this, "lastToggle" + b.guid, d + 1),
              c.preventDefault(),
              e[d].apply(this, arguments) || !1
            );
          };
        for (h.guid = f; g < e.length; ) e[g++].guid = f;
        return this.click(h);
      }),
      (a.fn.live = function(b, c, e) {
        return (
          d("jQuery.fn.live() is deprecated"),
          F
            ? F.apply(this, arguments)
            : (a(this.context).on(b, this.selector, c, e), this)
        );
      }),
      (a.fn.die = function(b, c) {
        return (
          d("jQuery.fn.die() is deprecated"),
          G
            ? G.apply(this, arguments)
            : (a(this.context).off(b, this.selector || "**", c), this)
        );
      }),
      (a.event.trigger = function(a, b, c, e) {
        return (
          c || J.test(a) || d("Global events are undocumented and deprecated"),
          D.call(this, a, b, c || document, e)
        );
      }),
      a.each(I.split("|"), function(b, c) {
        a.event.special[c] = {
          setup: function() {
            var b = this;
            return (
              b !== document &&
                (a.event.add(document, c + "." + a.guid, function() {
                  a.event.trigger(
                    c,
                    Array.prototype.slice.call(arguments, 1),
                    b,
                    !0
                  );
                }),
                a._data(this, c, a.guid++)),
              !1
            );
          },
          teardown: function() {
            return (
              this !== document &&
                a.event.remove(document, c + "." + a._data(this, c)),
              !1
            );
          }
        };
      }),
      (a.event.special.ready = {
        setup: function() {
          this === document && d("'ready' event is deprecated");
        }
      });
    var M = a.fn.andSelf || a.fn.addBack,
      N = a.fn.find;
    if (
      ((a.fn.andSelf = function() {
        return (
          d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),
          M.apply(this, arguments)
        );
      }),
      (a.fn.find = function(a) {
        var b = N.apply(this, arguments);
        return (
          (b.context = this.context),
          (b.selector = this.selector ? this.selector + " " + a : a),
          b
        );
      }),
      a.Callbacks)
    ) {
      var O = a.Deferred,
        P = [
          [
            "resolve",
            "done",
            a.Callbacks("once memory"),
            a.Callbacks("once memory"),
            "resolved"
          ],
          [
            "reject",
            "fail",
            a.Callbacks("once memory"),
            a.Callbacks("once memory"),
            "rejected"
          ],
          ["notify", "progress", a.Callbacks("memory"), a.Callbacks("memory")]
        ];
      a.Deferred = function(b) {
        var c = O(),
          e = c.promise();
        return (
          (c.pipe = e.pipe = function() {
            var b = arguments;
            return (
              d("deferred.pipe() is deprecated"),
              a
                .Deferred(function(d) {
                  a.each(P, function(f, g) {
                    var h = a.isFunction(b[f]) && b[f];
                    c[g[1]](function() {
                      var b = h && h.apply(this, arguments);
                      b && a.isFunction(b.promise)
                        ? b
                            .promise()
                            .done(d.resolve)
                            .fail(d.reject)
                            .progress(d.notify)
                        : d[g[0] + "With"](
                            this === e ? d.promise() : this,
                            h ? [b] : arguments
                          );
                    });
                  }),
                    (b = null);
                })
                .promise()
            );
          }),
          (c.isResolved = function() {
            return (
              d("deferred.isResolved is deprecated"), "resolved" === c.state()
            );
          }),
          (c.isRejected = function() {
            return (
              d("deferred.isRejected is deprecated"), "rejected" === c.state()
            );
          }),
          b && b.call(c, c),
          c
        );
      };
    }
  })(jQuery, window);
!(function(y, O, i, e) {
  var n,
    I,
    a,
    s,
    l,
    o,
    r,
    c,
    u,
    h,
    t,
    g,
    f = "mPageScroll2id",
    x = "mPS2id",
    d = {
      scrollSpeed: 1e3,
      autoScrollSpeed: !0,
      scrollEasing: "easeInOutQuint",
      scrollingEasing: "easeOutQuint",
      pageEndSmoothScroll: !0,
      layout: "vertical",
      offset: 0,
      highlightSelector: !1,
      clickedClass: x + "-clicked",
      targetClass: x + "-target",
      highlightClass: x + "-highlight",
      forceSingleHighlight: !1,
      keepHighlightUntilNext: !1,
      highlightByNextTarget: !1,
      disablePluginBelow: !1,
      clickEvents: !0,
      appendHash: !1,
      onStart: function() {},
      onComplete: function() {},
      defaultSelector: !1,
      live: !0,
      liveSelector: !1
    },
    p = 0,
    _ = {
      init: function(e) {
        e = y.extend(!0, {}, d, e);
        if ((y(i).data(x, e), (I = y(i).data(x)), !this.selector)) {
          var t = "__" + x;
          this.each(function() {
            var e = y(this);
            e.hasClass(t) || e.addClass(t);
          }),
            (this.selector = "." + t);
        }
        I.liveSelector && (this.selector += "," + I.liveSelector),
          (n = n ? n + "," + this.selector : this.selector),
          I.defaultSelector &&
            (("object" == typeof y(n) && 0 !== y(n).length) ||
              (n =
                ".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id")),
          I.clickEvents &&
            y(i)
              .undelegate("." + x)
              .delegate(n, "click." + x, function(e) {
                if (m._isDisabled.call(null)) m._removeClasses.call(null);
                else {
                  var t = y(this),
                    n = t.attr("href"),
                    a = t.prop("href").baseVal || t.prop("href");
                  (n && -1 !== n.indexOf("#/")) ||
                    (m._reset.call(null),
                    (h = t.data("ps2id-offset") || 0),
                    m._isValid.call(null, n, a) &&
                      m._findTarget.call(null, n) &&
                      (e.preventDefault(),
                      (s = "selector"),
                      (l = t),
                      m._setClasses.call(null, !0),
                      m._scrollTo.call(null)));
                }
              }),
          y(O)
            .unbind("." + x)
            .bind("scroll." + x + " resize." + x, function() {
              if (m._isDisabled.call(null)) m._removeClasses.call(null);
              else {
                var s = y("._" + x + "-t");
                s.each(function(e) {
                  var t = y(this),
                    n = t.attr("id"),
                    a = m._findHighlight.call(null, n);
                  m._setClasses.call(null, !1, t, a),
                    e == s.length - 1 && m._extendClasses.call(null);
                });
              }
            }),
          (a = !0),
          m._setup.call(null),
          m._live.call(null);
      },
      scrollTo: function(e, t) {
        if (m._isDisabled.call(null)) m._removeClasses.call(null);
        else if (e && void 0 !== e) {
          m._isInit.call(null);
          var n = { layout: I.layout, offset: I.offset, clicked: !1 };
          t = y.extend(!0, {}, n, t);
          m._reset.call(null),
            (c = t.layout),
            (u = t.offset),
            (e = -1 !== e.indexOf("#") ? e : "#" + e),
            m._isValid.call(null, e) &&
              m._findTarget.call(null, e) &&
              ((s = "scrollTo"),
              (l = t.clicked) && m._setClasses.call(null, !0),
              m._scrollTo.call(null));
        }
      },
      destroy: function() {
        y(O).unbind("." + x),
          y(i)
            .undelegate("." + x)
            .removeData(x),
          y("._" + x + "-t").removeData(x),
          m._removeClasses.call(null, !0);
      }
    },
    m = {
      _isDisabled: function() {
        var e = O,
          t = "inner",
          n =
            I.disablePluginBelow instanceof Array
              ? [I.disablePluginBelow[0] || 0, I.disablePluginBelow[1] || 0]
              : [I.disablePluginBelow || 0, 0];
        return (
          "innerWidth" in O ||
            ((t = "client"), (e = i.documentElement || i.body)),
          e[t + "Width"] <= n[0] || e[t + "Height"] <= n[1]
        );
      },
      _isValid: function(e, t) {
        if (e) {
          var n =
              -1 !== (t = t || e).indexOf("#/")
                ? t.split("#/")[0]
                : t.split("#")[0],
            a = O.location.toString().split("#")[0];
          return (
            "#" !== e &&
            -1 !== e.indexOf("#") &&
            ("" === n || decodeURIComponent(n) === decodeURIComponent(a))
          );
        }
      },
      _setup: function() {
        var l = m._highlightSelector(),
          o = 1,
          r = 0;
        return y(l).each(function() {
          var e = y(this),
            t = e.attr("href"),
            n = e.prop("href").baseVal || e.prop("href");
          if (m._isValid.call(null, t, n)) {
            var a = -1 !== t.indexOf("#/") ? t.split("#/")[1] : t.split("#")[1],
              s = y("#" + a);
            if (0 < s.length) {
              I.highlightByNextTarget &&
                s !== r &&
                (r ? r.data(x, { tn: s }) : s.data(x, { tn: "0" }), (r = s)),
                s.hasClass("_" + x + "-t") || s.addClass("_" + x + "-t"),
                s.data(x, { i: o }),
                e.hasClass("_" + x + "-h") || e.addClass("_" + x + "-h");
              var i = m._findHighlight.call(null, a);
              m._setClasses.call(null, !1, s, i),
                (p = o),
                ++o == y(l).length && m._extendClasses.call(null);
            }
          }
        });
      },
      _highlightSelector: function() {
        return I.highlightSelector && "" !== I.highlightSelector
          ? I.highlightSelector
          : n;
      },
      _findTarget: function(e) {
        var t = -1 !== e.indexOf("#/") ? e.split("#/")[1] : e.split("#")[1],
          n = y("#" + t);
        if (n.length < 1 || "fixed" === n.css("position")) {
          if ("top" !== t) return;
          n = y("body");
        }
        return (
          (o = n),
          c || (c = I.layout),
          (u = m._setOffset.call(null)),
          ((r = [
            (n.offset().top - u[0]).toString(),
            (n.offset().left - u[1]).toString()
          ])[0] =
            r[0] < 0 ? 0 : r[0]),
          (r[1] = r[1] < 0 ? 0 : r[1]),
          r
        );
      },
      _setOffset: function() {
        var e, t, n, a;
        switch ((u || (u = I.offset ? I.offset : 0), h && (u = h), typeof u)) {
          case "object":
          case "string":
            0 <
            (t = [
              (e = [u.y ? u.y : u, u.x ? u.x : u])[0] instanceof jQuery
                ? e[0]
                : y(e[0]),
              e[1] instanceof jQuery ? e[1] : y(e[1])
            ])[0].length
              ? ((n = t[0].height()),
                "fixed" === t[0].css("position") && (n += t[0][0].offsetTop))
              : (n =
                  !isNaN(parseFloat(e[0])) && isFinite(e[0])
                    ? parseInt(e[0])
                    : 0),
              0 < t[1].length
                ? ((a = t[1].width()),
                  "fixed" === t[1].css("position") && (a += t[1][0].offsetLeft))
                : (a =
                    !isNaN(parseFloat(e[1])) && isFinite(e[1])
                      ? parseInt(e[1])
                      : 0);
            break;
          case "function":
            (e = u.call(null)) instanceof Array
              ? ((n = e[0]), (a = e[1]))
              : (n = a = e);
            break;
          default:
            n = a = parseInt(u);
        }
        return [n, a];
      },
      _findHighlight: function(e) {
        var t = O.location,
          n = t.toString().split("#")[0],
          a = t.pathname;
        return y(
          "._" +
            x +
            "-h[href='#" +
            e +
            "'],._" +
            x +
            "-h[href='" +
            n +
            "#" +
            e +
            "'],._" +
            x +
            "-h[href='" +
            a +
            "#" +
            e +
            "'],._" +
            x +
            "-h[href='#/" +
            e +
            "'],._" +
            x +
            "-h[href='" +
            n +
            "#/" +
            e +
            "'],._" +
            x +
            "-h[href='" +
            a +
            "#/" +
            e +
            "']"
        );
      },
      _setClasses: function(e, t, n) {
        var a = I.clickedClass,
          s = I.targetClass,
          i = I.highlightClass;
        e && a && "" !== a
          ? (y("." + a).removeClass(a), l.addClass(a))
          : t &&
            s &&
            "" !== s &&
            n &&
            i &&
            "" !== i &&
            (m._currentTarget.call(null, t)
              ? (t.addClass(s), n.addClass(i))
              : (!I.keepHighlightUntilNext || 1 < y("." + i).length) &&
                (t.removeClass(s), n.removeClass(i)));
      },
      _extendClasses: function() {
        var e = I.targetClass,
          t = I.highlightClass,
          n = y("." + e),
          a = y("." + t),
          s = e + "-first",
          i = e + "-last",
          l = t + "-first",
          o = t + "-last";
        y("._" + x + "-t").removeClass(s + " " + i),
          y("._" + x + "-h").removeClass(l + " " + o),
          I.forceSingleHighlight
            ? I.keepHighlightUntilNext && 1 < n.length
              ? (n.slice(0, 1).removeClass(e), a.slice(0, 1).removeClass(t))
              : (n.slice(1).removeClass(e), a.slice(1).removeClass(t))
            : (n
                .slice(0, 1)
                .addClass(s)
                .end()
                .slice(-1)
                .addClass(i),
              a
                .slice(0, 1)
                .addClass(l)
                .end()
                .slice(-1)
                .addClass(o));
      },
      _removeClasses: function(e) {
        y("." + I.clickedClass).removeClass(I.clickedClass),
          y("." + I.targetClass).removeClass(
            I.targetClass +
              " " +
              I.targetClass +
              "-first " +
              I.targetClass +
              "-last"
          ),
          y("." + I.highlightClass).removeClass(
            I.highlightClass +
              " " +
              I.highlightClass +
              "-first " +
              I.highlightClass +
              "-last"
          ),
          e &&
            (y("._" + x + "-t").removeClass("_" + x + "-t"),
            y("._" + x + "-h").removeClass("_" + x + "-h"));
      },
      _currentTarget: function(e) {
        var t = I["target_" + e.data(x).i],
          n = e.data("ps2id-target"),
          a =
            n && y(n)[0]
              ? y(n)[0].getBoundingClientRect()
              : e[0].getBoundingClientRect();
        if (void 0 !== t) {
          var s = e.offset().top,
            i = e.offset().left,
            l = t.from ? t.from + s : s,
            o = t.to ? t.to + s : s,
            r = t.fromX ? t.fromX + i : i,
            c = t.toX ? t.toX + i : i;
          return a.top >= o && a.top <= l && a.left >= c && a.left <= r;
        }
        var u = y(O).height(),
          h = y(O).width(),
          g = n ? y(n).height() : e.height(),
          f = n ? y(n).width() : e.width(),
          d = 1 + g / u,
          p = d,
          _ = g < u ? d * (u / g) : d,
          m = 1 + f / h,
          v = m,
          S = f < h ? m * (h / f) : m,
          C = [
            a.top <= u / p,
            a.bottom >= u / _,
            a.left <= h / v,
            a.right >= h / S
          ];
        if (I.highlightByNextTarget) {
          var w = e.data(x).tn;
          if (w) {
            var b = w[0].getBoundingClientRect();
            "vertical" === I.layout
              ? (C = [a.top <= u / 2, b.top > u / 2, 1, 1])
              : "horizontal" === I.layout &&
                (C = [1, 1, a.left <= h / 2, b.left > h / 2]);
          }
        }
        return C[0] && C[1] && C[2] && C[3];
      },
      _scrollTo: function() {
        (g = m._scrollSpeed.call(null)),
          (r = I.pageEndSmoothScroll ? m._pageEndSmoothScroll.call(null) : r);
        var e = y("html,body"),
          t = I.autoScrollSpeed ? m._autoScrollSpeed.call(null) : g,
          n = e.is(":animated") ? I.scrollingEasing : I.scrollEasing,
          a = y(O).scrollTop(),
          s = y(O).scrollLeft();
        switch (c) {
          case "horizontal":
            s != r[1] &&
              (m._callbacks.call(null, "onStart"),
              e
                .stop()
                .animate({ scrollLeft: r[1] }, t, n)
                .promise()
                .then(function() {
                  m._callbacks.call(null, "onComplete");
                }));
            break;
          case "auto":
            var i;
            if (a != r[0] || s != r[1])
              if (
                (m._callbacks.call(null, "onStart"),
                navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/))
              )
                e
                  .stop()
                  .animate(
                    { pageYOffset: r[0], pageXOffset: r[1] },
                    {
                      duration: t,
                      easing: n,
                      step: function(e, t) {
                        "pageXOffset" == t.prop
                          ? (i = e)
                          : "pageYOffset" == t.prop && O.scrollTo(i, e);
                      }
                    }
                  )
                  .promise()
                  .then(function() {
                    m._callbacks.call(null, "onComplete");
                  });
              else
                e
                  .stop()
                  .animate({ scrollTop: r[0], scrollLeft: r[1] }, t, n)
                  .promise()
                  .then(function() {
                    m._callbacks.call(null, "onComplete");
                  });
            break;
          default:
            a != r[0] &&
              (m._callbacks.call(null, "onStart"),
              e
                .stop()
                .animate({ scrollTop: r[0] }, t, n)
                .promise()
                .then(function() {
                  m._callbacks.call(null, "onComplete");
                }));
        }
      },
      _pageEndSmoothScroll: function() {
        var e = y(i).height(),
          t = y(i).width(),
          n = y(O).height(),
          a = y(O).width();
        return [e - r[0] < n ? e - n : r[0], t - r[1] < a ? t - a : r[1]];
      },
      _scrollSpeed: function() {
        var a = I.scrollSpeed;
        return (
          l &&
            l.length &&
            l.add(l.parent()).each(function() {
              var e = y(this);
              if (e.attr("class")) {
                var t = e.attr("class").split(" ");
                for (var n in t)
                  if (String(t[n]).match(/^ps2id-speed-\d+$/)) {
                    a = t[n].split("ps2id-speed-")[1];
                    break;
                  }
              }
            }),
          parseInt(a)
        );
      },
      _autoScrollSpeed: function() {
        var e = y(O).scrollTop(),
          t = y(O).scrollLeft(),
          n = y(i).height(),
          a = y(i).width(),
          s = [
            g + g * Math.floor(Math.abs(r[0] - e) / n * 100) / 100,
            g + g * Math.floor(Math.abs(r[1] - t) / a * 100) / 100
          ];
        return Math.max.apply(Math, s);
      },
      _callbacks: function(e) {
        if (I)
          switch (
            ((this[x] = {
              trigger: s,
              clicked: l,
              target: o,
              scrollTo: { y: r[0], x: r[1] }
            }),
            e)
          ) {
            case "onStart":
              if (
                I.appendHash &&
                O.history &&
                O.history.pushState &&
                l &&
                l.length
              ) {
                var t = "#" + l.attr("href").split("#")[1];
                t !== O.location.hash && history.pushState("", "", t);
              }
              I.onStart.call(null, this[x]);
              break;
            case "onComplete":
              I.onComplete.call(null, this[x]);
          }
      },
      _reset: function() {
        c = u = h = !1;
      },
      _isInit: function() {
        a || _.init.apply(this);
      },
      _live: function() {
        t = setTimeout(function() {
          I.live
            ? y(m._highlightSelector()).length !== p && m._setup.call(null)
            : t && clearTimeout(t),
            m._live.call(null);
        }, 1e3);
      },
      _easing: function() {
        function t(e) {
          var t = 7.5625,
            n = 2.75;
          return e < 1 / n
            ? t * e * e
            : e < 2 / n
              ? t * (e -= 1.5 / n) * e + 0.75
              : e < 2.5 / n
                ? t * (e -= 2.25 / n) * e + 0.9375
                : t * (e -= 2.625 / n) * e + 0.984375;
        }
        (y.easing.easeInQuad =
          y.easing.easeInQuad ||
          function(e) {
            return e * e;
          }),
          (y.easing.easeOutQuad =
            y.easing.easeOutQuad ||
            function(e) {
              return 1 - (1 - e) * (1 - e);
            }),
          (y.easing.easeInOutQuad =
            y.easing.easeInOutQuad ||
            function(e) {
              return e < 0.5 ? 2 * e * e : 1 - Math.pow(-2 * e + 2, 2) / 2;
            }),
          (y.easing.easeInCubic =
            y.easing.easeInCubic ||
            function(e) {
              return e * e * e;
            }),
          (y.easing.easeOutCubic =
            y.easing.easeOutCubic ||
            function(e) {
              return 1 - Math.pow(1 - e, 3);
            }),
          (y.easing.easeInOutCubic =
            y.easing.easeInOutCubic ||
            function(e) {
              return e < 0.5 ? 4 * e * e * e : 1 - Math.pow(-2 * e + 2, 3) / 2;
            }),
          (y.easing.easeInQuart =
            y.easing.easeInQuart ||
            function(e) {
              return e * e * e * e;
            }),
          (y.easing.easeOutQuart =
            y.easing.easeOutQuart ||
            function(e) {
              return 1 - Math.pow(1 - e, 4);
            }),
          (y.easing.easeInOutQuart =
            y.easing.easeInOutQuart ||
            function(e) {
              return e < 0.5
                ? 8 * e * e * e * e
                : 1 - Math.pow(-2 * e + 2, 4) / 2;
            }),
          (y.easing.easeInQuint =
            y.easing.easeInQuint ||
            function(e) {
              return e * e * e * e * e;
            }),
          (y.easing.easeOutQuint =
            y.easing.easeOutQuint ||
            function(e) {
              return 1 - Math.pow(1 - e, 5);
            }),
          (y.easing.easeInOutQuint =
            y.easing.easeInOutQuint ||
            function(e) {
              return e < 0.5
                ? 16 * e * e * e * e * e
                : 1 - Math.pow(-2 * e + 2, 5) / 2;
            }),
          (y.easing.easeInExpo =
            y.easing.easeInExpo ||
            function(e) {
              return 0 === e ? 0 : Math.pow(2, 10 * e - 10);
            }),
          (y.easing.easeOutExpo =
            y.easing.easeOutExpo ||
            function(e) {
              return 1 === e ? 1 : 1 - Math.pow(2, -10 * e);
            }),
          (y.easing.easeInOutExpo =
            y.easing.easeInOutExpo ||
            function(e) {
              return 0 === e
                ? 0
                : 1 === e
                  ? 1
                  : e < 0.5
                    ? Math.pow(2, 20 * e - 10) / 2
                    : (2 - Math.pow(2, -20 * e + 10)) / 2;
            }),
          (y.easing.easeInSine =
            y.easing.easeInSine ||
            function(e) {
              return 1 - Math.cos(e * Math.PI / 2);
            }),
          (y.easing.easeOutSine =
            y.easing.easeOutSine ||
            function(e) {
              return Math.sin(e * Math.PI / 2);
            }),
          (y.easing.easeInOutSine =
            y.easing.easeInOutSine ||
            function(e) {
              return -(Math.cos(Math.PI * e) - 1) / 2;
            }),
          (y.easing.easeInCirc =
            y.easing.easeInCirc ||
            function(e) {
              return 1 - Math.sqrt(1 - Math.pow(e, 2));
            }),
          (y.easing.easeOutCirc =
            y.easing.easeOutCirc ||
            function(e) {
              return Math.sqrt(1 - Math.pow(e - 1, 2));
            }),
          (y.easing.easeInOutCirc =
            y.easing.easeInOutCirc ||
            function(e) {
              return e < 0.5
                ? (1 - Math.sqrt(1 - Math.pow(2 * e, 2))) / 2
                : (Math.sqrt(1 - Math.pow(-2 * e + 2, 2)) + 1) / 2;
            }),
          (y.easing.easeInElastic =
            y.easing.easeInElastic ||
            function(e) {
              return 0 === e
                ? 0
                : 1 === e
                  ? 1
                  : -Math.pow(2, 10 * e - 10) *
                    Math.sin((10 * e - 10.75) * (2 * Math.PI / 3));
            }),
          (y.easing.easeOutElastic =
            y.easing.easeOutElastic ||
            function(e) {
              return 0 === e
                ? 0
                : 1 === e
                  ? 1
                  : Math.pow(2, -10 * e) *
                      Math.sin((10 * e - 0.75) * (2 * Math.PI / 3)) +
                    1;
            }),
          (y.easing.easeInOutElastic =
            y.easing.easeInOutElastic ||
            function(e) {
              return 0 === e
                ? 0
                : 1 === e
                  ? 1
                  : e < 0.5
                    ? -Math.pow(2, 20 * e - 10) *
                      Math.sin((20 * e - 11.125) * (2 * Math.PI / 4.5)) /
                      2
                    : Math.pow(2, -20 * e + 10) *
                        Math.sin((20 * e - 11.125) * (2 * Math.PI / 4.5)) /
                        2 +
                      1;
            }),
          (y.easing.easeInBack =
            y.easing.easeInBack ||
            function(e) {
              return 2.70158 * e * e * e - 1.70158 * e * e;
            }),
          (y.easing.easeOutBack =
            y.easing.easeOutBack ||
            function(e) {
              return (
                1 + 2.70158 * Math.pow(e - 1, 3) + 1.70158 * Math.pow(e - 1, 2)
              );
            }),
          (y.easing.easeInOutBack =
            y.easing.easeInOutBack ||
            function(e) {
              return e < 0.5
                ? Math.pow(2 * e, 2) * (7.189819 * e - 2.5949095) / 2
                : (Math.pow(2 * e - 2, 2) *
                    (3.5949095 * (2 * e - 2) + 2.5949095) +
                    2) /
                    2;
            }),
          (y.easing.easeInBounce =
            y.easing.easeInBounce ||
            function(e) {
              return 1 - t(1 - e);
            }),
          (y.easing.easeOutBounce = y.easing.easeOutBounce || t),
          (y.easing.easeInOutBounce =
            y.easing.easeInOutBounce ||
            function(e) {
              return e < 0.5 ? (1 - t(1 - 2 * e)) / 2 : (1 + t(2 * e - 1)) / 2;
            });
      }
    };
  m._easing.call(),
    (y.fn[f] = function(e) {
      return _[e]
        ? _[e].apply(this, Array.prototype.slice.call(arguments, 1))
        : "object" != typeof e && e
          ? void y.error("Method " + e + " does not exist")
          : _.init.apply(this, arguments);
    }),
    (y[f] = function(e) {
      return _[e]
        ? _[e].apply(this, Array.prototype.slice.call(arguments, 1))
        : "object" != typeof e && e
          ? void y.error("Method " + e + " does not exist")
          : _.init.apply(this, arguments);
    }),
    (y[f].defaults = d);
})(jQuery, window, document),
  (function(l) {
    var o = "mPS2id",
      r = mPS2id_params,
      c = r.shortcode_class,
      u = location.hash || null,
      h = function(e, t) {
        try {
          l(e);
        } catch (e) {
          return !1;
        }
        return (
          l(e).length &&
          (t ||
            l("a[href*='" + e + "']").filter(function() {
              return 1 == l(this).data(o + "Element");
            }).length)
        );
      },
      g = function(e) {
        if (-1 === e.indexOf(",")) return e;
        var t = e.split(",");
        return { y: t[0] || "0", x: t[1] || "0" };
      },
      f = function(e) {
        if (-1 === e.indexOf(",")) return e;
        var t = e.split(",");
        return [t[0] || "0", t[1] || "0"];
      },
      d = function(e) {
        "horizontal" !== e && l(window).scrollTop(0),
          "vertical" !== e && l(window).scrollLeft(0);
      },
      p = function(e, t) {
        for (var n = e.click.length - 1; 0 <= n; n--) {
          var a = e.click[n];
          a &&
            "mPS2id" != a.namespace &&
            ('a[href*="#"]' === a.selector
              ? (a.selector = 'a[href*="#"]:not(._mPS2id-h)')
              : "a[href*=#]:not([href=#])" === a.selector
                ? (a.selector = "a[href*=#]:not([href=#]):not(._mPS2id-h)")
                : t.off("click", a.handler));
        }
      },
      _ =
        "a[data-ps2id-api='true'][href*='#'],.ps2id > a[href*='#'],a.ps2id[href*='#']";
    l(document).ready(function() {
      for (var e = 0; e < r.total_instances; e++)
        if (
          "true" === r.instances[o + "_instance_" + e].scrollToHash &&
          u &&
          (l(
            r.instances[o + "_instance_" + e].selector + ",." + c + "," + _
          ).each(function() {
            l(this).data(o + "Element", !0);
          }),
          h(u, "true" === r.instances[o + "_instance_" + e].scrollToHashForAll))
        ) {
          var t =
            "true" ===
            r.instances[o + "_instance_" + e].scrollToHashRemoveUrlHash
              ? window.location.href.replace(/#.*$/, "")
              : window.location.href.replace(/#.*$/, "#");
          d(r.instances[o + "_instance_" + e].layout),
            window.history && window.history.replaceState
              ? window.history.replaceState("", "", t)
              : (window.location.href = t);
        }
    }),
      l(window).on("load", function() {
        for (var e = 0; e < r.total_instances; e++) {
          var n = l(
              r.instances[o + "_instance_" + e].selector + ",." + c + "," + _
            ),
            t = r.instances[o + "_instance_" + e].autoCorrectScroll,
            a = 0;
          if (
            (n.mPageScroll2id({
              scrollSpeed: r.instances[o + "_instance_" + e].scrollSpeed,
              autoScrollSpeed:
                "true" === r.instances[o + "_instance_" + e].autoScrollSpeed,
              scrollEasing: r.instances[o + "_instance_" + e].scrollEasing,
              scrollingEasing:
                r.instances[o + "_instance_" + e].scrollingEasing,
              pageEndSmoothScroll:
                "true" ===
                r.instances[o + "_instance_" + e].pageEndSmoothScroll,
              layout: r.instances[o + "_instance_" + e].layout,
              offset: g(r.instances[o + "_instance_" + e].offset.toString()),
              highlightSelector:
                r.instances[o + "_instance_" + e].highlightSelector,
              clickedClass: r.instances[o + "_instance_" + e].clickedClass,
              targetClass: r.instances[o + "_instance_" + e].targetClass,
              highlightClass: r.instances[o + "_instance_" + e].highlightClass,
              forceSingleHighlight:
                "true" ===
                r.instances[o + "_instance_" + e].forceSingleHighlight,
              keepHighlightUntilNext:
                "true" ===
                r.instances[o + "_instance_" + e].keepHighlightUntilNext,
              highlightByNextTarget:
                "true" ===
                r.instances[o + "_instance_" + e].highlightByNextTarget,
              disablePluginBelow: f(
                r.instances[o + "_instance_" + e].disablePluginBelow.toString()
              ),
              appendHash:
                "true" === r.instances[o + "_instance_" + e].appendHash,
              onStart: function() {
                "true" === t && "selector" === mPS2id.trigger && a++;
              },
              onComplete: function() {
                1 == a &&
                  (mPS2id.clicked.length &&
                    mPS2id.clicked.trigger("click.mPS2id"),
                  (a = 0));
              }
            }),
            "true" === r.instances[o + "_instance_" + e].scrollToHash &&
              u &&
              h(
                u,
                "true" === r.instances[o + "_instance_" + e].scrollToHashForAll
              ))
          ) {
            d(r.instances[o + "_instance_" + e].layout);
            var s =
                r.instances[o + "_instance_" + e].scrollToHashUseElementData,
              i = l(
                "a._mPS2id-h[href$='" +
                  u +
                  "'][data-ps2id-offset]:not([data-ps2id-offset=''])"
              ).last();
            setTimeout(function() {
              "true" === s && i.length
                ? i.trigger("click.mPS2id")
                : l.mPageScroll2id("scrollTo", u),
                -1 !== window.location.href.indexOf("#") &&
                  (window.history && window.history.replaceState
                    ? window.history.replaceState("", "", u)
                    : (window.location.hash = u));
            }, r.instances[o + "_instance_" + e].scrollToHashDelay);
          }
          "true" ===
            r.instances[o + "_instance_" + e].unbindUnrelatedClickEvents &&
            setTimeout(function() {
              var e = n.length ? l._data(n[0], "events") : null,
                t = n.length ? l._data(l(document)[0], "events") : null;
              e && p(e, n), t && p(t, n);
            }, 300),
            "true" ===
              r.instances[o + "_instance_" + e].normalizeAnchorPointTargets &&
              l("a._mPS2id-t[id]:empty").css({
                display: "inline-block",
                "line-height": 0,
                width: 0,
                height: 0,
                border: "none"
              }),
            "true" ===
              r.instances[o + "_instance_" + e].stopScrollOnUserAction &&
              l(document).on("mousewheel DOMMouseScroll touchmove", function() {
                var e = l("html,body");
                e.is(":animated") && e.stop();
              });
        }
      }),
      l.extend(l.expr[":"], {
        absolute:
          l.expr[":"].absolute ||
          function(e) {
            return "absolute" === l(e).css("position");
          },
        relative:
          l.expr[":"].relative ||
          function(e) {
            return "relative" === l(e).css("position");
          },
        static:
          l.expr[":"].static ||
          function(e) {
            return "static" === l(e).css("position");
          },
        fixed:
          l.expr[":"].fixed ||
          function(e) {
            return "fixed" === l(e).css("position");
          },
        width:
          l.expr[":"].width ||
          function(e, t, n) {
            var a = n[3].replace("&lt;", "<").replace("&gt;", ">");
            return (
              !!a &&
              (">" === a.substr(0, 1)
                ? l(e).width() > a.substr(1)
                : "<" === a.substr(0, 1)
                  ? l(e).width() < a.substr(1)
                  : l(e).width() === parseInt(a))
            );
          },
        height:
          l.expr[":"].height ||
          function(e, t, n) {
            var a = n[3].replace("&lt;", "<").replace("&gt;", ">");
            return (
              !!a &&
              (">" === a.substr(0, 1)
                ? l(e).height() > a.substr(1)
                : "<" === a.substr(0, 1)
                  ? l(e).height() < a.substr(1)
                  : l(e).height() === parseInt(a))
            );
          }
      });
  })(jQuery);
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
!(function() {
  "use strict";
  function e(e) {
    function t(t, n) {
      var s,
        h,
        k = t == window,
        y = n && n.message !== undefined ? n.message : undefined;
      if (
        !(n = e.extend({}, e.blockUI.defaults, n || {})).ignoreIfBlocked ||
        !e(t).data("blockUI.isBlocked")
      ) {
        if (
          ((n.overlayCSS = e.extend(
            {},
            e.blockUI.defaults.overlayCSS,
            n.overlayCSS || {}
          )),
          (s = e.extend({}, e.blockUI.defaults.css, n.css || {})),
          n.onOverlayClick && (n.overlayCSS.cursor = "pointer"),
          (h = e.extend({}, e.blockUI.defaults.themedCSS, n.themedCSS || {})),
          (y = y === undefined ? n.message : y),
          k && p && o(window, { fadeOut: 0 }),
          y && "string" != typeof y && (y.parentNode || y.jquery))
        ) {
          var m = y.jquery ? y[0] : y,
            g = {};
          e(t).data("blockUI.history", g),
            (g.el = m),
            (g.parent = m.parentNode),
            (g.display = m.style.display),
            (g.position = m.style.position),
            g.parent && g.parent.removeChild(m);
        }
        e(t).data("blockUI.onUnblock", n.onUnblock);
        var v,
          I,
          w,
          U,
          x = n.baseZ;
        (v = e(
          r || n.forceIframe
            ? '<iframe class="blockUI" style="z-index:' +
              x++ +
              ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' +
              n.iframeSrc +
              '"></iframe>'
            : '<div class="blockUI" style="display:none"></div>'
        )),
          (I = e(
            n.theme
              ? '<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' +
                x++ +
                ';display:none"></div>'
              : '<div class="blockUI blockOverlay" style="z-index:' +
                x++ +
                ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'
          )),
          n.theme && k
            ? ((U =
                '<div class="blockUI ' +
                n.blockMsgClass +
                ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' +
                (x + 10) +
                ';display:none;position:fixed">'),
              n.title &&
                (U +=
                  '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' +
                  (n.title || "&nbsp;") +
                  "</div>"),
              (U += '<div class="ui-widget-content ui-dialog-content"></div>'),
              (U += "</div>"))
            : n.theme
              ? ((U =
                  '<div class="blockUI ' +
                  n.blockMsgClass +
                  ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' +
                  (x + 10) +
                  ';display:none;position:absolute">'),
                n.title &&
                  (U +=
                    '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' +
                    (n.title || "&nbsp;") +
                    "</div>"),
                (U +=
                  '<div class="ui-widget-content ui-dialog-content"></div>'),
                (U += "</div>"))
              : (U = k
                  ? '<div class="blockUI ' +
                    n.blockMsgClass +
                    ' blockPage" style="z-index:' +
                    (x + 10) +
                    ';display:none;position:fixed"></div>'
                  : '<div class="blockUI ' +
                    n.blockMsgClass +
                    ' blockElement" style="z-index:' +
                    (x + 10) +
                    ';display:none;position:absolute"></div>'),
          (w = e(U)),
          y &&
            (n.theme ? (w.css(h), w.addClass("ui-widget-content")) : w.css(s)),
          n.theme || I.css(n.overlayCSS),
          I.css("position", k ? "fixed" : "absolute"),
          (r || n.forceIframe) && v.css("opacity", 0);
        var C = [v, I, w],
          S = e(k ? "body" : t);
        e.each(C, function() {
          this.appendTo(S);
        }),
          n.theme &&
            n.draggable &&
            e.fn.draggable &&
            w.draggable({ handle: ".ui-dialog-titlebar", cancel: "li" });
        var O =
          f &&
          (!e.support.boxModel || e("object,embed", k ? null : t).length > 0);
        if (u || O) {
          if (
            (k &&
              n.allowBodyStretch &&
              e.support.boxModel &&
              e("html,body").css("height", "100%"),
            (u || !e.support.boxModel) && !k)
          )
            var E = a(t, "borderTopWidth"),
              T = a(t, "borderLeftWidth"),
              M = E ? "(0 - " + E + ")" : 0,
              B = T ? "(0 - " + T + ")" : 0;
          e.each(C, function(e, t) {
            var o = t[0].style;
            if (((o.position = "absolute"), e < 2))
              k
                ? o.setExpression(
                    "height",
                    "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" +
                      n.quirksmodeOffsetHack +
                      ') + "px"'
                  )
                : o.setExpression(
                    "height",
                    'this.parentNode.offsetHeight + "px"'
                  ),
                k
                  ? o.setExpression(
                      "width",
                      'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'
                    )
                  : o.setExpression(
                      "width",
                      'this.parentNode.offsetWidth + "px"'
                    ),
                B && o.setExpression("left", B),
                M && o.setExpression("top", M);
            else if (n.centerY)
              k &&
                o.setExpression(
                  "top",
                  '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'
                ),
                (o.marginTop = 0);
            else if (!n.centerY && k) {
              var i =
                "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " +
                (n.css && n.css.top ? parseInt(n.css.top, 10) : 0) +
                ') + "px"';
              o.setExpression("top", i);
            }
          });
        }
        if (
          (y &&
            (n.theme ? w.find(".ui-widget-content").append(y) : w.append(y),
            (y.jquery || y.nodeType) && e(y).show()),
          (r || n.forceIframe) && n.showOverlay && v.show(),
          n.fadeIn)
        ) {
          var j = n.onBlock ? n.onBlock : c,
            H = n.showOverlay && !y ? j : c,
            z = y ? j : c;
          n.showOverlay && I._fadeIn(n.fadeIn, H), y && w._fadeIn(n.fadeIn, z);
        } else
          n.showOverlay && I.show(),
            y && w.show(),
            n.onBlock && n.onBlock.bind(w)();
        if (
          (i(1, t, n),
          k
            ? ((p = w[0]),
              (b = e(n.focusableElements, p)),
              n.focusInput && setTimeout(l, 20))
            : d(w[0], n.centerX, n.centerY),
          n.timeout)
        ) {
          var W = setTimeout(function() {
            k ? e.unblockUI(n) : e(t).unblock(n);
          }, n.timeout);
          e(t).data("blockUI.timeout", W);
        }
      }
    }
    function o(t, o) {
      var s,
        l = t == window,
        d = e(t),
        a = d.data("blockUI.history"),
        c = d.data("blockUI.timeout");
      c && (clearTimeout(c), d.removeData("blockUI.timeout")),
        (o = e.extend({}, e.blockUI.defaults, o || {})),
        i(0, t, o),
        null === o.onUnblock &&
          ((o.onUnblock = d.data("blockUI.onUnblock")),
          d.removeData("blockUI.onUnblock"));
      var r;
      (r = l
        ? e(document.body)
            .children()
            .filter(".blockUI")
            .add("body > .blockUI")
        : d.find(">.blockUI")),
        o.cursorReset &&
          (r.length > 1 && (r[1].style.cursor = o.cursorReset),
          r.length > 2 && (r[2].style.cursor = o.cursorReset)),
        l && (p = b = null),
        o.fadeOut
          ? ((s = r.length),
            r.stop().fadeOut(o.fadeOut, function() {
              0 == --s && n(r, a, o, t);
            }))
          : n(r, a, o, t);
    }
    function n(t, o, n, i) {
      var s = e(i);
      if (!s.data("blockUI.isBlocked")) {
        t.each(function(e, t) {
          this.parentNode && this.parentNode.removeChild(this);
        }),
          o &&
            o.el &&
            ((o.el.style.display = o.display),
            (o.el.style.position = o.position),
            (o.el.style.cursor = "default"),
            o.parent && o.parent.appendChild(o.el),
            s.removeData("blockUI.history")),
          s.data("blockUI.static") && s.css("position", "static"),
          "function" == typeof n.onUnblock && n.onUnblock(i, n);
        var l = e(document.body),
          d = l.width(),
          a = l[0].style.width;
        l.width(d - 1).width(d), (l[0].style.width = a);
      }
    }
    function i(t, o, n) {
      var i = o == window,
        l = e(o);
      if (
        (t || ((!i || p) && (i || l.data("blockUI.isBlocked")))) &&
        (l.data("blockUI.isBlocked", t),
        i && n.bindEvents && (!t || n.showOverlay))
      ) {
        var d =
          "mousedown mouseup keydown keypress keyup touchstart touchend touchmove";
        t ? e(document).bind(d, n, s) : e(document).unbind(d, s);
      }
    }
    function s(t) {
      if (
        "keydown" === t.type &&
        t.keyCode &&
        9 == t.keyCode &&
        p &&
        t.data.constrainTabKey
      ) {
        var o = b,
          n = !t.shiftKey && t.target === o[o.length - 1],
          i = t.shiftKey && t.target === o[0];
        if (n || i)
          return (
            setTimeout(function() {
              l(i);
            }, 10),
            !1
          );
      }
      var s = t.data,
        d = e(t.target);
      return (
        d.hasClass("blockOverlay") && s.onOverlayClick && s.onOverlayClick(t),
        d.parents("div." + s.blockMsgClass).length > 0 ||
          0 ===
            d
              .parents()
              .children()
              .filter("div.blockUI").length
      );
    }
    function l(e) {
      if (b) {
        var t = b[!0 === e ? b.length - 1 : 0];
        t && t.focus();
      }
    }
    function d(e, t, o) {
      var n = e.parentNode,
        i = e.style,
        s = (n.offsetWidth - e.offsetWidth) / 2 - a(n, "borderLeftWidth"),
        l = (n.offsetHeight - e.offsetHeight) / 2 - a(n, "borderTopWidth");
      t && (i.left = s > 0 ? s + "px" : "0"),
        o && (i.top = l > 0 ? l + "px" : "0");
    }
    function a(t, o) {
      return parseInt(e.css(t, o), 10) || 0;
    }
    e.fn._fadeIn = e.fn.fadeIn;
    var c = e.noop || function() {},
      r = /MSIE/.test(navigator.userAgent),
      u =
        /MSIE 6.0/.test(navigator.userAgent) &&
        !/MSIE 8.0/.test(navigator.userAgent),
      f = (document.documentMode,
      e.isFunction(document.createElement("div").style.setExpression));
    (e.blockUI = function(e) {
      t(window, e);
    }),
      (e.unblockUI = function(e) {
        o(window, e);
      }),
      (e.growlUI = function(t, o, n, i) {
        var s = e('<div class="growlUI"></div>');
        t && s.append("<h1>" + t + "</h1>"),
          o && s.append("<h2>" + o + "</h2>"),
          n === undefined && (n = 3e3);
        var l = function(t) {
          (t = t || {}),
            e.blockUI({
              message: s,
              fadeIn: "undefined" != typeof t.fadeIn ? t.fadeIn : 700,
              fadeOut: "undefined" != typeof t.fadeOut ? t.fadeOut : 1e3,
              timeout: "undefined" != typeof t.timeout ? t.timeout : n,
              centerY: !1,
              showOverlay: !1,
              onUnblock: i,
              css: e.blockUI.defaults.growlCSS
            });
        };
        l();
        s.css("opacity");
        s
          .mouseover(function() {
            l({ fadeIn: 0, timeout: 3e4 });
            var t = e(".blockMsg");
            t.stop(), t.fadeTo(300, 1);
          })
          .mouseout(function() {
            e(".blockMsg").fadeOut(1e3);
          });
      }),
      (e.fn.block = function(o) {
        if (this[0] === window) return e.blockUI(o), this;
        var n = e.extend({}, e.blockUI.defaults, o || {});
        return (
          this.each(function() {
            var t = e(this);
            (n.ignoreIfBlocked && t.data("blockUI.isBlocked")) ||
              t.unblock({ fadeOut: 0 });
          }),
          this.each(function() {
            "static" == e.css(this, "position") &&
              ((this.style.position = "relative"),
              e(this).data("blockUI.static", !0)),
              (this.style.zoom = 1),
              t(this, o);
          })
        );
      }),
      (e.fn.unblock = function(t) {
        return this[0] === window
          ? (e.unblockUI(t), this)
          : this.each(function() {
              o(this, t);
            });
      }),
      (e.blockUI.version = 2.7),
      (e.blockUI.defaults = {
        message: "<h1>Please wait...</h1>",
        title: null,
        draggable: !0,
        theme: !1,
        css: {
          padding: 0,
          margin: 0,
          width: "30%",
          top: "40%",
          left: "35%",
          textAlign: "center",
          color: "#000",
          border: "3px solid #aaa",
          backgroundColor: "#fff",
          cursor: "wait"
        },
        themedCSS: { width: "30%", top: "40%", left: "35%" },
        overlayCSS: { backgroundColor: "#000", opacity: 0.6, cursor: "wait" },
        cursorReset: "default",
        growlCSS: {
          width: "350px",
          top: "10px",
          left: "",
          right: "10px",
          border: "none",
          padding: "5px",
          opacity: 0.6,
          cursor: "default",
          color: "#fff",
          backgroundColor: "#000",
          "-webkit-border-radius": "10px",
          "-moz-border-radius": "10px",
          "border-radius": "10px"
        },
        iframeSrc: /^https/i.test(window.location.href || "")
          ? "javascript:false"
          : "about:blank",
        forceIframe: !1,
        baseZ: 1e3,
        centerX: !0,
        centerY: !0,
        allowBodyStretch: !0,
        bindEvents: !0,
        constrainTabKey: !0,
        fadeIn: 200,
        fadeOut: 400,
        timeout: 0,
        showOverlay: !0,
        focusInput: !0,
        focusableElements: ":input:enabled:visible",
        onBlock: null,
        onUnblock: null,
        onOverlayClick: null,
        quirksmodeOffsetHack: 4,
        blockMsgClass: "blockMsg",
        ignoreIfBlocked: !1
      });
    var p = null,
      b = [];
  }
  "function" == typeof define && define.amd && define.amd.jQuery
    ? define(["jquery"], e)
    : e(jQuery);
})();
jQuery(function(e) {
  if ("undefined" == typeof wc_add_to_cart_params) return !1;
  var t = function() {
    e(document.body)
      .on("click", ".add_to_cart_button", this.onAddToCart)
      .on("click", ".remove_from_cart_button", this.onRemoveFromCart)
      .on("added_to_cart", this.updateButton)
      .on("added_to_cart", this.updateCartPage)
      .on("added_to_cart removed_from_cart", this.updateFragments);
  };
  (t.prototype.onAddToCart = function(t) {
    var a = e(this);
    if (a.is(".ajax_add_to_cart")) {
      if (!a.attr("data-product_id")) return !0;
      t.preventDefault(), a.removeClass("added"), a.addClass("loading");
      var o = {};
      e.each(a.data(), function(t, a) {
        o[t] = a;
      }),
        e(document.body).trigger("adding_to_cart", [a, o]),
        e.post(
          wc_add_to_cart_params.wc_ajax_url
            .toString()
            .replace("%%endpoint%%", "add_to_cart"),
          o,
          function(t) {
            t &&
              (t.error && t.product_url
                ? (window.location = t.product_url)
                : "yes" !== wc_add_to_cart_params.cart_redirect_after_add
                  ? e(document.body).trigger("added_to_cart", [
                      t.fragments,
                      t.cart_hash,
                      a
                    ])
                  : (window.location = wc_add_to_cart_params.cart_url));
          }
        );
    }
  }),
    (t.prototype.onRemoveFromCart = function(t) {
      var a = e(this),
        o = a.closest(".woocommerce-mini-cart-item");
      t.preventDefault(),
        o.block({ message: null, overlayCSS: { opacity: 0.6 } }),
        e
          .post(
            wc_add_to_cart_params.wc_ajax_url
              .toString()
              .replace("%%endpoint%%", "remove_from_cart"),
            { cart_item_key: a.data("cart_item_key") },
            function(t) {
              t && t.fragments
                ? e(document.body).trigger("removed_from_cart", [
                    t.fragments,
                    t.cart_hash,
                    a
                  ])
                : (window.location = a.attr("href"));
            }
          )
          .fail(function() {
            window.location = a.attr("href");
          });
    }),
    (t.prototype.updateButton = function(t, a, o, r) {
      (r = void 0 !== r && r) &&
        (r.removeClass("loading"),
        r.addClass("added"),
        wc_add_to_cart_params.is_cart ||
          0 !== r.parent().find(".added_to_cart").length ||
          r.after(
            ' <a href="' +
              wc_add_to_cart_params.cart_url +
              '" class="added_to_cart wc-forward" title="' +
              wc_add_to_cart_params.i18n_view_cart +
              '">' +
              wc_add_to_cart_params.i18n_view_cart +
              "</a>"
          ),
        e(document.body).trigger("wc_cart_button_updated", [r]));
    }),
    (t.prototype.updateCartPage = function() {
      var t = window.location
        .toString()
        .replace("add-to-cart", "added-to-cart");
      e(".shop_table.cart").load(t + " .shop_table.cart:eq(0) > *", function() {
        e(".shop_table.cart")
          .stop(!0)
          .css("opacity", "1")
          .unblock(),
          e(document.body).trigger("cart_page_refreshed");
      }),
        e(".cart_totals").load(t + " .cart_totals:eq(0) > *", function() {
          e(".cart_totals")
            .stop(!0)
            .css("opacity", "1")
            .unblock(),
            e(document.body).trigger("cart_totals_refreshed");
        });
    }),
    (t.prototype.updateFragments = function(t, a) {
      a &&
        (e.each(a, function(t) {
          e(t)
            .addClass("updating")
            .fadeTo("400", "0.6")
            .block({ message: null, overlayCSS: { opacity: 0.6 } });
        }),
        e.each(a, function(t, a) {
          e(t).replaceWith(a),
            e(t)
              .stop(!0)
              .css("opacity", "1")
              .unblock();
        }),
        e(document.body).trigger("wc_fragments_loaded"));
    }),
    new t();
});
/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!(function(e, t) {
  "function" == typeof define && define.amd
    ? define(t)
    : "object" == typeof exports
      ? (module.exports = t())
      : (e.PhotoSwipe = t());
})(this, function() {
  "use strict";
  return function(e, t, n, i) {
    var o = {
      features: null,
      bind: function(e, t, n, i) {
        var o = (i ? "remove" : "add") + "EventListener";
        t = t.split(" ");
        for (var a = 0; a < t.length; a++) t[a] && e[o](t[a], n, !1);
      },
      isArray: function(e) {
        return e instanceof Array;
      },
      createEl: function(e, t) {
        var n = document.createElement(t || "div");
        return e && (n.className = e), n;
      },
      getScrollY: function() {
        var e = window.pageYOffset;
        return e !== undefined ? e : document.documentElement.scrollTop;
      },
      unbind: function(e, t, n) {
        o.bind(e, t, n, !0);
      },
      removeClass: function(e, t) {
        var n = new RegExp("(\\s|^)" + t + "(\\s|$)");
        e.className = e.className
          .replace(n, " ")
          .replace(/^\s\s*/, "")
          .replace(/\s\s*$/, "");
      },
      addClass: function(e, t) {
        o.hasClass(e, t) || (e.className += (e.className ? " " : "") + t);
      },
      hasClass: function(e, t) {
        return (
          e.className && new RegExp("(^|\\s)" + t + "(\\s|$)").test(e.className)
        );
      },
      getChildByClass: function(e, t) {
        for (var n = e.firstChild; n; ) {
          if (o.hasClass(n, t)) return n;
          n = n.nextSibling;
        }
      },
      arraySearch: function(e, t, n) {
        for (var i = e.length; i--; ) if (e[i][n] === t) return i;
        return -1;
      },
      extend: function(e, t, n) {
        for (var i in t)
          if (t.hasOwnProperty(i)) {
            if (n && e.hasOwnProperty(i)) continue;
            e[i] = t[i];
          }
      },
      easing: {
        sine: {
          out: function(e) {
            return Math.sin(e * (Math.PI / 2));
          },
          inOut: function(e) {
            return -(Math.cos(Math.PI * e) - 1) / 2;
          }
        },
        cubic: {
          out: function(e) {
            return --e * e * e + 1;
          }
        }
      },
      detectFeatures: function() {
        if (o.features) return o.features;
        var e = o.createEl().style,
          t = "",
          n = {};
        if (
          ((n.oldIE = document.all && !document.addEventListener),
          (n.touch = "ontouchstart" in window),
          window.requestAnimationFrame &&
            ((n.raf = window.requestAnimationFrame),
            (n.caf = window.cancelAnimationFrame)),
          (n.pointerEvent =
            navigator.pointerEnabled || navigator.msPointerEnabled),
          !n.pointerEvent)
        ) {
          var i = navigator.userAgent;
          if (/iP(hone|od)/.test(navigator.platform)) {
            var a = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
            a &&
              a.length > 0 &&
              (a = parseInt(a[1], 10)) >= 1 &&
              a < 8 &&
              (n.isOldIOSPhone = !0);
          }
          var r = i.match(/Android\s([0-9\.]*)/),
            l = r ? r[1] : 0;
          (l = parseFloat(l)) >= 1 &&
            (l < 4.4 && (n.isOldAndroid = !0), (n.androidVersion = l)),
            (n.isMobileOpera = /opera mini|opera mobi/i.test(i));
        }
        for (
          var s,
            u,
            c = ["transform", "perspective", "animationName"],
            d = ["", "webkit", "Moz", "ms", "O"],
            p = 0;
          p < 4;
          p++
        ) {
          t = d[p];
          for (var m = 0; m < 3; m++)
            (s = c[m]),
              (u = t + (t ? s.charAt(0).toUpperCase() + s.slice(1) : s)),
              !n[s] && u in e && (n[s] = u);
          t &&
            !n.raf &&
            ((t = t.toLowerCase()),
            (n.raf = window[t + "RequestAnimationFrame"]),
            n.raf &&
              (n.caf =
                window[t + "CancelAnimationFrame"] ||
                window[t + "CancelRequestAnimationFrame"]));
        }
        if (!n.raf) {
          var f = 0;
          (n.raf = function(e) {
            var t = new Date().getTime(),
              n = Math.max(0, 16 - (t - f)),
              i = window.setTimeout(function() {
                e(t + n);
              }, n);
            return (f = t + n), i;
          }),
            (n.caf = function(e) {
              clearTimeout(e);
            });
        }
        return (
          (n.svg =
            !!document.createElementNS &&
            !!document.createElementNS("http://www.w3.org/2000/svg", "svg")
              .createSVGRect),
          (o.features = n),
          n
        );
      }
    };
    o.detectFeatures(),
      o.features.oldIE &&
        (o.bind = function(e, t, n, i) {
          t = t.split(" ");
          for (
            var o, a = (i ? "detach" : "attach") + "Event", r = 0;
            r < t.length;
            r++
          )
            if ((o = t[r]))
              if ("object" == typeof n && n.handleEvent) {
                if (i) {
                  if (!n["oldIE" + o]) return !1;
                } else
                  n["oldIE" + o] = function() {
                    n.handleEvent.call(n);
                  };
                e[a]("on" + o, n["oldIE" + o]);
              } else e[a]("on" + o, n);
        });
    var a = this,
      r = {
        allowPanToNext: !0,
        spacing: 0.12,
        bgOpacity: 1,
        mouseUsed: !1,
        loop: !0,
        pinchToClose: !0,
        closeOnScroll: !0,
        closeOnVerticalDrag: !0,
        verticalDragRange: 0.75,
        hideAnimationDuration: 333,
        showAnimationDuration: 333,
        showHideOpacity: !1,
        focus: !0,
        escKey: !0,
        arrowKeys: !0,
        mainScrollEndFriction: 0.35,
        panEndFriction: 0.35,
        isClickableElement: function(e) {
          return "A" === e.tagName;
        },
        getDoubleTapZoom: function(e, t) {
          return e ? 1 : t.initialZoomLevel < 0.7 ? 1 : 1.33;
        },
        maxSpreadZoom: 1.33,
        modal: !0,
        scaleMode: "fit"
      };
    o.extend(r, i);
    var l,
      s,
      u,
      c,
      d,
      p,
      m,
      f,
      h,
      y,
      x,
      v,
      g,
      w,
      b,
      I,
      C,
      D,
      M,
      T,
      S,
      A,
      E,
      O,
      k,
      R,
      Z,
      P,
      F,
      L,
      _,
      z,
      N,
      U,
      H,
      Y,
      B,
      W,
      G,
      X,
      V,
      K,
      q,
      $,
      j,
      J,
      Q,
      ee,
      te,
      ne,
      ie,
      oe,
      ae,
      re,
      le,
      se,
      ue = { x: 0, y: 0 },
      ce = { x: 0, y: 0 },
      de = { x: 0, y: 0 },
      pe = {},
      me = 0,
      fe = {},
      he = { x: 0, y: 0 },
      ye = 0,
      xe = !0,
      ve = [],
      ge = {},
      we = !1,
      be = function(e, t) {
        o.extend(a, t.publicMethods), ve.push(e);
      },
      Ie = function(e) {
        var t = Kt();
        return e > t - 1 ? e - t : e < 0 ? t + e : e;
      },
      Ce = {},
      De = function(e, t) {
        return Ce[e] || (Ce[e] = []), Ce[e].push(t);
      },
      Me = function(e) {
        var t = Ce[e];
        if (t) {
          var n = Array.prototype.slice.call(arguments);
          n.shift();
          for (var i = 0; i < t.length; i++) t[i].apply(a, n);
        }
      },
      Te = function() {
        return new Date().getTime();
      },
      Se = function(e) {
        (re = e), (a.bg.style.opacity = e * r.bgOpacity);
      },
      Ae = function(e, t, n, i, o) {
        (!we || (o && o !== a.currItem)) &&
          (i /= o ? o.fitRatio : a.currItem.fitRatio),
          (e[A] = v + t + "px, " + n + "px" + g + " scale(" + i + ")");
      },
      Ee = function(e) {
        te &&
          (e &&
            (y > a.currItem.fitRatio
              ? we || (rn(a.currItem, !1, !0), (we = !0))
              : we && (rn(a.currItem), (we = !1))),
          Ae(te, de.x, de.y, y));
      },
      Oe = function(e) {
        e.container &&
          Ae(
            e.container.style,
            e.initialPosition.x,
            e.initialPosition.y,
            e.initialZoomLevel,
            e
          );
      },
      ke = function(e, t) {
        t[A] = v + e + "px, 0px" + g;
      },
      Re = function(e, t) {
        if (!r.loop && t) {
          var n = c + (he.x * me - e) / he.x,
            i = Math.round(e - mt.x);
          ((n < 0 && i > 0) || (n >= Kt() - 1 && i < 0)) &&
            (e = mt.x + i * r.mainScrollEndFriction);
        }
        (mt.x = e), ke(e, d);
      },
      Ze = function(e, t) {
        var n = ft[e] - fe[e];
        return ce[e] + ue[e] + n - n * (t / x);
      },
      Pe = function(e, t) {
        (e.x = t.x), (e.y = t.y), t.id && (e.id = t.id);
      },
      Fe = function(e) {
        (e.x = Math.round(e.x)), (e.y = Math.round(e.y));
      },
      Le = null,
      _e = function() {
        Le &&
          (o.unbind(document, "mousemove", _e),
          o.addClass(e, "pswp--has_mouse"),
          (r.mouseUsed = !0),
          Me("mouseUsed")),
          (Le = setTimeout(function() {
            Le = null;
          }, 100));
      },
      ze = function() {
        o.bind(document, "keydown", a),
          _.transform && o.bind(a.scrollWrap, "click", a),
          r.mouseUsed || o.bind(document, "mousemove", _e),
          o.bind(window, "resize scroll", a),
          Me("bindEvents");
      },
      Ne = function() {
        o.unbind(window, "resize", a),
          o.unbind(window, "scroll", h.scroll),
          o.unbind(document, "keydown", a),
          o.unbind(document, "mousemove", _e),
          _.transform && o.unbind(a.scrollWrap, "click", a),
          W && o.unbind(window, m, a),
          Me("unbindEvents");
      },
      Ue = function(e, t) {
        var n = tn(a.currItem, pe, e);
        return t && (ee = n), n;
      },
      He = function(e) {
        return e || (e = a.currItem), e.initialZoomLevel;
      },
      Ye = function(e) {
        return e || (e = a.currItem), e.w > 0 ? r.maxSpreadZoom : 1;
      },
      Be = function(e, t, n, i) {
        return i === a.currItem.initialZoomLevel
          ? ((n[e] = a.currItem.initialPosition[e]), !0)
          : ((n[e] = Ze(e, i)),
            n[e] > t.min[e]
              ? ((n[e] = t.min[e]), !0)
              : n[e] < t.max[e] && ((n[e] = t.max[e]), !0));
      },
      We = function() {
        if (A) {
          var t = _.perspective && !O;
          return (
            (v = "translate" + (t ? "3d(" : "(")),
            void (g = _.perspective ? ", 0px)" : ")")
          );
        }
        (A = "left"),
          o.addClass(e, "pswp--ie"),
          (ke = function(e, t) {
            t.left = e + "px";
          }),
          (Oe = function(e) {
            var t = e.fitRatio > 1 ? 1 : e.fitRatio,
              n = e.container.style,
              i = t * e.w,
              o = t * e.h;
            (n.width = i + "px"),
              (n.height = o + "px"),
              (n.left = e.initialPosition.x + "px"),
              (n.top = e.initialPosition.y + "px");
          }),
          (Ee = function() {
            if (te) {
              var e = te,
                t = a.currItem,
                n = t.fitRatio > 1 ? 1 : t.fitRatio,
                i = n * t.w,
                o = n * t.h;
              (e.width = i + "px"),
                (e.height = o + "px"),
                (e.left = de.x + "px"),
                (e.top = de.y + "px");
            }
          });
      },
      Ge = function(e) {
        var t = "";
        r.escKey && 27 === e.keyCode
          ? (t = "close")
          : r.arrowKeys &&
            (37 === e.keyCode
              ? (t = "prev")
              : 39 === e.keyCode && (t = "next")),
          t &&
            (e.ctrlKey ||
              e.altKey ||
              e.shiftKey ||
              e.metaKey ||
              (e.preventDefault ? e.preventDefault() : (e.returnValue = !1),
              a[t]()));
      },
      Xe = function(e) {
        e && (V || X || ne || Y) && (e.preventDefault(), e.stopPropagation());
      },
      Ve = function() {
        a.setScrollOffset(0, o.getScrollY());
      },
      Ke = {},
      qe = 0,
      $e = function(e) {
        Ke[e] && (Ke[e].raf && R(Ke[e].raf), qe--, delete Ke[e]);
      },
      je = function(e) {
        Ke[e] && $e(e), Ke[e] || (qe++, (Ke[e] = {}));
      },
      Je = function() {
        for (var e in Ke) Ke.hasOwnProperty(e) && $e(e);
      },
      Qe = function(e, t, n, i, o, a, r) {
        var l,
          s = Te();
        je(e);
        var u = function() {
          if (Ke[e]) {
            if ((l = Te() - s) >= i) return $e(e), a(n), void (r && r());
            a((n - t) * o(l / i) + t), (Ke[e].raf = k(u));
          }
        };
        u();
      },
      et = {
        shout: Me,
        listen: De,
        viewportSize: pe,
        options: r,
        isMainScrollAnimating: function() {
          return ne;
        },
        getZoomLevel: function() {
          return y;
        },
        getCurrentIndex: function() {
          return c;
        },
        isDragging: function() {
          return W;
        },
        isZooming: function() {
          return j;
        },
        setScrollOffset: function(e, t) {
          (fe.x = e), (L = fe.y = t), Me("updateScrollOffset", fe);
        },
        applyZoomPan: function(e, t, n, i) {
          (de.x = t), (de.y = n), (y = e), Ee(i);
        },
        init: function() {
          if (!l && !s) {
            var n;
            (a.framework = o),
              (a.template = e),
              (a.bg = o.getChildByClass(e, "pswp__bg")),
              (Z = e.className),
              (l = !0),
              (_ = o.detectFeatures()),
              (k = _.raf),
              (R = _.caf),
              (A = _.transform),
              (F = _.oldIE),
              (a.scrollWrap = o.getChildByClass(e, "pswp__scroll-wrap")),
              (a.container = o.getChildByClass(
                a.scrollWrap,
                "pswp__container"
              )),
              (d = a.container.style),
              (a.itemHolders = I = [
                { el: a.container.children[0], wrap: 0, index: -1 },
                { el: a.container.children[1], wrap: 0, index: -1 },
                { el: a.container.children[2], wrap: 0, index: -1 }
              ]),
              (I[0].el.style.display = I[2].el.style.display = "none"),
              We(),
              (h = {
                resize: a.updateSize,
                scroll: Ve,
                keydown: Ge,
                click: Xe
              });
            var i = _.isOldIOSPhone || _.isOldAndroid || _.isMobileOpera;
            for (
              (_.animationName && _.transform && !i) ||
                (r.showAnimationDuration = r.hideAnimationDuration = 0),
                n = 0;
              n < ve.length;
              n++
            )
              a["init" + ve[n]]();
            t && (a.ui = new t(a, o)).init(),
              Me("firstUpdate"),
              (c = c || r.index || 0),
              (isNaN(c) || c < 0 || c >= Kt()) && (c = 0),
              (a.currItem = Vt(c)),
              (_.isOldIOSPhone || _.isOldAndroid) && (xe = !1),
              e.setAttribute("aria-hidden", "false"),
              r.modal &&
                (xe
                  ? (e.style.position = "fixed")
                  : ((e.style.position = "absolute"),
                    (e.style.top = o.getScrollY() + "px"))),
              L === undefined &&
                (Me("initialLayout"), (L = P = o.getScrollY()));
            var u = "pswp--open ";
            for (
              r.mainClass && (u += r.mainClass + " "),
                r.showHideOpacity && (u += "pswp--animate_opacity "),
                u += O ? "pswp--touch" : "pswp--notouch",
                u += _.animationName ? " pswp--css_animation" : "",
                u += _.svg ? " pswp--svg" : "",
                o.addClass(e, u),
                a.updateSize(),
                p = -1,
                ye = null,
                n = 0;
              n < 3;
              n++
            )
              ke((n + p) * he.x, I[n].el.style);
            F || o.bind(a.scrollWrap, f, a),
              De("initialZoomInEnd", function() {
                a.setContent(I[0], c - 1),
                  a.setContent(I[2], c + 1),
                  (I[0].el.style.display = I[2].el.style.display = "block"),
                  r.focus && e.focus(),
                  ze();
              }),
              a.setContent(I[1], c),
              a.updateCurrItem(),
              Me("afterInit"),
              xe ||
                (w = setInterval(function() {
                  qe ||
                    W ||
                    j ||
                    y !== a.currItem.initialZoomLevel ||
                    a.updateSize();
                }, 1e3)),
              o.addClass(e, "pswp--visible");
          }
        },
        close: function() {
          l &&
            ((l = !1),
            (s = !0),
            Me("close"),
            Ne(),
            $t(a.currItem, null, !0, a.destroy));
        },
        destroy: function() {
          Me("destroy"),
            Bt && clearTimeout(Bt),
            e.setAttribute("aria-hidden", "true"),
            (e.className = Z),
            w && clearInterval(w),
            o.unbind(a.scrollWrap, f, a),
            o.unbind(window, "scroll", a),
            gt(),
            Je(),
            (Ce = null);
        },
        panTo: function(e, t, n) {
          n ||
            (e > ee.min.x ? (e = ee.min.x) : e < ee.max.x && (e = ee.max.x),
            t > ee.min.y ? (t = ee.min.y) : t < ee.max.y && (t = ee.max.y)),
            (de.x = e),
            (de.y = t),
            Ee();
        },
        handleEvent: function(e) {
          (e = e || window.event), h[e.type] && h[e.type](e);
        },
        goTo: function(e) {
          var t = (e = Ie(e)) - c;
          (ye = t),
            (c = e),
            (a.currItem = Vt(c)),
            (me -= t),
            Re(he.x * me),
            Je(),
            (ne = !1),
            a.updateCurrItem();
        },
        next: function() {
          a.goTo(c + 1);
        },
        prev: function() {
          a.goTo(c - 1);
        },
        updateCurrZoomItem: function(e) {
          if ((e && Me("beforeChange", 0), I[1].el.children.length)) {
            var t = I[1].el.children[0];
            te = o.hasClass(t, "pswp__zoom-wrap") ? t.style : null;
          } else te = null;
          (ee = a.currItem.bounds),
            (x = y = a.currItem.initialZoomLevel),
            (de.x = ee.center.x),
            (de.y = ee.center.y),
            e && Me("afterChange");
        },
        invalidateCurrItems: function() {
          b = !0;
          for (var e = 0; e < 3; e++) I[e].item && (I[e].item.needsUpdate = !0);
        },
        updateCurrItem: function(e) {
          if (0 !== ye) {
            var t,
              n = Math.abs(ye);
            if (!(e && n < 2)) {
              (a.currItem = Vt(c)),
                (we = !1),
                Me("beforeChange", ye),
                n >= 3 && ((p += ye + (ye > 0 ? -3 : 3)), (n = 3));
              for (var i = 0; i < n; i++)
                ye > 0
                  ? ((t = I.shift()),
                    (I[2] = t),
                    ke((++p + 2) * he.x, t.el.style),
                    a.setContent(t, c - n + i + 1 + 1))
                  : ((t = I.pop()),
                    I.unshift(t),
                    ke(--p * he.x, t.el.style),
                    a.setContent(t, c + n - i - 1 - 1));
              if (te && 1 === Math.abs(ye)) {
                var o = Vt(C);
                o.initialZoomLevel !== y && (tn(o, pe), rn(o), Oe(o));
              }
              (ye = 0), a.updateCurrZoomItem(), (C = c), Me("afterChange");
            }
          }
        },
        updateSize: function(t) {
          if (!xe && r.modal) {
            var n = o.getScrollY();
            if (
              (L !== n && ((e.style.top = n + "px"), (L = n)),
              !t && ge.x === window.innerWidth && ge.y === window.innerHeight)
            )
              return;
            (ge.x = window.innerWidth),
              (ge.y = window.innerHeight),
              (e.style.height = ge.y + "px");
          }
          if (
            ((pe.x = a.scrollWrap.clientWidth),
            (pe.y = a.scrollWrap.clientHeight),
            Ve(),
            (he.x = pe.x + Math.round(pe.x * r.spacing)),
            (he.y = pe.y),
            Re(he.x * me),
            Me("beforeResize"),
            p !== undefined)
          ) {
            for (var i, l, s, u = 0; u < 3; u++)
              (i = I[u]),
                ke((u + p) * he.x, i.el.style),
                (s = c + u - 1),
                r.loop && Kt() > 2 && (s = Ie(s)),
                (l = Vt(s)) && (b || l.needsUpdate || !l.bounds)
                  ? (a.cleanSlide(l),
                    a.setContent(i, s),
                    1 === u && ((a.currItem = l), a.updateCurrZoomItem(!0)),
                    (l.needsUpdate = !1))
                  : -1 === i.index && s >= 0 && a.setContent(i, s),
                l && l.container && (tn(l, pe), rn(l), Oe(l));
            b = !1;
          }
          (x = y = a.currItem.initialZoomLevel),
            (ee = a.currItem.bounds) &&
              ((de.x = ee.center.x), (de.y = ee.center.y), Ee(!0)),
            Me("resize");
        },
        zoomTo: function(e, t, n, i, a) {
          t &&
            ((x = y),
            (ft.x = Math.abs(t.x) - de.x),
            (ft.y = Math.abs(t.y) - de.y),
            Pe(ce, de));
          var r = Ue(e, !1),
            l = {};
          Be("x", r, l, e), Be("y", r, l, e);
          var s = y,
            u = { x: de.x, y: de.y };
          Fe(l);
          var c = function(t) {
            1 === t
              ? ((y = e), (de.x = l.x), (de.y = l.y))
              : ((y = (e - s) * t + s),
                (de.x = (l.x - u.x) * t + u.x),
                (de.y = (l.y - u.y) * t + u.y)),
              a && a(t),
              Ee(1 === t);
          };
          n ? Qe("customZoomTo", 0, 1, n, i || o.easing.sine.inOut, c) : c(1);
        }
      },
      tt = {},
      nt = {},
      it = {},
      ot = {},
      at = {},
      rt = [],
      lt = {},
      st = [],
      ut = {},
      ct = 0,
      dt = { x: 0, y: 0 },
      pt = 0,
      mt = { x: 0, y: 0 },
      ft = { x: 0, y: 0 },
      ht = { x: 0, y: 0 },
      yt = function(e, t) {
        return e.x === t.x && e.y === t.y;
      },
      xt = function(e, t) {
        return Math.abs(e.x - t.x) < 25 && Math.abs(e.y - t.y) < 25;
      },
      vt = function(e, t) {
        return (
          (ut.x = Math.abs(e.x - t.x)),
          (ut.y = Math.abs(e.y - t.y)),
          Math.sqrt(ut.x * ut.x + ut.y * ut.y)
        );
      },
      gt = function() {
        K && (R(K), (K = null));
      },
      wt = function() {
        W && ((K = k(wt)), Lt());
      },
      bt = function() {
        return !("fit" === r.scaleMode && y === a.currItem.initialZoomLevel);
      },
      It = function(e, t) {
        return (
          !(!e || e === document) &&
          !(
            e.getAttribute("class") &&
            e.getAttribute("class").indexOf("pswp__scroll-wrap") > -1
          ) &&
          (t(e) ? e : It(e.parentNode, t))
        );
      },
      Ct = {},
      Dt = function(e, t) {
        return (
          (Ct.prevent = !It(e.target, r.isClickableElement)),
          Me("preventDragEvent", e, t, Ct),
          Ct.prevent
        );
      },
      Mt = function(e, t) {
        return (t.x = e.pageX), (t.y = e.pageY), (t.id = e.identifier), t;
      },
      Tt = function(e, t, n) {
        (n.x = 0.5 * (e.x + t.x)), (n.y = 0.5 * (e.y + t.y));
      },
      St = function(e, t, n) {
        if (e - N > 50) {
          var i = st.length > 2 ? st.shift() : {};
          (i.x = t), (i.y = n), st.push(i), (N = e);
        }
      },
      At = function() {
        var e = de.y - a.currItem.initialPosition.y;
        return 1 - Math.abs(e / (pe.y / 2));
      },
      Et = {},
      Ot = {},
      kt = [],
      Rt = function(e) {
        for (; kt.length > 0; ) kt.pop();
        return (
          E
            ? ((se = 0),
              rt.forEach(function(e) {
                0 === se ? (kt[0] = e) : 1 === se && (kt[1] = e), se++;
              }))
            : e.type.indexOf("touch") > -1
              ? e.touches &&
                e.touches.length > 0 &&
                ((kt[0] = Mt(e.touches[0], Et)),
                e.touches.length > 1 && (kt[1] = Mt(e.touches[1], Ot)))
              : ((Et.x = e.pageX),
                (Et.y = e.pageY),
                (Et.id = ""),
                (kt[0] = Et)),
          kt
        );
      },
      Zt = function(e, t) {
        var n,
          i,
          o,
          l,
          s = de[e] + t[e],
          u = t[e] > 0,
          c = mt.x + t.x,
          d = mt.x - lt.x;
        if (
          ((n = s > ee.min[e] || s < ee.max[e] ? r.panEndFriction : 1),
          (s = de[e] + t[e] * n),
          (r.allowPanToNext || y === a.currItem.initialZoomLevel) &&
            (te
              ? "h" !== ie ||
                "x" !== e ||
                X ||
                (u
                  ? (s > ee.min[e] &&
                      ((n = r.panEndFriction),
                      ee.min[e],
                      (i = ee.min[e] - ce[e])),
                    (i <= 0 || d < 0) && Kt() > 1
                      ? ((l = c), d < 0 && c > lt.x && (l = lt.x))
                      : ee.min.x !== ee.max.x && (o = s))
                  : (s < ee.max[e] &&
                      ((n = r.panEndFriction),
                      ee.max[e],
                      (i = ce[e] - ee.max[e])),
                    (i <= 0 || d > 0) && Kt() > 1
                      ? ((l = c), d > 0 && c < lt.x && (l = lt.x))
                      : ee.min.x !== ee.max.x && (o = s)))
              : (l = c),
            "x" === e))
        )
          return (
            l !== undefined && (Re(l, !0), (q = l !== lt.x)),
            ee.min.x !== ee.max.x &&
              (o !== undefined ? (de.x = o) : q || (de.x += t.x * n)),
            l !== undefined
          );
        ne || q || (y > a.currItem.fitRatio && (de[e] += t[e] * n));
      },
      Pt = function(e) {
        if (!("mousedown" === e.type && e.button > 0))
          if (Xt) e.preventDefault();
          else if (!B || "mousedown" !== e.type) {
            if ((Dt(e, !0) && e.preventDefault(), Me("pointerDown"), E)) {
              var t = o.arraySearch(rt, e.pointerId, "id");
              t < 0 && (t = rt.length),
                (rt[t] = { x: e.pageX, y: e.pageY, id: e.pointerId });
            }
            var n = Rt(e),
              i = n.length;
            ($ = null),
              Je(),
              (W && 1 !== i) ||
                ((W = oe = !0),
                o.bind(window, m, a),
                (H = le = ae = Y = q = V = G = X = !1),
                (ie = null),
                Me("firstTouchStart", n),
                Pe(ce, de),
                (ue.x = ue.y = 0),
                Pe(ot, n[0]),
                Pe(at, ot),
                (lt.x = he.x * me),
                (st = [{ x: ot.x, y: ot.y }]),
                (N = z = Te()),
                Ue(y, !0),
                gt(),
                wt()),
              !j &&
                i > 1 &&
                !ne &&
                !q &&
                ((x = y),
                (X = !1),
                (j = G = !0),
                (ue.y = ue.x = 0),
                Pe(ce, de),
                Pe(tt, n[0]),
                Pe(nt, n[1]),
                Tt(tt, nt, ht),
                (ft.x = Math.abs(ht.x) - de.x),
                (ft.y = Math.abs(ht.y) - de.y),
                (J = Q = vt(tt, nt)));
          }
      },
      Ft = function(e) {
        if ((e.preventDefault(), E)) {
          var t = o.arraySearch(rt, e.pointerId, "id");
          if (t > -1) {
            var n = rt[t];
            (n.x = e.pageX), (n.y = e.pageY);
          }
        }
        if (W) {
          var i = Rt(e);
          if (ie || V || j) $ = i;
          else if (mt.x !== he.x * me) ie = "h";
          else {
            var a = Math.abs(i[0].x - ot.x) - Math.abs(i[0].y - ot.y);
            Math.abs(a) >= 10 && ((ie = a > 0 ? "h" : "v"), ($ = i));
          }
        }
      },
      Lt = function() {
        if ($) {
          var e = $.length;
          if (0 !== e)
            if (
              (Pe(tt, $[0]),
              (it.x = tt.x - ot.x),
              (it.y = tt.y - ot.y),
              j && e > 1)
            ) {
              if (
                ((ot.x = tt.x), (ot.y = tt.y), !it.x && !it.y && yt($[1], nt))
              )
                return;
              Pe(nt, $[1]), X || ((X = !0), Me("zoomGestureStarted"));
              var t = vt(tt, nt),
                n = Ht(t);
              n >
                a.currItem.initialZoomLevel +
                  a.currItem.initialZoomLevel / 15 && (le = !0);
              var i = 1,
                o = He(),
                l = Ye();
              if (n < o)
                if (r.pinchToClose && !le && x <= a.currItem.initialZoomLevel) {
                  var s = 1 - (o - n) / (o / 1.2);
                  Se(s), Me("onPinchClose", s), (ae = !0);
                } else (i = (o - n) / o) > 1 && (i = 1), (n = o - i * (o / 3));
              else
                n > l &&
                  ((i = (n - l) / (6 * o)) > 1 && (i = 1), (n = l + i * o));
              i < 0 && (i = 0),
                (J = t),
                Tt(tt, nt, dt),
                (ue.x += dt.x - ht.x),
                (ue.y += dt.y - ht.y),
                Pe(ht, dt),
                (de.x = Ze("x", n)),
                (de.y = Ze("y", n)),
                (H = n > y),
                (y = n),
                Ee();
            } else {
              if (!ie) return;
              if (
                (oe &&
                  ((oe = !1),
                  Math.abs(it.x) >= 10 && (it.x -= $[0].x - at.x),
                  Math.abs(it.y) >= 10 && (it.y -= $[0].y - at.y)),
                (ot.x = tt.x),
                (ot.y = tt.y),
                0 === it.x && 0 === it.y)
              )
                return;
              if ("v" === ie && r.closeOnVerticalDrag && !bt()) {
                (ue.y += it.y), (de.y += it.y);
                var u = At();
                return (Y = !0), Me("onVerticalDrag", u), Se(u), void Ee();
              }
              St(Te(), tt.x, tt.y),
                (V = !0),
                (ee = a.currItem.bounds),
                Zt("x", it) || (Zt("y", it), Fe(de), Ee());
            }
        }
      },
      _t = function(e) {
        if (_.isOldAndroid) {
          if (B && "mouseup" === e.type) return;
          e.type.indexOf("touch") > -1 &&
            (clearTimeout(B),
            (B = setTimeout(function() {
              B = 0;
            }, 600)));
        }
        Me("pointerUp"), Dt(e, !1) && e.preventDefault();
        var t;
        if (E) {
          var n = o.arraySearch(rt, e.pointerId, "id");
          if (n > -1)
            if (((t = rt.splice(n, 1)[0]), navigator.pointerEnabled))
              t.type = e.pointerType || "mouse";
            else {
              var i = { 4: "mouse", 2: "touch", 3: "pen" };
              (t.type = i[e.pointerType]),
                t.type || (t.type = e.pointerType || "mouse");
            }
        }
        var l,
          s = Rt(e),
          u = s.length;
        if (("mouseup" === e.type && (u = 0), 2 === u)) return ($ = null), !0;
        1 === u && Pe(at, s[0]),
          0 !== u ||
            ie ||
            ne ||
            (t ||
              ("mouseup" === e.type
                ? (t = { x: e.pageX, y: e.pageY, type: "mouse" })
                : e.changedTouches &&
                  e.changedTouches[0] &&
                  (t = {
                    x: e.changedTouches[0].pageX,
                    y: e.changedTouches[0].pageY,
                    type: "touch"
                  })),
            Me("touchRelease", e, t));
        var c = -1;
        if (
          (0 === u &&
            ((W = !1),
            o.unbind(window, m, a),
            gt(),
            j ? (c = 0) : -1 !== pt && (c = Te() - pt)),
          (pt = 1 === u ? Te() : -1),
          (l = -1 !== c && c < 150 ? "zoom" : "swipe"),
          j &&
            u < 2 &&
            ((j = !1),
            1 === u && (l = "zoomPointerUp"),
            Me("zoomGestureEnded")),
          ($ = null),
          V || X || ne || Y)
        )
          if ((Je(), U || (U = zt()), U.calculateSwipeSpeed("x"), Y))
            if (At() < r.verticalDragRange) a.close();
            else {
              var d = de.y,
                p = re;
              Qe("verticalDrag", 0, 1, 300, o.easing.cubic.out, function(e) {
                (de.y = (a.currItem.initialPosition.y - d) * e + d),
                  Se((1 - p) * e + p),
                  Ee();
              }),
                Me("onVerticalDrag", 1);
            }
          else {
            if ((q || ne) && 0 === u) {
              if (Ut(l, U)) return;
              l = "zoomPointerUp";
            }
            ne ||
              ("swipe" === l ? !q && y > a.currItem.fitRatio && Nt(U) : Yt());
          }
      },
      zt = function() {
        var e,
          t,
          n = {
            lastFlickOffset: {},
            lastFlickDist: {},
            lastFlickSpeed: {},
            slowDownRatio: {},
            slowDownRatioReverse: {},
            speedDecelerationRatio: {},
            speedDecelerationRatioAbs: {},
            distanceOffset: {},
            backAnimDestination: {},
            backAnimStarted: {},
            calculateSwipeSpeed: function(i) {
              st.length > 1
                ? ((e = Te() - N + 50), (t = st[st.length - 2][i]))
                : ((e = Te() - z), (t = at[i])),
                (n.lastFlickOffset[i] = ot[i] - t),
                (n.lastFlickDist[i] = Math.abs(n.lastFlickOffset[i])),
                n.lastFlickDist[i] > 20
                  ? (n.lastFlickSpeed[i] = n.lastFlickOffset[i] / e)
                  : (n.lastFlickSpeed[i] = 0),
                Math.abs(n.lastFlickSpeed[i]) < 0.1 &&
                  (n.lastFlickSpeed[i] = 0),
                (n.slowDownRatio[i] = 0.95),
                (n.slowDownRatioReverse[i] = 1 - n.slowDownRatio[i]),
                (n.speedDecelerationRatio[i] = 1);
            },
            calculateOverBoundsAnimOffset: function(e, t) {
              n.backAnimStarted[e] ||
                (de[e] > ee.min[e]
                  ? (n.backAnimDestination[e] = ee.min[e])
                  : de[e] < ee.max[e] && (n.backAnimDestination[e] = ee.max[e]),
                n.backAnimDestination[e] !== undefined &&
                  ((n.slowDownRatio[e] = 0.7),
                  (n.slowDownRatioReverse[e] = 1 - n.slowDownRatio[e]),
                  n.speedDecelerationRatioAbs[e] < 0.05 &&
                    ((n.lastFlickSpeed[e] = 0),
                    (n.backAnimStarted[e] = !0),
                    Qe(
                      "bounceZoomPan" + e,
                      de[e],
                      n.backAnimDestination[e],
                      t || 300,
                      o.easing.sine.out,
                      function(t) {
                        (de[e] = t), Ee();
                      }
                    ))));
            },
            calculateAnimOffset: function(e) {
              n.backAnimStarted[e] ||
                ((n.speedDecelerationRatio[e] =
                  n.speedDecelerationRatio[e] *
                  (n.slowDownRatio[e] +
                    n.slowDownRatioReverse[e] -
                    n.slowDownRatioReverse[e] * n.timeDiff / 10)),
                (n.speedDecelerationRatioAbs[e] = Math.abs(
                  n.lastFlickSpeed[e] * n.speedDecelerationRatio[e]
                )),
                (n.distanceOffset[e] =
                  n.lastFlickSpeed[e] *
                  n.speedDecelerationRatio[e] *
                  n.timeDiff),
                (de[e] += n.distanceOffset[e]));
            },
            panAnimLoop: function() {
              if (
                Ke.zoomPan &&
                ((Ke.zoomPan.raf = k(n.panAnimLoop)),
                (n.now = Te()),
                (n.timeDiff = n.now - n.lastNow),
                (n.lastNow = n.now),
                n.calculateAnimOffset("x"),
                n.calculateAnimOffset("y"),
                Ee(),
                n.calculateOverBoundsAnimOffset("x"),
                n.calculateOverBoundsAnimOffset("y"),
                n.speedDecelerationRatioAbs.x < 0.05 &&
                  n.speedDecelerationRatioAbs.y < 0.05)
              )
                return (
                  (de.x = Math.round(de.x)),
                  (de.y = Math.round(de.y)),
                  Ee(),
                  void $e("zoomPan")
                );
            }
          };
        return n;
      },
      Nt = function(e) {
        if (
          (e.calculateSwipeSpeed("y"),
          (ee = a.currItem.bounds),
          (e.backAnimDestination = {}),
          (e.backAnimStarted = {}),
          Math.abs(e.lastFlickSpeed.x) <= 0.05 &&
            Math.abs(e.lastFlickSpeed.y) <= 0.05)
        )
          return (
            (e.speedDecelerationRatioAbs.x = e.speedDecelerationRatioAbs.y = 0),
            e.calculateOverBoundsAnimOffset("x"),
            e.calculateOverBoundsAnimOffset("y"),
            !0
          );
        je("zoomPan"), (e.lastNow = Te()), e.panAnimLoop();
      },
      Ut = function(e, t) {
        var n;
        ne || (ct = c);
        var i;
        if ("swipe" === e) {
          var l = ot.x - at.x,
            s = t.lastFlickDist.x < 10;
          l > 30 && (s || t.lastFlickOffset.x > 20)
            ? (i = -1)
            : l < -30 && (s || t.lastFlickOffset.x < -20) && (i = 1);
        }
        var u;
        i &&
          ((c += i) < 0
            ? ((c = r.loop ? Kt() - 1 : 0), (u = !0))
            : c >= Kt() && ((c = r.loop ? 0 : Kt() - 1), (u = !0)),
          (u && !r.loop) || ((ye += i), (me -= i), (n = !0)));
        var d,
          p = he.x * me,
          m = Math.abs(p - mt.x);
        return (
          n || p > mt.x == t.lastFlickSpeed.x > 0
            ? ((d =
                Math.abs(t.lastFlickSpeed.x) > 0
                  ? m / Math.abs(t.lastFlickSpeed.x)
                  : 333),
              (d = Math.min(d, 400)),
              (d = Math.max(d, 250)))
            : (d = 333),
          ct === c && (n = !1),
          (ne = !0),
          Me("mainScrollAnimStart"),
          Qe("mainScroll", mt.x, p, d, o.easing.cubic.out, Re, function() {
            Je(),
              (ne = !1),
              (ct = -1),
              (n || ct !== c) && a.updateCurrItem(),
              Me("mainScrollAnimComplete");
          }),
          n && a.updateCurrItem(!0),
          n
        );
      },
      Ht = function(e) {
        return 1 / Q * e * x;
      },
      Yt = function() {
        var e = y,
          t = He(),
          n = Ye();
        y < t ? (e = t) : y > n && (e = n);
        var i,
          r = re;
        return ae && !H && !le && y < t
          ? (a.close(), !0)
          : (ae &&
              (i = function(e) {
                Se((1 - r) * e + r);
              }),
            a.zoomTo(e, 0, 200, o.easing.cubic.out, i),
            !0);
      };
    be("Gestures", {
      publicMethods: {
        initGestures: function() {
          var e = function(e, t, n, i, o) {
            (D = e + t), (M = e + n), (T = e + i), (S = o ? e + o : "");
          };
          (E = _.pointerEvent) && _.touch && (_.touch = !1),
            E
              ? navigator.pointerEnabled
                ? e("pointer", "down", "move", "up", "cancel")
                : e("MSPointer", "Down", "Move", "Up", "Cancel")
              : _.touch
                ? (e("touch", "start", "move", "end", "cancel"), (O = !0))
                : e("mouse", "down", "move", "up"),
            (m = M + " " + T + " " + S),
            (f = D),
            E &&
              !O &&
              (O =
                navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1),
            (a.likelyTouchDevice = O),
            (h[D] = Pt),
            (h[M] = Ft),
            (h[T] = _t),
            S && (h[S] = h[T]),
            _.touch &&
              ((f += " mousedown"),
              (m += " mousemove mouseup"),
              (h.mousedown = h[D]),
              (h.mousemove = h[M]),
              (h.mouseup = h[T])),
            O || (r.allowPanToNext = !1);
        }
      }
    });
    var Bt,
      Wt,
      Gt,
      Xt,
      Vt,
      Kt,
      qt,
      $t = function(t, n, i, l) {
        Bt && clearTimeout(Bt), (Xt = !0), (Gt = !0);
        var s;
        t.initialLayout
          ? ((s = t.initialLayout), (t.initialLayout = null))
          : (s = r.getThumbBoundsFn && r.getThumbBoundsFn(c));
        var d = i ? r.hideAnimationDuration : r.showAnimationDuration,
          p = function() {
            $e("initialZoom"),
              i
                ? (a.template.removeAttribute("style"),
                  a.bg.removeAttribute("style"))
                : (Se(1),
                  n && (n.style.display = "block"),
                  o.addClass(e, "pswp--animated-in"),
                  Me("initialZoom" + (i ? "OutEnd" : "InEnd"))),
              l && l(),
              (Xt = !1);
          };
        if (!d || !s || s.x === undefined)
          return (
            Me("initialZoom" + (i ? "Out" : "In")),
            (y = t.initialZoomLevel),
            Pe(de, t.initialPosition),
            Ee(),
            (e.style.opacity = i ? 0 : 1),
            Se(1),
            void (d
              ? setTimeout(function() {
                  p();
                }, d)
              : p())
          );
        !(function() {
          var n = u,
            l = !a.currItem.src || a.currItem.loadError || r.showHideOpacity;
          t.miniImg && (t.miniImg.style.webkitBackfaceVisibility = "hidden"),
            i ||
              ((y = s.w / t.w),
              (de.x = s.x),
              (de.y = s.y - P),
              (a[l ? "template" : "bg"].style.opacity = 0.001),
              Ee()),
            je("initialZoom"),
            i && !n && o.removeClass(e, "pswp--animated-in"),
            l &&
              (i
                ? o[(n ? "remove" : "add") + "Class"](
                    e,
                    "pswp--animate_opacity"
                  )
                : setTimeout(function() {
                    o.addClass(e, "pswp--animate_opacity");
                  }, 30)),
            (Bt = setTimeout(function() {
              if ((Me("initialZoom" + (i ? "Out" : "In")), i)) {
                var a = s.w / t.w,
                  r = { x: de.x, y: de.y },
                  u = y,
                  c = re,
                  m = function(t) {
                    1 === t
                      ? ((y = a), (de.x = s.x), (de.y = s.y - L))
                      : ((y = (a - u) * t + u),
                        (de.x = (s.x - r.x) * t + r.x),
                        (de.y = (s.y - L - r.y) * t + r.y)),
                      Ee(),
                      l ? (e.style.opacity = 1 - t) : Se(c - t * c);
                  };
                n
                  ? Qe("initialZoom", 0, 1, d, o.easing.cubic.out, m, p)
                  : (m(1), (Bt = setTimeout(p, d + 20)));
              } else (y = t.initialZoomLevel), Pe(de, t.initialPosition), Ee(), Se(1), l ? (e.style.opacity = 1) : Se(1), (Bt = setTimeout(p, d + 20));
            }, i ? 25 : 90));
        })();
      },
      jt = {},
      Jt = [],
      Qt = {
        index: 0,
        errorMsg:
          '<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
        forceProgressiveLoading: !1,
        preload: [1, 1],
        getNumItemsFn: function() {
          return Wt.length;
        }
      },
      en = function(e, t, n) {
        var i = e.bounds;
        (i.center.x = Math.round((jt.x - t) / 2)),
          (i.center.y = Math.round((jt.y - n) / 2) + e.vGap.top),
          (i.max.x = t > jt.x ? Math.round(jt.x - t) : i.center.x),
          (i.max.y = n > jt.y ? Math.round(jt.y - n) + e.vGap.top : i.center.y),
          (i.min.x = t > jt.x ? 0 : i.center.x),
          (i.min.y = n > jt.y ? e.vGap.top : i.center.y);
      },
      tn = function(e, t, n) {
        if (e.src && !e.loadError) {
          var i = !n;
          if (
            (i &&
              (e.vGap || (e.vGap = { top: 0, bottom: 0 }),
              Me("parseVerticalMargin", e)),
            (jt.x = t.x),
            (jt.y = t.y - e.vGap.top - e.vGap.bottom),
            i)
          ) {
            var o = jt.x / e.w,
              a = jt.y / e.h;
            e.fitRatio = o < a ? o : a;
            var l = r.scaleMode;
            "orig" === l ? (n = 1) : "fit" === l && (n = e.fitRatio),
              n > 1 && (n = 1),
              (e.initialZoomLevel = n),
              e.bounds ||
                (e.bounds = {
                  center: { x: 0, y: 0 },
                  max: { x: 0, y: 0 },
                  min: { x: 0, y: 0 }
                });
          }
          if (!n) return;
          return (
            en(e, e.w * n, e.h * n),
            i &&
              n === e.initialZoomLevel &&
              (e.initialPosition = e.bounds.center),
            e.bounds
          );
        }
        return (
          (e.w = e.h = 0),
          (e.initialZoomLevel = e.fitRatio = 1),
          (e.bounds = {
            center: { x: 0, y: 0 },
            max: { x: 0, y: 0 },
            min: { x: 0, y: 0 }
          }),
          (e.initialPosition = e.bounds.center),
          e.bounds
        );
      },
      nn = function(e, t, n, i, o, r) {
        t.loadError ||
          (i &&
            ((t.imageAppended = !0),
            rn(t, i, t === a.currItem && we),
            n.appendChild(i),
            r &&
              setTimeout(function() {
                t &&
                  t.loaded &&
                  t.placeholder &&
                  ((t.placeholder.style.display = "none"),
                  (t.placeholder = null));
              }, 500)));
      },
      on = function(e) {
        (e.loading = !0), (e.loaded = !1);
        var t = (e.img = o.createEl("pswp__img", "img")),
          n = function() {
            (e.loading = !1),
              (e.loaded = !0),
              e.loadComplete ? e.loadComplete(e) : (e.img = null),
              (t.onload = t.onerror = null),
              (t = null);
          };
        return (
          (t.onload = n),
          (t.onerror = function() {
            (e.loadError = !0), n();
          }),
          (t.src = e.src),
          t
        );
      },
      an = function(e, t) {
        if (e.src && e.loadError && e.container)
          return (
            t && (e.container.innerHTML = ""),
            (e.container.innerHTML = r.errorMsg.replace("%url%", e.src)),
            !0
          );
      },
      rn = function(e, t, n) {
        if (e.src) {
          t || (t = e.container.lastChild);
          var i = n ? e.w : Math.round(e.w * e.fitRatio),
            o = n ? e.h : Math.round(e.h * e.fitRatio);
          e.placeholder &&
            !e.loaded &&
            ((e.placeholder.style.width = i + "px"),
            (e.placeholder.style.height = o + "px")),
            (t.style.width = i + "px"),
            (t.style.height = o + "px");
        }
      },
      ln = function() {
        if (Jt.length) {
          for (var e, t = 0; t < Jt.length; t++)
            (e = Jt[t]).holder.index === e.index &&
              nn(e.index, e.item, e.baseDiv, e.img, 0, e.clearPlaceholder);
          Jt = [];
        }
      };
    be("Controller", {
      publicMethods: {
        lazyLoadItem: function(e) {
          e = Ie(e);
          var t = Vt(e);
          t &&
            ((!t.loaded && !t.loading) || b) &&
            (Me("gettingData", e, t), t.src && on(t));
        },
        initController: function() {
          o.extend(r, Qt, !0),
            (a.items = Wt = n),
            (Vt = a.getItemAt),
            (Kt = r.getNumItemsFn),
            (qt = r.loop),
            Kt() < 3 && (r.loop = !1),
            De("beforeChange", function(e) {
              var t,
                n = r.preload,
                i = null === e || e >= 0,
                o = Math.min(n[0], Kt()),
                l = Math.min(n[1], Kt());
              for (t = 1; t <= (i ? l : o); t++) a.lazyLoadItem(c + t);
              for (t = 1; t <= (i ? o : l); t++) a.lazyLoadItem(c - t);
            }),
            De("initialLayout", function() {
              a.currItem.initialLayout =
                r.getThumbBoundsFn && r.getThumbBoundsFn(c);
            }),
            De("mainScrollAnimComplete", ln),
            De("initialZoomInEnd", ln),
            De("destroy", function() {
              for (var e, t = 0; t < Wt.length; t++)
                (e = Wt[t]).container && (e.container = null),
                  e.placeholder && (e.placeholder = null),
                  e.img && (e.img = null),
                  e.preloader && (e.preloader = null),
                  e.loadError && (e.loaded = e.loadError = !1);
              Jt = null;
            });
        },
        getItemAt: function(e) {
          return e >= 0 && Wt[e] !== undefined && Wt[e];
        },
        allowProgressiveImg: function() {
          return (
            r.forceProgressiveLoading ||
            !O ||
            r.mouseUsed ||
            screen.width > 1200
          );
        },
        setContent: function(e, t) {
          r.loop && (t = Ie(t));
          var n = a.getItemAt(e.index);
          n && (n.container = null);
          var i,
            s = a.getItemAt(t);
          if (s) {
            Me("gettingData", t, s), (e.index = t), (e.item = s);
            var u = (s.container = o.createEl("pswp__zoom-wrap"));
            if (
              (!s.src &&
                s.html &&
                (s.html.tagName
                  ? u.appendChild(s.html)
                  : (u.innerHTML = s.html)),
              an(s),
              tn(s, pe),
              !s.src || s.loadError || s.loaded)
            )
              s.src &&
                !s.loadError &&
                (((i = o.createEl("pswp__img", "img")).style.opacity = 1),
                (i.src = s.src),
                rn(s, i),
                nn(0, s, u, i));
            else {
              if (
                ((s.loadComplete = function(n) {
                  if (l) {
                    if (e && e.index === t) {
                      if (an(n, !0))
                        return (
                          (n.loadComplete = n.img = null),
                          tn(n, pe),
                          Oe(n),
                          void (e.index === c && a.updateCurrZoomItem())
                        );
                      n.imageAppended
                        ? !Xt &&
                          n.placeholder &&
                          ((n.placeholder.style.display = "none"),
                          (n.placeholder = null))
                        : _.transform && (ne || Xt)
                          ? Jt.push({
                              item: n,
                              baseDiv: u,
                              img: n.img,
                              index: t,
                              holder: e,
                              clearPlaceholder: !0
                            })
                          : nn(0, n, u, n.img, 0, !0);
                    }
                    (n.loadComplete = null),
                      (n.img = null),
                      Me("imageLoadComplete", t, n);
                  }
                }),
                o.features.transform)
              ) {
                var d = "pswp__img pswp__img--placeholder";
                d += s.msrc ? "" : " pswp__img--placeholder--blank";
                var p = o.createEl(d, s.msrc ? "img" : "");
                s.msrc && (p.src = s.msrc),
                  rn(s, p),
                  u.appendChild(p),
                  (s.placeholder = p);
              }
              s.loading || on(s),
                a.allowProgressiveImg() &&
                  (!Gt && _.transform
                    ? Jt.push({
                        item: s,
                        baseDiv: u,
                        img: s.img,
                        index: t,
                        holder: e
                      })
                    : nn(0, s, u, s.img, 0, !0));
            }
            Gt || t !== c ? Oe(s) : ((te = u.style), $t(s, i || s.img)),
              (e.el.innerHTML = ""),
              e.el.appendChild(u);
          } else e.el.innerHTML = "";
        },
        cleanSlide: function(e) {
          e.img && (e.img.onload = e.img.onerror = null),
            (e.loaded = e.loading = e.img = e.imageAppended = !1);
        }
      }
    });
    var sn,
      un = {},
      cn = function(e, t, n) {
        var i = document.createEvent("CustomEvent"),
          o = {
            origEvent: e,
            target: e.target,
            releasePoint: t,
            pointerType: n || "touch"
          };
        i.initCustomEvent("pswpTap", !0, !0, o), e.target.dispatchEvent(i);
      };
    be("Tap", {
      publicMethods: {
        initTap: function() {
          De("firstTouchStart", a.onTapStart),
            De("touchRelease", a.onTapRelease),
            De("destroy", function() {
              (un = {}), (sn = null);
            });
        },
        onTapStart: function(e) {
          e.length > 1 && (clearTimeout(sn), (sn = null));
        },
        onTapRelease: function(e, t) {
          if (t && !V && !G && !qe) {
            var n = t;
            if (sn && (clearTimeout(sn), (sn = null), xt(n, un)))
              return void Me("doubleTap", n);
            if ("mouse" === t.type) return void cn(e, t, "mouse");
            if (
              "BUTTON" === e.target.tagName.toUpperCase() ||
              o.hasClass(e.target, "pswp__single-tap")
            )
              return void cn(e, t);
            Pe(un, n),
              (sn = setTimeout(function() {
                cn(e, t), (sn = null);
              }, 300));
          }
        }
      }
    });
    var dn;
    be("DesktopZoom", {
      publicMethods: {
        initDesktopZoom: function() {
          F ||
            (O
              ? De("mouseUsed", function() {
                  a.setupDesktopZoom();
                })
              : a.setupDesktopZoom(!0));
        },
        setupDesktopZoom: function(t) {
          dn = {};
          var n = "wheel mousewheel DOMMouseScroll";
          De("bindEvents", function() {
            o.bind(e, n, a.handleMouseWheel);
          }),
            De("unbindEvents", function() {
              dn && o.unbind(e, n, a.handleMouseWheel);
            }),
            (a.mouseZoomedIn = !1);
          var i,
            r = function() {
              a.mouseZoomedIn &&
                (o.removeClass(e, "pswp--zoomed-in"), (a.mouseZoomedIn = !1)),
                y < 1
                  ? o.addClass(e, "pswp--zoom-allowed")
                  : o.removeClass(e, "pswp--zoom-allowed"),
                l();
            },
            l = function() {
              i && (o.removeClass(e, "pswp--dragging"), (i = !1));
            };
          De("resize", r),
            De("afterChange", r),
            De("pointerDown", function() {
              a.mouseZoomedIn && ((i = !0), o.addClass(e, "pswp--dragging"));
            }),
            De("pointerUp", l),
            t || r();
        },
        handleMouseWheel: function(e) {
          if (y <= a.currItem.fitRatio)
            return (
              r.modal &&
                (!r.closeOnScroll || qe || W
                  ? e.preventDefault()
                  : A && Math.abs(e.deltaY) > 2 && ((u = !0), a.close())),
              !0
            );
          if ((e.stopPropagation(), (dn.x = 0), "deltaX" in e))
            1 === e.deltaMode
              ? ((dn.x = 18 * e.deltaX), (dn.y = 18 * e.deltaY))
              : ((dn.x = e.deltaX), (dn.y = e.deltaY));
          else if ("wheelDelta" in e)
            e.wheelDeltaX && (dn.x = -0.16 * e.wheelDeltaX),
              e.wheelDeltaY
                ? (dn.y = -0.16 * e.wheelDeltaY)
                : (dn.y = -0.16 * e.wheelDelta);
          else {
            if (!("detail" in e)) return;
            dn.y = e.detail;
          }
          Ue(y, !0);
          var t = de.x - dn.x,
            n = de.y - dn.y;
          (r.modal ||
            (t <= ee.min.x &&
              t >= ee.max.x &&
              n <= ee.min.y &&
              n >= ee.max.y)) &&
            e.preventDefault(),
            a.panTo(t, n);
        },
        toggleDesktopZoom: function(t) {
          t = t || { x: pe.x / 2 + fe.x, y: pe.y / 2 + fe.y };
          var n = r.getDoubleTapZoom(!0, a.currItem),
            i = y === n;
          (a.mouseZoomedIn = !i),
            a.zoomTo(i ? a.currItem.initialZoomLevel : n, t, 333),
            o[(i ? "remove" : "add") + "Class"](e, "pswp--zoomed-in");
        }
      }
    });
    var pn,
      mn,
      fn,
      hn,
      yn,
      xn,
      vn,
      gn,
      wn,
      bn,
      In,
      Cn,
      Dn = { history: !0, galleryUID: 1 },
      Mn = function() {
        return In.hash.substring(1);
      },
      Tn = function() {
        pn && clearTimeout(pn), fn && clearTimeout(fn);
      },
      Sn = function() {
        var e = Mn(),
          t = {};
        if (e.length < 5) return t;
        var n,
          i = e.split("&");
        for (n = 0; n < i.length; n++)
          if (i[n]) {
            var o = i[n].split("=");
            o.length < 2 || (t[o[0]] = o[1]);
          }
        if (r.galleryPIDs) {
          var a = t.pid;
          for (t.pid = 0, n = 0; n < Wt.length; n++)
            if (Wt[n].pid === a) {
              t.pid = n;
              break;
            }
        } else t.pid = parseInt(t.pid, 10) - 1;
        return t.pid < 0 && (t.pid = 0), t;
      },
      An = function() {
        if ((fn && clearTimeout(fn), qe || W)) fn = setTimeout(An, 500);
        else {
          hn ? clearTimeout(mn) : (hn = !0);
          var e = c + 1,
            t = Vt(c);
          t.hasOwnProperty("pid") && (e = t.pid);
          var n = vn + "&gid=" + r.galleryUID + "&pid=" + e;
          gn || (-1 === In.hash.indexOf(n) && (bn = !0));
          var i = In.href.split("#")[0] + "#" + n;
          Cn
            ? "#" + n !== window.location.hash &&
              history[gn ? "replaceState" : "pushState"]("", document.title, i)
            : gn
              ? In.replace(i)
              : (In.hash = n),
            (gn = !0),
            (mn = setTimeout(function() {
              hn = !1;
            }, 60));
        }
      };
    be("History", {
      publicMethods: {
        initHistory: function() {
          if ((o.extend(r, Dn, !0), r.history)) {
            (In = window.location),
              (bn = !1),
              (wn = !1),
              (gn = !1),
              (vn = Mn()),
              (Cn = "pushState" in history),
              vn.indexOf("gid=") > -1 &&
                ((vn = vn.split("&gid=")[0]), (vn = vn.split("?gid=")[0])),
              De("afterChange", a.updateURL),
              De("unbindEvents", function() {
                o.unbind(window, "hashchange", a.onHashChange);
              });
            var e = function() {
              (xn = !0),
                wn ||
                  (bn
                    ? history.back()
                    : vn
                      ? (In.hash = vn)
                      : Cn
                        ? history.pushState(
                            "",
                            document.title,
                            In.pathname + In.search
                          )
                        : (In.hash = "")),
                Tn();
            };
            De("unbindEvents", function() {
              u && e();
            }),
              De("destroy", function() {
                xn || e();
              }),
              De("firstUpdate", function() {
                c = Sn().pid;
              });
            var t = vn.indexOf("pid=");
            t > -1 &&
              "&" === (vn = vn.substring(0, t)).slice(-1) &&
              (vn = vn.slice(0, -1)),
              setTimeout(function() {
                l && o.bind(window, "hashchange", a.onHashChange);
              }, 40);
          }
        },
        onHashChange: function() {
          if (Mn() === vn) return (wn = !0), void a.close();
          hn || ((yn = !0), a.goTo(Sn().pid), (yn = !1));
        },
        updateURL: function() {
          Tn(), yn || (gn ? (pn = setTimeout(An, 800)) : An());
        }
      }
    }),
      o.extend(a, et);
  };
});
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!(function(e, t) {
  "function" == typeof define && define.amd
    ? define(t)
    : "object" == typeof exports
      ? (module.exports = t())
      : (e.PhotoSwipeUI_Default = t());
})(this, function() {
  "use strict";
  return function(e, t) {
    var n,
      o,
      l,
      r,
      i,
      s,
      a,
      u,
      c,
      p,
      d,
      m,
      f,
      h,
      w,
      g,
      v,
      b,
      _,
      C = this,
      T = !1,
      I = !0,
      E = !0,
      F = {
        barsSize: { top: 44, bottom: "auto" },
        closeElClasses: ["item", "caption", "zoom-wrap", "ui", "top-bar"],
        timeToIdle: 4e3,
        timeToIdleOutside: 1e3,
        loadingIndicatorDelay: 1e3,
        addCaptionHTMLFn: function(e, t) {
          return e.title
            ? ((t.children[0].innerHTML = e.title), !0)
            : ((t.children[0].innerHTML = ""), !1);
        },
        closeEl: !0,
        captionEl: !0,
        fullscreenEl: !0,
        zoomEl: !0,
        shareEl: !0,
        counterEl: !0,
        arrowEl: !0,
        preloaderEl: !0,
        tapToClose: !1,
        tapToToggleControls: !0,
        clickToCloseNonZoomable: !0,
        shareButtons: [
          {
            id: "facebook",
            label: "Share on Facebook",
            url: "https://www.facebook.com/sharer/sharer.php?u={{url}}"
          },
          {
            id: "twitter",
            label: "Tweet",
            url: "https://twitter.com/intent/tweet?text={{text}}&url={{url}}"
          },
          {
            id: "pinterest",
            label: "Pin it",
            url:
              "http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"
          },
          {
            id: "download",
            label: "Download image",
            url: "{{raw_image_url}}",
            download: !0
          }
        ],
        getImageURLForShare: function() {
          return e.currItem.src || "";
        },
        getPageURLForShare: function() {
          return window.location.href;
        },
        getTextForShare: function() {
          return e.currItem.title || "";
        },
        indexIndicatorSep: " / ",
        fitControlsWidth: 1200
      },
      x = function(e) {
        if (g) return !0;
        (e = e || window.event), w.timeToIdle && w.mouseUsed && !c && D();
        for (
          var n,
            o,
            l = (e.target || e.srcElement).getAttribute("class") || "",
            r = 0;
          r < N.length;
          r++
        )
          (n = N[r]).onTap &&
            l.indexOf("pswp__" + n.name) > -1 &&
            (n.onTap(), (o = !0));
        if (o) {
          e.stopPropagation && e.stopPropagation(), (g = !0);
          var i = t.features.isOldAndroid ? 600 : 30;
          v = setTimeout(function() {
            g = !1;
          }, i);
        }
      },
      S = function() {
        return (
          !e.likelyTouchDevice ||
          w.mouseUsed ||
          screen.width > w.fitControlsWidth
        );
      },
      k = function(e, n, o) {
        t[(o ? "add" : "remove") + "Class"](e, "pswp__" + n);
      },
      K = function() {
        var e = 1 === w.getNumItemsFn();
        e !== h && (k(o, "ui--one-slide", e), (h = e));
      },
      L = function() {
        k(a, "share-modal--hidden", E);
      },
      O = function() {
        return (
          (E = !E)
            ? (t.removeClass(a, "pswp__share-modal--fade-in"),
              setTimeout(function() {
                E && L();
              }, 300))
            : (L(),
              setTimeout(function() {
                E || t.addClass(a, "pswp__share-modal--fade-in");
              }, 30)),
          E || y(),
          !1
        );
      },
      R = function(t) {
        var n = (t = t || window.event).target || t.srcElement;
        return (
          e.shout("shareLinkClick", t, n),
          !(
            !n.href ||
            (!n.hasAttribute("download") &&
              (window.open(
                n.href,
                "pswp_share",
                "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=" +
                  (window.screen ? Math.round(screen.width / 2 - 275) : 100)
              ),
              E || O(),
              1))
          )
        );
      },
      y = function() {
        for (var e, t, n, o, l = "", r = 0; r < w.shareButtons.length; r++)
          (e = w.shareButtons[r]),
            (t = w.getImageURLForShare(e)),
            (n = w.getPageURLForShare(e)),
            (o = w.getTextForShare(e)),
            (l +=
              '<a href="' +
              e.url
                .replace("{{url}}", encodeURIComponent(n))
                .replace("{{image_url}}", encodeURIComponent(t))
                .replace("{{raw_image_url}}", t)
                .replace("{{text}}", encodeURIComponent(o)) +
              '" target="_blank" class="pswp__share--' +
              e.id +
              '"' +
              (e.download ? "download" : "") +
              ">" +
              e.label +
              "</a>"),
            w.parseShareButtonOut && (l = w.parseShareButtonOut(e, l));
        (a.children[0].innerHTML = l), (a.children[0].onclick = R);
      },
      z = function(e) {
        for (var n = 0; n < w.closeElClasses.length; n++)
          if (t.hasClass(e, "pswp__" + w.closeElClasses[n])) return !0;
      },
      M = 0,
      D = function() {
        clearTimeout(_), (M = 0), c && C.setIdle(!1);
      },
      A = function(e) {
        var t = (e = e || window.event).relatedTarget || e.toElement;
        (t && "HTML" !== t.nodeName) ||
          (clearTimeout(_),
          (_ = setTimeout(function() {
            C.setIdle(!0);
          }, w.timeToIdleOutside)));
      },
      P = function() {
        w.fullscreenEl &&
          !t.features.isOldAndroid &&
          (n || (n = C.getFullscreenAPI()),
          n
            ? (t.bind(document, n.eventK, C.updateFullscreen),
              C.updateFullscreen(),
              t.addClass(e.template, "pswp--supports-fs"))
            : t.removeClass(e.template, "pswp--supports-fs"));
      },
      U = function() {
        w.preloaderEl &&
          (Z(!0),
          p("beforeChange", function() {
            clearTimeout(f),
              (f = setTimeout(function() {
                e.currItem && e.currItem.loading
                  ? (!e.allowProgressiveImg() ||
                      (e.currItem.img && !e.currItem.img.naturalWidth)) &&
                    Z(!1)
                  : Z(!0);
              }, w.loadingIndicatorDelay));
          }),
          p("imageLoadComplete", function(t, n) {
            e.currItem === n && Z(!0);
          }));
      },
      Z = function(e) {
        m !== e && (k(d, "preloader--active", !e), (m = e));
      },
      q = function(e) {
        var n = e.vGap;
        if (S()) {
          var i = w.barsSize;
          if (w.captionEl && "auto" === i.bottom)
            if (
              (r ||
                ((r = t.createEl(
                  "pswp__caption pswp__caption--fake"
                )).appendChild(t.createEl("pswp__caption__center")),
                o.insertBefore(r, l),
                t.addClass(o, "pswp__ui--fit")),
              w.addCaptionHTMLFn(e, r, !0))
            ) {
              var s = r.clientHeight;
              n.bottom = parseInt(s, 10) || 44;
            } else n.bottom = i.top;
          else n.bottom = "auto" === i.bottom ? 0 : i.bottom;
          n.top = i.top;
        } else n.top = n.bottom = 0;
      },
      B = function() {
        w.timeToIdle &&
          p("mouseUsed", function() {
            t.bind(document, "mousemove", D),
              t.bind(document, "mouseout", A),
              (b = setInterval(function() {
                2 == ++M && C.setIdle(!0);
              }, w.timeToIdle / 2));
          });
      },
      H = function() {
        p("onVerticalDrag", function(e) {
          I && e < 0.95
            ? C.hideControls()
            : !I && e >= 0.95 && C.showControls();
        });
        var e;
        p("onPinchClose", function(t) {
          I && t < 0.9
            ? (C.hideControls(), (e = !0))
            : e && !I && t > 0.9 && C.showControls();
        }),
          p("zoomGestureEnded", function() {
            (e = !1) && !I && C.showControls();
          });
      },
      N = [
        {
          name: "caption",
          option: "captionEl",
          onInit: function(e) {
            l = e;
          }
        },
        {
          name: "share-modal",
          option: "shareEl",
          onInit: function(e) {
            a = e;
          },
          onTap: function() {
            O();
          }
        },
        {
          name: "button--share",
          option: "shareEl",
          onInit: function(e) {
            s = e;
          },
          onTap: function() {
            O();
          }
        },
        { name: "button--zoom", option: "zoomEl", onTap: e.toggleDesktopZoom },
        {
          name: "counter",
          option: "counterEl",
          onInit: function(e) {
            i = e;
          }
        },
        { name: "button--close", option: "closeEl", onTap: e.close },
        { name: "button--arrow--left", option: "arrowEl", onTap: e.prev },
        { name: "button--arrow--right", option: "arrowEl", onTap: e.next },
        {
          name: "button--fs",
          option: "fullscreenEl",
          onTap: function() {
            n.isFullscreen() ? n.exit() : n.enter();
          }
        },
        {
          name: "preloader",
          option: "preloaderEl",
          onInit: function(e) {
            d = e;
          }
        }
      ],
      W = function() {
        var e,
          n,
          l,
          r = function(o) {
            if (o)
              for (var r = o.length, i = 0; i < r; i++) {
                (e = o[i]), (n = e.className);
                for (var s = 0; s < N.length; s++)
                  (l = N[s]),
                    n.indexOf("pswp__" + l.name) > -1 &&
                      (w[l.option]
                        ? (t.removeClass(e, "pswp__element--disabled"),
                          l.onInit && l.onInit(e))
                        : t.addClass(e, "pswp__element--disabled"));
              }
          };
        r(o.children);
        var i = t.getChildByClass(o, "pswp__top-bar");
        i && r(i.children);
      };
    (C.init = function() {
      t.extend(e.options, F, !0),
        (w = e.options),
        (o = t.getChildByClass(e.scrollWrap, "pswp__ui")),
        (p = e.listen),
        H(),
        p("beforeChange", C.update),
        p("doubleTap", function(t) {
          var n = e.currItem.initialZoomLevel;
          e.getZoomLevel() !== n
            ? e.zoomTo(n, t, 333)
            : e.zoomTo(w.getDoubleTapZoom(!1, e.currItem), t, 333);
        }),
        p("preventDragEvent", function(e, t, n) {
          var o = e.target || e.srcElement;
          o &&
            o.getAttribute("class") &&
            e.type.indexOf("mouse") > -1 &&
            (o.getAttribute("class").indexOf("__caption") > 0 ||
              /(SMALL|STRONG|EM)/i.test(o.tagName)) &&
            (n.prevent = !1);
        }),
        p("bindEvents", function() {
          t.bind(o, "pswpTap click", x),
            t.bind(e.scrollWrap, "pswpTap", C.onGlobalTap),
            e.likelyTouchDevice ||
              t.bind(e.scrollWrap, "mouseover", C.onMouseOver);
        }),
        p("unbindEvents", function() {
          E || O(),
            b && clearInterval(b),
            t.unbind(document, "mouseout", A),
            t.unbind(document, "mousemove", D),
            t.unbind(o, "pswpTap click", x),
            t.unbind(e.scrollWrap, "pswpTap", C.onGlobalTap),
            t.unbind(e.scrollWrap, "mouseover", C.onMouseOver),
            n &&
              (t.unbind(document, n.eventK, C.updateFullscreen),
              n.isFullscreen() && ((w.hideAnimationDuration = 0), n.exit()),
              (n = null));
        }),
        p("destroy", function() {
          w.captionEl &&
            (r && o.removeChild(r), t.removeClass(l, "pswp__caption--empty")),
            a && (a.children[0].onclick = null),
            t.removeClass(o, "pswp__ui--over-close"),
            t.addClass(o, "pswp__ui--hidden"),
            C.setIdle(!1);
        }),
        w.showAnimationDuration || t.removeClass(o, "pswp__ui--hidden"),
        p("initialZoomIn", function() {
          w.showAnimationDuration && t.removeClass(o, "pswp__ui--hidden");
        }),
        p("initialZoomOut", function() {
          t.addClass(o, "pswp__ui--hidden");
        }),
        p("parseVerticalMargin", q),
        W(),
        w.shareEl && s && a && (E = !0),
        K(),
        B(),
        P(),
        U();
    }),
      (C.setIdle = function(e) {
        (c = e), k(o, "ui--idle", e);
      }),
      (C.update = function() {
        I && e.currItem
          ? (C.updateIndexIndicator(),
            w.captionEl &&
              (w.addCaptionHTMLFn(e.currItem, l),
              k(l, "caption--empty", !e.currItem.title)),
            (T = !0))
          : (T = !1),
          E || O(),
          K();
      }),
      (C.updateFullscreen = function(o) {
        o &&
          setTimeout(function() {
            e.setScrollOffset(0, t.getScrollY());
          }, 50),
          t[(n.isFullscreen() ? "add" : "remove") + "Class"](
            e.template,
            "pswp--fs"
          );
      }),
      (C.updateIndexIndicator = function() {
        w.counterEl &&
          (i.innerHTML =
            e.getCurrentIndex() + 1 + w.indexIndicatorSep + w.getNumItemsFn());
      }),
      (C.onGlobalTap = function(n) {
        var o = (n = n || window.event).target || n.srcElement;
        if (!g)
          if (n.detail && "mouse" === n.detail.pointerType) {
            if (z(o)) return void e.close();
            t.hasClass(o, "pswp__img") &&
              (1 === e.getZoomLevel() && e.getZoomLevel() <= e.currItem.fitRatio
                ? w.clickToCloseNonZoomable && e.close()
                : e.toggleDesktopZoom(n.detail.releasePoint));
          } else if (
            (w.tapToToggleControls && (I ? C.hideControls() : C.showControls()),
            w.tapToClose && (t.hasClass(o, "pswp__img") || z(o)))
          )
            return void e.close();
      }),
      (C.onMouseOver = function(e) {
        var t = (e = e || window.event).target || e.srcElement;
        k(o, "ui--over-close", z(t));
      }),
      (C.hideControls = function() {
        t.addClass(o, "pswp__ui--hidden"), (I = !1);
      }),
      (C.showControls = function() {
        (I = !0), T || C.update(), t.removeClass(o, "pswp__ui--hidden");
      }),
      (C.supportsFullscreen = function() {
        var e = document;
        return !!(
          e.exitFullscreen ||
          e.mozCancelFullScreen ||
          e.webkitExitFullscreen ||
          e.msExitFullscreen
        );
      }),
      (C.getFullscreenAPI = function() {
        var t,
          n = document.documentElement,
          o = "fullscreenchange";
        return (
          n.requestFullscreen
            ? (t = {
                enterK: "requestFullscreen",
                exitK: "exitFullscreen",
                elementK: "fullscreenElement",
                eventK: o
              })
            : n.mozRequestFullScreen
              ? (t = {
                  enterK: "mozRequestFullScreen",
                  exitK: "mozCancelFullScreen",
                  elementK: "mozFullScreenElement",
                  eventK: "moz" + o
                })
              : n.webkitRequestFullscreen
                ? (t = {
                    enterK: "webkitRequestFullscreen",
                    exitK: "webkitExitFullscreen",
                    elementK: "webkitFullscreenElement",
                    eventK: "webkit" + o
                  })
                : n.msRequestFullscreen &&
                  (t = {
                    enterK: "msRequestFullscreen",
                    exitK: "msExitFullscreen",
                    elementK: "msFullscreenElement",
                    eventK: "MSFullscreenChange"
                  }),
          t &&
            ((t.enter = function() {
              if (
                ((u = w.closeOnScroll),
                (w.closeOnScroll = !1),
                "webkitRequestFullscreen" !== this.enterK)
              )
                return e.template[this.enterK]();
              e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);
            }),
            (t.exit = function() {
              return (w.closeOnScroll = u), document[this.exitK]();
            }),
            (t.isFullscreen = function() {
              return document[this.elementK];
            })),
          t
        );
      });
  };
});
jQuery(function(r) {
  if ("undefined" == typeof wc_single_product_params) return !1;
  r("body")
    .on("init", ".wc-tabs-wrapper, .woocommerce-tabs", function() {
      r(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();
      var e = window.location.hash,
        t = window.location.href,
        i = r(this)
          .find(".wc-tabs, ul.tabs")
          .first();
      0 <= e.toLowerCase().indexOf("comment-") ||
      "#reviews" === e ||
      "#tab-reviews" === e
        ? i.find("li.reviews_tab a").click()
        : 0 < t.indexOf("comment-page-") || 0 < t.indexOf("cpage=")
          ? i.find("li.reviews_tab a").click()
          : "#tab-additional_information" === e
            ? i.find("li.additional_information_tab a").click()
            : i.find("li:first a").click();
    })
    .on("click", ".wc-tabs li a, ul.tabs li a", function(e) {
      e.preventDefault();
      var t = r(this),
        i = t.closest(".wc-tabs-wrapper, .woocommerce-tabs");
      i
        .find(".wc-tabs, ul.tabs")
        .find("li")
        .removeClass("active"),
        i.find(".wc-tab, .panel:not(.panel .panel)").hide(),
        t.closest("li").addClass("active"),
        i.find(t.attr("href")).show();
    })
    .on("click", "a.woocommerce-review-link", function() {
      return r(".reviews_tab a").click(), !0;
    })
    .on("init", "#rating", function() {
      r("#rating")
        .hide()
        .before(
          '<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>'
        );
    })
    .on("click", "#respond p.stars a", function() {
      var e = r(this),
        t = r(this)
          .closest("#respond")
          .find("#rating"),
        i = r(this).closest(".stars");
      return (
        t.val(e.text()),
        e.siblings("a").removeClass("active"),
        e.addClass("active"),
        i.addClass("selected"),
        !1
      );
    })
    .on("click", "#respond #submit", function() {
      var e = r(this)
          .closest("#respond")
          .find("#rating"),
        t = e.val();
      if (
        0 < e.length &&
        !t &&
        "yes" === wc_single_product_params.review_rating_required
      )
        return (
          window.alert(wc_single_product_params.i18n_required_rating_text), !1
        );
    }),
    r(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init");
  var t = function(e, t) {
    (this.$target = e),
      (this.$images = r(".woocommerce-product-gallery__image", e)),
      0 !== this.$images.length
        ? (e.data("product_gallery", this),
          (this.flexslider_enabled =
            r.isFunction(r.fn.flexslider) &&
            wc_single_product_params.flexslider_enabled),
          (this.zoom_enabled =
            r.isFunction(r.fn.zoom) && wc_single_product_params.zoom_enabled),
          (this.photoswipe_enabled =
            "undefined" != typeof PhotoSwipe &&
            wc_single_product_params.photoswipe_enabled),
          t &&
            ((this.flexslider_enabled =
              !1 !== t.flexslider_enabled && this.flexslider_enabled),
            (this.zoom_enabled = !1 !== t.zoom_enabled && this.zoom_enabled),
            (this.photoswipe_enabled =
              !1 !== t.photoswipe_enabled && this.photoswipe_enabled)),
          1 === this.$images.length && (this.flexslider_enabled = !1),
          (this.initFlexslider = this.initFlexslider.bind(this)),
          (this.initZoom = this.initZoom.bind(this)),
          (this.initZoomForTarget = this.initZoomForTarget.bind(this)),
          (this.initPhotoswipe = this.initPhotoswipe.bind(this)),
          (this.onResetSlidePosition = this.onResetSlidePosition.bind(this)),
          (this.getGalleryItems = this.getGalleryItems.bind(this)),
          (this.openPhotoswipe = this.openPhotoswipe.bind(this)),
          this.flexslider_enabled
            ? (this.initFlexslider(),
              e.on(
                "woocommerce_gallery_reset_slide_position",
                this.onResetSlidePosition
              ))
            : this.$target.css("opacity", 1),
          this.zoom_enabled &&
            (this.initZoom(),
            e.on("woocommerce_gallery_init_zoom", this.initZoom)),
          this.photoswipe_enabled && this.initPhotoswipe())
        : this.$target.css("opacity", 1);
  };
  (t.prototype.initFlexslider = function() {
    var e = this.$target,
      t = this,
      i = r.extend(
        {
          selector:
            ".woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image",
          start: function() {
            e.css("opacity", 1);
          },
          after: function(e) {
            t.initZoomForTarget(t.$images.eq(e.currentSlide));
          }
        },
        wc_single_product_params.flexslider
      );
    e.flexslider(i),
      r(
        ".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:eq(0) .wp-post-image"
      )
        .one("load", function() {
          var i = r(this);
          i &&
            setTimeout(function() {
              var e = i.closest(".woocommerce-product-gallery__image").height(),
                t = i.closest(".flex-viewport");
              e && t && t.height(e);
            }, 100);
        })
        .each(function() {
          this.complete && r(this).trigger("load");
        });
  }),
    (t.prototype.initZoom = function() {
      this.initZoomForTarget(this.$images.first());
    }),
    (t.prototype.initZoomForTarget = function(e) {
      if (!this.zoom_enabled) return !1;
      var i = this.$target.width(),
        o = !1;
      if (
        (r(e).each(function(e, t) {
          if (
            r(t)
              .find("img")
              .data("large_image_width") > i
          )
            return !(o = !0);
        }),
        o)
      ) {
        var t = r.extend({ touch: !1 }, wc_single_product_params.zoom_options);
        "ontouchstart" in document.documentElement && (t.on = "click"),
          e.trigger("zoom.destroy"),
          e.zoom(t);
      }
    }),
    (t.prototype.initPhotoswipe = function() {
      this.zoom_enabled && 0 < this.$images.length
        ? (this.$target.prepend(
            '<a href="#" class="woocommerce-product-gallery__trigger">🔍</a>'
          ),
          this.$target.on(
            "click",
            ".woocommerce-product-gallery__trigger",
            this.openPhotoswipe
          ),
          this.$target.on(
            "click",
            ".woocommerce-product-gallery__image a",
            function(e) {
              e.preventDefault();
            }
          ),
          this.flexslider_enabled ||
            this.$target.on(
              "click",
              ".woocommerce-product-gallery__image a",
              this.openPhotoswipe
            ))
        : this.$target.on(
            "click",
            ".woocommerce-product-gallery__image a",
            this.openPhotoswipe
          );
    }),
    (t.prototype.onResetSlidePosition = function() {
      this.$target.flexslider(0);
    }),
    (t.prototype.getGalleryItems = function() {
      var e = this.$images,
        a = [];
      return (
        0 < e.length &&
          e.each(function(e, t) {
            var i = r(t).find("img");
            if (i.length) {
              var o = {
                src: i.attr("data-large_image"),
                w: i.attr("data-large_image_width"),
                h: i.attr("data-large_image_height"),
                title: i.attr("data-caption")
                  ? i.attr("data-caption")
                  : i.attr("title")
              };
              a.push(o);
            }
          }),
        a
      );
    }),
    (t.prototype.openPhotoswipe = function(e) {
      e.preventDefault();
      var t,
        i = r(".pswp")[0],
        o = this.getGalleryItems(),
        a = r(e.target);
      t =
        a.is(".woocommerce-product-gallery__trigger") ||
        a.is(".woocommerce-product-gallery__trigger img")
          ? this.$target.find(".flex-active-slide")
          : a.closest(".woocommerce-product-gallery__image");
      var s = r.extend(
        { index: r(t).index() },
        wc_single_product_params.photoswipe_options
      );
      new PhotoSwipe(i, PhotoSwipeUI_Default, o, s).init();
    }),
    (r.fn.wc_product_gallery = function(e) {
      return new t(this, e), this;
    }),
    r(".woocommerce-product-gallery").each(function() {
      r(this).wc_product_gallery();
    });
});
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!(function(e) {
  var n = !1;
  if (
    ("function" == typeof define && define.amd && (define(e), (n = !0)),
    "object" == typeof exports && ((module.exports = e()), (n = !0)),
    !n)
  ) {
    var o = window.Cookies,
      t = (window.Cookies = e());
    t.noConflict = function() {
      return (window.Cookies = o), t;
    };
  }
})(function() {
  function e() {
    for (var e = 0, n = {}; e < arguments.length; e++) {
      var o = arguments[e];
      for (var t in o) n[t] = o[t];
    }
    return n;
  }
  function n(o) {
    function t(n, r, i) {
      var c;
      if ("undefined" != typeof document) {
        if (arguments.length > 1) {
          if (
            "number" == typeof (i = e({ path: "/" }, t.defaults, i)).expires
          ) {
            var a = new Date();
            a.setMilliseconds(a.getMilliseconds() + 864e5 * i.expires),
              (i.expires = a);
          }
          i.expires = i.expires ? i.expires.toUTCString() : "";
          try {
            (c = JSON.stringify(r)), /^[\{\[]/.test(c) && (r = c);
          } catch (m) {}
          (r = o.write
            ? o.write(r, n)
            : encodeURIComponent(String(r)).replace(
                /%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,
                decodeURIComponent
              )),
            (n = (n = (n = encodeURIComponent(String(n))).replace(
              /%(23|24|26|2B|5E|60|7C)/g,
              decodeURIComponent
            )).replace(/[\(\)]/g, escape));
          var f = "";
          for (var s in i)
            i[s] && ((f += "; " + s), !0 !== i[s] && (f += "=" + i[s]));
          return (document.cookie = n + "=" + r + f);
        }
        n || (c = {});
        for (
          var p = document.cookie ? document.cookie.split("; ") : [],
            d = /(%[0-9A-Z]{2})+/g,
            u = 0;
          u < p.length;
          u++
        ) {
          var l = p[u].split("="),
            C = l.slice(1).join("=");
          '"' === C.charAt(0) && (C = C.slice(1, -1));
          try {
            var g = l[0].replace(d, decodeURIComponent);
            if (
              ((C = o.read
                ? o.read(C, g)
                : o(C, g) || C.replace(d, decodeURIComponent)),
              this.json)
            )
              try {
                C = JSON.parse(C);
              } catch (m) {}
            if (n === g) {
              c = C;
              break;
            }
            n || (c[g] = C);
          } catch (m) {}
        }
        return c;
      }
    }
    return (
      (t.set = t),
      (t.get = function(e) {
        return t.call(t, e);
      }),
      (t.getJSON = function() {
        return t.apply({ json: !0 }, [].slice.call(arguments));
      }),
      (t.defaults = {}),
      (t.remove = function(n, o) {
        t(n, "", e(o, { expires: -1 }));
      }),
      (t.withConverter = n),
      t
    );
  }
  return n(function() {});
});
jQuery(function(i) {
  i(".woocommerce-ordering").on("change", "select.orderby", function() {
    i(this)
      .closest("form")
      .submit();
  }),
    i("input.qty:not(.product-quantity input.qty)").each(function() {
      var o = parseFloat(i(this).attr("min"));
      0 <= o && parseFloat(i(this).val()) < o && i(this).val(o);
    }),
    i(".woocommerce-store-notice__dismiss-link").click(function() {
      Cookies.set("store_notice", "hidden", { path: "/" }),
        i(".woocommerce-store-notice").hide();
    }),
    "hidden" === Cookies.get("store_notice")
      ? i(".woocommerce-store-notice").hide()
      : i(".woocommerce-store-notice").show(),
    i(document.body).on("click", function() {
      i(".woocommerce-input-wrapper span.description:visible")
        .prop("aria-hidden", !0)
        .slideUp(250);
    }),
    i(".woocommerce-input-wrapper").on("click", function(o) {
      o.stopPropagation();
    }),
    i(".woocommerce-input-wrapper :input")
      .on("keydown", function(o) {
        var e = i(this)
          .parent()
          .find("span.description");
        if (27 === o.which && e.length && e.is(":visible"))
          return e.prop("aria-hidden", !0).slideUp(250), o.preventDefault(), !1;
      })
      .on("click focus", function() {
        var o = i(this).parent(),
          e = o.find("span.description");
        o.addClass("currentTarget"),
          i(
            ".woocommerce-input-wrapper:not(.currentTarget) span.description:visible"
          )
            .prop("aria-hidden", !0)
            .slideUp(250),
          e.length &&
            e.is(":hidden") &&
            e.prop("aria-hidden", !1).slideDown(250),
          o.removeClass("currentTarget");
      }),
    (i.scroll_to_notices = function(o) {
      o.length &&
        i("html, body").animate({ scrollTop: o.offset().top - 100 }, 1e3);
    });
});
jQuery(function(n) {
  if ("undefined" == typeof wc_cart_fragments_params) return !1;
  var t = !0,
    o = wc_cart_fragments_params.cart_hash_key;
  try {
    (t = "sessionStorage" in window && null !== window.sessionStorage),
      window.sessionStorage.setItem("wc", "test"),
      window.sessionStorage.removeItem("wc"),
      window.localStorage.setItem("wc", "test"),
      window.localStorage.removeItem("wc");
  } catch (w) {
    t = !1;
  }
  function a() {
    t && sessionStorage.setItem("wc_cart_created", new Date().getTime());
  }
  function s(e) {
    t && (localStorage.setItem(o, e), sessionStorage.setItem(o, e));
  }
  var e = {
    url: wc_cart_fragments_params.wc_ajax_url
      .toString()
      .replace("%%endpoint%%", "get_refreshed_fragments"),
    type: "POST",
    success: function(e) {
      e &&
        e.fragments &&
        (n.each(e.fragments, function(e, t) {
          n(e).replaceWith(t);
        }),
        t &&
          (sessionStorage.setItem(
            wc_cart_fragments_params.fragment_name,
            JSON.stringify(e.fragments)
          ),
          s(e.cart_hash),
          e.cart_hash && a()),
        n(document.body).trigger("wc_fragments_refreshed"));
    }
  };
  function r() {
    n.ajax(e);
  }
  if (t) {
    var i = null;
    n(document.body).on("wc_fragment_refresh updated_wc_div", function() {
      r();
    }),
      n(document.body).on("added_to_cart removed_from_cart", function(e, t, n) {
        var r = sessionStorage.getItem(o);
        (null !== r && r !== undefined && "" !== r) || a(),
          sessionStorage.setItem(
            wc_cart_fragments_params.fragment_name,
            JSON.stringify(t)
          ),
          s(n);
      }),
      n(document.body).on("wc_fragments_refreshed", function() {
        clearTimeout(i), (i = setTimeout(r, 864e5));
      }),
      n(window).on("storage onstorage", function(e) {
        o === e.originalEvent.key &&
          localStorage.getItem(o) !== sessionStorage.getItem(o) &&
          r();
      }),
      n(window).on("pageshow", function(e) {
        e.originalEvent.persisted &&
          (n(".widget_shopping_cart_content").empty(),
          n(document.body).trigger("wc_fragment_refresh"));
      });
    try {
      var c = n.parseJSON(
          sessionStorage.getItem(wc_cart_fragments_params.fragment_name)
        ),
        _ = sessionStorage.getItem(o),
        g = Cookies.get("woocommerce_cart_hash"),
        m = sessionStorage.getItem("wc_cart_created");
      if (
        ((null !== _ && _ !== undefined && "" !== _) || (_ = ""),
        (null !== g && g !== undefined && "" !== g) || (g = ""),
        _ && (null === m || m === undefined || "" === m))
      )
        throw "No cart_created";
      if (m) {
        var d = 1 * m + 864e5,
          f = new Date().getTime();
        if (d < f) throw "Fragment expired";
        i = setTimeout(r, d - f);
      }
      if (!c || !c["div.widget_shopping_cart_content"] || _ !== g)
        throw "No fragment";
      n.each(c, function(e, t) {
        n(e).replaceWith(t);
      }),
        n(document.body).trigger("wc_fragments_loaded");
    } catch (w) {
      r();
    }
  } else r();
  0 < Cookies.get("woocommerce_items_in_cart")
    ? n(".hide_cart_widget_if_empty")
        .closest(".widget_shopping_cart")
        .show()
    : n(".hide_cart_widget_if_empty")
        .closest(".widget_shopping_cart")
        .hide(),
    n(document.body).on("adding_to_cart", function() {
      n(".hide_cart_widget_if_empty")
        .closest(".widget_shopping_cart")
        .show();
    });
});
!(function(a) {
  "use strict";
  "function" == typeof define && define.amd
    ? define(["jquery"], a)
    : a(
        "object" == typeof exports && "function" == typeof require
          ? require("jquery")
          : jQuery
      );
})(function(a) {
  "use strict";
  function b(c, d) {
    var e = function() {},
      f = this,
      g = {
        ajaxSettings: {},
        autoSelectFirst: !1,
        appendTo: document.body,
        serviceUrl: null,
        lookup: null,
        onSelect: null,
        width: "auto",
        minChars: 1,
        maxHeight: 300,
        deferRequestBy: 0,
        params: {},
        formatResult: b.formatResult,
        delimiter: null,
        zIndex: 9999,
        type: "GET",
        noCache: !1,
        onSearchStart: e,
        onSearchComplete: e,
        onSearchError: e,
        preserveInput: !1,
        containerClass: "autocomplete-suggestions",
        tabDisabled: !1,
        dataType: "text",
        currentRequest: null,
        triggerSelectOnValidInput: !0,
        preventBadQueries: !0,
        lookupFilter: function(a, b, c) {
          return -1 !== a.value.toLowerCase().indexOf(c);
        },
        paramName: "query",
        transformResult: function(b) {
          return "string" == typeof b ? a.parseJSON(b) : b;
        },
        showNoSuggestionNotice: !1,
        noSuggestionNotice: "No results",
        orientation: "bottom",
        forceFixPosition: !1
      };
    (f.element = c),
      (f.el = a(c)),
      (f.suggestions = []),
      (f.badQueries = []),
      (f.selectedIndex = -1),
      (f.currentValue = f.element.value),
      (f.intervalId = 0),
      (f.cachedResponse = {}),
      (f.onChangeInterval = null),
      (f.onChange = null),
      (f.isLocal = !1),
      (f.suggestionsContainer = null),
      (f.noSuggestionsContainer = null),
      (f.options = a.extend({}, g, d)),
      (f.classes = {
        selected: "autocomplete-selected",
        suggestion: "autocomplete-suggestion"
      }),
      (f.hint = null),
      (f.hintValue = ""),
      (f.selection = null),
      f.initialize(),
      f.setOptions(d);
  }
  var c = (function() {
      return {
        escapeRegExChars: function(a) {
          return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        },
        createNode: function(a) {
          var b = document.createElement("div");
          return (
            (b.className = a),
            (b.style.position = "absolute"),
            (b.style.display = "none"),
            b
          );
        }
      };
    })(),
    d = { ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 };
  (b.utils = c),
    (a.Autocomplete = b),
    (b.formatResult = function(a, b) {
      var d = "(" + c.escapeRegExChars(b) + ")";
      return a.value
        .replace(new RegExp(d, "gi"), "<strong>$1</strong>")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/&lt;(\/?strong)&gt;/g, "<$1>");
    }),
    (b.prototype = {
      killerFn: null,
      initialize: function() {
        var c,
          d = this,
          e = "." + d.classes.suggestion,
          f = d.classes.selected,
          g = d.options;
        d.element.setAttribute("autocomplete", "off"),
          (d.killerFn = function(b) {
            0 === a(b.target).closest("." + d.options.containerClass).length &&
              (d.killSuggestions(), d.disableKillerFn());
          }),
          (d.noSuggestionsContainer = a(
            '<div class="autocomplete-no-suggestion"></div>'
          )
            .html(this.options.noSuggestionNotice)
            .get(0)),
          (d.suggestionsContainer = b.utils.createNode(g.containerClass)),
          (c = a(d.suggestionsContainer)),
          c.appendTo(g.appendTo),
          "auto" !== g.width && c.width(g.width),
          c.on("mouseover.autocomplete", e, function() {
            d.activate(a(this).data("index"));
          }),
          c.on("mouseout.autocomplete", function() {
            (d.selectedIndex = -1), c.children("." + f).removeClass(f);
          }),
          c.on("click.autocomplete", e, function() {
            d.select(a(this).data("index"));
          }),
          (d.fixPositionCapture = function() {
            d.visible && d.fixPosition();
          }),
          a(window).on("resize.autocomplete", d.fixPositionCapture),
          d.el.on("keydown.autocomplete", function(a) {
            d.onKeyPress(a);
          }),
          d.el.on("keyup.autocomplete", function(a) {
            d.onKeyUp(a);
          }),
          d.el.on("blur.autocomplete", function() {
            d.onBlur();
          }),
          d.el.on("focus.autocomplete", function() {
            d.onFocus();
          }),
          d.el.on("change.autocomplete", function(a) {
            d.onKeyUp(a);
          }),
          d.el.on("input.autocomplete", function(a) {
            d.onKeyUp(a);
          });
      },
      onFocus: function() {
        var a = this;
        a.fixPosition(),
          0 === a.options.minChars &&
            0 === a.el.val().length &&
            a.onValueChange();
      },
      onBlur: function() {
        this.enableKillerFn();
      },
      abortAjax: function() {
        var a = this;
        a.currentRequest &&
          (a.currentRequest.abort(), (a.currentRequest = null));
      },
      setOptions: function(b) {
        var c = this,
          d = c.options;
        a.extend(d, b),
          (c.isLocal = a.isArray(d.lookup)),
          c.isLocal && (d.lookup = c.verifySuggestionsFormat(d.lookup)),
          (d.orientation = c.validateOrientation(d.orientation, "bottom")),
          a(c.suggestionsContainer).css({
            "max-height": d.maxHeight + "px",
            width: d.width + "px",
            "z-index": d.zIndex
          });
      },
      clearCache: function() {
        (this.cachedResponse = {}), (this.badQueries = []);
      },
      clear: function() {
        this.clearCache(), (this.currentValue = ""), (this.suggestions = []);
      },
      disable: function() {
        var a = this;
        (a.disabled = !0), clearInterval(a.onChangeInterval), a.abortAjax();
      },
      enable: function() {
        this.disabled = !1;
      },
      fixPosition: function() {
        var b = this,
          c = a(b.suggestionsContainer),
          d = c.parent().get(0);
        if (d === document.body || b.options.forceFixPosition) {
          var e = b.options.orientation,
            f = c.outerHeight(),
            g = b.el.outerHeight(),
            h = b.el.offset(),
            i = { top: h.top, left: h.left };
          if ("auto" === e) {
            var j = a(window).height(),
              k = a(window).scrollTop(),
              l = -k + h.top - f,
              m = k + j - (h.top + g + f);
            e = Math.max(l, m) === l ? "top" : "bottom";
          }
          if (
            ("top" === e ? (i.top += -f) : (i.top += g), d !== document.body)
          ) {
            var n,
              o = c.css("opacity");
            b.visible || c.css("opacity", 0).show(),
              (n = c.offsetParent().offset()),
              (i.top -= n.top),
              (i.left -= n.left),
              b.visible || c.css("opacity", o).hide();
          }
          "auto" === b.options.width &&
            (i.width = b.el.outerWidth() - 2 + "px"),
            c.css(i);
        }
      },
      enableKillerFn: function() {
        var b = this;
        a(document).on("click.autocomplete", b.killerFn);
      },
      disableKillerFn: function() {
        var b = this;
        a(document).off("click.autocomplete", b.killerFn);
      },
      killSuggestions: function() {
        var a = this;
        a.stopKillSuggestions(),
          (a.intervalId = window.setInterval(function() {
            a.visible && (a.el.val(a.currentValue), a.hide()),
              a.stopKillSuggestions();
          }, 50));
      },
      stopKillSuggestions: function() {
        window.clearInterval(this.intervalId);
      },
      isCursorAtEnd: function() {
        var a,
          b = this,
          c = b.el.val().length,
          d = b.element.selectionStart;
        return "number" == typeof d
          ? d === c
          : document.selection
            ? ((a = document.selection.createRange()),
              a.moveStart("character", -c),
              c === a.text.length)
            : !0;
      },
      onKeyPress: function(a) {
        var b = this;
        if (!b.disabled && !b.visible && a.which === d.DOWN && b.currentValue)
          return void b.suggest();
        if (!b.disabled && b.visible) {
          switch (a.which) {
            case d.ESC:
              b.el.val(b.currentValue), b.hide();
              break;
            case d.RIGHT:
              if (b.hint && b.options.onHint && b.isCursorAtEnd()) {
                b.selectHint();
                break;
              }
              return;
            case d.TAB:
              if (b.hint && b.options.onHint) return void b.selectHint();
              if (-1 === b.selectedIndex) return void b.hide();
              if ((b.select(b.selectedIndex), b.options.tabDisabled === !1))
                return;
              break;
            case d.RETURN:
              if (-1 === b.selectedIndex) return void b.hide();
              b.select(b.selectedIndex);
              break;
            case d.UP:
              b.moveUp();
              break;
            case d.DOWN:
              b.moveDown();
              break;
            default:
              return;
          }
          a.stopImmediatePropagation(), a.preventDefault();
        }
      },
      onKeyUp: function(a) {
        var b = this;
        if (!b.disabled) {
          switch (a.which) {
            case d.UP:
            case d.DOWN:
              return;
          }
          clearInterval(b.onChangeInterval),
            b.currentValue !== b.el.val() &&
              (b.findBestHint(),
              b.options.deferRequestBy > 0
                ? (b.onChangeInterval = setInterval(function() {
                    b.onValueChange();
                  }, b.options.deferRequestBy))
                : b.onValueChange());
        }
      },
      onValueChange: function() {
        var b = this,
          c = b.options,
          d = b.el.val(),
          e = b.getQuery(d);
        return (
          b.selection &&
            b.currentValue !== e &&
            ((b.selection = null),
            (c.onInvalidateSelection || a.noop).call(b.element)),
          clearInterval(b.onChangeInterval),
          (b.currentValue = d),
          (b.selectedIndex = -1),
          c.triggerSelectOnValidInput && b.isExactMatch(e)
            ? void b.select(0)
            : void (e.length < c.minChars ? b.hide() : b.getSuggestions(e))
        );
      },
      isExactMatch: function(a) {
        var b = this.suggestions;
        return 1 === b.length && b[0].value.toLowerCase() === a.toLowerCase();
      },
      getQuery: function(b) {
        var c,
          d = this.options.delimiter;
        return d ? ((c = b.split(d)), a.trim(c[c.length - 1])) : b;
      },
      getSuggestionsLocal: function(b) {
        var c,
          d = this,
          e = d.options,
          f = b.toLowerCase(),
          g = e.lookupFilter,
          h = parseInt(e.lookupLimit, 10);
        return (
          (c = {
            suggestions: a.grep(e.lookup, function(a) {
              return g(a, b, f);
            })
          }),
          h &&
            c.suggestions.length > h &&
            (c.suggestions = c.suggestions.slice(0, h)),
          c
        );
      },
      getSuggestions: function(b) {
        var c,
          d,
          e,
          f,
          g = this,
          h = g.options,
          i = h.serviceUrl;
        if (
          ((h.params[h.paramName] = b),
          (d = h.ignoreParams ? null : h.params),
          h.onSearchStart.call(g.element, h.params) !== !1)
        ) {
          if (a.isFunction(h.lookup))
            return void h.lookup(b, function(a) {
              (g.suggestions = a.suggestions),
                g.suggest(),
                h.onSearchComplete.call(g.element, b, a.suggestions);
            });
          g.isLocal
            ? (c = g.getSuggestionsLocal(b))
            : (a.isFunction(i) && (i = i.call(g.element, b)),
              (e = i + "?" + a.param(d || {})),
              (c = g.cachedResponse[e])),
            c && a.isArray(c.suggestions)
              ? ((g.suggestions = c.suggestions),
                g.suggest(),
                h.onSearchComplete.call(g.element, b, c.suggestions))
              : g.isBadQuery(b)
                ? h.onSearchComplete.call(g.element, b, [])
                : (g.abortAjax(),
                  (f = { url: i, data: d, type: h.type, dataType: h.dataType }),
                  a.extend(f, h.ajaxSettings),
                  (g.currentRequest = a
                    .ajax(f)
                    .done(function(a) {
                      var c;
                      (g.currentRequest = null),
                        (c = h.transformResult(a, b)),
                        g.processResponse(c, b, e),
                        h.onSearchComplete.call(g.element, b, c.suggestions);
                    })
                    .fail(function(a, c, d) {
                      h.onSearchError.call(g.element, b, a, c, d);
                    })));
        }
      },
      isBadQuery: function(a) {
        if (!this.options.preventBadQueries) return !1;
        for (var b = this.badQueries, c = b.length; c--; )
          if (0 === a.indexOf(b[c])) return !0;
        return !1;
      },
      hide: function() {
        var b = this,
          c = a(b.suggestionsContainer);
        a.isFunction(b.options.onHide) &&
          b.visible &&
          b.options.onHide.call(b.element, c),
          (b.visible = !1),
          (b.selectedIndex = -1),
          clearInterval(b.onChangeInterval),
          a(b.suggestionsContainer).hide(),
          b.signalHint(null);
      },
      suggest: function() {
        if (0 === this.suggestions.length)
          return void (this.options.showNoSuggestionNotice
            ? this.noSuggestions()
            : this.hide());
        var b,
          c = this,
          d = c.options,
          e = d.groupBy,
          f = d.formatResult,
          g = c.getQuery(c.currentValue),
          h = c.classes.suggestion,
          i = c.classes.selected,
          j = a(c.suggestionsContainer),
          k = a(c.noSuggestionsContainer),
          l = d.beforeRender,
          m = "",
          n = function(a, c) {
            var d = a.data[e];
            return b === d
              ? ""
              : ((b = d),
                '<div class="autocomplete-group"><strong>' +
                  b +
                  "</strong></div>");
          };
        return d.triggerSelectOnValidInput && c.isExactMatch(g)
          ? void c.select(0)
          : (a.each(c.suggestions, function(a, b) {
              e && (m += n(b, g, a)),
                (m +=
                  '<div class="' +
                  h +
                  '" data-index="' +
                  a +
                  '">' +
                  f(b, g) +
                  "</div>");
            }),
            this.adjustContainerWidth(),
            k.detach(),
            j.html(m),
            a.isFunction(l) && l.call(c.element, j),
            c.fixPosition(),
            j.show(),
            d.autoSelectFirst &&
              ((c.selectedIndex = 0),
              j.scrollTop(0),
              j
                .children("." + h)
                .first()
                .addClass(i)),
            (c.visible = !0),
            void c.findBestHint());
      },
      noSuggestions: function() {
        var b = this,
          c = a(b.suggestionsContainer),
          d = a(b.noSuggestionsContainer);
        this.adjustContainerWidth(),
          d.detach(),
          c.empty(),
          c.append(d),
          b.fixPosition(),
          c.show(),
          (b.visible = !0);
      },
      adjustContainerWidth: function() {
        var b,
          c = this,
          d = c.options,
          e = a(c.suggestionsContainer);
        "auto" === d.width &&
          ((b = c.el.outerWidth() - 2), e.width(b > 0 ? b : 300));
      },
      findBestHint: function() {
        var b = this,
          c = b.el.val().toLowerCase(),
          d = null;
        c &&
          (a.each(b.suggestions, function(a, b) {
            var e = 0 === b.value.toLowerCase().indexOf(c);
            return e && (d = b), !e;
          }),
          b.signalHint(d));
      },
      signalHint: function(b) {
        var c = "",
          d = this;
        b && (c = d.currentValue + b.value.substr(d.currentValue.length)),
          d.hintValue !== c &&
            ((d.hintValue = c),
            (d.hint = b),
            (this.options.onHint || a.noop)(c));
      },
      verifySuggestionsFormat: function(b) {
        return b.length && "string" == typeof b[0]
          ? a.map(b, function(a) {
              return { value: a, data: null };
            })
          : b;
      },
      validateOrientation: function(b, c) {
        return (
          (b = a.trim(b || "").toLowerCase()),
          -1 === a.inArray(b, ["auto", "bottom", "top"]) && (b = c),
          b
        );
      },
      processResponse: function(a, b, c) {
        var d = this,
          e = d.options;
        (a.suggestions = d.verifySuggestionsFormat(a.suggestions)),
          e.noCache ||
            ((d.cachedResponse[c] = a),
            e.preventBadQueries &&
              0 === a.suggestions.length &&
              d.badQueries.push(b)),
          b === d.getQuery(d.currentValue) &&
            ((d.suggestions = a.suggestions), d.suggest());
      },
      activate: function(b) {
        var c,
          d = this,
          e = d.classes.selected,
          f = a(d.suggestionsContainer),
          g = f.find("." + d.classes.suggestion);
        return (
          f.find("." + e).removeClass(e),
          (d.selectedIndex = b),
          -1 !== d.selectedIndex && g.length > d.selectedIndex
            ? ((c = g.get(d.selectedIndex)), a(c).addClass(e), c)
            : null
        );
      },
      selectHint: function() {
        var b = this,
          c = a.inArray(b.hint, b.suggestions);
        b.select(c);
      },
      select: function(a) {
        var b = this;
        b.hide(), b.onSelect(a);
      },
      moveUp: function() {
        var b = this;
        if (-1 !== b.selectedIndex)
          return 0 === b.selectedIndex
            ? (a(b.suggestionsContainer)
                .children()
                .first()
                .removeClass(b.classes.selected),
              (b.selectedIndex = -1),
              b.el.val(b.currentValue),
              void b.findBestHint())
            : void b.adjustScroll(b.selectedIndex - 1);
      },
      moveDown: function() {
        var a = this;
        a.selectedIndex !== a.suggestions.length - 1 &&
          a.adjustScroll(a.selectedIndex + 1);
      },
      adjustScroll: function(b) {
        var c = this,
          d = c.activate(b);
        if (d) {
          var e,
            f,
            g,
            h = a(d).outerHeight();
          (e = d.offsetTop),
            (f = a(c.suggestionsContainer).scrollTop()),
            (g = f + c.options.maxHeight - h),
            f > e
              ? a(c.suggestionsContainer).scrollTop(e)
              : e > g &&
                a(c.suggestionsContainer).scrollTop(
                  e - c.options.maxHeight + h
                ),
            c.options.preserveInput ||
              c.el.val(c.getValue(c.suggestions[b].value)),
            c.signalHint(null);
        }
      },
      onSelect: function(b) {
        var c = this,
          d = c.options.onSelect,
          e = c.suggestions[b];
        (c.currentValue = c.getValue(e.value)),
          c.currentValue === c.el.val() ||
            c.options.preserveInput ||
            c.el.val(c.currentValue),
          c.signalHint(null),
          (c.suggestions = []),
          (c.selection = e),
          a.isFunction(d) && d.call(c.element, e);
      },
      getValue: function(a) {
        var b,
          c,
          d = this,
          e = d.options.delimiter;
        return e
          ? ((b = d.currentValue),
            (c = b.split(e)),
            1 === c.length
              ? a
              : b.substr(0, b.length - c[c.length - 1].length) + a)
          : a;
      },
      dispose: function() {
        var b = this;
        b.el.off(".autocomplete").removeData("autocomplete"),
          b.disableKillerFn(),
          a(window).off("resize.autocomplete", b.fixPositionCapture),
          a(b.suggestionsContainer).remove();
      }
    }),
    (a.fn.autocomplete = a.fn.devbridgeAutocomplete = function(c, d) {
      var e = "autocomplete";
      return 0 === arguments.length
        ? this.first().data(e)
        : this.each(function() {
            var f = a(this),
              g = f.data(e);
            "string" == typeof c
              ? g && "function" == typeof g[c] && g[c](d)
              : (g && g.dispose && g.dispose(),
                (g = new b(this, c)),
                f.data(e, g));
          });
    });
});
jQuery(document).ready(function($) {
  "use strict";
  $(".searchform").each(function() {
    var append = $(this).find(".live-search-results");
    var search_categories = $(this).find(".search_categories");
    var serviceUrl =
      flatsomeVars.ajaxurl + "?action=flatsome_ajax_search_products";
    var product_cat = "";
    if (search_categories.length && search_categories.val() !== "") {
      serviceUrl += "&product_cat=" + search_categories.val();
    }
    $(this)
      .find(".search-field")
      .devbridgeAutocomplete({
        minChars: 3,
        appendTo: append,
        triggerSelectOnValidInput: false,
        serviceUrl: serviceUrl,
        onSearchStart: function() {
          $(".submit-button").removeClass("loading");
          $(".submit-button").addClass("loading");
        },
        onSelect: function(suggestion) {
          if (suggestion.id != -1) {
            window.location.href = suggestion.url;
          }
        },
        onSearchComplete: function() {
          $(".submit-button").removeClass("loading");
        },
        beforeRender: function(container) {
          $(container).removeAttr("style");
        },
        formatResult: function(suggestion, currentValue) {
          var pattern =
            "(" + $.Autocomplete.utils.escapeRegExChars(currentValue) + ")";
          var html = "";
          if (suggestion.img)
            html += '<img class="search-image" src="' + suggestion.img + '">';
          html +=
            '<div class="search-name">' +
            suggestion.value.replace(
              new RegExp(pattern, "gi"),
              "<strong>$1</strong>"
            ) +
            "</div>";
          if (suggestion.price)
            html += '<span class="search-price">' + suggestion.price + "<span>";
          return html;
        }
      });
    if (search_categories.length) {
      var searchForm = $(this)
        .find(".search-field")
        .devbridgeAutocomplete();
      search_categories.on("change", function(e) {
        if (search_categories.val() != "") {
          searchForm.setOptions({
            serviceUrl:
              flatsomeVars.ajaxurl +
              "?action=flatsome_ajax_search_products&product_cat=" +
              search_categories.val()
          });
        } else {
          searchForm.setOptions({
            serviceUrl:
              flatsomeVars.ajaxurl + "?action=flatsome_ajax_search_products"
          });
        }
        searchForm.hide();
        searchForm.onValueChange();
      });
    }
  });
});
!(function(a) {
  a.fn.hoverIntent = function(b, c, d) {
    var e = { interval: 100, sensitivity: 6, timeout: 0 };
    e =
      "object" == typeof b
        ? a.extend(e, b)
        : a.isFunction(c)
          ? a.extend(e, { over: b, out: c, selector: d })
          : a.extend(e, { over: b, out: b, selector: c });
    var f,
      g,
      h,
      i,
      j = function(a) {
        (f = a.pageX), (g = a.pageY);
      },
      k = function(b, c) {
        return (
          (c.hoverIntent_t = clearTimeout(c.hoverIntent_t)),
          Math.sqrt((h - f) * (h - f) + (i - g) * (i - g)) < e.sensitivity
            ? (a(c).off("mousemove.hoverIntent", j),
              (c.hoverIntent_s = !0),
              e.over.apply(c, [b]))
            : ((h = f),
              (i = g),
              (c.hoverIntent_t = setTimeout(function() {
                k(b, c);
              }, e.interval)),
              void 0)
        );
      },
      l = function(a, b) {
        return (
          (b.hoverIntent_t = clearTimeout(b.hoverIntent_t)),
          (b.hoverIntent_s = !1),
          e.out.apply(b, [a])
        );
      },
      m = function(b) {
        var c = a.extend({}, b),
          d = this;
        d.hoverIntent_t && (d.hoverIntent_t = clearTimeout(d.hoverIntent_t)),
          "mouseenter" === b.type
            ? ((h = c.pageX),
              (i = c.pageY),
              a(d).on("mousemove.hoverIntent", j),
              d.hoverIntent_s ||
                (d.hoverIntent_t = setTimeout(function() {
                  k(c, d);
                }, e.interval)))
            : (a(d).off("mousemove.hoverIntent", j),
              d.hoverIntent_s &&
                (d.hoverIntent_t = setTimeout(function() {
                  l(c, d);
                }, e.timeout)));
      };
    return this.on(
      { "mouseenter.hoverIntent": m, "mouseleave.hoverIntent": m },
      e.selector
    );
  };
})(jQuery);
!(function(t) {
  function e(n) {
    if (i[n]) return i[n].exports;
    var o = (i[n] = { exports: {}, id: n, loaded: !1 });
    return t[n].call(o.exports, o, o.exports, e), (o.loaded = !0), o.exports;
  }
  var i = {};
  return (e.m = t), (e.c = i), (e.p = ""), e(0);
})([
  function(t, e, i) {
    t.exports = i(13);
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function(t, e, i) {
    (function(t) {
      "use strict";
      function e(t) {
        return t && t.__esModule ? t : { default: t };
      }
      var n = i(14),
        o = e(n);
      i(15),
        i(17),
        i(18),
        i(19),
        i(20),
        i(21),
        i(22),
        i(23),
        i(24),
        i(92),
        i(93),
        i(94),
        i(95),
        i(96),
        i(98),
        i(99),
        i(100),
        i(102),
        i(103),
        i(104),
        i(105),
        i(106),
        i(107),
        i(108),
        i(109),
        i(110),
        i(111),
        i(112),
        i(113),
        i(114),
        i(115),
        i(116),
        i(117),
        i(118),
        jQuery(function() {
          return t.Flatsome.attach(document);
        }),
        (t.cookie = o.default);
    }.call(
      e,
      (function() {
        return this;
      })()
    ));
  },
  function(t, e, i) {
    (function(e) {
      /*! cookie function. get, set, or forget a cookie. [c]2014 @scottjehl, Filament Group, Inc. Licensed MIT */
      !(function(e) {
        var i = function(t, i, n) {
          if (void 0 === i) {
            var o = "; " + e.document.cookie,
              r = o.split("; " + t + "=");
            return 2 === r.length
              ? r
                  .pop()
                  .split(";")
                  .shift()
              : null;
          }
          i === !1 && (n = -1);
          var s = "";
          if (n) {
            var a = new Date();
            a.setTime(a.getTime() + 24 * n * 60 * 60 * 1e3),
              (s = "; expires=" + a.toGMTString());
          }
          e.document.cookie = t + "=" + i + s + "; path=/";
        };
        t.exports = i;
      })("undefined" != typeof e ? e : this);
    }.call(
      e,
      (function() {
        return this;
      })()
    ));
  },
  function(t, e, i) {
    var n,
      o,
      r,
      s,
      r,
      a,
      r,
      l,
      n,
      c,
      n,
      u,
      r,
      d,
      n,
      h,
      n,
      p,
      n,
      f,
      n,
      m,
      n,
      g,
      n,
      v,
      n,
      y,
      n,
      b,
      n,
      w,
      n,
      x,
      n,
      S,
      n,
      r,
      C,
      r,
      n,
      o,
      n,
      k,
      n,
      o;
    /*!
      * Flickity PACKAGED v2.1.2
      * Touch, responsive, flickable carousels
      *
      * Licensed GPLv3 for open source use
      * or Flickity Commercial License for commercial use
      *
      * https://flickity.metafizzy.co
      * Copyright 2015-2018 Metafizzy
      */
    !(function(r, s) {
      (n = [i(16)]),
        (o = function(t) {
          return s(r, t);
        }.apply(e, n)),
        !(void 0 !== o && (t.exports = o));
    })(window, function(t, e) {
      "use strict";
      function i(i, r, a) {
        function l(t, e, n) {
          var o,
            r = "$()." + i + '("' + e + '")';
          return (
            t.each(function(t, l) {
              var c = a.data(l, i);
              if (!c)
                return void s(
                  i + " not initialized. Cannot call methods, i.e. " + r
                );
              var u = c[e];
              if (!u || "_" == e.charAt(0))
                return void s(r + " is not a valid method");
              var d = u.apply(c, n);
              o = void 0 === o ? d : o;
            }),
            void 0 !== o ? o : t
          );
        }
        function c(t, e) {
          t.each(function(t, n) {
            var o = a.data(n, i);
            o ? (o.option(e), o._init()) : ((o = new r(n, e)), a.data(n, i, o));
          });
        }
        (a = a || e || t.jQuery),
          a &&
            (r.prototype.option ||
              (r.prototype.option = function(t) {
                a.isPlainObject(t) &&
                  (this.options = a.extend(!0, this.options, t));
              }),
            (a.fn[i] = function(t) {
              if ("string" == typeof t) {
                var e = o.call(arguments, 1);
                return l(this, t, e);
              }
              return c(this, t), this;
            }),
            n(a));
      }
      function n(t) {
        !t || (t && t.bridget) || (t.bridget = i);
      }
      var o = Array.prototype.slice,
        r = t.console,
        s =
          "undefined" == typeof r
            ? function() {}
            : function(t) {
                r.error(t);
              };
      return n(e || t.jQuery), i;
    }),
      (function(n, o) {
        (r = o), !(s = "function" == typeof r ? r.call(e, i, e, t) : r);
      })("undefined" != typeof window ? window : this, function() {
        function t() {}
        var e = t.prototype;
        return (
          (e.on = function(t, e) {
            if (t && e) {
              var i = (this._events = this._events || {}),
                n = (i[t] = i[t] || []);
              return n.indexOf(e) == -1 && n.push(e), this;
            }
          }),
          (e.once = function(t, e) {
            if (t && e) {
              this.on(t, e);
              var i = (this._onceEvents = this._onceEvents || {}),
                n = (i[t] = i[t] || {});
              return (n[e] = !0), this;
            }
          }),
          (e.off = function(t, e) {
            var i = this._events && this._events[t];
            if (i && i.length) {
              var n = i.indexOf(e);
              return n != -1 && i.splice(n, 1), this;
            }
          }),
          (e.emitEvent = function(t, e) {
            var i = this._events && this._events[t];
            if (i && i.length) {
              (i = i.slice(0)), (e = e || []);
              for (
                var n = this._onceEvents && this._onceEvents[t], o = 0;
                o < i.length;
                o++
              ) {
                var r = i[o],
                  s = n && n[r];
                s && (this.off(t, r), delete n[r]), r.apply(this, e);
              }
              return this;
            }
          }),
          (e.allOff = function() {
            delete this._events, delete this._onceEvents;
          }),
          t
        );
      }),
      /*!
          * getSize v2.0.3
          * measure size of elements
          * MIT license
          */
      (function(n, o) {
        (r = o), !(a = "function" == typeof r ? r.call(e, i, e, t) : r);
      })(window, function() {
        "use strict";
        function t(t) {
          var e = parseFloat(t),
            i = t.indexOf("%") == -1 && !isNaN(e);
          return i && e;
        }
        function e() {}
        function i() {
          for (
            var t = {
                width: 0,
                height: 0,
                innerWidth: 0,
                innerHeight: 0,
                outerWidth: 0,
                outerHeight: 0
              },
              e = 0;
            e < c;
            e++
          ) {
            var i = l[e];
            t[i] = 0;
          }
          return t;
        }
        function n(t) {
          var e = getComputedStyle(t);
          return (
            e ||
              a(
                "Style returned " +
                  e +
                  ". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"
              ),
            e
          );
        }
        function o() {
          if (!u) {
            u = !0;
            var e = document.createElement("div");
            (e.style.width = "200px"),
              (e.style.padding = "1px 2px 3px 4px"),
              (e.style.borderStyle = "solid"),
              (e.style.borderWidth = "1px 2px 3px 4px"),
              (e.style.boxSizing = "border-box");
            var i = document.body || document.documentElement;
            i.appendChild(e);
            var o = n(e);
            (s = 200 == Math.round(t(o.width))),
              (r.isBoxSizeOuter = s),
              i.removeChild(e);
          }
        }
        function r(e) {
          if (
            (o(),
            "string" == typeof e && (e = document.querySelector(e)),
            e && "object" == typeof e && e.nodeType)
          ) {
            var r = n(e);
            if ("none" == r.display) return i();
            var a = {};
            (a.width = e.offsetWidth), (a.height = e.offsetHeight);
            for (
              var u = (a.isBorderBox = "border-box" == r.boxSizing), d = 0;
              d < c;
              d++
            ) {
              var h = l[d],
                p = r[h],
                f = parseFloat(p);
              a[h] = isNaN(f) ? 0 : f;
            }
            var m = a.paddingLeft + a.paddingRight,
              g = a.paddingTop + a.paddingBottom,
              v = a.marginLeft + a.marginRight,
              y = a.marginTop + a.marginBottom,
              b = a.borderLeftWidth + a.borderRightWidth,
              w = a.borderTopWidth + a.borderBottomWidth,
              x = u && s,
              S = t(r.width);
            S !== !1 && (a.width = S + (x ? 0 : m + b));
            var C = t(r.height);
            return (
              C !== !1 && (a.height = C + (x ? 0 : g + w)),
              (a.innerWidth = a.width - (m + b)),
              (a.innerHeight = a.height - (g + w)),
              (a.outerWidth = a.width + v),
              (a.outerHeight = a.height + y),
              a
            );
          }
        }
        var s,
          a =
            "undefined" == typeof console
              ? e
              : function(t) {
                  console.error(t);
                },
          l = [
            "paddingLeft",
            "paddingRight",
            "paddingTop",
            "paddingBottom",
            "marginLeft",
            "marginRight",
            "marginTop",
            "marginBottom",
            "borderLeftWidth",
            "borderRightWidth",
            "borderTopWidth",
            "borderBottomWidth"
          ],
          c = l.length,
          u = !1;
        return r;
      }),
      (function(n, o) {
        "use strict";
        (r = o), !(l = "function" == typeof r ? r.call(e, i, e, t) : r);
      })(window, function() {
        "use strict";
        var t = (function() {
          var t = window.Element.prototype;
          if (t.matches) return "matches";
          if (t.matchesSelector) return "matchesSelector";
          for (var e = ["webkit", "moz", "ms", "o"], i = 0; i < e.length; i++) {
            var n = e[i],
              o = n + "MatchesSelector";
            if (t[o]) return o;
          }
        })();
        return function(e, i) {
          return e[t](i);
        };
      }),
      (function(t, i) {
        (n = [l]),
          !(c = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        var i = {};
        (i.extend = function(t, e) {
          for (var i in e) t[i] = e[i];
          return t;
        }),
          (i.modulo = function(t, e) {
            return (t % e + e) % e;
          });
        var n = Array.prototype.slice;
        (i.makeArray = function(t) {
          if (Array.isArray(t)) return t;
          if (null === t || void 0 === t) return [];
          var e = "object" == typeof t && "number" == typeof t.length;
          return e ? n.call(t) : [t];
        }),
          (i.removeFrom = function(t, e) {
            var i = t.indexOf(e);
            i != -1 && t.splice(i, 1);
          }),
          (i.getParent = function(t, i) {
            for (; t.parentNode && t != document.body; )
              if (((t = t.parentNode), e(t, i))) return t;
          }),
          (i.getQueryElement = function(t) {
            return "string" == typeof t ? document.querySelector(t) : t;
          }),
          (i.handleEvent = function(t) {
            var e = "on" + t.type;
            this[e] && this[e](t);
          }),
          (i.filterFindElements = function(t, n) {
            t = i.makeArray(t);
            var o = [];
            return (
              t.forEach(function(t) {
                if (t instanceof HTMLElement) {
                  if (!n) return void o.push(t);
                  e(t, n) && o.push(t);
                  for (var i = t.querySelectorAll(n), r = 0; r < i.length; r++)
                    o.push(i[r]);
                }
              }),
              o
            );
          }),
          (i.debounceMethod = function(t, e, i) {
            i = i || 100;
            var n = t.prototype[e],
              o = e + "Timeout";
            t.prototype[e] = function() {
              var t = this[o];
              clearTimeout(t);
              var e = arguments,
                r = this;
              this[o] = setTimeout(function() {
                n.apply(r, e), delete r[o];
              }, i);
            };
          }),
          (i.docReady = function(t) {
            var e = document.readyState;
            "complete" == e || "interactive" == e
              ? setTimeout(t)
              : document.addEventListener("DOMContentLoaded", t);
          }),
          (i.toDashed = function(t) {
            return t
              .replace(/(.)([A-Z])/g, function(t, e, i) {
                return e + "-" + i;
              })
              .toLowerCase();
          });
        var o = t.console;
        return (
          (i.htmlInit = function(e, n) {
            i.docReady(function() {
              var r = i.toDashed(n),
                s = "data-" + r,
                a = document.querySelectorAll("[" + s + "]"),
                l = document.querySelectorAll(".js-" + r),
                c = i.makeArray(a).concat(i.makeArray(l)),
                u = s + "-options",
                d = t.jQuery;
              c.forEach(function(t) {
                var i,
                  r = t.getAttribute(s) || t.getAttribute(u);
                try {
                  i = r && JSON.parse(r);
                } catch (e) {
                  return void (
                    o &&
                    o.error(
                      "Error parsing " + s + " on " + t.className + ": " + e
                    )
                  );
                }
                var a = new e(t, i);
                d && d.data(t, n, a);
              });
            });
          }),
          i
        );
      }),
      (function(t, i) {
        (n = [a]),
          !(u = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        function i(t, e) {
          (this.element = t), (this.parent = e), this.create();
        }
        var n = i.prototype;
        return (
          (n.create = function() {
            (this.element.style.position = "absolute"),
              this.element.setAttribute("aria-selected", "false"),
              (this.x = 0),
              (this.shift = 0);
          }),
          (n.destroy = function() {
            this.element.style.position = "";
            var t = this.parent.originSide;
            this.element.removeAttribute("aria-selected"),
              (this.element.style[t] = "");
          }),
          (n.getSize = function() {
            this.size = e(this.element);
          }),
          (n.setPosition = function(t) {
            (this.x = t), this.updateTarget(), this.renderPosition(t);
          }),
          (n.updateTarget = n.setDefaultTarget = function() {
            var t =
              "left" == this.parent.originSide ? "marginLeft" : "marginRight";
            this.target =
              this.x + this.size[t] + this.size.width * this.parent.cellAlign;
          }),
          (n.renderPosition = function(t) {
            var e = this.parent.originSide;
            this.element.style[e] = this.parent.getPositionValue(t);
          }),
          (n.wrapShift = function(t) {
            (this.shift = t),
              this.renderPosition(this.x + this.parent.slideableWidth * t);
          }),
          (n.remove = function() {
            this.element.parentNode.removeChild(this.element);
          }),
          i
        );
      }),
      (function(n, o) {
        (r = o), !(d = "function" == typeof r ? r.call(e, i, e, t) : r);
      })(window, function() {
        "use strict";
        function t(t) {
          (this.parent = t),
            (this.isOriginLeft = "left" == t.originSide),
            (this.cells = []),
            (this.outerWidth = 0),
            (this.height = 0);
        }
        var e = t.prototype;
        return (
          (e.addCell = function(t) {
            if (
              (this.cells.push(t),
              (this.outerWidth += t.size.outerWidth),
              (this.height = Math.max(t.size.outerHeight, this.height)),
              1 == this.cells.length)
            ) {
              this.x = t.x;
              var e = this.isOriginLeft ? "marginLeft" : "marginRight";
              this.firstMargin = t.size[e];
            }
          }),
          (e.updateTarget = function() {
            var t = this.isOriginLeft ? "marginRight" : "marginLeft",
              e = this.getLastCell(),
              i = e ? e.size[t] : 0,
              n = this.outerWidth - (this.firstMargin + i);
            this.target = this.x + this.firstMargin + n * this.parent.cellAlign;
          }),
          (e.getLastCell = function() {
            return this.cells[this.cells.length - 1];
          }),
          (e.select = function() {
            this.changeSelected(!0);
          }),
          (e.unselect = function() {
            this.changeSelected(!1);
          }),
          (e.changeSelected = function(t) {
            var e = t ? "add" : "remove";
            this.cells.forEach(function(i) {
              i.element.classList[e]("is-selected"),
                i.element.setAttribute("aria-selected", t.toString());
            });
          }),
          (e.getCellElements = function() {
            return this.cells.map(function(t) {
              return t.element;
            });
          }),
          t
        );
      }),
      (function(t, i) {
        (n = [c]),
          !(h = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        var i = {};
        return (
          (i.startAnimation = function() {
            this.isAnimating ||
              ((this.isAnimating = !0),
              (this.restingFrames = 0),
              this.animate());
          }),
          (i.animate = function() {
            this.applyDragForce(), this.applySelectedAttraction();
            var t = this.x;
            if (
              (this.integratePhysics(),
              this.positionSlider(),
              this.settle(t),
              this.isAnimating)
            ) {
              var e = this;
              requestAnimationFrame(function() {
                e.animate();
              });
            }
          }),
          (i.positionSlider = function() {
            var t = this.x;
            this.options.wrapAround &&
              this.cells.length > 1 &&
              ((t = e.modulo(t, this.slideableWidth)),
              (t -= this.slideableWidth),
              this.shiftWrapCells(t)),
              (t += this.cursorPosition),
              (t = this.options.rightToLeft ? -t : t);
            var i = this.getPositionValue(t);
            this.slider.style.transform = this.isAnimating
              ? "translate3d(" + i + ",0,0)"
              : "translateX(" + i + ")";
            var n = this.slides[0];
            if (n) {
              var o = -this.x - n.target,
                r = o / this.slidesWidth;
              this.dispatchEvent("scroll", null, [r, o]);
            }
          }),
          (i.positionSliderAtSelected = function() {
            this.cells.length &&
              ((this.x = -this.selectedSlide.target),
              (this.velocity = 0),
              this.positionSlider());
          }),
          (i.getPositionValue = function(t) {
            return this.options.percentPosition
              ? 0.01 * Math.round(t / this.size.innerWidth * 1e4) + "%"
              : Math.round(t) + "px";
          }),
          (i.settle = function(t) {
            this.isPointerDown ||
              Math.round(100 * this.x) != Math.round(100 * t) ||
              this.restingFrames++,
              this.restingFrames > 2 &&
                ((this.isAnimating = !1),
                delete this.isFreeScrolling,
                this.positionSlider(),
                this.dispatchEvent("settle", null, [this.selectedIndex]));
          }),
          (i.shiftWrapCells = function(t) {
            var e = this.cursorPosition + t;
            this._shiftCells(this.beforeShiftCells, e, -1);
            var i =
              this.size.innerWidth -
              (t + this.slideableWidth + this.cursorPosition);
            this._shiftCells(this.afterShiftCells, i, 1);
          }),
          (i._shiftCells = function(t, e, i) {
            for (var n = 0; n < t.length; n++) {
              var o = t[n],
                r = e > 0 ? i : 0;
              o.wrapShift(r), (e -= o.size.outerWidth);
            }
          }),
          (i._unshiftCells = function(t) {
            if (t && t.length)
              for (var e = 0; e < t.length; e++) t[e].wrapShift(0);
          }),
          (i.integratePhysics = function() {
            (this.x += this.velocity),
              (this.velocity *= this.getFrictionFactor());
          }),
          (i.applyForce = function(t) {
            this.velocity += t;
          }),
          (i.getFrictionFactor = function() {
            return (
              1 -
              this.options[
                this.isFreeScrolling ? "freeScrollFriction" : "friction"
              ]
            );
          }),
          (i.getRestingPosition = function() {
            return this.x + this.velocity / (1 - this.getFrictionFactor());
          }),
          (i.applyDragForce = function() {
            if (this.isDraggable && this.isPointerDown) {
              var t = this.dragX - this.x,
                e = t - this.velocity;
              this.applyForce(e);
            }
          }),
          (i.applySelectedAttraction = function() {
            var t = this.isDraggable && this.isPointerDown;
            if (!t && !this.isFreeScrolling && this.slides.length) {
              var e = this.selectedSlide.target * -1 - this.x,
                i = e * this.options.selectedAttraction;
              this.applyForce(i);
            }
          }),
          i
        );
      }),
      (function(t, i) {
        (n = [s, a, c, u, d, h]),
          !(p = function(e, n, o, r, s, a) {
            return i(t, e, n, o, r, s, a);
          }.apply(e, n));
      })(window, function(t, e, i, n, o, r, s) {
        function a(t, e) {
          for (t = n.makeArray(t); t.length; ) e.appendChild(t.shift());
        }
        function l(t, e) {
          var i = n.getQueryElement(t);
          if (!i)
            return void (d && d.error("Bad element for Flickity: " + (i || t)));
          if (((this.element = i), this.element.flickityGUID)) {
            var o = p[this.element.flickityGUID];
            return o.option(e), o;
          }
          c && (this.$element = c(this.element)),
            (this.options = n.extend({}, this.constructor.defaults)),
            this.option(e),
            this._create();
        }
        var c = t.jQuery,
          u = t.getComputedStyle,
          d = t.console,
          h = 0,
          p = {};
        (l.defaults = {
          accessibility: !0,
          cellAlign: "center",
          freeScrollFriction: 0.075,
          friction: 0.28,
          namespaceJQueryEvents: !0,
          percentPosition: !0,
          resize: !0,
          selectedAttraction: 0.025,
          setGallerySize: !0
        }),
          (l.createMethods = []);
        var f = l.prototype;
        n.extend(f, e.prototype),
          (f._create = function() {
            var e = (this.guid = ++h);
            (this.element.flickityGUID = e),
              (p[e] = this),
              (this.selectedIndex = 0),
              (this.restingFrames = 0),
              (this.x = 0),
              (this.velocity = 0),
              (this.originSide = this.options.rightToLeft ? "right" : "left"),
              (this.viewport = document.createElement("div")),
              (this.viewport.className = "flickity-viewport"),
              this._createSlider(),
              (this.options.resize || this.options.watchCSS) &&
                t.addEventListener("resize", this);
            for (var i in this.options.on) {
              var n = this.options.on[i];
              this.on(i, n);
            }
            l.createMethods.forEach(function(t) {
              this[t]();
            }, this),
              this.options.watchCSS ? this.watchCSS() : this.activate();
          }),
          (f.option = function(t) {
            n.extend(this.options, t);
          }),
          (f.activate = function() {
            if (!this.isActive) {
              (this.isActive = !0),
                this.element.classList.add("flickity-enabled"),
                this.options.rightToLeft &&
                  this.element.classList.add("flickity-rtl"),
                this.getSize();
              var t = this._filterFindCellElements(this.element.children);
              a(t, this.slider),
                this.viewport.appendChild(this.slider),
                this.element.appendChild(this.viewport),
                this.reloadCells(),
                this.options.accessibility &&
                  ((this.element.tabIndex = 0),
                  this.element.addEventListener("keydown", this)),
                this.emitEvent("activate");
              var e,
                i = this.options.initialIndex;
              (e = this.isInitActivated
                ? this.selectedIndex
                : void 0 !== i && this.cells[i]
                  ? i
                  : 0),
                this.select(e, !1, !0),
                (this.isInitActivated = !0),
                this.dispatchEvent("ready");
            }
          }),
          (f._createSlider = function() {
            var t = document.createElement("div");
            (t.className = "flickity-slider"),
              (t.style[this.originSide] = 0),
              (this.slider = t);
          }),
          (f._filterFindCellElements = function(t) {
            return n.filterFindElements(t, this.options.cellSelector);
          }),
          (f.reloadCells = function() {
            (this.cells = this._makeCells(this.slider.children)),
              this.positionCells(),
              this._getWrapShiftCells(),
              this.setGallerySize();
          }),
          (f._makeCells = function(t) {
            var e = this._filterFindCellElements(t),
              i = e.map(function(t) {
                return new o(t, this);
              }, this);
            return i;
          }),
          (f.getLastCell = function() {
            return this.cells[this.cells.length - 1];
          }),
          (f.getLastSlide = function() {
            return this.slides[this.slides.length - 1];
          }),
          (f.positionCells = function() {
            this._sizeCells(this.cells), this._positionCells(0);
          }),
          (f._positionCells = function(t) {
            (t = t || 0),
              (this.maxCellHeight = t ? this.maxCellHeight || 0 : 0);
            var e = 0;
            if (t > 0) {
              var i = this.cells[t - 1];
              e = i.x + i.size.outerWidth;
            }
            for (var n = this.cells.length, o = t; o < n; o++) {
              var r = this.cells[o];
              r.setPosition(e),
                (e += r.size.outerWidth),
                (this.maxCellHeight = Math.max(
                  r.size.outerHeight,
                  this.maxCellHeight
                ));
            }
            (this.slideableWidth = e),
              this.updateSlides(),
              this._containSlides(),
              (this.slidesWidth = n
                ? this.getLastSlide().target - this.slides[0].target
                : 0);
          }),
          (f._sizeCells = function(t) {
            t.forEach(function(t) {
              t.getSize();
            });
          }),
          (f.updateSlides = function() {
            if (((this.slides = []), this.cells.length)) {
              var t = new r(this);
              this.slides.push(t);
              var e = "left" == this.originSide,
                i = e ? "marginRight" : "marginLeft",
                n = this._getCanCellFit();
              this.cells.forEach(function(e, o) {
                if (!t.cells.length) return void t.addCell(e);
                var s =
                  t.outerWidth -
                  t.firstMargin +
                  (e.size.outerWidth - e.size[i]);
                n.call(this, o, s)
                  ? t.addCell(e)
                  : (t.updateTarget(),
                    (t = new r(this)),
                    this.slides.push(t),
                    t.addCell(e));
              }, this),
                t.updateTarget(),
                this.updateSelectedSlide();
            }
          }),
          (f._getCanCellFit = function() {
            var t = this.options.groupCells;
            if (!t)
              return function() {
                return !1;
              };
            if ("number" == typeof t) {
              var e = parseInt(t, 10);
              return function(t) {
                return t % e !== 0;
              };
            }
            var i = "string" == typeof t && t.match(/^(\d+)%$/),
              n = i ? parseInt(i[1], 10) / 100 : 1;
            return function(t, e) {
              return e <= (this.size.innerWidth + 1) * n;
            };
          }),
          (f._init = f.reposition = function() {
            this.positionCells(), this.positionSliderAtSelected();
          }),
          (f.getSize = function() {
            (this.size = i(this.element)),
              this.setCellAlign(),
              (this.cursorPosition = this.size.innerWidth * this.cellAlign);
          });
        var m = {
          center: { left: 0.5, right: 0.5 },
          left: { left: 0, right: 1 },
          right: { right: 0, left: 1 }
        };
        return (
          (f.setCellAlign = function() {
            var t = m[this.options.cellAlign];
            this.cellAlign = t ? t[this.originSide] : this.options.cellAlign;
          }),
          (f.setGallerySize = function() {
            if (this.options.setGallerySize) {
              var t =
                this.options.adaptiveHeight && this.selectedSlide
                  ? this.selectedSlide.height
                  : this.maxCellHeight;
              this.viewport.style.height = t + "px";
            }
          }),
          (f._getWrapShiftCells = function() {
            if (this.options.wrapAround) {
              this._unshiftCells(this.beforeShiftCells),
                this._unshiftCells(this.afterShiftCells);
              var t = this.cursorPosition,
                e = this.cells.length - 1;
              (this.beforeShiftCells = this._getGapCells(t, e, -1)),
                (t = this.size.innerWidth - this.cursorPosition),
                (this.afterShiftCells = this._getGapCells(t, 0, 1));
            }
          }),
          (f._getGapCells = function(t, e, i) {
            for (var n = []; t > 0; ) {
              var o = this.cells[e];
              if (!o) break;
              n.push(o), (e += i), (t -= o.size.outerWidth);
            }
            return n;
          }),
          (f._containSlides = function() {
            if (
              this.options.contain &&
              !this.options.wrapAround &&
              this.cells.length
            ) {
              var t = this.options.rightToLeft,
                e = t ? "marginRight" : "marginLeft",
                i = t ? "marginLeft" : "marginRight",
                n = this.slideableWidth - this.getLastCell().size[i],
                o = n < this.size.innerWidth,
                r = this.cursorPosition + this.cells[0].size[e],
                s = n - this.size.innerWidth * (1 - this.cellAlign);
              this.slides.forEach(function(t) {
                o
                  ? (t.target = n * this.cellAlign)
                  : ((t.target = Math.max(t.target, r)),
                    (t.target = Math.min(t.target, s)));
              }, this);
            }
          }),
          (f.dispatchEvent = function(t, e, i) {
            var n = e ? [e].concat(i) : i;
            if ((this.emitEvent(t, n), c && this.$element)) {
              t += this.options.namespaceJQueryEvents ? ".flickity" : "";
              var o = t;
              if (e) {
                var r = c.Event(e);
                (r.type = t), (o = r);
              }
              this.$element.trigger(o, i);
            }
          }),
          (f.select = function(t, e, i) {
            if (
              this.isActive &&
              ((t = parseInt(t, 10)),
              this._wrapSelect(t),
              (this.options.wrapAround || e) &&
                (t = n.modulo(t, this.slides.length)),
              this.slides[t])
            ) {
              var o = this.selectedIndex;
              (this.selectedIndex = t),
                this.updateSelectedSlide(),
                i ? this.positionSliderAtSelected() : this.startAnimation(),
                this.options.adaptiveHeight && this.setGallerySize(),
                this.dispatchEvent("select", null, [t]),
                t != o && this.dispatchEvent("change", null, [t]),
                this.dispatchEvent("cellSelect");
            }
          }),
          (f._wrapSelect = function(t) {
            var e = this.slides.length,
              i = this.options.wrapAround && e > 1;
            if (!i) return t;
            var o = n.modulo(t, e),
              r = Math.abs(o - this.selectedIndex),
              s = Math.abs(o + e - this.selectedIndex),
              a = Math.abs(o - e - this.selectedIndex);
            !this.isDragSelect && s < r
              ? (t += e)
              : !this.isDragSelect && a < r && (t -= e),
              t < 0
                ? (this.x -= this.slideableWidth)
                : t >= e && (this.x += this.slideableWidth);
          }),
          (f.previous = function(t, e) {
            this.select(this.selectedIndex - 1, t, e);
          }),
          (f.next = function(t, e) {
            this.select(this.selectedIndex + 1, t, e);
          }),
          (f.updateSelectedSlide = function() {
            var t = this.slides[this.selectedIndex];
            t &&
              (this.unselectSelectedSlide(),
              (this.selectedSlide = t),
              t.select(),
              (this.selectedCells = t.cells),
              (this.selectedElements = t.getCellElements()),
              (this.selectedCell = t.cells[0]),
              (this.selectedElement = this.selectedElements[0]));
          }),
          (f.unselectSelectedSlide = function() {
            this.selectedSlide && this.selectedSlide.unselect();
          }),
          (f.selectCell = function(t, e, i) {
            var n = this.queryCell(t);
            if (n) {
              var o = this.getCellSlideIndex(n);
              this.select(o, e, i);
            }
          }),
          (f.getCellSlideIndex = function(t) {
            for (var e = 0; e < this.slides.length; e++) {
              var i = this.slides[e],
                n = i.cells.indexOf(t);
              if (n != -1) return e;
            }
          }),
          (f.getCell = function(t) {
            for (var e = 0; e < this.cells.length; e++) {
              var i = this.cells[e];
              if (i.element == t) return i;
            }
          }),
          (f.getCells = function(t) {
            t = n.makeArray(t);
            var e = [];
            return (
              t.forEach(function(t) {
                var i = this.getCell(t);
                i && e.push(i);
              }, this),
              e
            );
          }),
          (f.getCellElements = function() {
            return this.cells.map(function(t) {
              return t.element;
            });
          }),
          (f.getParentCell = function(t) {
            var e = this.getCell(t);
            return e
              ? e
              : ((t = n.getParent(t, ".flickity-slider > *")), this.getCell(t));
          }),
          (f.getAdjacentCellElements = function(t, e) {
            if (!t) return this.selectedSlide.getCellElements();
            e = void 0 === e ? this.selectedIndex : e;
            var i = this.slides.length;
            if (1 + 2 * t >= i) return this.getCellElements();
            for (var o = [], r = e - t; r <= e + t; r++) {
              var s = this.options.wrapAround ? n.modulo(r, i) : r,
                a = this.slides[s];
              a && (o = o.concat(a.getCellElements()));
            }
            return o;
          }),
          (f.queryCell = function(t) {
            return "number" == typeof t
              ? this.cells[t]
              : ("string" == typeof t && (t = this.element.querySelector(t)),
                this.getCell(t));
          }),
          (f.uiChange = function() {
            this.emitEvent("uiChange");
          }),
          (f.childUIPointerDown = function(t) {
            this.emitEvent("childUIPointerDown", [t]);
          }),
          (f.onresize = function() {
            this.watchCSS(), this.resize();
          }),
          n.debounceMethod(l, "onresize", 150),
          (f.resize = function() {
            if (this.isActive) {
              this.getSize(),
                this.options.wrapAround &&
                  (this.x = n.modulo(this.x, this.slideableWidth)),
                this.positionCells(),
                this._getWrapShiftCells(),
                this.setGallerySize(),
                this.emitEvent("resize");
              var t = this.selectedElements && this.selectedElements[0];
              this.selectCell(t, !1, !0);
            }
          }),
          (f.watchCSS = function() {
            var t = this.options.watchCSS;
            if (t) {
              var e = u(this.element, ":after").content;
              e.indexOf("flickity") != -1 ? this.activate() : this.deactivate();
            }
          }),
          (f.onkeydown = function(t) {
            var e =
              document.activeElement && document.activeElement != this.element;
            if (this.options.accessibility && !e) {
              var i = l.keyboardHandlers[t.keyCode];
              i && i.call(this);
            }
          }),
          (l.keyboardHandlers = {
            37: function() {
              var t = this.options.rightToLeft ? "next" : "previous";
              this.uiChange(), this[t]();
            },
            39: function() {
              var t = this.options.rightToLeft ? "previous" : "next";
              this.uiChange(), this[t]();
            }
          }),
          (f.focus = function() {
            var e = t.pageYOffset;
            this.element.focus({ preventScroll: !0 }),
              t.pageYOffset != e && t.scrollTo(t.pageXOffset, e);
          }),
          (f.deactivate = function() {
            this.isActive &&
              (this.element.classList.remove("flickity-enabled"),
              this.element.classList.remove("flickity-rtl"),
              this.unselectSelectedSlide(),
              this.cells.forEach(function(t) {
                t.destroy();
              }),
              this.element.removeChild(this.viewport),
              a(this.slider.children, this.element),
              this.options.accessibility &&
                (this.element.removeAttribute("tabIndex"),
                this.element.removeEventListener("keydown", this)),
              (this.isActive = !1),
              this.emitEvent("deactivate"));
          }),
          (f.destroy = function() {
            this.deactivate(),
              t.removeEventListener("resize", this),
              this.emitEvent("destroy"),
              c && this.$element && c.removeData(this.element, "flickity"),
              delete this.element.flickityGUID,
              delete p[this.guid];
          }),
          n.extend(f, s),
          (l.data = function(t) {
            t = n.getQueryElement(t);
            var e = t && t.flickityGUID;
            return e && p[e];
          }),
          n.htmlInit(l, "flickity"),
          c && c.bridget && c.bridget("flickity", l),
          (l.setJQuery = function(t) {
            c = t;
          }),
          (l.Cell = o),
          l
        );
      }),
      /*!
          * Unipointer v2.3.0
          * base class for doing one thing with pointer event
          * MIT license
          */
      (function(t, i) {
        (n = [s]),
          !(f = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        function i() {}
        function n() {}
        var o = (n.prototype = Object.create(e.prototype));
        (o.bindStartEvent = function(t) {
          this._bindStartEvent(t, !0);
        }),
          (o.unbindStartEvent = function(t) {
            this._bindStartEvent(t, !1);
          }),
          (o._bindStartEvent = function(e, i) {
            i = void 0 === i || i;
            var n = i ? "addEventListener" : "removeEventListener",
              o = "mousedown";
            t.PointerEvent
              ? (o = "pointerdown")
              : "ontouchstart" in t && (o = "touchstart"),
              e[n](o, this);
          }),
          (o.handleEvent = function(t) {
            var e = "on" + t.type;
            this[e] && this[e](t);
          }),
          (o.getTouch = function(t) {
            for (var e = 0; e < t.length; e++) {
              var i = t[e];
              if (i.identifier == this.pointerIdentifier) return i;
            }
          }),
          (o.onmousedown = function(t) {
            var e = t.button;
            (e && 0 !== e && 1 !== e) || this._pointerDown(t, t);
          }),
          (o.ontouchstart = function(t) {
            this._pointerDown(t, t.changedTouches[0]);
          }),
          (o.onpointerdown = function(t) {
            this._pointerDown(t, t);
          }),
          (o._pointerDown = function(t, e) {
            t.button ||
              this.isPointerDown ||
              ((this.isPointerDown = !0),
              (this.pointerIdentifier =
                void 0 !== e.pointerId ? e.pointerId : e.identifier),
              this.pointerDown(t, e));
          }),
          (o.pointerDown = function(t, e) {
            this._bindPostStartEvents(t), this.emitEvent("pointerDown", [t, e]);
          });
        var r = {
          mousedown: ["mousemove", "mouseup"],
          touchstart: ["touchmove", "touchend", "touchcancel"],
          pointerdown: ["pointermove", "pointerup", "pointercancel"]
        };
        return (
          (o._bindPostStartEvents = function(e) {
            if (e) {
              var i = r[e.type];
              i.forEach(function(e) {
                t.addEventListener(e, this);
              }, this),
                (this._boundPointerEvents = i);
            }
          }),
          (o._unbindPostStartEvents = function() {
            this._boundPointerEvents &&
              (this._boundPointerEvents.forEach(function(e) {
                t.removeEventListener(e, this);
              }, this),
              delete this._boundPointerEvents);
          }),
          (o.onmousemove = function(t) {
            this._pointerMove(t, t);
          }),
          (o.onpointermove = function(t) {
            t.pointerId == this.pointerIdentifier && this._pointerMove(t, t);
          }),
          (o.ontouchmove = function(t) {
            var e = this.getTouch(t.changedTouches);
            e && this._pointerMove(t, e);
          }),
          (o._pointerMove = function(t, e) {
            this.pointerMove(t, e);
          }),
          (o.pointerMove = function(t, e) {
            this.emitEvent("pointerMove", [t, e]);
          }),
          (o.onmouseup = function(t) {
            this._pointerUp(t, t);
          }),
          (o.onpointerup = function(t) {
            t.pointerId == this.pointerIdentifier && this._pointerUp(t, t);
          }),
          (o.ontouchend = function(t) {
            var e = this.getTouch(t.changedTouches);
            e && this._pointerUp(t, e);
          }),
          (o._pointerUp = function(t, e) {
            this._pointerDone(), this.pointerUp(t, e);
          }),
          (o.pointerUp = function(t, e) {
            this.emitEvent("pointerUp", [t, e]);
          }),
          (o._pointerDone = function() {
            this._pointerReset(),
              this._unbindPostStartEvents(),
              this.pointerDone();
          }),
          (o._pointerReset = function() {
            (this.isPointerDown = !1), delete this.pointerIdentifier;
          }),
          (o.pointerDone = i),
          (o.onpointercancel = function(t) {
            t.pointerId == this.pointerIdentifier && this._pointerCancel(t, t);
          }),
          (o.ontouchcancel = function(t) {
            var e = this.getTouch(t.changedTouches);
            e && this._pointerCancel(t, e);
          }),
          (o._pointerCancel = function(t, e) {
            this._pointerDone(), this.pointerCancel(t, e);
          }),
          (o.pointerCancel = function(t, e) {
            this.emitEvent("pointerCancel", [t, e]);
          }),
          (n.getPointerPoint = function(t) {
            return { x: t.pageX, y: t.pageY };
          }),
          n
        );
      }),
      /*!
          * Unidragger v2.3.0
          * Draggable base class
          * MIT license
          */
      (function(t, i) {
        (n = [f]),
          !(m = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        function i() {}
        var n = (i.prototype = Object.create(e.prototype));
        (n.bindHandles = function() {
          this._bindHandles(!0);
        }),
          (n.unbindHandles = function() {
            this._bindHandles(!1);
          }),
          (n._bindHandles = function(e) {
            e = void 0 === e || e;
            for (
              var i = e ? "addEventListener" : "removeEventListener",
                n = e ? this._touchActionValue : "",
                o = 0;
              o < this.handles.length;
              o++
            ) {
              var r = this.handles[o];
              this._bindStartEvent(r, e),
                r[i]("click", this),
                t.PointerEvent && (r.style.touchAction = n);
            }
          }),
          (n._touchActionValue = "none"),
          (n.pointerDown = function(t, e) {
            var i = this.okayPointerDown(t);
            i &&
              ((this.pointerDownPointer = e),
              t.preventDefault(),
              this.pointerDownBlur(),
              this._bindPostStartEvents(t),
              this.emitEvent("pointerDown", [t, e]));
          });
        var o = { TEXTAREA: !0, INPUT: !0, SELECT: !0, OPTION: !0 },
          r = {
            radio: !0,
            checkbox: !0,
            button: !0,
            submit: !0,
            image: !0,
            file: !0
          };
        return (
          (n.okayPointerDown = function(t) {
            var e = o[t.target.nodeName],
              i = r[t.target.type],
              n = !e || i;
            return n || this._pointerReset(), n;
          }),
          (n.pointerDownBlur = function() {
            var t = document.activeElement,
              e = t && t.blur && t != document.body;
            e && t.blur();
          }),
          (n.pointerMove = function(t, e) {
            var i = this._dragPointerMove(t, e);
            this.emitEvent("pointerMove", [t, e, i]), this._dragMove(t, e, i);
          }),
          (n._dragPointerMove = function(t, e) {
            var i = {
              x: e.pageX - this.pointerDownPointer.pageX,
              y: e.pageY - this.pointerDownPointer.pageY
            };
            return (
              !this.isDragging &&
                this.hasDragStarted(i) &&
                this._dragStart(t, e),
              i
            );
          }),
          (n.hasDragStarted = function(t) {
            return Math.abs(t.x) > 3 || Math.abs(t.y) > 3;
          }),
          (n.pointerUp = function(t, e) {
            this.emitEvent("pointerUp", [t, e]), this._dragPointerUp(t, e);
          }),
          (n._dragPointerUp = function(t, e) {
            this.isDragging ? this._dragEnd(t, e) : this._staticClick(t, e);
          }),
          (n._dragStart = function(t, e) {
            (this.isDragging = !0),
              (this.isPreventingClicks = !0),
              this.dragStart(t, e);
          }),
          (n.dragStart = function(t, e) {
            this.emitEvent("dragStart", [t, e]);
          }),
          (n._dragMove = function(t, e, i) {
            this.isDragging && this.dragMove(t, e, i);
          }),
          (n.dragMove = function(t, e, i) {
            t.preventDefault(), this.emitEvent("dragMove", [t, e, i]);
          }),
          (n._dragEnd = function(t, e) {
            (this.isDragging = !1),
              setTimeout(
                function() {
                  delete this.isPreventingClicks;
                }.bind(this)
              ),
              this.dragEnd(t, e);
          }),
          (n.dragEnd = function(t, e) {
            this.emitEvent("dragEnd", [t, e]);
          }),
          (n.onclick = function(t) {
            this.isPreventingClicks && t.preventDefault();
          }),
          (n._staticClick = function(t, e) {
            (this.isIgnoringMouseUp && "mouseup" == t.type) ||
              (this.staticClick(t, e),
              "mouseup" != t.type &&
                ((this.isIgnoringMouseUp = !0),
                setTimeout(
                  function() {
                    delete this.isIgnoringMouseUp;
                  }.bind(this),
                  400
                )));
          }),
          (n.staticClick = function(t, e) {
            this.emitEvent("staticClick", [t, e]);
          }),
          (i.getPointerPoint = e.getPointerPoint),
          i
        );
      }),
      (function(t, i) {
        (n = [p, m, c]),
          !(g = function(e, n, o) {
            return i(t, e, n, o);
          }.apply(e, n));
      })(window, function(t, e, i, n) {
        function o() {
          return { x: t.pageXOffset, y: t.pageYOffset };
        }
        n.extend(e.defaults, { draggable: ">1", dragThreshold: 3 }),
          e.createMethods.push("_createDrag");
        var r = e.prototype;
        n.extend(r, i.prototype), (r._touchActionValue = "pan-y");
        var s = "createTouch" in document,
          a = !1;
        (r._createDrag = function() {
          this.on("activate", this.onActivateDrag),
            this.on("uiChange", this._uiChangeDrag),
            this.on("childUIPointerDown", this._childUIPointerDownDrag),
            this.on("deactivate", this.onDeactivateDrag),
            this.on("cellChange", this.updateDraggable),
            s &&
              !a &&
              (t.addEventListener("touchmove", function() {}), (a = !0));
        }),
          (r.onActivateDrag = function() {
            (this.handles = [this.viewport]),
              this.bindHandles(),
              this.updateDraggable();
          }),
          (r.onDeactivateDrag = function() {
            this.unbindHandles(), this.element.classList.remove("is-draggable");
          }),
          (r.updateDraggable = function() {
            ">1" == this.options.draggable
              ? (this.isDraggable = this.slides.length > 1)
              : (this.isDraggable = this.options.draggable),
              this.isDraggable
                ? this.element.classList.add("is-draggable")
                : this.element.classList.remove("is-draggable");
          }),
          (r.bindDrag = function() {
            (this.options.draggable = !0), this.updateDraggable();
          }),
          (r.unbindDrag = function() {
            (this.options.draggable = !1), this.updateDraggable();
          }),
          (r._uiChangeDrag = function() {
            delete this.isFreeScrolling;
          }),
          (r._childUIPointerDownDrag = function(t) {
            t.preventDefault(), this.pointerDownFocus(t);
          }),
          (r.pointerDown = function(e, i) {
            if (!this.isDraggable) return void this._pointerDownDefault(e, i);
            var n = this.okayPointerDown(e);
            n &&
              (this._pointerDownPreventDefault(e),
              this.pointerDownFocus(e),
              document.activeElement != this.element && this.pointerDownBlur(),
              (this.dragX = this.x),
              this.viewport.classList.add("is-pointer-down"),
              (this.pointerDownScroll = o()),
              t.addEventListener("scroll", this),
              this._pointerDownDefault(e, i));
          }),
          (r._pointerDownDefault = function(t, e) {
            (this.pointerDownPointer = e),
              this._bindPostStartEvents(t),
              this.dispatchEvent("pointerDown", t, [e]);
          });
        var l = { INPUT: !0, TEXTAREA: !0, SELECT: !0 };
        return (
          (r.pointerDownFocus = function(t) {
            var e = l[t.target.nodeName];
            e || this.focus();
          }),
          (r._pointerDownPreventDefault = function(t) {
            var e = "touchstart" == t.type,
              i = "touch" == t.pointerType,
              n = l[t.target.nodeName];
            e || i || n || t.preventDefault();
          }),
          (r.hasDragStarted = function(t) {
            return Math.abs(t.x) > this.options.dragThreshold;
          }),
          (r.pointerUp = function(t, e) {
            delete this.isTouchScrolling,
              this.viewport.classList.remove("is-pointer-down"),
              this.dispatchEvent("pointerUp", t, [e]),
              this._dragPointerUp(t, e);
          }),
          (r.pointerDone = function() {
            t.removeEventListener("scroll", this),
              delete this.pointerDownScroll;
          }),
          (r.dragStart = function(e, i) {
            this.isDraggable &&
              ((this.dragStartPosition = this.x),
              this.startAnimation(),
              t.removeEventListener("scroll", this),
              this.dispatchEvent("dragStart", e, [i]));
          }),
          (r.pointerMove = function(t, e) {
            var i = this._dragPointerMove(t, e);
            this.dispatchEvent("pointerMove", t, [e, i]),
              this._dragMove(t, e, i);
          }),
          (r.dragMove = function(t, e, i) {
            if (this.isDraggable) {
              t.preventDefault(), (this.previousDragX = this.dragX);
              var n = this.options.rightToLeft ? -1 : 1;
              this.options.wrapAround && (i.x = i.x % this.slideableWidth);
              var o = this.dragStartPosition + i.x * n;
              if (!this.options.wrapAround && this.slides.length) {
                var r = Math.max(
                  -this.slides[0].target,
                  this.dragStartPosition
                );
                o = o > r ? 0.5 * (o + r) : o;
                var s = Math.min(
                  -this.getLastSlide().target,
                  this.dragStartPosition
                );
                o = o < s ? 0.5 * (o + s) : o;
              }
              (this.dragX = o),
                (this.dragMoveTime = new Date()),
                this.dispatchEvent("dragMove", t, [e, i]);
            }
          }),
          (r.dragEnd = function(t, e) {
            if (this.isDraggable) {
              this.options.freeScroll && (this.isFreeScrolling = !0);
              var i = this.dragEndRestingSelect();
              if (this.options.freeScroll && !this.options.wrapAround) {
                var n = this.getRestingPosition();
                this.isFreeScrolling =
                  -n > this.slides[0].target && -n < this.getLastSlide().target;
              } else
                this.options.freeScroll ||
                  i != this.selectedIndex ||
                  (i += this.dragEndBoostSelect());
              delete this.previousDragX,
                (this.isDragSelect = this.options.wrapAround),
                this.select(i),
                delete this.isDragSelect,
                this.dispatchEvent("dragEnd", t, [e]);
            }
          }),
          (r.dragEndRestingSelect = function() {
            var t = this.getRestingPosition(),
              e = Math.abs(this.getSlideDistance(-t, this.selectedIndex)),
              i = this._getClosestResting(t, e, 1),
              n = this._getClosestResting(t, e, -1),
              o = i.distance < n.distance ? i.index : n.index;
            return o;
          }),
          (r._getClosestResting = function(t, e, i) {
            for (
              var n = this.selectedIndex,
                o = 1 / 0,
                r =
                  this.options.contain && !this.options.wrapAround
                    ? function(t, e) {
                        return t <= e;
                      }
                    : function(t, e) {
                        return t < e;
                      };
              r(e, o) &&
              ((n += i),
              (o = e),
              (e = this.getSlideDistance(-t, n)),
              null !== e);

            )
              e = Math.abs(e);
            return { distance: o, index: n - i };
          }),
          (r.getSlideDistance = function(t, e) {
            var i = this.slides.length,
              o = this.options.wrapAround && i > 1,
              r = o ? n.modulo(e, i) : e,
              s = this.slides[r];
            if (!s) return null;
            var a = o ? this.slideableWidth * Math.floor(e / i) : 0;
            return t - (s.target + a);
          }),
          (r.dragEndBoostSelect = function() {
            if (
              void 0 === this.previousDragX ||
              !this.dragMoveTime ||
              new Date() - this.dragMoveTime > 100
            )
              return 0;
            var t = this.getSlideDistance(-this.dragX, this.selectedIndex),
              e = this.previousDragX - this.dragX;
            return t > 0 && e > 0 ? 1 : t < 0 && e < 0 ? -1 : 0;
          }),
          (r.staticClick = function(t, e) {
            var i = this.getParentCell(t.target),
              n = i && i.element,
              o = i && this.cells.indexOf(i);
            this.dispatchEvent("staticClick", t, [e, n, o]);
          }),
          (r.onscroll = function() {
            var t = o(),
              e = this.pointerDownScroll.x - t.x,
              i = this.pointerDownScroll.y - t.y;
            (Math.abs(e) > 3 || Math.abs(i) > 3) && this._pointerDone();
          }),
          e
        );
      }),
      /*!
          * Tap listener v2.0.0
          * listens to taps
          * MIT license
          */
      (function(t, i) {
        (n = [f]),
          !(v = function(e) {
            return i(t, e);
          }.apply(e, n));
      })(window, function(t, e) {
        function i(t) {
          this.bindTap(t);
        }
        var n = (i.prototype = Object.create(e.prototype));
        return (
          (n.bindTap = function(t) {
            t &&
              (this.unbindTap(),
              (this.tapElement = t),
              this._bindStartEvent(t, !0));
          }),
          (n.unbindTap = function() {
            this.tapElement &&
              (this._bindStartEvent(this.tapElement, !0),
              delete this.tapElement);
          }),
          (n.pointerUp = function(i, n) {
            if (!this.isIgnoringMouseUp || "mouseup" != i.type) {
              var o = e.getPointerPoint(n),
                r = this.tapElement.getBoundingClientRect(),
                s = t.pageXOffset,
                a = t.pageYOffset,
                l =
                  o.x >= r.left + s &&
                  o.x <= r.right + s &&
                  o.y >= r.top + a &&
                  o.y <= r.bottom + a;
              if ((l && this.emitEvent("tap", [i, n]), "mouseup" != i.type)) {
                this.isIgnoringMouseUp = !0;
                var c = this;
                setTimeout(function() {
                  delete c.isIgnoringMouseUp;
                }, 400);
              }
            }
          }),
          (n.destroy = function() {
            this.pointerDone(), this.unbindTap();
          }),
          i
        );
      }),
      (function(t, i) {
        (n = [p, v, c]),
          !(y = function(e, n, o) {
            return i(t, e, n, o);
          }.apply(e, n));
      })(window, function(t, e, i, n) {
        "use strict";
        function o(t, e) {
          (this.direction = t), (this.parent = e), this._create();
        }
        function r(t) {
          return "string" == typeof t
            ? t
            : "M " +
                t.x0 +
                ",50 L " +
                t.x1 +
                "," +
                (t.y1 + 50) +
                " L " +
                t.x2 +
                "," +
                (t.y2 + 50) +
                " L " +
                t.x3 +
                ",50  L " +
                t.x2 +
                "," +
                (50 - t.y2) +
                " L " +
                t.x1 +
                "," +
                (50 - t.y1) +
                " Z";
        }
        var s = "http://www.w3.org/2000/svg";
        (o.prototype = Object.create(i.prototype)),
          (o.prototype._create = function() {
            (this.isEnabled = !0), (this.isPrevious = this.direction == -1);
            var t = this.parent.options.rightToLeft ? 1 : -1;
            this.isLeft = this.direction == t;
            var e = (this.element = document.createElement("button"));
            (e.className = "flickity-button flickity-prev-next-button"),
              (e.className += this.isPrevious ? " previous" : " next"),
              e.setAttribute("type", "button"),
              this.disable(),
              e.setAttribute(
                "aria-label",
                this.isPrevious ? "Previous" : "Next"
              );
            var i = this.createSVG();
            e.appendChild(i),
              this.on("tap", this.onTap),
              this.parent.on("select", this.update.bind(this)),
              this.on(
                "pointerDown",
                this.parent.childUIPointerDown.bind(this.parent)
              );
          }),
          (o.prototype.activate = function() {
            this.bindTap(this.element),
              this.element.addEventListener("click", this),
              this.parent.element.appendChild(this.element);
          }),
          (o.prototype.deactivate = function() {
            this.parent.element.removeChild(this.element),
              i.prototype.destroy.call(this),
              this.element.removeEventListener("click", this);
          }),
          (o.prototype.createSVG = function() {
            var t = document.createElementNS(s, "svg");
            t.setAttribute("class", "flickity-button-icon"),
              t.setAttribute("viewBox", "0 0 100 100");
            var e = document.createElementNS(s, "path"),
              i = r(this.parent.options.arrowShape);
            return (
              e.setAttribute("d", i),
              e.setAttribute("class", "arrow"),
              this.isLeft ||
                e.setAttribute("transform", "translate(100, 100) rotate(180) "),
              t.appendChild(e),
              t
            );
          }),
          (o.prototype.onTap = function() {
            if (this.isEnabled) {
              this.parent.uiChange();
              var t = this.isPrevious ? "previous" : "next";
              this.parent[t]();
            }
          }),
          (o.prototype.handleEvent = n.handleEvent),
          (o.prototype.onclick = function(t) {
            var e = document.activeElement;
            e && e == this.element && this.onTap(t, t);
          }),
          (o.prototype.enable = function() {
            this.isEnabled ||
              ((this.element.disabled = !1), (this.isEnabled = !0));
          }),
          (o.prototype.disable = function() {
            this.isEnabled &&
              ((this.element.disabled = !0), (this.isEnabled = !1));
          }),
          (o.prototype.update = function() {
            var t = this.parent.slides;
            if (this.parent.options.wrapAround && t.length > 1)
              return void this.enable();
            var e = t.length ? t.length - 1 : 0,
              i = this.isPrevious ? 0 : e,
              n = this.parent.selectedIndex == i ? "disable" : "enable";
            this[n]();
          }),
          (o.prototype.destroy = function() {
            this.deactivate();
          }),
          n.extend(e.defaults, {
            prevNextButtons: !0,
            arrowShape: { x0: 10, x1: 60, y1: 50, x2: 70, y2: 40, x3: 30 }
          }),
          e.createMethods.push("_createPrevNextButtons");
        var a = e.prototype;
        return (
          (a._createPrevNextButtons = function() {
            this.options.prevNextButtons &&
              ((this.prevButton = new o(-1, this)),
              (this.nextButton = new o(1, this)),
              this.on("activate", this.activatePrevNextButtons));
          }),
          (a.activatePrevNextButtons = function() {
            this.prevButton.activate(),
              this.nextButton.activate(),
              this.on("deactivate", this.deactivatePrevNextButtons);
          }),
          (a.deactivatePrevNextButtons = function() {
            this.prevButton.deactivate(),
              this.nextButton.deactivate(),
              this.off("deactivate", this.deactivatePrevNextButtons);
          }),
          (e.PrevNextButton = o),
          e
        );
      }),
      (function(t, i) {
        (n = [p, v, c]),
          !(b = function(e, n, o) {
            return i(t, e, n, o);
          }.apply(e, n));
      })(window, function(t, e, i, n) {
        function o(t) {
          (this.parent = t), this._create();
        }
        (o.prototype = new i()),
          (o.prototype._create = function() {
            (this.holder = document.createElement("ol")),
              (this.holder.className = "flickity-page-dots"),
              (this.dots = []),
              this.on("tap", this.onTap),
              this.on(
                "pointerDown",
                this.parent.childUIPointerDown.bind(this.parent)
              );
          }),
          (o.prototype.activate = function() {
            this.setDots(),
              this.bindTap(this.holder),
              this.parent.element.appendChild(this.holder);
          }),
          (o.prototype.deactivate = function() {
            this.parent.element.removeChild(this.holder),
              i.prototype.destroy.call(this);
          }),
          (o.prototype.setDots = function() {
            var t = this.parent.slides.length - this.dots.length;
            t > 0 ? this.addDots(t) : t < 0 && this.removeDots(-t);
          }),
          (o.prototype.addDots = function(t) {
            for (
              var e = document.createDocumentFragment(),
                i = [],
                n = this.dots.length,
                o = n + t,
                r = n;
              r < o;
              r++
            ) {
              var s = document.createElement("li");
              (s.className = "dot"),
                s.setAttribute("aria-label", "Page dot " + (r + 1)),
                e.appendChild(s),
                i.push(s);
            }
            this.holder.appendChild(e), (this.dots = this.dots.concat(i));
          }),
          (o.prototype.removeDots = function(t) {
            var e = this.dots.splice(this.dots.length - t, t);
            e.forEach(function(t) {
              this.holder.removeChild(t);
            }, this);
          }),
          (o.prototype.updateSelected = function() {
            this.selectedDot &&
              ((this.selectedDot.className = "dot"),
              this.selectedDot.removeAttribute("aria-current")),
              this.dots.length &&
                ((this.selectedDot = this.dots[this.parent.selectedIndex]),
                (this.selectedDot.className = "dot is-selected"),
                this.selectedDot.setAttribute("aria-current", "step"));
          }),
          (o.prototype.onTap = function(t) {
            var e = t.target;
            if ("LI" == e.nodeName) {
              this.parent.uiChange();
              var i = this.dots.indexOf(e);
              this.parent.select(i);
            }
          }),
          (o.prototype.destroy = function() {
            this.deactivate();
          }),
          (e.PageDots = o),
          n.extend(e.defaults, { pageDots: !0 }),
          e.createMethods.push("_createPageDots");
        var r = e.prototype;
        return (
          (r._createPageDots = function() {
            this.options.pageDots &&
              ((this.pageDots = new o(this)),
              this.on("activate", this.activatePageDots),
              this.on("select", this.updateSelectedPageDots),
              this.on("cellChange", this.updatePageDots),
              this.on("resize", this.updatePageDots),
              this.on("deactivate", this.deactivatePageDots));
          }),
          (r.activatePageDots = function() {
            this.pageDots.activate();
          }),
          (r.updateSelectedPageDots = function() {
            this.pageDots.updateSelected();
          }),
          (r.updatePageDots = function() {
            this.pageDots.setDots();
          }),
          (r.deactivatePageDots = function() {
            this.pageDots.deactivate();
          }),
          (e.PageDots = o),
          e
        );
      }),
      (function(t, i) {
        (n = [s, c, p]),
          !(w = function(t, e, n) {
            return i(t, e, n);
          }.apply(e, n));
      })(window, function(t, e, i) {
        function n(t) {
          (this.parent = t),
            (this.state = "stopped"),
            (this.onVisibilityChange = this.visibilityChange.bind(this)),
            (this.onVisibilityPlay = this.visibilityPlay.bind(this));
        }
        (n.prototype = Object.create(t.prototype)),
          (n.prototype.play = function() {
            if ("playing" != this.state) {
              var t = document.hidden;
              if (t)
                return void document.addEventListener(
                  "visibilitychange",
                  this.onVisibilityPlay
                );
              (this.state = "playing"),
                document.addEventListener(
                  "visibilitychange",
                  this.onVisibilityChange
                ),
                this.tick();
            }
          }),
          (n.prototype.tick = function() {
            if ("playing" == this.state) {
              var t = this.parent.options.autoPlay;
              t = "number" == typeof t ? t : 3e3;
              var e = this;
              this.clear(),
                (this.timeout = setTimeout(function() {
                  e.parent.next(!0), e.tick();
                }, t));
            }
          }),
          (n.prototype.stop = function() {
            (this.state = "stopped"),
              this.clear(),
              document.removeEventListener(
                "visibilitychange",
                this.onVisibilityChange
              );
          }),
          (n.prototype.clear = function() {
            clearTimeout(this.timeout);
          }),
          (n.prototype.pause = function() {
            "playing" == this.state && ((this.state = "paused"), this.clear());
          }),
          (n.prototype.unpause = function() {
            "paused" == this.state && this.play();
          }),
          (n.prototype.visibilityChange = function() {
            var t = document.hidden;
            this[t ? "pause" : "unpause"]();
          }),
          (n.prototype.visibilityPlay = function() {
            this.play(),
              document.removeEventListener(
                "visibilitychange",
                this.onVisibilityPlay
              );
          }),
          e.extend(i.defaults, { pauseAutoPlayOnHover: !0 }),
          i.createMethods.push("_createPlayer");
        var o = i.prototype;
        return (
          (o._createPlayer = function() {
            (this.player = new n(this)),
              this.on("activate", this.activatePlayer),
              this.on("uiChange", this.stopPlayer),
              this.on("pointerDown", this.stopPlayer),
              this.on("deactivate", this.deactivatePlayer);
          }),
          (o.activatePlayer = function() {
            this.options.autoPlay &&
              (this.player.play(),
              this.element.addEventListener("mouseenter", this));
          }),
          (o.playPlayer = function() {
            this.player.play();
          }),
          (o.stopPlayer = function() {
            this.player.stop();
          }),
          (o.pausePlayer = function() {
            this.player.pause();
          }),
          (o.unpausePlayer = function() {
            this.player.unpause();
          }),
          (o.deactivatePlayer = function() {
            this.player.stop(),
              this.element.removeEventListener("mouseenter", this);
          }),
          (o.onmouseenter = function() {
            this.options.pauseAutoPlayOnHover &&
              (this.player.pause(),
              this.element.addEventListener("mouseleave", this));
          }),
          (o.onmouseleave = function() {
            this.player.unpause(),
              this.element.removeEventListener("mouseleave", this);
          }),
          (i.Player = n),
          i
        );
      }),
      (function(t, i) {
        (n = [p, c]),
          !(x = function(e, n) {
            return i(t, e, n);
          }.apply(e, n));
      })(window, function(t, e, i) {
        function n(t) {
          var e = document.createDocumentFragment();
          return (
            t.forEach(function(t) {
              e.appendChild(t.element);
            }),
            e
          );
        }
        var o = e.prototype;
        return (
          (o.insert = function(t, e) {
            var i = this._makeCells(t);
            if (i && i.length) {
              var o = this.cells.length;
              e = void 0 === e ? o : e;
              var r = n(i),
                s = e == o;
              if (s) this.slider.appendChild(r);
              else {
                var a = this.cells[e].element;
                this.slider.insertBefore(r, a);
              }
              if (0 === e) this.cells = i.concat(this.cells);
              else if (s) this.cells = this.cells.concat(i);
              else {
                var l = this.cells.splice(e, o - e);
                this.cells = this.cells.concat(i).concat(l);
              }
              this._sizeCells(i), this.cellChange(e, !0);
            }
          }),
          (o.append = function(t) {
            this.insert(t, this.cells.length);
          }),
          (o.prepend = function(t) {
            this.insert(t, 0);
          }),
          (o.remove = function(t) {
            var e = this.getCells(t);
            if (e && e.length) {
              var n = this.cells.length - 1;
              e.forEach(function(t) {
                t.remove();
                var e = this.cells.indexOf(t);
                (n = Math.min(e, n)), i.removeFrom(this.cells, t);
              }, this),
                this.cellChange(n, !0);
            }
          }),
          (o.cellSizeChange = function(t) {
            var e = this.getCell(t);
            if (e) {
              e.getSize();
              var i = this.cells.indexOf(e);
              this.cellChange(i);
            }
          }),
          (o.cellChange = function(t, e) {
            var i = this.selectedElement;
            this._positionCells(t),
              this._getWrapShiftCells(),
              this.setGallerySize();
            var n = this.getCell(i);
            n && (this.selectedIndex = this.getCellSlideIndex(n)),
              (this.selectedIndex = Math.min(
                this.slides.length - 1,
                this.selectedIndex
              )),
              this.emitEvent("cellChange", [t]),
              this.select(this.selectedIndex),
              e && this.positionSliderAtSelected();
          }),
          e
        );
      }),
      (function(t, i) {
        (n = [p, c]),
          !(S = function(e, n) {
            return i(t, e, n);
          }.apply(e, n));
      })(window, function(t, e, i) {
        "use strict";
        function n(t) {
          if ("IMG" == t.nodeName) {
            var e = t.getAttribute("data-flickity-lazyload"),
              n = t.getAttribute("data-flickity-lazyload-src"),
              o = t.getAttribute("data-flickity-lazyload-srcset");
            if (e || n || o) return [t];
          }
          var r =
              "img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",
            s = t.querySelectorAll(r);
          return i.makeArray(s);
        }
        function o(t, e) {
          (this.img = t), (this.flickity = e), this.load();
        }
        e.createMethods.push("_createLazyload");
        var r = e.prototype;
        return (
          (r._createLazyload = function() {
            this.on("select", this.lazyLoad);
          }),
          (r.lazyLoad = function() {
            var t = this.options.lazyLoad;
            if (t) {
              var e = "number" == typeof t ? t : 0,
                i = this.getAdjacentCellElements(e),
                r = [];
              i.forEach(function(t) {
                var e = n(t);
                r = r.concat(e);
              }),
                r.forEach(function(t) {
                  new o(t, this);
                }, this);
            }
          }),
          (o.prototype.handleEvent = i.handleEvent),
          (o.prototype.load = function() {
            this.img.addEventListener("load", this),
              this.img.addEventListener("error", this);
            var t =
                this.img.getAttribute("data-flickity-lazyload") ||
                this.img.getAttribute("data-flickity-lazyload-src"),
              e = this.img.getAttribute("data-flickity-lazyload-srcset");
            (this.img.src = t),
              e && this.img.setAttribute("srcset", e),
              this.img.removeAttribute("data-flickity-lazyload"),
              this.img.removeAttribute("data-flickity-lazyload-src"),
              this.img.removeAttribute("data-flickity-lazyload-srcset");
          }),
          (o.prototype.onload = function(t) {
            this.complete(t, "flickity-lazyloaded");
          }),
          (o.prototype.onerror = function(t) {
            this.complete(t, "flickity-lazyerror");
          }),
          (o.prototype.complete = function(t, e) {
            this.img.removeEventListener("load", this),
              this.img.removeEventListener("error", this);
            var i = this.flickity.getParentCell(this.img),
              n = i && i.element;
            this.flickity.cellSizeChange(n),
              this.img.classList.add(e),
              this.flickity.dispatchEvent("lazyLoad", t, n);
          }),
          (e.LazyLoader = o),
          e
        );
      }),
      /*!
          * Flickity v2.1.2
          * Touch, responsive, flickable carousels
          *
          * Licensed GPLv3 for open source use
          * or Flickity Commercial License for commercial use
          *
          * https://flickity.metafizzy.co
          * Copyright 2015-2018 Metafizzy
          */
      (function(t, i) {
        (n = [p, g, y, b, w, x, S]),
          (r = i),
          !(C = "function" == typeof r ? r.apply(e, n) : r);
      })(window, function(t) {
        return t;
      }),
      /*!
          * Flickity asNavFor v2.0.1
          * enable asNavFor for Flickity
          */
      (function(i, s) {
        (n = [C, c]),
          (r = s),
          (o = "function" == typeof r ? r.apply(e, n) : r),
          !(void 0 !== o && (t.exports = o));
      })(window, function(t, e) {
        function i(t, e, i) {
          return (e - t) * i + t;
        }
        t.createMethods.push("_createAsNavFor");
        var n = t.prototype;
        return (
          (n._createAsNavFor = function() {
            this.on("activate", this.activateAsNavFor),
              this.on("deactivate", this.deactivateAsNavFor),
              this.on("destroy", this.destroyAsNavFor);
            var t = this.options.asNavFor;
            if (t) {
              var e = this;
              setTimeout(function() {
                e.setNavCompanion(t);
              });
            }
          }),
          (n.setNavCompanion = function(i) {
            i = e.getQueryElement(i);
            var n = t.data(i);
            if (n && n != this) {
              this.navCompanion = n;
              var o = this;
              (this.onNavCompanionSelect = function() {
                o.navCompanionSelect();
              }),
                n.on("select", this.onNavCompanionSelect),
                this.on("staticClick", this.onNavStaticClick),
                this.navCompanionSelect(!0);
            }
          }),
          (n.navCompanionSelect = function(t) {
            if (this.navCompanion) {
              var e = this.navCompanion.selectedCells[0],
                n = this.navCompanion.cells.indexOf(e),
                o = n + this.navCompanion.selectedCells.length - 1,
                r = Math.floor(i(n, o, this.navCompanion.cellAlign));
              if (
                (this.selectCell(r, !1, t),
                this.removeNavSelectedElements(),
                !(r >= this.cells.length))
              ) {
                var s = this.cells.slice(n, o + 1);
                (this.navSelectedElements = s.map(function(t) {
                  return t.element;
                })),
                  this.changeNavSelectedClass("add");
              }
            }
          }),
          (n.changeNavSelectedClass = function(t) {
            this.navSelectedElements.forEach(function(e) {
              e.classList[t]("is-nav-selected");
            });
          }),
          (n.activateAsNavFor = function() {
            this.navCompanionSelect(!0);
          }),
          (n.removeNavSelectedElements = function() {
            this.navSelectedElements &&
              (this.changeNavSelectedClass("remove"),
              delete this.navSelectedElements);
          }),
          (n.onNavStaticClick = function(t, e, i, n) {
            "number" == typeof n && this.navCompanion.selectCell(n);
          }),
          (n.deactivateAsNavFor = function() {
            this.removeNavSelectedElements();
          }),
          (n.destroyAsNavFor = function() {
            this.navCompanion &&
              (this.navCompanion.off("select", this.onNavCompanionSelect),
              this.off("staticClick", this.onNavStaticClick),
              delete this.navCompanion);
          }),
          t
        );
      }),
      /*!
          * imagesLoaded v4.1.4
          * JavaScript is all like "You images are done yet or what?"
          * MIT License
          */
      (function(t, i) {
        "use strict";
        (n = [s]),
          !(k = function(e) {
            return i(t, e);
          }.apply(e, n));
      })("undefined" != typeof window ? window : this, function(t, e) {
        function i(t, e) {
          for (var i in e) t[i] = e[i];
          return t;
        }
        function n(t) {
          if (Array.isArray(t)) return t;
          var e = "object" == typeof t && "number" == typeof t.length;
          return e ? c.call(t) : [t];
        }
        function o(t, e, r) {
          if (!(this instanceof o)) return new o(t, e, r);
          var s = t;
          return (
            "string" == typeof t && (s = document.querySelectorAll(t)),
            s
              ? ((this.elements = n(s)),
                (this.options = i({}, this.options)),
                "function" == typeof e ? (r = e) : i(this.options, e),
                r && this.on("always", r),
                this.getImages(),
                a && (this.jqDeferred = new a.Deferred()),
                void setTimeout(this.check.bind(this)))
              : void l.error("Bad element for imagesLoaded " + (s || t))
          );
        }
        function r(t) {
          this.img = t;
        }
        function s(t, e) {
          (this.url = t), (this.element = e), (this.img = new Image());
        }
        var a = t.jQuery,
          l = t.console,
          c = Array.prototype.slice;
        (o.prototype = Object.create(e.prototype)),
          (o.prototype.options = {}),
          (o.prototype.getImages = function() {
            (this.images = []),
              this.elements.forEach(this.addElementImages, this);
          }),
          (o.prototype.addElementImages = function(t) {
            "IMG" == t.nodeName && this.addImage(t),
              this.options.background === !0 &&
                this.addElementBackgroundImages(t);
            var e = t.nodeType;
            if (e && u[e]) {
              for (
                var i = t.querySelectorAll("img"), n = 0;
                n < i.length;
                n++
              ) {
                var o = i[n];
                this.addImage(o);
              }
              if ("string" == typeof this.options.background) {
                var r = t.querySelectorAll(this.options.background);
                for (n = 0; n < r.length; n++) {
                  var s = r[n];
                  this.addElementBackgroundImages(s);
                }
              }
            }
          });
        var u = { 1: !0, 9: !0, 11: !0 };
        return (
          (o.prototype.addElementBackgroundImages = function(t) {
            var e = getComputedStyle(t);
            if (e)
              for (
                var i = /url\((['"])?(.*?)\1\)/gi,
                  n = i.exec(e.backgroundImage);
                null !== n;

              ) {
                var o = n && n[2];
                o && this.addBackground(o, t), (n = i.exec(e.backgroundImage));
              }
          }),
          (o.prototype.addImage = function(t) {
            var e = new r(t);
            this.images.push(e);
          }),
          (o.prototype.addBackground = function(t, e) {
            var i = new s(t, e);
            this.images.push(i);
          }),
          (o.prototype.check = function() {
            function t(t, i, n) {
              setTimeout(function() {
                e.progress(t, i, n);
              });
            }
            var e = this;
            return (
              (this.progressedCount = 0),
              (this.hasAnyBroken = !1),
              this.images.length
                ? void this.images.forEach(function(e) {
                    e.once("progress", t), e.check();
                  })
                : void this.complete()
            );
          }),
          (o.prototype.progress = function(t, e, i) {
            this.progressedCount++,
              (this.hasAnyBroken = this.hasAnyBroken || !t.isLoaded),
              this.emitEvent("progress", [this, t, e]),
              this.jqDeferred &&
                this.jqDeferred.notify &&
                this.jqDeferred.notify(this, t),
              this.progressedCount == this.images.length && this.complete(),
              this.options.debug && l && l.log("progress: " + i, t, e);
          }),
          (o.prototype.complete = function() {
            var t = this.hasAnyBroken ? "fail" : "done";
            if (
              ((this.isComplete = !0),
              this.emitEvent(t, [this]),
              this.emitEvent("always", [this]),
              this.jqDeferred)
            ) {
              var e = this.hasAnyBroken ? "reject" : "resolve";
              this.jqDeferred[e](this);
            }
          }),
          (r.prototype = Object.create(e.prototype)),
          (r.prototype.check = function() {
            var t = this.getIsImageComplete();
            return t
              ? void this.confirm(0 !== this.img.naturalWidth, "naturalWidth")
              : ((this.proxyImage = new Image()),
                this.proxyImage.addEventListener("load", this),
                this.proxyImage.addEventListener("error", this),
                this.img.addEventListener("load", this),
                this.img.addEventListener("error", this),
                void (this.proxyImage.src = this.img.src));
          }),
          (r.prototype.getIsImageComplete = function() {
            return this.img.complete && this.img.naturalWidth;
          }),
          (r.prototype.confirm = function(t, e) {
            (this.isLoaded = t),
              this.emitEvent("progress", [this, this.img, e]);
          }),
          (r.prototype.handleEvent = function(t) {
            var e = "on" + t.type;
            this[e] && this[e](t);
          }),
          (r.prototype.onload = function() {
            this.confirm(!0, "onload"), this.unbindEvents();
          }),
          (r.prototype.onerror = function() {
            this.confirm(!1, "onerror"), this.unbindEvents();
          }),
          (r.prototype.unbindEvents = function() {
            this.proxyImage.removeEventListener("load", this),
              this.proxyImage.removeEventListener("error", this),
              this.img.removeEventListener("load", this),
              this.img.removeEventListener("error", this);
          }),
          (s.prototype = Object.create(r.prototype)),
          (s.prototype.check = function() {
            this.img.addEventListener("load", this),
              this.img.addEventListener("error", this),
              (this.img.src = this.url);
            var t = this.getIsImageComplete();
            t &&
              (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"),
              this.unbindEvents());
          }),
          (s.prototype.unbindEvents = function() {
            this.img.removeEventListener("load", this),
              this.img.removeEventListener("error", this);
          }),
          (s.prototype.confirm = function(t, e) {
            (this.isLoaded = t),
              this.emitEvent("progress", [this, this.element, e]);
          }),
          (o.makeJQueryPlugin = function(e) {
            (e = e || t.jQuery),
              e &&
                ((a = e),
                (a.fn.imagesLoaded = function(t, e) {
                  var i = new o(this, t, e);
                  return i.jqDeferred.promise(a(this));
                }));
          }),
          o.makeJQueryPlugin(),
          o
        );
      }),
      /*!
          * Flickity imagesLoaded v2.0.0
          * enables imagesLoaded option for Flickity
          */
      (function(i, r) {
        (n = [C, k]),
          (o = function(t, e) {
            return r(i, t, e);
          }.apply(e, n)),
          !(void 0 !== o && (t.exports = o));
      })(window, function(t, e, i) {
        "use strict";
        e.createMethods.push("_createImagesLoaded");
        var n = e.prototype;
        return (
          (n._createImagesLoaded = function() {
            this.on("activate", this.imagesLoaded);
          }),
          (n.imagesLoaded = function() {
            function t(t, i) {
              var n = e.getParentCell(i.img);
              e.cellSizeChange(n && n.element),
                e.options.freeScroll || e.positionSliderAtSelected();
            }
            if (this.options.imagesLoaded) {
              var e = this;
              i(this.slider).on("progress", t);
            }
          }),
          e
        );
      });
  },
  function(t, e) {
    t.exports = window.jQuery;
  },
  function(t, e) {
    !(function() {
      var t = window.MutationObserver || window.WebKitMutationObserver,
        e =
          "ontouchstart" in window ||
          (window.DocumentTouch && document instanceof DocumentTouch),
        i =
          void 0 !== document.documentElement.style["touch-action"] ||
          document.documentElement.style["-ms-touch-action"];
      if (!i && e && t) {
        window.Hammer = window.Hammer || {};
        var n = /touch-action[:][\s]*(none)[^;'"]*/,
          o = /touch-action[:][\s]*(manipulation)[^;'"]*/,
          r = /touch-action/,
          s =
            /(iP(ad|hone|od))/.test(navigator.userAgent) &&
            ("indexedDB" in window || !!window.performance);
        (window.Hammer.time = {
          getTouchAction: function(t) {
            return this.checkStyleString(t.getAttribute("style"));
          },
          checkStyleString: function(t) {
            if (r.test(t))
              return n.test(t) ? "none" : !o.test(t) || "manipulation";
          },
          shouldHammer: function(t) {
            var e = t.target.hasParent;
            return (
              !(!e || (s && !(Date.now() - t.target.lastStart < 125))) && e
            );
          },
          touchHandler: function(t) {
            var e = this.shouldHammer(t);
            if ("none" === e) this.dropHammer(t);
            else if ("manipulation" === e) {
              var i = t.target.getBoundingClientRect(),
                n = i.top !== this.pos.top || i.left !== this.pos.left;
              !n && this.dropHammer(t);
            }
            (this.scrolled = !1),
              delete t.target.lastStart,
              delete t.target.hasParent;
          },
          dropHammer: function(t) {
            "touchend" === t.type &&
              (t.target.focus(),
              setTimeout(function() {
                t.target.click();
              }, 0)),
              t.preventDefault();
          },
          touchStart: function(t) {
            (this.pos = t.target.getBoundingClientRect()),
              (t.target.hasParent = this.hasParent(t.target)),
              s && t.target.hasParent && (t.target.lastStart = Date.now());
          },
          styleWatcher: function(t) {
            t.forEach(this.styleUpdater, this);
          },
          styleUpdater: function(t) {
            if (t.target.updateNext) return void (t.target.updateNext = !1);
            var e = this.getTouchAction(t.target);
            return e
              ? void ("none" !== e && (t.target.hadTouchNone = !1))
              : void (
                  !e &&
                  ((t.oldValue && this.checkStyleString(t.oldValue)) ||
                    t.target.hadTouchNone) &&
                  ((t.target.hadTouchNone = !0),
                  (t.target.updateNext = !1),
                  t.target.setAttribute(
                    "style",
                    t.target.getAttribute("style") + " touch-action: none;"
                  ))
                );
          },
          hasParent: function(t) {
            for (var e, i = t; i && i.parentNode; i = i.parentNode)
              if ((e = this.getTouchAction(i))) return e;
            return !1;
          },
          installStartEvents: function() {
            document.addEventListener("touchstart", this.touchStart.bind(this)),
              document.addEventListener(
                "mousedown",
                this.touchStart.bind(this)
              );
          },
          installEndEvents: function() {
            document.addEventListener(
              "touchend",
              this.touchHandler.bind(this),
              !0
            ),
              document.addEventListener(
                "mouseup",
                this.touchHandler.bind(this),
                !0
              );
          },
          installObserver: function() {
            this.observer = new t(this.styleWatcher.bind(this)).observe(
              document,
              {
                subtree: !0,
                attributes: !0,
                attributeOldValue: !0,
                attributeFilter: ["style"]
              }
            );
          },
          install: function() {
            this.installEndEvents(),
              this.installStartEvents(),
              this.installObserver();
          }
        }),
          window.Hammer.time.install();
      }
    })();
  },
  function(t, e, i) {
    !(function(t, e) {
      e();
    })(0, function() {
      "use strict";
      function t(t, e) {
        if (!(t instanceof e))
          throw new TypeError("Cannot call a class as a function");
      }
      var e = (function() {
          function t(t, e) {
            for (var i = 0; i < e.length; i++) {
              var n = e[i];
              (n.enumerable = n.enumerable || !1),
                (n.configurable = !0),
                "value" in n && (n.writable = !0),
                Object.defineProperty(t, n.key, n);
            }
          }
          return function(e, i, n) {
            return i && t(e.prototype, i), n && t(e, n), e;
          };
        })(),
        i = (function() {
          var i = ".stickySidebar",
            n = {
              topSpacing: 0,
              bottomSpacing: 0,
              containerSelector: !1,
              innerWrapperSelector: ".inner-wrapper-sticky",
              stickyClass: "is-affixed",
              resizeSensor: !0,
              minWidth: !1
            };
          return (function() {
            function o(e) {
              var i = this,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
              if (
                (t(this, o),
                (this.options = o.extend(n, r)),
                (this.sidebar =
                  "string" == typeof e ? document.querySelector(e) : e),
                void 0 === this.sidebar)
              )
                throw new Error("There is no specific sidebar element.");
              (this.sidebarInner = !1),
                (this.container = this.sidebar.parentElement),
                (this.affixedType = "STATIC"),
                (this.direction = "down"),
                (this.support = { transform: !1, transform3d: !1 }),
                (this._initialized = !1),
                (this._reStyle = !1),
                (this._breakpoint = !1),
                (this._resizeListeners = []),
                (this.dimensions = {
                  translateY: 0,
                  topSpacing: 0,
                  lastTopSpacing: 0,
                  bottomSpacing: 0,
                  lastBottomSpacing: 0,
                  sidebarHeight: 0,
                  sidebarWidth: 0,
                  containerTop: 0,
                  containerHeight: 0,
                  viewportHeight: 0,
                  viewportTop: 0,
                  lastViewportTop: 0
                }),
                ["handleEvent"].forEach(function(t) {
                  i[t] = i[t].bind(i);
                }),
                this.initialize();
            }
            return (
              e(
                o,
                [
                  {
                    key: "initialize",
                    value: function() {
                      var t = this;
                      if (
                        (this._setSupportFeatures(),
                        this.options.innerWrapperSelector &&
                          ((this.sidebarInner = this.sidebar.querySelector(
                            this.options.innerWrapperSelector
                          )),
                          null === this.sidebarInner &&
                            (this.sidebarInner = !1)),
                        !this.sidebarInner)
                      ) {
                        var e = document.createElement("div");
                        for (
                          e.setAttribute("class", "inner-wrapper-sticky"),
                            this.sidebar.appendChild(e);
                          this.sidebar.firstChild != e;

                        )
                          e.appendChild(this.sidebar.firstChild);
                        this.sidebarInner = this.sidebar.querySelector(
                          ".inner-wrapper-sticky"
                        );
                      }
                      if (this.options.containerSelector) {
                        var i = document.querySelectorAll(
                          this.options.containerSelector
                        );
                        if (
                          ((i = Array.prototype.slice.call(i)).forEach(function(
                            e,
                            i
                          ) {
                            e.contains(t.sidebar) && (t.container = e);
                          }),
                          !i.length)
                        )
                          throw new Error(
                            "The container does not contains on the sidebar."
                          );
                      }
                      "function" != typeof this.options.topSpacing &&
                        (this.options.topSpacing =
                          parseInt(this.options.topSpacing) || 0),
                        "function" != typeof this.options.bottomSpacing &&
                          (this.options.bottomSpacing =
                            parseInt(this.options.bottomSpacing) || 0),
                        this._widthBreakpoint(),
                        this.calcDimensions(),
                        this.stickyPosition(),
                        this.bindEvents(),
                        (this._initialized = !0);
                    }
                  },
                  {
                    key: "bindEvents",
                    value: function() {
                      window.addEventListener("resize", this, {
                        passive: !0,
                        capture: !1
                      }),
                        window.addEventListener("scroll", this, {
                          passive: !0,
                          capture: !1
                        }),
                        this.sidebar.addEventListener("update" + i, this),
                        this.options.resizeSensor &&
                          "undefined" != typeof ResizeSensor &&
                          (new ResizeSensor(
                            this.sidebarInner,
                            this.handleEvent
                          ),
                          new ResizeSensor(this.container, this.handleEvent));
                    }
                  },
                  {
                    key: "handleEvent",
                    value: function(t) {
                      this.updateSticky(t);
                    }
                  },
                  {
                    key: "calcDimensions",
                    value: function() {
                      if (!this._breakpoint) {
                        var t = this.dimensions;
                        (t.containerTop = o.offsetRelative(this.container).top),
                          (t.containerHeight = this.container.clientHeight),
                          (t.containerBottom =
                            t.containerTop + t.containerHeight),
                          (t.sidebarHeight = this.sidebarInner.offsetHeight),
                          (t.sidebarWidth = this.sidebar.offsetWidth),
                          (t.viewportHeight = window.innerHeight),
                          this._calcDimensionsWithScroll();
                      }
                    }
                  },
                  {
                    key: "_calcDimensionsWithScroll",
                    value: function() {
                      var t = this.dimensions;
                      (t.sidebarLeft = o.offsetRelative(this.sidebar).left),
                        (t.viewportTop =
                          document.documentElement.scrollTop ||
                          document.body.scrollTop),
                        (t.viewportBottom = t.viewportTop + t.viewportHeight),
                        (t.viewportLeft =
                          document.documentElement.scrollLeft ||
                          document.body.scrollLeft),
                        (t.topSpacing = this.options.topSpacing),
                        (t.bottomSpacing = this.options.bottomSpacing),
                        "function" == typeof t.topSpacing &&
                          (t.topSpacing =
                            parseInt(t.topSpacing(this.sidebar)) || 0),
                        "function" == typeof t.bottomSpacing &&
                          (t.bottomSpacing =
                            parseInt(t.bottomSpacing(this.sidebar)) || 0),
                        "VIEWPORT-TOP" === this.affixedType
                          ? t.topSpacing < t.lastTopSpacing &&
                            ((t.translateY += t.lastTopSpacing - t.topSpacing),
                            (this._reStyle = !0))
                          : "VIEWPORT-BOTTOM" === this.affixedType &&
                            t.bottomSpacing < t.lastBottomSpacing &&
                            ((t.translateY +=
                              t.lastBottomSpacing - t.bottomSpacing),
                            (this._reStyle = !0)),
                        (t.lastTopSpacing = t.topSpacing),
                        (t.lastBottomSpacing = t.bottomSpacing);
                    }
                  },
                  {
                    key: "isSidebarFitsViewport",
                    value: function() {
                      return (
                        this.dimensions.sidebarHeight <
                        this.dimensions.viewportHeight
                      );
                    }
                  },
                  {
                    key: "observeScrollDir",
                    value: function() {
                      var t = this.dimensions;
                      if (t.lastViewportTop !== t.viewportTop) {
                        var e = "down" === this.direction ? Math.min : Math.max;
                        t.viewportTop === e(t.viewportTop, t.lastViewportTop) &&
                          (this.direction =
                            "down" === this.direction ? "up" : "down");
                      }
                    }
                  },
                  {
                    key: "getAffixType",
                    value: function() {
                      var t = this.dimensions,
                        e = !1;
                      this._calcDimensionsWithScroll();
                      var i = t.sidebarHeight + t.containerTop,
                        n = t.viewportTop + t.topSpacing,
                        o = t.viewportBottom - t.bottomSpacing;
                      return (
                        "up" === this.direction
                          ? n <= t.containerTop
                            ? ((t.translateY = 0), (e = "STATIC"))
                            : n <= t.translateY + t.containerTop
                              ? ((t.translateY = n - t.containerTop),
                                (e = "VIEWPORT-TOP"))
                              : !this.isSidebarFitsViewport() &&
                                t.containerTop <= n &&
                                (e = "VIEWPORT-UNBOTTOM")
                          : this.isSidebarFitsViewport()
                            ? t.sidebarHeight + n >= t.containerBottom
                              ? ((t.translateY = t.containerBottom - i),
                                (e = "CONTAINER-BOTTOM"))
                              : n >= t.containerTop &&
                                ((t.translateY = n - t.containerTop),
                                (e = "VIEWPORT-TOP"))
                            : t.containerBottom <= o
                              ? ((t.translateY = t.containerBottom - i),
                                (e = "CONTAINER-BOTTOM"))
                              : i + t.translateY <= o
                                ? ((t.translateY = o - i),
                                  (e = "VIEWPORT-BOTTOM"))
                                : t.containerTop + t.translateY <= n &&
                                  (e = "VIEWPORT-UNBOTTOM"),
                        (t.translateY = Math.max(0, t.translateY)),
                        (t.translateY = Math.min(
                          t.containerHeight,
                          t.translateY
                        )),
                        (t.lastViewportTop = t.viewportTop),
                        e
                      );
                    }
                  },
                  {
                    key: "_getStyle",
                    value: function(t) {
                      if (void 0 !== t) {
                        var e = { inner: {}, outer: {} },
                          i = this.dimensions;
                        switch (t) {
                          case "VIEWPORT-TOP":
                            e.inner = {
                              position: "fixed",
                              top: i.topSpacing,
                              left: i.sidebarLeft - i.viewportLeft,
                              width: i.sidebarWidth
                            };
                            break;
                          case "VIEWPORT-BOTTOM":
                            e.inner = {
                              position: "fixed",
                              top: "auto",
                              left: i.sidebarLeft,
                              bottom: i.bottomSpacing,
                              width: i.sidebarWidth
                            };
                            break;
                          case "CONTAINER-BOTTOM":
                          case "VIEWPORT-UNBOTTOM":
                            var n = this._getTranslate(0, i.translateY + "px");
                            e.inner = n
                              ? { transform: n }
                              : {
                                  position: "absolute",
                                  top: i.translateY,
                                  width: i.sidebarWidth
                                };
                        }
                        switch (t) {
                          case "VIEWPORT-TOP":
                          case "VIEWPORT-BOTTOM":
                          case "VIEWPORT-UNBOTTOM":
                          case "CONTAINER-BOTTOM":
                            e.outer = {
                              height: i.sidebarHeight,
                              position: "relative"
                            };
                        }
                        return (
                          (e.outer = o.extend(
                            { height: "", position: "" },
                            e.outer
                          )),
                          (e.inner = o.extend(
                            {
                              position: "relative",
                              top: "",
                              left: "",
                              bottom: "",
                              width: "",
                              transform: this._getTranslate()
                            },
                            e.inner
                          )),
                          e
                        );
                      }
                    }
                  },
                  {
                    key: "stickyPosition",
                    value: function(t) {
                      if (!this._breakpoint) {
                        t = this._reStyle || t || !1;
                        var e = this.getAffixType(),
                          n = this._getStyle(e);
                        if ((this.affixedType != e || t) && e) {
                          var r =
                            "affix." +
                            e.toLowerCase().replace("viewport-", "") +
                            i;
                          o.eventTrigger(this.sidebar, r),
                            "STATIC" === e
                              ? o.removeClass(
                                  this.sidebar,
                                  this.options.stickyClass
                                )
                              : o.addClass(
                                  this.sidebar,
                                  this.options.stickyClass
                                );
                          for (var s in n.outer)
                            this.sidebar.style[s] = n.outer[s];
                          for (var a in n.inner) {
                            var l = "number" == typeof n.inner[a] ? "px" : "";
                            this.sidebarInner.style[a] = n.inner[a] + l;
                          }
                          var c =
                            "affixed." +
                            e.toLowerCase().replace("viewport-", "") +
                            i;
                          o.eventTrigger(this.sidebar, c);
                        } else
                          this._initialized &&
                            (this.sidebarInner.style.left = n.inner.left);
                        this.affixedType = e;
                      }
                    }
                  },
                  {
                    key: "_widthBreakpoint",
                    value: function() {
                      window.innerWidth <= this.options.minWidth
                        ? ((this._breakpoint = !0),
                          (this.affixedType = "STATIC"),
                          this.sidebar.removeAttribute("style"),
                          o.removeClass(this.sidebar, this.options.stickyClass),
                          this.sidebarInner.removeAttribute("style"))
                        : (this._breakpoint = !1);
                    }
                  },
                  {
                    key: "updateSticky",
                    value: function() {
                      var t = this,
                        e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : {};
                      this._running ||
                        ((this._running = !0),
                        (function(e) {
                          requestAnimationFrame(function() {
                            switch (e) {
                              case "scroll":
                                t._calcDimensionsWithScroll(),
                                  t.observeScrollDir(),
                                  t.stickyPosition();
                                break;
                              case "resize":
                              default:
                                t._widthBreakpoint(),
                                  t.calcDimensions(),
                                  t.stickyPosition(!0);
                            }
                            t._running = !1;
                          });
                        })(e.type));
                    }
                  },
                  {
                    key: "_setSupportFeatures",
                    value: function() {
                      var t = this.support;
                      (t.transform = o.supportTransform()),
                        (t.transform3d = o.supportTransform(!0));
                    }
                  },
                  {
                    key: "_getTranslate",
                    value: function() {
                      var t =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : 0,
                        e =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : 0,
                        i =
                          arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : 0;
                      return this.support.transform3d
                        ? "translate3d(" + t + ", " + e + ", " + i + ")"
                        : !!this.support.translate &&
                            "translate(" + t + ", " + e + ")";
                    }
                  },
                  {
                    key: "destroy",
                    value: function() {
                      window.removeEventListener("resize", this, {
                        caption: !1
                      }),
                        window.removeEventListener("scroll", this, {
                          caption: !1
                        }),
                        this.sidebar.classList.remove(this.options.stickyClass),
                        (this.sidebar.style.minHeight = ""),
                        this.sidebar.removeEventListener("update" + i, this);
                      var t = { inner: {}, outer: {} };
                      (t.inner = {
                        position: "",
                        top: "",
                        left: "",
                        bottom: "",
                        width: "",
                        transform: ""
                      }),
                        (t.outer = { height: "", position: "" });
                      for (var e in t.outer) this.sidebar.style[e] = t.outer[e];
                      for (var n in t.inner)
                        this.sidebarInner.style[n] = t.inner[n];
                      this.options.resizeSensor &&
                        "undefined" != typeof ResizeSensor &&
                        (ResizeSensor.detach(
                          this.sidebarInner,
                          this.handleEvent
                        ),
                        ResizeSensor.detach(this.container, this.handleEvent));
                    }
                  }
                ],
                [
                  {
                    key: "supportTransform",
                    value: function(t) {
                      var e = !1,
                        i = t ? "perspective" : "transform",
                        n = i.charAt(0).toUpperCase() + i.slice(1),
                        o = ["Webkit", "Moz", "O", "ms"],
                        r = document.createElement("support").style;
                      return (
                        (i + " " + o.join(n + " ") + n)
                          .split(" ")
                          .forEach(function(t, i) {
                            if (void 0 !== r[t]) return (e = t), !1;
                          }),
                        e
                      );
                    }
                  },
                  {
                    key: "eventTrigger",
                    value: function(t, e, i) {
                      try {
                        var n = new CustomEvent(e, { detail: i });
                      } catch (t) {
                        (n = document.createEvent(
                          "CustomEvent"
                        )).initCustomEvent(e, !0, !0, i);
                      }
                      t.dispatchEvent(n);
                    }
                  },
                  {
                    key: "extend",
                    value: function(t, e) {
                      var i = {};
                      for (var n in t)
                        void 0 !== e[n] ? (i[n] = e[n]) : (i[n] = t[n]);
                      return i;
                    }
                  },
                  {
                    key: "offsetRelative",
                    value: function(t) {
                      var e = { left: 0, top: 0 };
                      do {
                        var i = t.offsetTop,
                          n = t.offsetLeft;
                        isNaN(i) || (e.top += i),
                          isNaN(n) || (e.left += n),
                          (t =
                            "BODY" === t.tagName
                              ? t.parentElement
                              : t.offsetParent);
                      } while (t);
                      return e;
                    }
                  },
                  {
                    key: "addClass",
                    value: function(t, e) {
                      o.hasClass(t, e) ||
                        (t.classList
                          ? t.classList.add(e)
                          : (t.className += " " + e));
                    }
                  },
                  {
                    key: "removeClass",
                    value: function(t, e) {
                      o.hasClass(t, e) &&
                        (t.classList
                          ? t.classList.remove(e)
                          : (t.className = t.className.replace(
                              new RegExp(
                                "(^|\\b)" + e.split(" ").join("|") + "(\\b|$)",
                                "gi"
                              ),
                              " "
                            )));
                    }
                  },
                  {
                    key: "hasClass",
                    value: function(t, e) {
                      return t.classList
                        ? t.classList.contains(e)
                        : new RegExp("(^| )" + e + "( |$)", "gi").test(
                            t.className
                          );
                    }
                  }
                ]
              ),
              o
            );
          })();
        })();
      (window.StickySidebar = i),
        (function() {
          if ("undefined" != typeof window) {
            var t = window.$ || window.jQuery || window.Zepto;
            if (t) {
              (t.fn.stickySidebar = function(e) {
                return this.each(function() {
                  var n = t(this),
                    o = t(this).data("stickySidebar");
                  if (
                    (o ||
                      ((o = new i(this, "object" == typeof e && e)),
                      n.data("stickySidebar", o)),
                    "string" == typeof e)
                  ) {
                    if (
                      void 0 === o[e] &&
                      -1 === ["destroy", "updateSticky"].indexOf(e)
                    )
                      throw new Error('No method named "' + e + '"');
                    o[e]();
                  }
                });
              }),
                (t.fn.stickySidebar.Constructor = i);
              var e = t.fn.stickySidebar;
              t.fn.stickySidebar.noConflict = function() {
                return (t.fn.stickySidebar = e), this;
              };
            }
          }
        })();
    });
  },
  function(t, e, i) {
    var n, o, r;
    !(function(s) {
      "use strict";
      (o = [i(16)]),
        (n = s),
        (r = "function" == typeof n ? n.apply(e, o) : n),
        !(void 0 !== r && (t.exports = r));
    })(function(t) {
      "use strict";
      function e(e) {
        return (
          !e.nodeName ||
          t.inArray(e.nodeName.toLowerCase(), [
            "iframe",
            "#document",
            "html",
            "body"
          ]) !== -1
        );
      }
      function i(e) {
        return t.isFunction(e) || t.isPlainObject(e) ? e : { top: e, left: e };
      }
      var n = (t.scrollTo = function(e, i, n) {
        return t(window).scrollTo(e, i, n);
      });
      return (
        (n.defaults = { axis: "xy", duration: 0, limit: !0 }),
        (t.fn.scrollTo = function(o, r, s) {
          "object" == typeof r && ((s = r), (r = 0)),
            "function" == typeof s && (s = { onAfter: s }),
            "max" === o && (o = 9e9),
            (s = t.extend({}, n.defaults, s)),
            (r = r || s.duration);
          var a = s.queue && s.axis.length > 1;
          return (
            a && (r /= 2),
            (s.offset = i(s.offset)),
            (s.over = i(s.over)),
            this.each(function() {
              function l(e) {
                var i = t.extend({}, s, {
                  queue: !0,
                  duration: r,
                  complete:
                    e &&
                    function() {
                      e.call(d, p, s);
                    }
                });
                h.animate(f, i);
              }
              if (null !== o) {
                var c,
                  u = e(this),
                  d = u ? this.contentWindow || window : this,
                  h = t(d),
                  p = o,
                  f = {};
                switch (typeof p) {
                  case "number":
                  case "string":
                    if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)) {
                      p = i(p);
                      break;
                    }
                    p = u ? t(p) : t(p, d);
                  case "object":
                    if (0 === p.length) return;
                    (p.is || p.style) && (c = (p = t(p)).offset());
                }
                var m = (t.isFunction(s.offset) && s.offset(d, p)) || s.offset;
                t.each(s.axis.split(""), function(t, e) {
                  var i = "x" === e ? "Left" : "Top",
                    o = i.toLowerCase(),
                    r = "scroll" + i,
                    g = h[r](),
                    v = n.max(d, e);
                  if (c)
                    (f[r] = c[o] + (u ? 0 : g - h.offset()[o])),
                      s.margin &&
                        ((f[r] -= parseInt(p.css("margin" + i), 10) || 0),
                        (f[r] -=
                          parseInt(p.css("border" + i + "Width"), 10) || 0)),
                      (f[r] += m[o] || 0),
                      s.over[o] &&
                        (f[r] +=
                          p["x" === e ? "width" : "height"]() * s.over[o]);
                  else {
                    var y = p[o];
                    f[r] =
                      y.slice && "%" === y.slice(-1)
                        ? parseFloat(y) / 100 * v
                        : y;
                  }
                  s.limit &&
                    /^\d+$/.test(f[r]) &&
                    (f[r] = f[r] <= 0 ? 0 : Math.min(f[r], v)),
                    !t &&
                      s.axis.length > 1 &&
                      (g === f[r]
                        ? (f = {})
                        : a && (l(s.onAfterFirst), (f = {})));
                }),
                  l(s.onAfter);
              }
            })
          );
        }),
        (n.max = function(i, n) {
          var o = "x" === n ? "Width" : "Height",
            r = "scroll" + o;
          if (!e(i)) return i[r] - t(i)[o.toLowerCase()]();
          var s = "client" + o,
            a = i.ownerDocument || i.document,
            l = a.documentElement,
            c = a.body;
          return Math.max(l[r], c[r]) - Math.min(l[s], c[s]);
        }),
        (t.Tween.propHooks.scrollLeft = t.Tween.propHooks.scrollTop = {
          get: function(e) {
            return t(e.elem)[e.prop]();
          },
          set: function(e) {
            var i = this.get(e);
            if (e.options.interrupt && e._last && e._last !== i)
              return t(e.elem).stop();
            var n = Math.round(e.now);
            i !== n && (t(e.elem)[e.prop](n), (e._last = this.get(e)));
          }
        }),
        n
      );
    });
  },
  function(t, e, i) {
    var n, o, r;
    !(function(s) {
      (o = [i(16)]),
        (n = s),
        (r = "function" == typeof n ? n.apply(e, o) : n),
        !(void 0 !== r && (t.exports = r));
    })(function(t) {
      var e,
        i,
        n,
        o,
        r,
        s,
        a = "Close",
        l = "BeforeClose",
        c = "AfterClose",
        u = "BeforeAppend",
        d = "MarkupParse",
        h = "Open",
        p = "Change",
        f = "mfp",
        m = "." + f,
        g = "mfp-ready",
        v = "mfp-removing",
        y = "mfp-prevent-close",
        b = function() {},
        w = !!window.jQuery,
        x = t(window),
        S = function(t, i) {
          e.ev.on(f + t + m, i);
        },
        C = function(e, i, n, o) {
          var r = document.createElement("div");
          return (
            (r.className = "mfp-" + e),
            n && (r.innerHTML = n),
            o ? i && i.appendChild(r) : ((r = t(r)), i && r.appendTo(i)),
            r
          );
        },
        k = function(i, n) {
          e.ev.triggerHandler(f + i, n),
            e.st.callbacks &&
              ((i = i.charAt(0).toLowerCase() + i.slice(1)),
              e.st.callbacks[i] &&
                e.st.callbacks[i].apply(e, t.isArray(n) ? n : [n]));
        },
        E = function(i) {
          return (
            (i === s && e.currTemplate.closeBtn) ||
              ((e.currTemplate.closeBtn = t(
                e.st.closeMarkup.replace("%title%", e.st.tClose)
              )),
              (s = i)),
            e.currTemplate.closeBtn
          );
        },
        T = function() {
          t.magnificPopup.instance ||
            ((e = new b()), e.init(), (t.magnificPopup.instance = e));
        },
        P = function() {
          var t = document.createElement("p").style,
            e = ["ms", "O", "Moz", "Webkit"];
          if (void 0 !== t.transition) return !0;
          for (; e.length; ) if (e.pop() + "Transition" in t) return !0;
          return !1;
        };
      (b.prototype = {
        constructor: b,
        init: function() {
          var i = navigator.appVersion;
          (e.isLowIE = e.isIE8 = document.all && !document.addEventListener),
            (e.isAndroid = /android/gi.test(i)),
            (e.isIOS = /iphone|ipad|ipod/gi.test(i)),
            (e.supportsTransition = P()),
            (e.probablyMobile =
              e.isAndroid ||
              e.isIOS ||
              /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(
                navigator.userAgent
              )),
            (n = t(document)),
            (e.popupsCache = {});
        },
        open: function(i) {
          var o;
          if (i.isObj === !1) {
            (e.items = i.items.toArray()), (e.index = 0);
            var s,
              a = i.items;
            for (o = 0; o < a.length; o++)
              if (((s = a[o]), s.parsed && (s = s.el[0]), s === i.el[0])) {
                e.index = o;
                break;
              }
          } else
            (e.items = t.isArray(i.items) ? i.items : [i.items]),
              (e.index = i.index || 0);
          if (e.isOpen) return void e.updateItemHTML();
          (e.types = []),
            (r = ""),
            i.mainEl && i.mainEl.length ? (e.ev = i.mainEl.eq(0)) : (e.ev = n),
            i.key
              ? (e.popupsCache[i.key] || (e.popupsCache[i.key] = {}),
                (e.currTemplate = e.popupsCache[i.key]))
              : (e.currTemplate = {}),
            (e.st = t.extend(!0, {}, t.magnificPopup.defaults, i)),
            (e.fixedContentPos =
              "auto" === e.st.fixedContentPos
                ? !e.probablyMobile
                : e.st.fixedContentPos),
            e.st.modal &&
              ((e.st.closeOnContentClick = !1),
              (e.st.closeOnBgClick = !1),
              (e.st.showCloseBtn = !1),
              (e.st.enableEscapeKey = !1)),
            e.bgOverlay ||
              ((e.bgOverlay = C("bg").on("click" + m, function() {
                e.close();
              })),
              (e.wrap = C("wrap")
                .attr("tabindex", -1)
                .on("click" + m, function(t) {
                  e._checkIfClose(t.target) && e.close();
                })),
              (e.container = C("container", e.wrap))),
            (e.contentContainer = C("content")),
            e.st.preloader &&
              (e.preloader = C("preloader", e.container, e.st.tLoading));
          var l = t.magnificPopup.modules;
          for (o = 0; o < l.length; o++) {
            var c = l[o];
            (c = c.charAt(0).toUpperCase() + c.slice(1)), e["init" + c].call(e);
          }
          k("BeforeOpen"),
            e.st.showCloseBtn &&
              (e.st.closeBtnInside
                ? (S(d, function(t, e, i, n) {
                    i.close_replaceWith = E(n.type);
                  }),
                  (r += " mfp-close-btn-in"))
                : e.wrap.append(E())),
            e.st.alignTop && (r += " mfp-align-top"),
            e.fixedContentPos
              ? e.wrap.css({
                  overflow: e.st.overflowY,
                  overflowX: "hidden",
                  overflowY: e.st.overflowY
                })
              : e.wrap.css({ top: x.scrollTop(), position: "absolute" }),
            (e.st.fixedBgPos === !1 ||
              ("auto" === e.st.fixedBgPos && !e.fixedContentPos)) &&
              e.bgOverlay.css({ height: n.height(), position: "absolute" }),
            e.st.enableEscapeKey &&
              n.on("keyup" + m, function(t) {
                27 === t.keyCode && e.close();
              }),
            x.on("resize" + m, function() {
              e.updateSize();
            }),
            e.st.closeOnContentClick || (r += " mfp-auto-cursor"),
            r && e.wrap.addClass(r);
          var u = (e.wH = x.height()),
            p = {};
          if (e.fixedContentPos && e._hasScrollBar(u)) {
            var f = e._getScrollbarSize();
            f && (p.marginRight = f);
          }
          e.fixedContentPos &&
            (e.isIE7
              ? t("body, html").css("overflow", "hidden")
              : (p.overflow = "hidden"));
          var v = e.st.mainClass;
          return (
            e.isIE7 && (v += " mfp-ie7"),
            v && e._addClassToMFP(v),
            e.updateItemHTML(),
            k("BuildControls"),
            t("html").css(p),
            e.bgOverlay
              .add(e.wrap)
              .prependTo(e.st.prependTo || t(document.body)),
            (e._lastFocusedEl = document.activeElement),
            setTimeout(function() {
              e.content
                ? (e._addClassToMFP(g), e._setFocus())
                : e.bgOverlay.addClass(g),
                n.on("focusin" + m, e._onFocusIn);
            }, 16),
            (e.isOpen = !0),
            e.updateSize(u),
            k(h),
            i
          );
        },
        close: function() {
          e.isOpen &&
            (k(l),
            (e.isOpen = !1),
            e.st.removalDelay && !e.isLowIE && e.supportsTransition
              ? (e._addClassToMFP(v),
                setTimeout(function() {
                  e._close();
                }, e.st.removalDelay))
              : e._close());
        },
        _close: function() {
          k(a);
          var i = v + " " + g + " ";
          if (
            (e.bgOverlay.detach(),
            e.wrap.detach(),
            e.container.empty(),
            e.st.mainClass && (i += e.st.mainClass + " "),
            e._removeClassFromMFP(i),
            e.fixedContentPos)
          ) {
            var o = { marginRight: "" };
            e.isIE7 ? t("body, html").css("overflow", "") : (o.overflow = ""),
              t("html").css(o);
          }
          n.off("keyup" + m + " focusin" + m),
            e.ev.off(m),
            e.wrap.attr("class", "mfp-wrap").removeAttr("style"),
            e.bgOverlay.attr("class", "mfp-bg"),
            e.container.attr("class", "mfp-container"),
            !e.st.showCloseBtn ||
              (e.st.closeBtnInside && e.currTemplate[e.currItem.type] !== !0) ||
              (e.currTemplate.closeBtn && e.currTemplate.closeBtn.detach()),
            e.st.autoFocusLast &&
              e._lastFocusedEl &&
              t(e._lastFocusedEl).focus(),
            (e.currItem = null),
            (e.content = null),
            (e.currTemplate = null),
            (e.prevHeight = 0),
            k(c);
        },
        updateSize: function(t) {
          if (e.isIOS) {
            var i = document.documentElement.clientWidth / window.innerWidth,
              n = window.innerHeight * i;
            e.wrap.css("height", n), (e.wH = n);
          } else e.wH = t || x.height();
          e.fixedContentPos || e.wrap.css("height", e.wH), k("Resize");
        },
        updateItemHTML: function() {
          var i = e.items[e.index];
          e.contentContainer.detach(),
            e.content && e.content.detach(),
            i.parsed || (i = e.parseEl(e.index));
          var n = i.type;
          if (
            (k("BeforeChange", [e.currItem ? e.currItem.type : "", n]),
            (e.currItem = i),
            !e.currTemplate[n])
          ) {
            var r = !!e.st[n] && e.st[n].markup;
            k("FirstMarkupParse", r),
              r ? (e.currTemplate[n] = t(r)) : (e.currTemplate[n] = !0);
          }
          o && o !== i.type && e.container.removeClass("mfp-" + o + "-holder");
          var s = e["get" + n.charAt(0).toUpperCase() + n.slice(1)](
            i,
            e.currTemplate[n]
          );
          e.appendContent(s, n),
            (i.preloaded = !0),
            k(p, i),
            (o = i.type),
            e.container.prepend(e.contentContainer),
            k("AfterChange");
        },
        appendContent: function(t, i) {
          (e.content = t),
            t
              ? e.st.showCloseBtn &&
                e.st.closeBtnInside &&
                e.currTemplate[i] === !0
                ? e.content.find(".mfp-close").length || e.content.append(E())
                : (e.content = t)
              : (e.content = ""),
            k(u),
            e.container.addClass("mfp-" + i + "-holder"),
            e.contentContainer.append(e.content);
        },
        parseEl: function(i) {
          var n,
            o = e.items[i];
          if (
            (o.tagName
              ? (o = { el: t(o) })
              : ((n = o.type), (o = { data: o, src: o.src })),
            o.el)
          ) {
            for (var r = e.types, s = 0; s < r.length; s++)
              if (o.el.hasClass("mfp-" + r[s])) {
                n = r[s];
                break;
              }
            (o.src = o.el.attr("data-mfp-src")),
              o.src || (o.src = o.el.attr("href"));
          }
          return (
            (o.type = n || e.st.type || "inline"),
            (o.index = i),
            (o.parsed = !0),
            (e.items[i] = o),
            k("ElementParse", o),
            e.items[i]
          );
        },
        addGroup: function(t, i) {
          var n = function(n) {
            (n.mfpEl = this), e._openClick(n, t, i);
          };
          i || (i = {});
          var o = "click.magnificPopup";
          (i.mainEl = t),
            i.items
              ? ((i.isObj = !0), t.off(o).on(o, n))
              : ((i.isObj = !1),
                i.delegate
                  ? t.off(o).on(o, i.delegate, n)
                  : ((i.items = t), t.off(o).on(o, n)));
        },
        _openClick: function(i, n, o) {
          var r =
            void 0 !== o.midClick
              ? o.midClick
              : t.magnificPopup.defaults.midClick;
          if (
            r ||
            !(2 === i.which || i.ctrlKey || i.metaKey || i.altKey || i.shiftKey)
          ) {
            var s =
              void 0 !== o.disableOn
                ? o.disableOn
                : t.magnificPopup.defaults.disableOn;
            if (s)
              if (t.isFunction(s)) {
                if (!s.call(e)) return !0;
              } else if (x.width() < s) return !0;
            i.type && (i.preventDefault(), e.isOpen && i.stopPropagation()),
              (o.el = t(i.mfpEl)),
              o.delegate && (o.items = n.find(o.delegate)),
              e.open(o);
          }
        },
        updateStatus: function(t, n) {
          if (e.preloader) {
            i !== t && e.container.removeClass("mfp-s-" + i),
              n || "loading" !== t || (n = e.st.tLoading);
            var o = { status: t, text: n };
            k("UpdateStatus", o),
              (t = o.status),
              (n = o.text),
              e.preloader.html(n),
              e.preloader.find("a").on("click", function(t) {
                t.stopImmediatePropagation();
              }),
              e.container.addClass("mfp-s-" + t),
              (i = t);
          }
        },
        _checkIfClose: function(i) {
          if (!t(i).hasClass(y)) {
            var n = e.st.closeOnContentClick,
              o = e.st.closeOnBgClick;
            if (n && o) return !0;
            if (
              !e.content ||
              t(i).hasClass("mfp-close") ||
              (e.preloader && i === e.preloader[0])
            )
              return !0;
            if (i === e.content[0] || t.contains(e.content[0], i)) {
              if (n) return !0;
            } else if (o && t.contains(document, i)) return !0;
            return !1;
          }
        },
        _addClassToMFP: function(t) {
          e.bgOverlay.addClass(t), e.wrap.addClass(t);
        },
        _removeClassFromMFP: function(t) {
          this.bgOverlay.removeClass(t), e.wrap.removeClass(t);
        },
        _hasScrollBar: function(t) {
          return (
            (e.isIE7 ? n.height() : document.body.scrollHeight) >
            (t || x.height())
          );
        },
        _setFocus: function() {
          (e.st.focus ? e.content.find(e.st.focus).eq(0) : e.wrap).focus();
        },
        _onFocusIn: function(i) {
          if (i.target !== e.wrap[0] && !t.contains(e.wrap[0], i.target))
            return e._setFocus(), !1;
        },
        _parseMarkup: function(e, i, n) {
          var o;
          n.data && (i = t.extend(n.data, i)),
            k(d, [e, i, n]),
            t.each(i, function(i, n) {
              if (void 0 === n || n === !1) return !0;
              if (((o = i.split("_")), o.length > 1)) {
                var r = e.find(m + "-" + o[0]);
                if (r.length > 0) {
                  var s = o[1];
                  "replaceWith" === s
                    ? r[0] !== n[0] && r.replaceWith(n)
                    : "img" === s
                      ? r.is("img")
                        ? r.attr("src", n)
                        : r.replaceWith(
                            t("<img>")
                              .attr("src", n)
                              .attr("class", r.attr("class"))
                          )
                      : r.attr(o[1], n);
                }
              } else e.find(m + "-" + i).html(n);
            });
        },
        _getScrollbarSize: function() {
          if (void 0 === e.scrollbarSize) {
            var t = document.createElement("div");
            (t.style.cssText =
              "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;"),
              document.body.appendChild(t),
              (e.scrollbarSize = t.offsetWidth - t.clientWidth),
              document.body.removeChild(t);
          }
          return e.scrollbarSize;
        }
      }),
        (t.magnificPopup = {
          instance: null,
          proto: b.prototype,
          modules: [],
          open: function(e, i) {
            return (
              T(),
              (e = e ? t.extend(!0, {}, e) : {}),
              (e.isObj = !0),
              (e.index = i || 0),
              this.instance.open(e)
            );
          },
          close: function() {
            return t.magnificPopup.instance && t.magnificPopup.instance.close();
          },
          registerModule: function(e, i) {
            i.options && (t.magnificPopup.defaults[e] = i.options),
              t.extend(this.proto, i.proto),
              this.modules.push(e);
          },
          defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup:
              '<button title="%title%" type="button" class="mfp-close">&#215;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading...",
            autoFocusLast: !0
          }
        }),
        (t.fn.magnificPopup = function(i) {
          T();
          var n = t(this);
          if ("string" == typeof i)
            if ("open" === i) {
              var o,
                r = w ? n.data("magnificPopup") : n[0].magnificPopup,
                s = parseInt(arguments[1], 10) || 0;
              r.items
                ? (o = r.items[s])
                : ((o = n),
                  r.delegate && (o = o.find(r.delegate)),
                  (o = o.eq(s))),
                e._openClick({ mfpEl: o }, n, r);
            } else
              e.isOpen &&
                e[i].apply(e, Array.prototype.slice.call(arguments, 1));
          else
            (i = t.extend(!0, {}, i)),
              w ? n.data("magnificPopup", i) : (n[0].magnificPopup = i),
              e.addGroup(n, i);
          return n;
        });
      var _,
        j,
        I,
        A = "inline",
        O = function() {
          I && (j.after(I.addClass(_)).detach(), (I = null));
        };
      t.magnificPopup.registerModule(A, {
        options: {
          hiddenClass: "hide",
          markup: "",
          tNotFound: "Content not found"
        },
        proto: {
          initInline: function() {
            e.types.push(A),
              S(a + "." + A, function() {
                O();
              });
          },
          getInline: function(i, n) {
            if ((O(), i.src)) {
              var o = e.st.inline,
                r = t(i.src);
              if (r.length) {
                var s = r[0].parentNode;
                s &&
                  s.tagName &&
                  (j || ((_ = o.hiddenClass), (j = C(_)), (_ = "mfp-" + _)),
                  (I = r
                    .after(j)
                    .detach()
                    .removeClass(_))),
                  e.updateStatus("ready");
              } else e.updateStatus("error", o.tNotFound), (r = t("<div>"));
              return (i.inlineElement = r), r;
            }
            return e.updateStatus("ready"), e._parseMarkup(n, {}, i), n;
          }
        }
      });
      var D,
        L = "ajax",
        M = function() {
          D && t(document.body).removeClass(D);
        },
        z = function() {
          M(), e.req && e.req.abort();
        };
      t.magnificPopup.registerModule(L, {
        options: {
          settings: null,
          cursor: "mfp-ajax-cur",
          tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
          initAjax: function() {
            e.types.push(L),
              (D = e.st.ajax.cursor),
              S(a + "." + L, z),
              S("BeforeChange." + L, z);
          },
          getAjax: function(i) {
            D && t(document.body).addClass(D), e.updateStatus("loading");
            var n = t.extend(
              {
                url: i.src,
                success: function(n, o, r) {
                  var s = { data: n, xhr: r };
                  k("ParseAjax", s),
                    e.appendContent(t(s.data), L),
                    (i.finished = !0),
                    M(),
                    e._setFocus(),
                    setTimeout(function() {
                      e.wrap.addClass(g);
                    }, 16),
                    e.updateStatus("ready"),
                    k("AjaxContentAdded");
                },
                error: function() {
                  M(),
                    (i.finished = i.loadError = !0),
                    e.updateStatus(
                      "error",
                      e.st.ajax.tError.replace("%url%", i.src)
                    );
                }
              },
              e.st.ajax.settings
            );
            return (e.req = t.ajax(n)), "";
          }
        }
      });
      var Q,
        F = function(i) {
          if (i.data && void 0 !== i.data.title) return i.data.title;
          var n = e.st.image.titleSrc;
          if (n) {
            if (t.isFunction(n)) return n.call(e, i);
            if (i.el) return i.el.attr(n) || "";
          }
          return "";
        };
      t.magnificPopup.registerModule("image", {
        options: {
          markup:
            '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
          cursor: "mfp-zoom-out-cur",
          titleSrc: "title",
          verticalFit: !0,
          tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
          initImage: function() {
            var i = e.st.image,
              n = ".image";
            e.types.push("image"),
              S(h + n, function() {
                "image" === e.currItem.type &&
                  i.cursor &&
                  t(document.body).addClass(i.cursor);
              }),
              S(a + n, function() {
                i.cursor && t(document.body).removeClass(i.cursor),
                  x.off("resize" + m);
              }),
              S("Resize" + n, e.resizeImage),
              e.isLowIE && S("AfterChange", e.resizeImage);
          },
          resizeImage: function() {
            var t = e.currItem;
            if (t && t.img && e.st.image.verticalFit) {
              var i = 0;
              e.isLowIE &&
                (i =
                  parseInt(t.img.css("padding-top"), 10) +
                  parseInt(t.img.css("padding-bottom"), 10)),
                t.img.css("max-height", e.wH - i);
            }
          },
          _onImageHasSize: function(t) {
            t.img &&
              ((t.hasSize = !0),
              Q && clearInterval(Q),
              (t.isCheckingImgSize = !1),
              k("ImageHasSize", t),
              t.imgHidden &&
                (e.content && e.content.removeClass("mfp-loading"),
                (t.imgHidden = !1)));
          },
          findImageSize: function(t) {
            var i = 0,
              n = t.img[0],
              o = function(r) {
                Q && clearInterval(Q),
                  (Q = setInterval(function() {
                    return n.naturalWidth > 0
                      ? void e._onImageHasSize(t)
                      : (i > 200 && clearInterval(Q),
                        i++,
                        void (3 === i
                          ? o(10)
                          : 40 === i
                            ? o(50)
                            : 100 === i && o(500)));
                  }, r));
              };
            o(1);
          },
          getImage: function(i, n) {
            var o = 0,
              r = function() {
                i &&
                  (i.img[0].complete
                    ? (i.img.off(".mfploader"),
                      i === e.currItem &&
                        (e._onImageHasSize(i), e.updateStatus("ready")),
                      (i.hasSize = !0),
                      (i.loaded = !0),
                      k("ImageLoadComplete"))
                    : (o++, o < 200 ? setTimeout(r, 100) : s()));
              },
              s = function() {
                i &&
                  (i.img.off(".mfploader"),
                  i === e.currItem &&
                    (e._onImageHasSize(i),
                    e.updateStatus("error", a.tError.replace("%url%", i.src))),
                  (i.hasSize = !0),
                  (i.loaded = !0),
                  (i.loadError = !0));
              },
              a = e.st.image,
              l = n.find(".mfp-img");
            if (l.length) {
              var c = document.createElement("img");
              (c.className = "mfp-img"),
                i.el &&
                  i.el.find("img").length &&
                  (c.alt = i.el.find("img").attr("alt")),
                (i.img = t(c)
                  .on("load.mfploader", r)
                  .on("error.mfploader", s)),
                (c.src = i.src),
                l.is("img") && (i.img = i.img.clone()),
                (c = i.img[0]),
                c.naturalWidth > 0
                  ? (i.hasSize = !0)
                  : c.width || (i.hasSize = !1);
            }
            return (
              e._parseMarkup(n, { title: F(i), img_replaceWith: i.img }, i),
              e.resizeImage(),
              i.hasSize
                ? (Q && clearInterval(Q),
                  i.loadError
                    ? (n.addClass("mfp-loading"),
                      e.updateStatus("error", a.tError.replace("%url%", i.src)))
                    : (n.removeClass("mfp-loading"), e.updateStatus("ready")),
                  n)
                : (e.updateStatus("loading"),
                  (i.loading = !0),
                  i.hasSize ||
                    ((i.imgHidden = !0),
                    n.addClass("mfp-loading"),
                    e.findImageSize(i)),
                  n)
            );
          }
        }
      });
      var W,
        N = function() {
          return (
            void 0 === W &&
              (W = void 0 !== document.createElement("p").style.MozTransform),
            W
          );
        };
      t.magnificPopup.registerModule("zoom", {
        options: {
          enabled: !1,
          easing: "ease-in-out",
          duration: 300,
          opener: function(t) {
            return t.is("img") ? t : t.find("img");
          }
        },
        proto: {
          initZoom: function() {
            var t,
              i = e.st.zoom,
              n = ".zoom";
            if (i.enabled && e.supportsTransition) {
              var o,
                r,
                s = i.duration,
                c = function(t) {
                  var e = t
                      .clone()
                      .removeAttr("style")
                      .removeAttr("class")
                      .addClass("mfp-animated-image"),
                    n = "all " + i.duration / 1e3 + "s " + i.easing,
                    o = {
                      position: "fixed",
                      zIndex: 9999,
                      left: 0,
                      top: 0,
                      "-webkit-backface-visibility": "hidden"
                    },
                    r = "transition";
                  return (
                    (o["-webkit-" + r] = o["-moz-" + r] = o["-o-" + r] = o[
                      r
                    ] = n),
                    e.css(o),
                    e
                  );
                },
                u = function() {
                  e.content.css("visibility", "visible");
                };
              S("BuildControls" + n, function() {
                if (e._allowZoom()) {
                  if (
                    (clearTimeout(o),
                    e.content.css("visibility", "hidden"),
                    (t = e._getItemToZoom()),
                    !t)
                  )
                    return void u();
                  (r = c(t)),
                    r.css(e._getOffset()),
                    e.wrap.append(r),
                    (o = setTimeout(function() {
                      r.css(e._getOffset(!0)),
                        (o = setTimeout(function() {
                          u(),
                            setTimeout(function() {
                              r.remove(),
                                (t = r = null),
                                k("ZoomAnimationEnded");
                            }, 16);
                        }, s));
                    }, 16));
                }
              }),
                S(l + n, function() {
                  if (e._allowZoom()) {
                    if ((clearTimeout(o), (e.st.removalDelay = s), !t)) {
                      if (((t = e._getItemToZoom()), !t)) return;
                      r = c(t);
                    }
                    r.css(e._getOffset(!0)),
                      e.wrap.append(r),
                      e.content.css("visibility", "hidden"),
                      setTimeout(function() {
                        r.css(e._getOffset());
                      }, 16);
                  }
                }),
                S(a + n, function() {
                  e._allowZoom() && (u(), r && r.remove(), (t = null));
                });
            }
          },
          _allowZoom: function() {
            return "image" === e.currItem.type;
          },
          _getItemToZoom: function() {
            return !!e.currItem.hasSize && e.currItem.img;
          },
          _getOffset: function(i) {
            var n;
            n = i
              ? e.currItem.img
              : e.st.zoom.opener(e.currItem.el || e.currItem);
            var o = n.offset(),
              r = parseInt(n.css("padding-top"), 10),
              s = parseInt(n.css("padding-bottom"), 10);
            o.top -= t(window).scrollTop() - r;
            var a = {
              width: n.width(),
              height: (w ? n.innerHeight() : n[0].offsetHeight) - s - r
            };
            return (
              N()
                ? (a["-moz-transform"] = a.transform =
                    "translate(" + o.left + "px," + o.top + "px)")
                : ((a.left = o.left), (a.top = o.top)),
              a
            );
          }
        }
      });
      var B = "iframe",
        H = "//about:blank",
        $ = function(t) {
          if (e.currTemplate[B]) {
            var i = e.currTemplate[B].find("iframe");
            i.length &&
              (t || (i[0].src = H),
              e.isIE8 && i.css("display", t ? "block" : "none"));
          }
        };
      t.magnificPopup.registerModule(B, {
        options: {
          markup:
            '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
          srcAction: "iframe_src",
          patterns: {
            youtube: {
              index: "youtube.com",
              id: "v=",
              src: "//www.youtube.com/embed/%id%?autoplay=1"
            },
            vimeo: {
              index: "vimeo.com/",
              id: "/",
              src: "//player.vimeo.com/video/%id%?autoplay=1"
            },
            gmaps: { index: "//maps.google.", src: "%id%&output=embed" }
          }
        },
        proto: {
          initIframe: function() {
            e.types.push(B),
              S("BeforeChange", function(t, e, i) {
                e !== i && (e === B ? $() : i === B && $(!0));
              }),
              S(a + "." + B, function() {
                $();
              });
          },
          getIframe: function(i, n) {
            var o = i.src,
              r = e.st.iframe;
            t.each(r.patterns, function() {
              if (o.indexOf(this.index) > -1)
                return (
                  this.id &&
                    (o =
                      "string" == typeof this.id
                        ? o.substr(
                            o.lastIndexOf(this.id) + this.id.length,
                            o.length
                          )
                        : this.id.call(this, o)),
                  (o = this.src.replace("%id%", o)),
                  !1
                );
            });
            var s = {};
            return (
              r.srcAction && (s[r.srcAction] = o),
              e._parseMarkup(n, s, i),
              e.updateStatus("ready"),
              n
            );
          }
        }
      });
      var V = function(t) {
          var i = e.items.length;
          return t > i - 1 ? t - i : t < 0 ? i + t : t;
        },
        R = function(t, e, i) {
          return t.replace(/%curr%/gi, e + 1).replace(/%total%/gi, i);
        };
      t.magnificPopup.registerModule("gallery", {
        options: {
          enabled: !1,
          arrowMarkup:
            '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
          preload: [0, 2],
          navigateByImgClick: !0,
          arrows: !0,
          tPrev: "Previous (Left arrow key)",
          tNext: "Next (Right arrow key)",
          tCounter: "%curr% of %total%"
        },
        proto: {
          initGallery: function() {
            var i = e.st.gallery,
              o = ".mfp-gallery";
            return (
              (e.direction = !0),
              !(!i || !i.enabled) &&
                ((r += " mfp-gallery"),
                S(h + o, function() {
                  i.navigateByImgClick &&
                    e.wrap.on("click" + o, ".mfp-img", function() {
                      if (e.items.length > 1) return e.next(), !1;
                    }),
                    n.on("keydown" + o, function(t) {
                      37 === t.keyCode
                        ? e.prev()
                        : 39 === t.keyCode && e.next();
                    });
                }),
                S("UpdateStatus" + o, function(t, i) {
                  i.text &&
                    (i.text = R(i.text, e.currItem.index, e.items.length));
                }),
                S(d + o, function(t, n, o, r) {
                  var s = e.items.length;
                  o.counter = s > 1 ? R(i.tCounter, r.index, s) : "";
                }),
                S("BuildControls" + o, function() {
                  if (e.items.length > 1 && i.arrows && !e.arrowLeft) {
                    var n = i.arrowMarkup,
                      o = (e.arrowLeft = t(
                        n
                          .replace(/%title%/gi, i.tPrev)
                          .replace(/%dir%/gi, "left")
                      ).addClass(y)),
                      r = (e.arrowRight = t(
                        n
                          .replace(/%title%/gi, i.tNext)
                          .replace(/%dir%/gi, "right")
                      ).addClass(y));
                    o.click(function() {
                      e.prev();
                    }),
                      r.click(function() {
                        e.next();
                      }),
                      e.container.append(o.add(r));
                  }
                }),
                S(p + o, function() {
                  e._preloadTimeout && clearTimeout(e._preloadTimeout),
                    (e._preloadTimeout = setTimeout(function() {
                      e.preloadNearbyImages(), (e._preloadTimeout = null);
                    }, 16));
                }),
                void S(a + o, function() {
                  n.off(o),
                    e.wrap.off("click" + o),
                    (e.arrowRight = e.arrowLeft = null);
                }))
            );
          },
          next: function() {
            (e.direction = !0), (e.index = V(e.index + 1)), e.updateItemHTML();
          },
          prev: function() {
            (e.direction = !1), (e.index = V(e.index - 1)), e.updateItemHTML();
          },
          goTo: function(t) {
            (e.direction = t >= e.index), (e.index = t), e.updateItemHTML();
          },
          preloadNearbyImages: function() {
            var t,
              i = e.st.gallery.preload,
              n = Math.min(i[0], e.items.length),
              o = Math.min(i[1], e.items.length);
            for (t = 1; t <= (e.direction ? o : n); t++)
              e._preloadItem(e.index + t);
            for (t = 1; t <= (e.direction ? n : o); t++)
              e._preloadItem(e.index - t);
          },
          _preloadItem: function(i) {
            if (((i = V(i)), !e.items[i].preloaded)) {
              var n = e.items[i];
              n.parsed || (n = e.parseEl(i)),
                k("LazyLoad", n),
                "image" === n.type &&
                  (n.img = t('<img class="mfp-img" />')
                    .on("load.mfploader", function() {
                      n.hasSize = !0;
                    })
                    .on("error.mfploader", function() {
                      (n.hasSize = !0),
                        (n.loadError = !0),
                        k("LazyLoadError", n);
                    })
                    .attr("src", n.src)),
                (n.preloaded = !0);
            }
          }
        }
      });
      var q = "retina";
      t.magnificPopup.registerModule(q, {
        options: {
          replaceSrc: function(t) {
            return t.src.replace(/\.\w+$/, function(t) {
              return "@2x" + t;
            });
          },
          ratio: 1
        },
        proto: {
          initRetina: function() {
            if (window.devicePixelRatio > 1) {
              var t = e.st.retina,
                i = t.ratio;
              (i = isNaN(i) ? i() : i),
                i > 1 &&
                  (S("ImageHasSize." + q, function(t, e) {
                    e.img.css({
                      "max-width": e.img[0].naturalWidth / i,
                      width: "100%"
                    });
                  }),
                  S("ElementParse." + q, function(e, n) {
                    n.src = t.replaceSrc(n, i);
                  }));
            }
          }
        }
      }),
        T();
    });
  },
  function(t, e) {
    /*!
     Waypoints - 4.0.1
     Copyright © 2011-2016 Caleb Troughton
     Licensed under the MIT license.
     https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
     */
    !(function() {
      "use strict";
      function t(n) {
        if (!n) throw new Error("No options passed to Waypoint constructor");
        if (!n.element)
          throw new Error("No element option passed to Waypoint constructor");
        if (!n.handler)
          throw new Error("No handler option passed to Waypoint constructor");
        (this.key = "waypoint-" + e),
          (this.options = t.Adapter.extend({}, t.defaults, n)),
          (this.element = this.options.element),
          (this.adapter = new t.Adapter(this.element)),
          (this.callback = n.handler),
          (this.axis = this.options.horizontal ? "horizontal" : "vertical"),
          (this.enabled = this.options.enabled),
          (this.triggerPoint = null),
          (this.group = t.Group.findOrCreate({
            name: this.options.group,
            axis: this.axis
          })),
          (this.context = t.Context.findOrCreateByElement(
            this.options.context
          )),
          t.offsetAliases[this.options.offset] &&
            (this.options.offset = t.offsetAliases[this.options.offset]),
          this.group.add(this),
          this.context.add(this),
          (i[this.key] = this),
          (e += 1);
      }
      var e = 0,
        i = {};
      (t.prototype.queueTrigger = function(t) {
        this.group.queueTrigger(this, t);
      }),
        (t.prototype.trigger = function(t) {
          this.enabled && this.callback && this.callback.apply(this, t);
        }),
        (t.prototype.destroy = function() {
          this.context.remove(this),
            this.group.remove(this),
            delete i[this.key];
        }),
        (t.prototype.disable = function() {
          return (this.enabled = !1), this;
        }),
        (t.prototype.enable = function() {
          return this.context.refresh(), (this.enabled = !0), this;
        }),
        (t.prototype.next = function() {
          return this.group.next(this);
        }),
        (t.prototype.previous = function() {
          return this.group.previous(this);
        }),
        (t.invokeAll = function(t) {
          var e = [];
          for (var n in i) e.push(i[n]);
          for (var o = 0, r = e.length; o < r; o++) e[o][t]();
        }),
        (t.destroyAll = function() {
          t.invokeAll("destroy");
        }),
        (t.disableAll = function() {
          t.invokeAll("disable");
        }),
        (t.enableAll = function() {
          t.Context.refreshAll();
          for (var e in i) i[e].enabled = !0;
          return this;
        }),
        (t.refreshAll = function() {
          t.Context.refreshAll();
        }),
        (t.viewportHeight = function() {
          return window.innerHeight || document.documentElement.clientHeight;
        }),
        (t.viewportWidth = function() {
          return document.documentElement.clientWidth;
        }),
        (t.adapters = []),
        (t.defaults = {
          context: window,
          continuous: !0,
          enabled: !0,
          group: "default",
          horizontal: !1,
          offset: 0
        }),
        (t.offsetAliases = {
          "bottom-in-view": function() {
            return this.context.innerHeight() - this.adapter.outerHeight();
          },
          "right-in-view": function() {
            return this.context.innerWidth() - this.adapter.outerWidth();
          }
        }),
        (window.Waypoint = t);
    })(),
      (function() {
        "use strict";
        function t(t) {
          window.setTimeout(t, 1e3 / 60);
        }
        function e(t) {
          (this.element = t),
            (this.Adapter = o.Adapter),
            (this.adapter = new this.Adapter(t)),
            (this.key = "waypoint-context-" + i),
            (this.didScroll = !1),
            (this.didResize = !1),
            (this.oldScroll = {
              x: this.adapter.scrollLeft(),
              y: this.adapter.scrollTop()
            }),
            (this.waypoints = { vertical: {}, horizontal: {} }),
            (t.waypointContextKey = this.key),
            (n[t.waypointContextKey] = this),
            (i += 1),
            o.windowContext ||
              ((o.windowContext = !0), (o.windowContext = new e(window))),
            this.createThrottledScrollHandler(),
            this.createThrottledResizeHandler();
        }
        var i = 0,
          n = {},
          o = window.Waypoint,
          r = window.onload;
        (e.prototype.add = function(t) {
          var e = t.options.horizontal ? "horizontal" : "vertical";
          (this.waypoints[e][t.key] = t), this.refresh();
        }),
          (e.prototype.checkEmpty = function() {
            var t = this.Adapter.isEmptyObject(this.waypoints.horizontal),
              e = this.Adapter.isEmptyObject(this.waypoints.vertical),
              i = this.element == this.element.window;
            t &&
              e &&
              !i &&
              (this.adapter.off(".waypoints"), delete n[this.key]);
          }),
          (e.prototype.createThrottledResizeHandler = function() {
            function t() {
              e.handleResize(), (e.didResize = !1);
            }
            var e = this;
            this.adapter.on("resize.waypoints", function() {
              e.didResize || ((e.didResize = !0), o.requestAnimationFrame(t));
            });
          }),
          (e.prototype.createThrottledScrollHandler = function() {
            function t() {
              e.handleScroll(), (e.didScroll = !1);
            }
            var e = this;
            this.adapter.on("scroll.waypoints", function() {
              (e.didScroll && !o.isTouch) ||
                ((e.didScroll = !0), o.requestAnimationFrame(t));
            });
          }),
          (e.prototype.handleResize = function() {
            o.Context.refreshAll();
          }),
          (e.prototype.handleScroll = function() {
            var t = {},
              e = {
                horizontal: {
                  newScroll: this.adapter.scrollLeft(),
                  oldScroll: this.oldScroll.x,
                  forward: "right",
                  backward: "left"
                },
                vertical: {
                  newScroll: this.adapter.scrollTop(),
                  oldScroll: this.oldScroll.y,
                  forward: "down",
                  backward: "up"
                }
              };
            for (var i in e) {
              var n = e[i],
                o = n.newScroll > n.oldScroll,
                r = o ? n.forward : n.backward;
              for (var s in this.waypoints[i]) {
                var a = this.waypoints[i][s];
                if (null !== a.triggerPoint) {
                  var l = n.oldScroll < a.triggerPoint,
                    c = n.newScroll >= a.triggerPoint,
                    u = l && c,
                    d = !l && !c;
                  (u || d) && (a.queueTrigger(r), (t[a.group.id] = a.group));
                }
              }
            }
            for (var h in t) t[h].flushTriggers();
            this.oldScroll = {
              x: e.horizontal.newScroll,
              y: e.vertical.newScroll
            };
          }),
          (e.prototype.innerHeight = function() {
            return this.element == this.element.window
              ? o.viewportHeight()
              : this.adapter.innerHeight();
          }),
          (e.prototype.remove = function(t) {
            delete this.waypoints[t.axis][t.key], this.checkEmpty();
          }),
          (e.prototype.innerWidth = function() {
            return this.element == this.element.window
              ? o.viewportWidth()
              : this.adapter.innerWidth();
          }),
          (e.prototype.destroy = function() {
            var t = [];
            for (var e in this.waypoints)
              for (var i in this.waypoints[e]) t.push(this.waypoints[e][i]);
            for (var n = 0, o = t.length; n < o; n++) t[n].destroy();
          }),
          (e.prototype.refresh = function() {
            var t,
              e = this.element == this.element.window,
              i = e ? void 0 : this.adapter.offset(),
              n = {};
            this.handleScroll(),
              (t = {
                horizontal: {
                  contextOffset: e ? 0 : i.left,
                  contextScroll: e ? 0 : this.oldScroll.x,
                  contextDimension: this.innerWidth(),
                  oldScroll: this.oldScroll.x,
                  forward: "right",
                  backward: "left",
                  offsetProp: "left"
                },
                vertical: {
                  contextOffset: e ? 0 : i.top,
                  contextScroll: e ? 0 : this.oldScroll.y,
                  contextDimension: this.innerHeight(),
                  oldScroll: this.oldScroll.y,
                  forward: "down",
                  backward: "up",
                  offsetProp: "top"
                }
              });
            for (var r in t) {
              var s = t[r];
              for (var a in this.waypoints[r]) {
                var l,
                  c,
                  u,
                  d,
                  h,
                  p = this.waypoints[r][a],
                  f = p.options.offset,
                  m = p.triggerPoint,
                  g = 0,
                  v = null == m;
                p.element !== p.element.window &&
                  (g = p.adapter.offset()[s.offsetProp]),
                  "function" == typeof f
                    ? (f = f.apply(p))
                    : "string" == typeof f &&
                      ((f = parseFloat(f)),
                      p.options.offset.indexOf("%") > -1 &&
                        (f = Math.ceil(s.contextDimension * f / 100))),
                  (l = s.contextScroll - s.contextOffset),
                  (p.triggerPoint = Math.floor(g + l - f)),
                  (c = m < s.oldScroll),
                  (u = p.triggerPoint >= s.oldScroll),
                  (d = c && u),
                  (h = !c && !u),
                  !v && d
                    ? (p.queueTrigger(s.backward), (n[p.group.id] = p.group))
                    : !v && h
                      ? (p.queueTrigger(s.forward), (n[p.group.id] = p.group))
                      : v &&
                        s.oldScroll >= p.triggerPoint &&
                        (p.queueTrigger(s.forward), (n[p.group.id] = p.group));
              }
            }
            return (
              o.requestAnimationFrame(function() {
                for (var t in n) n[t].flushTriggers();
              }),
              this
            );
          }),
          (e.findOrCreateByElement = function(t) {
            return e.findByElement(t) || new e(t);
          }),
          (e.refreshAll = function() {
            for (var t in n) n[t].refresh();
          }),
          (e.findByElement = function(t) {
            return n[t.waypointContextKey];
          }),
          (window.onload = function() {
            r && r(), e.refreshAll();
          }),
          (o.requestAnimationFrame = function(e) {
            var i =
              window.requestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.webkitRequestAnimationFrame ||
              t;
            i.call(window, e);
          }),
          (o.Context = e);
      })(),
      (function() {
        "use strict";
        function t(t, e) {
          return t.triggerPoint - e.triggerPoint;
        }
        function e(t, e) {
          return e.triggerPoint - t.triggerPoint;
        }
        function i(t) {
          (this.name = t.name),
            (this.axis = t.axis),
            (this.id = this.name + "-" + this.axis),
            (this.waypoints = []),
            this.clearTriggerQueues(),
            (n[this.axis][this.name] = this);
        }
        var n = { vertical: {}, horizontal: {} },
          o = window.Waypoint;
        (i.prototype.add = function(t) {
          this.waypoints.push(t);
        }),
          (i.prototype.clearTriggerQueues = function() {
            this.triggerQueues = { up: [], down: [], left: [], right: [] };
          }),
          (i.prototype.flushTriggers = function() {
            for (var i in this.triggerQueues) {
              var n = this.triggerQueues[i],
                o = "up" === i || "left" === i;
              n.sort(o ? e : t);
              for (var r = 0, s = n.length; r < s; r += 1) {
                var a = n[r];
                (a.options.continuous || r === n.length - 1) && a.trigger([i]);
              }
            }
            this.clearTriggerQueues();
          }),
          (i.prototype.next = function(e) {
            this.waypoints.sort(t);
            var i = o.Adapter.inArray(e, this.waypoints),
              n = i === this.waypoints.length - 1;
            return n ? null : this.waypoints[i + 1];
          }),
          (i.prototype.previous = function(e) {
            this.waypoints.sort(t);
            var i = o.Adapter.inArray(e, this.waypoints);
            return i ? this.waypoints[i - 1] : null;
          }),
          (i.prototype.queueTrigger = function(t, e) {
            this.triggerQueues[e].push(t);
          }),
          (i.prototype.remove = function(t) {
            var e = o.Adapter.inArray(t, this.waypoints);
            e > -1 && this.waypoints.splice(e, 1);
          }),
          (i.prototype.first = function() {
            return this.waypoints[0];
          }),
          (i.prototype.last = function() {
            return this.waypoints[this.waypoints.length - 1];
          }),
          (i.findOrCreate = function(t) {
            return n[t.axis][t.name] || new i(t);
          }),
          (o.Group = i);
      })(),
      (function() {
        "use strict";
        function t(t) {
          this.$element = e(t);
        }
        var e = window.jQuery,
          i = window.Waypoint;
        e.each(
          [
            "innerHeight",
            "innerWidth",
            "off",
            "offset",
            "on",
            "outerHeight",
            "outerWidth",
            "scrollLeft",
            "scrollTop"
          ],
          function(e, i) {
            t.prototype[i] = function() {
              var t = Array.prototype.slice.call(arguments);
              return this.$element[i].apply(this.$element, t);
            };
          }
        ),
          e.each(["extend", "inArray", "isEmptyObject"], function(i, n) {
            t[n] = e[n];
          }),
          i.adapters.push({ name: "jquery", Adapter: t }),
          (i.Adapter = t);
      })(),
      (function() {
        "use strict";
        function t(t) {
          return function() {
            var i = [],
              n = arguments[0];
            return (
              t.isFunction(arguments[0]) &&
                ((n = t.extend({}, arguments[1])), (n.handler = arguments[0])),
              this.each(function() {
                var o = t.extend({}, n, { element: this });
                "string" == typeof o.context &&
                  (o.context = t(this).closest(o.context)[0]),
                  i.push(new e(o));
              }),
              i
            );
          };
        }
        var e = window.Waypoint;
        window.jQuery && (window.jQuery.fn.waypoint = t(window.jQuery)),
          window.Zepto && (window.Zepto.fn.waypoint = t(window.Zepto));
      })();
  },
  function(t, e) {
    /*! npm.im/object-fit-images 3.2.4 */
    "use strict";
    function i(t, e) {
      return (
        "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='" +
        t +
        "' height='" +
        e +
        "'%3E%3C/svg%3E"
      );
    }
    function n(t) {
      if (t.srcset && !v && window.picturefill) {
        var e = window.picturefill._;
        (t[e.ns] && t[e.ns].evaled) || e.fillImg(t, { reselect: !0 }),
          t[e.ns].curSrc ||
            ((t[e.ns].supported = !1), e.fillImg(t, { reselect: !0 })),
          (t.currentSrc = t[e.ns].curSrc || t.src);
      }
    }
    function o(t) {
      for (
        var e, i = getComputedStyle(t).fontFamily, n = {};
        null !== (e = h.exec(i));

      )
        n[e[1]] = e[2];
      return n;
    }
    function r(t, e, n) {
      var o = i(e || 1, n || 0);
      y.call(t, "src") !== o && b.call(t, "src", o);
    }
    function s(t, e) {
      t.naturalWidth ? e(t) : setTimeout(s, 100, t, e);
    }
    function a(t) {
      var e = o(t),
        i = t[d];
      if (((e["object-fit"] = e["object-fit"] || "fill"), !i.img)) {
        if ("fill" === e["object-fit"]) return;
        if (!i.skipTest && f && !e["object-position"]) return;
      }
      if (!i.img) {
        (i.img = new Image(t.width, t.height)),
          (i.img.srcset = y.call(t, "data-ofi-srcset") || t.srcset),
          (i.img.src = y.call(t, "data-ofi-src") || t.src),
          b.call(t, "data-ofi-src", t.src),
          t.srcset && b.call(t, "data-ofi-srcset", t.srcset),
          r(t, t.naturalWidth || t.width, t.naturalHeight || t.height),
          t.srcset && (t.srcset = "");
        try {
          l(t);
        } catch (t) {
          window.console && console.warn("https://bit.ly/ofi-old-browser");
        }
      }
      n(i.img),
        (t.style.backgroundImage =
          'url("' +
          (i.img.currentSrc || i.img.src).replace(/"/g, '\\"') +
          '")'),
        (t.style.backgroundPosition = e["object-position"] || "center"),
        (t.style.backgroundRepeat = "no-repeat"),
        (t.style.backgroundOrigin = "content-box"),
        /scale-down/.test(e["object-fit"])
          ? s(i.img, function() {
              i.img.naturalWidth > t.width || i.img.naturalHeight > t.height
                ? (t.style.backgroundSize = "contain")
                : (t.style.backgroundSize = "auto");
            })
          : (t.style.backgroundSize = e["object-fit"]
              .replace("none", "auto")
              .replace("fill", "100% 100%")),
        s(i.img, function(e) {
          r(t, e.naturalWidth, e.naturalHeight);
        });
    }
    function l(t) {
      var e = {
        get: function(e) {
          return t[d].img[e ? e : "src"];
        },
        set: function(e, i) {
          return (
            (t[d].img[i ? i : "src"] = e),
            b.call(t, "data-ofi-" + i, e),
            a(t),
            e
          );
        }
      };
      Object.defineProperty(t, "src", e),
        Object.defineProperty(t, "currentSrc", {
          get: function() {
            return e.get("currentSrc");
          }
        }),
        Object.defineProperty(t, "srcset", {
          get: function() {
            return e.get("srcset");
          },
          set: function(t) {
            return e.set(t, "srcset");
          }
        });
    }
    function c() {
      function t(t, e) {
        return t[d] && t[d].img && ("src" === e || "srcset" === e)
          ? t[d].img
          : t;
      }
      m ||
        ((HTMLImageElement.prototype.getAttribute = function(e) {
          return y.call(t(this, e), e);
        }),
        (HTMLImageElement.prototype.setAttribute = function(e, i) {
          return b.call(t(this, e), e, String(i));
        }));
    }
    function u(t, e) {
      var i = !w && !t;
      if (((e = e || {}), (t = t || "img"), (m && !e.skipTest) || !g))
        return !1;
      "img" === t
        ? (t = document.getElementsByTagName("img"))
        : "string" == typeof t
          ? (t = document.querySelectorAll(t))
          : "length" in t || (t = [t]);
      for (var n = 0; n < t.length; n++)
        (t[n][d] = t[n][d] || { skipTest: e.skipTest }), a(t[n]);
      i &&
        (document.body.addEventListener(
          "load",
          function(t) {
            "IMG" === t.target.tagName && u(t.target, { skipTest: e.skipTest });
          },
          !0
        ),
        (w = !0),
        (t = "img")),
        e.watchMQ &&
          window.addEventListener(
            "resize",
            u.bind(null, t, { skipTest: e.skipTest })
          );
    }
    var d = "bfred-it:object-fit-images",
      h = /(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,
      p =
        "undefined" == typeof Image
          ? { style: { "object-position": 1 } }
          : new Image(),
      f = "object-fit" in p.style,
      m = "object-position" in p.style,
      g = "background-size" in p.style,
      v = "string" == typeof p.currentSrc,
      y = p.getAttribute,
      b = p.setAttribute,
      w = !1;
    (u.supportsObjectFit = f),
      (u.supportsObjectPosition = m),
      c(),
      (t.exports = u);
  },
  function(t, e) {
    !(function(t, e, i) {
      function n(e, i) {
        this.bodyOverflowX,
          (this.callbacks = { hide: [], show: [] }),
          (this.checkInterval = null),
          this.Content,
          (this.$el = t(e)),
          this.$elProxy,
          this.elProxyPosition,
          (this.enabled = !0),
          (this.options = t.extend({}, l, i)),
          (this.mouseIsOverProxy = !1),
          (this.namespace = "tooltipster-" + Math.round(1e5 * Math.random())),
          (this.Status = "hidden"),
          (this.timerHide = null),
          (this.timerShow = null),
          this.$tooltip,
          (this.options.iconTheme = this.options.iconTheme.replace(".", "")),
          (this.options.theme = this.options.theme.replace(".", "")),
          this._init();
      }
      function o(e, i) {
        var n = !0;
        return (
          t.each(e, function(t, o) {
            if ("undefined" == typeof i[t] || e[t] !== i[t])
              return (n = !1), !1;
          }),
          n
        );
      }
      function r() {
        return !u && c;
      }
      function s() {
        var t = i.body || i.documentElement,
          e = t.style,
          n = "transition";
        if ("string" == typeof e[n]) return !0;
        (v = ["Moz", "Webkit", "Khtml", "O", "ms"]),
          (n = n.charAt(0).toUpperCase() + n.substr(1));
        for (var o = 0; o < v.length; o++)
          if ("string" == typeof e[v[o] + n]) return !0;
        return !1;
      }
      var a = "tooltipster",
        l = {
          animation: "fade",
          arrow: !0,
          arrowColor: "",
          autoClose: !0,
          content: null,
          contentAsHTML: !1,
          contentCloning: !0,
          debug: !0,
          delay: 200,
          minWidth: 0,
          maxWidth: null,
          functionInit: function(t, e) {},
          functionBefore: function(t, e) {
            e();
          },
          functionReady: function(t, e) {},
          functionAfter: function(t) {},
          hideOnClick: !1,
          icon: "(?)",
          iconCloning: !0,
          iconDesktop: !1,
          iconTouch: !1,
          iconTheme: "tooltipster-icon",
          interactive: !1,
          interactiveTolerance: 350,
          multiple: !1,
          offsetX: 0,
          offsetY: 0,
          onlyOne: !1,
          position: "top",
          positionTracker: !1,
          positionTrackerCallback: function(t) {
            "hover" == this.option("trigger") &&
              this.option("autoClose") &&
              this.hide();
          },
          restoration: "current",
          speed: 350,
          timer: 0,
          theme: "tooltipster-default",
          touchDevices: !0,
          trigger: "hover",
          updateAnimation: !0
        };
      (n.prototype = {
        _init: function() {
          var e = this;
          if (i.querySelector) {
            var n = null;
            void 0 === e.$el.data("tooltipster-initialTitle") &&
              ((n = e.$el.attr("title")),
              void 0 === n && (n = null),
              e.$el.data("tooltipster-initialTitle", n)),
              null !== e.options.content
                ? e._content_set(e.options.content)
                : e._content_set(n);
            var o = e.options.functionInit.call(e.$el, e.$el, e.Content);
            "undefined" != typeof o && e._content_set(o),
              e.$el.removeAttr("title").addClass("tooltipstered"),
              (!c && e.options.iconDesktop) || (c && e.options.iconTouch)
                ? ("string" == typeof e.options.icon
                    ? ((e.$elProxy = t(
                        '<span class="' + e.options.iconTheme + '"></span>'
                      )),
                      e.$elProxy.text(e.options.icon))
                    : e.options.iconCloning
                      ? (e.$elProxy = e.options.icon.clone(!0))
                      : (e.$elProxy = e.options.icon),
                  e.$elProxy.insertAfter(e.$el))
                : (e.$elProxy = e.$el),
              "hover" == e.options.trigger
                ? (e.$elProxy
                    .on("mouseenter." + e.namespace, function() {
                      (r() && !e.options.touchDevices) ||
                        ((e.mouseIsOverProxy = !0), e._show());
                    })
                    .on("mouseleave." + e.namespace, function() {
                      (r() && !e.options.touchDevices) ||
                        (e.mouseIsOverProxy = !1);
                    }),
                  c &&
                    e.options.touchDevices &&
                    e.$elProxy.on("touchstart." + e.namespace, function() {
                      e._showNow();
                    }))
                : "click" == e.options.trigger &&
                  e.$elProxy.on("click." + e.namespace, function() {
                    (r() && !e.options.touchDevices) || e._show();
                  });
          }
        },
        _show: function() {
          var t = this;
          "shown" != t.Status &&
            "appearing" != t.Status &&
            (t.options.delay
              ? (t.timerShow = setTimeout(function() {
                  ("click" == t.options.trigger ||
                    ("hover" == t.options.trigger && t.mouseIsOverProxy)) &&
                    t._showNow();
                }, t.options.delay))
              : t._showNow());
        },
        _showNow: function(i) {
          var n = this;
          n.options.functionBefore.call(n.$el, n.$el, function() {
            if (n.enabled && null !== n.Content) {
              i && n.callbacks.show.push(i),
                (n.callbacks.hide = []),
                clearTimeout(n.timerShow),
                (n.timerShow = null),
                clearTimeout(n.timerHide),
                (n.timerHide = null),
                n.options.onlyOne &&
                  t(".tooltipstered")
                    .not(n.$el)
                    .each(function(e, i) {
                      var n = t(i),
                        o = n.data("tooltipster-ns");
                      t.each(o, function(t, e) {
                        var i = n.data(e),
                          o = i.status(),
                          r = i.option("autoClose");
                        "hidden" !== o && "disappearing" !== o && r && i.hide();
                      });
                    });
              var o = function() {
                (n.Status = "shown"),
                  t.each(n.callbacks.show, function(t, e) {
                    e.call(n.$el);
                  }),
                  (n.callbacks.show = []);
              };
              if ("hidden" !== n.Status) {
                var r = 0;
                "disappearing" === n.Status
                  ? ((n.Status = "appearing"),
                    s()
                      ? (n.$tooltip
                          .clearQueue()
                          .removeClass("tooltipster-dying")
                          .addClass(
                            "tooltipster-" + n.options.animation + "-show"
                          ),
                        n.options.speed > 0 &&
                          n.$tooltip.delay(n.options.speed),
                        n.$tooltip.queue(o))
                      : n.$tooltip.stop().fadeIn(o))
                  : "shown" === n.Status && o();
              } else {
                n.Status = "appearing";
                var r = n.options.speed;
                (n.bodyOverflowX = t("body").css("overflow-x")),
                  t("body").css("overflow-x", "hidden");
                var a = "tooltipster-" + n.options.animation,
                  l =
                    "-webkit-transition-duration: " +
                    n.options.speed +
                    "ms; -webkit-animation-duration: " +
                    n.options.speed +
                    "ms; -moz-transition-duration: " +
                    n.options.speed +
                    "ms; -moz-animation-duration: " +
                    n.options.speed +
                    "ms; -o-transition-duration: " +
                    n.options.speed +
                    "ms; -o-animation-duration: " +
                    n.options.speed +
                    "ms; -ms-transition-duration: " +
                    n.options.speed +
                    "ms; -ms-animation-duration: " +
                    n.options.speed +
                    "ms; transition-duration: " +
                    n.options.speed +
                    "ms; animation-duration: " +
                    n.options.speed +
                    "ms;",
                  u = n.options.minWidth
                    ? "min-width:" + Math.round(n.options.minWidth) + "px;"
                    : "",
                  d = n.options.maxWidth
                    ? "max-width:" + Math.round(n.options.maxWidth) + "px;"
                    : "",
                  h = n.options.interactive ? "pointer-events: auto;" : "";
                if (
                  ((n.$tooltip = t(
                    '<div class="tooltipster-base ' +
                      n.options.theme +
                      '" style="' +
                      u +
                      " " +
                      d +
                      " " +
                      h +
                      " " +
                      l +
                      '"><div class="tooltipster-content"></div></div>'
                  )),
                  s() && n.$tooltip.addClass(a),
                  n._content_insert(),
                  n.$tooltip.appendTo("body"),
                  n.reposition(),
                  n.options.functionReady.call(n.$el, n.$el, n.$tooltip),
                  s()
                    ? (n.$tooltip.addClass(a + "-show"),
                      n.options.speed > 0 && n.$tooltip.delay(n.options.speed),
                      n.$tooltip.queue(o))
                    : n.$tooltip
                        .css("display", "none")
                        .fadeIn(n.options.speed, o),
                  n._interval_set(),
                  t(e).on(
                    "scroll." + n.namespace + " resize." + n.namespace,
                    function() {
                      n.reposition();
                    }
                  ),
                  n.options.autoClose)
                )
                  if (
                    (t("body").off("." + n.namespace),
                    "hover" == n.options.trigger)
                  ) {
                    if (
                      (c &&
                        setTimeout(function() {
                          t("body").on("touchstart." + n.namespace, function() {
                            n.hide();
                          });
                        }, 0),
                      n.options.interactive)
                    ) {
                      c &&
                        n.$tooltip.on("touchstart." + n.namespace, function(t) {
                          t.stopPropagation();
                        });
                      var p = null;
                      n.$elProxy
                        .add(n.$tooltip)
                        .on(
                          "mouseleave." + n.namespace + "-autoClose",
                          function() {
                            clearTimeout(p),
                              (p = setTimeout(function() {
                                n.hide();
                              }, n.options.interactiveTolerance));
                          }
                        )
                        .on(
                          "mouseenter." + n.namespace + "-autoClose",
                          function() {
                            clearTimeout(p);
                          }
                        );
                    } else
                      n.$elProxy.on(
                        "mouseleave." + n.namespace + "-autoClose",
                        function() {
                          n.hide();
                        }
                      );
                    n.options.hideOnClick &&
                      n.$elProxy.on(
                        "click." + n.namespace + "-autoClose",
                        function() {
                          n.hide();
                        }
                      );
                  } else
                    "click" == n.options.trigger &&
                      (setTimeout(function() {
                        t("body").on(
                          "click." + n.namespace + " touchstart." + n.namespace,
                          function() {
                            n.hide();
                          }
                        );
                      }, 0),
                      n.options.interactive &&
                        n.$tooltip.on(
                          "click." + n.namespace + " touchstart." + n.namespace,
                          function(t) {
                            t.stopPropagation();
                          }
                        ));
              }
              n.options.timer > 0 &&
                (n.timerHide = setTimeout(function() {
                  (n.timerHide = null), n.hide();
                }, n.options.timer + r));
            }
          });
        },
        _interval_set: function() {
          var e = this;
          e.checkInterval = setInterval(function() {
            if (
              0 === t("body").find(e.$el).length ||
              0 === t("body").find(e.$elProxy).length ||
              "hidden" == e.Status ||
              0 === t("body").find(e.$tooltip).length
            )
              ("shown" != e.Status && "appearing" != e.Status) || e.hide(),
                e._interval_cancel();
            else if (e.options.positionTracker) {
              var i = e._repositionInfo(e.$elProxy),
                n = !1;
              o(i.dimension, e.elProxyPosition.dimension) &&
                ("fixed" === e.$elProxy.css("position")
                  ? o(i.position, e.elProxyPosition.position) && (n = !0)
                  : o(i.offset, e.elProxyPosition.offset) && (n = !0)),
                n ||
                  (e.reposition(),
                  e.options.positionTrackerCallback.call(e, e.$el));
            }
          }, 200);
        },
        _interval_cancel: function() {
          clearInterval(this.checkInterval), (this.checkInterval = null);
        },
        _content_set: function(t) {
          "object" == typeof t &&
            null !== t &&
            this.options.contentCloning &&
            (t = t.clone(!0)),
            (this.Content = t);
        },
        _content_insert: function() {
          var t = this,
            e = this.$tooltip.find(".tooltipster-content");
          "string" != typeof t.Content || t.options.contentAsHTML
            ? e.empty().append(t.Content)
            : e.text(t.Content);
        },
        _update: function(t) {
          var e = this;
          e._content_set(t),
            null !== e.Content
              ? "hidden" !== e.Status &&
                (e._content_insert(),
                e.reposition(),
                e.options.updateAnimation &&
                  (s()
                    ? (e.$tooltip
                        .css({
                          width: "",
                          "-webkit-transition":
                            "all " +
                            e.options.speed +
                            "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                          "-moz-transition":
                            "all " +
                            e.options.speed +
                            "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                          "-o-transition":
                            "all " +
                            e.options.speed +
                            "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                          "-ms-transition":
                            "all " +
                            e.options.speed +
                            "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                          transition:
                            "all " +
                            e.options.speed +
                            "ms, width 0ms, height 0ms, left 0ms, top 0ms"
                        })
                        .addClass("tooltipster-content-changing"),
                      setTimeout(function() {
                        "hidden" != e.Status &&
                          (e.$tooltip.removeClass(
                            "tooltipster-content-changing"
                          ),
                          setTimeout(function() {
                            "hidden" !== e.Status &&
                              e.$tooltip.css({
                                "-webkit-transition": e.options.speed + "ms",
                                "-moz-transition": e.options.speed + "ms",
                                "-o-transition": e.options.speed + "ms",
                                "-ms-transition": e.options.speed + "ms",
                                transition: e.options.speed + "ms"
                              });
                          }, e.options.speed));
                      }, e.options.speed))
                    : e.$tooltip.fadeTo(e.options.speed, 0.5, function() {
                        "hidden" != e.Status &&
                          e.$tooltip.fadeTo(e.options.speed, 1);
                      })))
              : e.hide();
        },
        _repositionInfo: function(t) {
          return {
            dimension: { height: t.outerHeight(!1), width: t.outerWidth(!1) },
            offset: t.offset(),
            position: {
              left: parseInt(t.css("left")),
              top: parseInt(t.css("top"))
            }
          };
        },
        hide: function(i) {
          var n = this;
          i && n.callbacks.hide.push(i),
            (n.callbacks.show = []),
            clearTimeout(n.timerShow),
            (n.timerShow = null),
            clearTimeout(n.timerHide),
            (n.timerHide = null);
          var o = function() {
            t.each(n.callbacks.hide, function(t, e) {
              e.call(n.$el);
            }),
              (n.callbacks.hide = []);
          };
          if ("shown" == n.Status || "appearing" == n.Status) {
            n.Status = "disappearing";
            var r = function() {
              (n.Status = "hidden"),
                "object" == typeof n.Content &&
                  null !== n.Content &&
                  n.Content.detach(),
                n.$tooltip.remove(),
                (n.$tooltip = null),
                t(e).off("." + n.namespace),
                t("body")
                  .off("." + n.namespace)
                  .css("overflow-x", n.bodyOverflowX),
                t("body").off("." + n.namespace),
                n.$elProxy.off("." + n.namespace + "-autoClose"),
                n.options.functionAfter.call(n.$el, n.$el),
                o();
            };
            s()
              ? (n.$tooltip
                  .clearQueue()
                  .removeClass("tooltipster-" + n.options.animation + "-show")
                  .addClass("tooltipster-dying"),
                n.options.speed > 0 && n.$tooltip.delay(n.options.speed),
                n.$tooltip.queue(r))
              : n.$tooltip.stop().fadeOut(n.options.speed, r);
          } else "hidden" == n.Status && o();
          return n;
        },
        show: function(t) {
          return this._showNow(t), this;
        },
        update: function(t) {
          return this.content(t);
        },
        content: function(t) {
          return "undefined" == typeof t
            ? this.Content
            : (this._update(t), this);
        },
        reposition: function() {
          function i() {
            var i = t(e).scrollLeft();
            _ - i < 0 && ((r = _ - i), (_ = i)),
              _ + l - i > s && ((r = _ - (s + i - l)), (_ = s + i - l));
          }
          function n(i, n) {
            a.offset.top - t(e).scrollTop() - c - A - 12 < 0 &&
              n.indexOf("top") > -1 &&
              (D = i),
              a.offset.top + a.dimension.height + c + 12 + A >
                t(e).scrollTop() + t(e).height() &&
                n.indexOf("bottom") > -1 &&
                ((D = i), (I = a.offset.top - c - A - 12));
          }
          var o = this;
          if (0 !== t("body").find(o.$tooltip).length) {
            o.$tooltip.css("width", ""),
              (o.elProxyPosition = o._repositionInfo(o.$elProxy));
            var r = null,
              s = t(e).width(),
              a = o.elProxyPosition,
              l = o.$tooltip.outerWidth(!1),
              c = (o.$tooltip.innerWidth() + 1, o.$tooltip.outerHeight(!1));
            if (o.$elProxy.is("area")) {
              var u = o.$elProxy.attr("shape"),
                d = o.$elProxy.parent().attr("name"),
                h = t('img[usemap="#' + d + '"]'),
                p = h.offset().left,
                f = h.offset().top,
                m =
                  void 0 !== o.$elProxy.attr("coords")
                    ? o.$elProxy.attr("coords").split(",")
                    : void 0;
              if ("circle" == u) {
                var g = parseInt(m[0]),
                  v = parseInt(m[1]),
                  y = parseInt(m[2]);
                (a.dimension.height = 2 * y),
                  (a.dimension.width = 2 * y),
                  (a.offset.top = f + v - y),
                  (a.offset.left = p + g - y);
              } else if ("rect" == u) {
                var g = parseInt(m[0]),
                  v = parseInt(m[1]),
                  b = parseInt(m[2]),
                  w = parseInt(m[3]);
                (a.dimension.height = w - v),
                  (a.dimension.width = b - g),
                  (a.offset.top = f + v),
                  (a.offset.left = p + g);
              } else if ("poly" == u) {
                for (
                  var x = 0, S = 0, C = 0, k = 0, E = "even", T = 0;
                  T < m.length;
                  T++
                ) {
                  var P = parseInt(m[T]);
                  "even" == E
                    ? (P > C && ((C = P), 0 === T && (x = C)),
                      P < x && (x = P),
                      (E = "odd"))
                    : (P > k && ((k = P), 1 == T && (S = k)),
                      P < S && (S = P),
                      (E = "even"));
                }
                (a.dimension.height = k - S),
                  (a.dimension.width = C - x),
                  (a.offset.top = f + S),
                  (a.offset.left = p + x);
              } else
                (a.dimension.height = h.outerHeight(!1)),
                  (a.dimension.width = h.outerWidth(!1)),
                  (a.offset.top = f),
                  (a.offset.left = p);
            }
            var _ = 0,
              j = 0,
              I = 0,
              A = parseInt(o.options.offsetY),
              O = parseInt(o.options.offsetX),
              D = o.options.position;
            if ("top" == D) {
              var L = a.offset.left + l - (a.offset.left + a.dimension.width);
              (_ = a.offset.left + O - L / 2),
                (I = a.offset.top - c - A - 12),
                i(),
                n("bottom", "top");
            }
            if (
              ("top-left" == D &&
                ((_ = a.offset.left + O),
                (I = a.offset.top - c - A - 12),
                i(),
                n("bottom-left", "top-left")),
              "top-right" == D &&
                ((_ = a.offset.left + a.dimension.width + O - l),
                (I = a.offset.top - c - A - 12),
                i(),
                n("bottom-right", "top-right")),
              "bottom" == D)
            ) {
              var L = a.offset.left + l - (a.offset.left + a.dimension.width);
              (_ = a.offset.left - L / 2 + O),
                (I = a.offset.top + a.dimension.height + A + 12),
                i(),
                n("top", "bottom");
            }
            if (
              ("bottom-left" == D &&
                ((_ = a.offset.left + O),
                (I = a.offset.top + a.dimension.height + A + 12),
                i(),
                n("top-left", "bottom-left")),
              "bottom-right" == D &&
                ((_ = a.offset.left + a.dimension.width + O - l),
                (I = a.offset.top + a.dimension.height + A + 12),
                i(),
                n("top-right", "bottom-right")),
              "left" == D)
            ) {
              (_ = a.offset.left - O - l - 12),
                (j = a.offset.left + O + a.dimension.width + 12);
              var M = a.offset.top + c - (a.offset.top + a.dimension.height);
              if (((I = a.offset.top - M / 2 - A), _ < 0 && j + l > s)) {
                var z = 2 * parseFloat(o.$tooltip.css("border-width")),
                  Q = l + _ - z;
                o.$tooltip.css("width", Q + "px"),
                  (c = o.$tooltip.outerHeight(!1)),
                  (_ = a.offset.left - O - Q - 12 - z),
                  (M = a.offset.top + c - (a.offset.top + a.dimension.height)),
                  (I = a.offset.top - M / 2 - A);
              } else
                _ < 0 &&
                  ((_ = a.offset.left + O + a.dimension.width + 12),
                  (r = "left"));
            }
            if ("right" == D) {
              (_ = a.offset.left + O + a.dimension.width + 12),
                (j = a.offset.left - O - l - 12);
              var M = a.offset.top + c - (a.offset.top + a.dimension.height);
              if (((I = a.offset.top - M / 2 - A), _ + l > s && j < 0)) {
                var z = 2 * parseFloat(o.$tooltip.css("border-width")),
                  Q = s - _ - z;
                o.$tooltip.css("width", Q + "px"),
                  (c = o.$tooltip.outerHeight(!1)),
                  (M = a.offset.top + c - (a.offset.top + a.dimension.height)),
                  (I = a.offset.top - M / 2 - A);
              } else
                _ + l > s && ((_ = a.offset.left - O - l - 12), (r = "right"));
            }
            if (o.options.arrow) {
              var F = "tooltipster-arrow-" + D;
              if (o.options.arrowColor.length < 1)
                var W = o.$tooltip.css("background-color");
              else var W = o.options.arrowColor;
              if (
                (r
                  ? "left" == r
                    ? ((F = "tooltipster-arrow-right"), (r = ""))
                    : "right" == r
                      ? ((F = "tooltipster-arrow-left"), (r = ""))
                      : (r = "left:" + Math.round(r) + "px;")
                  : (r = ""),
                "top" == D || "top-left" == D || "top-right" == D)
              )
                var N = parseFloat(o.$tooltip.css("border-bottom-width")),
                  B = o.$tooltip.css("border-bottom-color");
              else if (
                "bottom" == D ||
                "bottom-left" == D ||
                "bottom-right" == D
              )
                var N = parseFloat(o.$tooltip.css("border-top-width")),
                  B = o.$tooltip.css("border-top-color");
              else if ("left" == D)
                var N = parseFloat(o.$tooltip.css("border-right-width")),
                  B = o.$tooltip.css("border-right-color");
              else if ("right" == D)
                var N = parseFloat(o.$tooltip.css("border-left-width")),
                  B = o.$tooltip.css("border-left-color");
              else
                var N = parseFloat(o.$tooltip.css("border-bottom-width")),
                  B = o.$tooltip.css("border-bottom-color");
              N > 1 && N++;
              var H = "";
              if (0 !== N) {
                var $ = "",
                  V = "border-color: " + B + ";";
                F.indexOf("bottom") !== -1
                  ? ($ = "margin-top: -" + Math.round(N) + "px;")
                  : F.indexOf("top") !== -1
                    ? ($ = "margin-bottom: -" + Math.round(N) + "px;")
                    : F.indexOf("left") !== -1
                      ? ($ = "margin-right: -" + Math.round(N) + "px;")
                      : F.indexOf("right") !== -1 &&
                        ($ = "margin-left: -" + Math.round(N) + "px;"),
                  (H =
                    '<span class="tooltipster-arrow-border" style="' +
                    $ +
                    " " +
                    V +
                    ';"></span>');
              }
              o.$tooltip.find(".tooltipster-arrow").remove();
              var R =
                '<div class="' +
                F +
                ' tooltipster-arrow" style="' +
                r +
                '">' +
                H +
                '<span style="border-color:' +
                W +
                ';"></span></div>';
              o.$tooltip.append(R);
            }
            o.$tooltip.css({
              top: Math.round(I) + "px",
              left: Math.round(_) + "px"
            });
          }
          return o;
        },
        enable: function() {
          return (this.enabled = !0), this;
        },
        disable: function() {
          return this.hide(), (this.enabled = !1), this;
        },
        destroy: function() {
          var e = this;
          e.hide(),
            e.$el[0] !== e.$elProxy[0] && e.$elProxy.remove(),
            e.$el.removeData(e.namespace).off("." + e.namespace);
          var i = e.$el.data("tooltipster-ns");
          if (1 === i.length) {
            var n = null;
            "previous" === e.options.restoration
              ? (n = e.$el.data("tooltipster-initialTitle"))
              : "current" === e.options.restoration &&
                (n =
                  "string" == typeof e.Content
                    ? e.Content
                    : t("<div></div>")
                        .append(e.Content)
                        .html()),
              n && e.$el.attr("title", n),
              e.$el
                .removeClass("tooltipstered")
                .removeData("tooltipster-ns")
                .removeData("tooltipster-initialTitle");
          } else
            (i = t.grep(i, function(t, i) {
              return t !== e.namespace;
            })),
              e.$el.data("tooltipster-ns", i);
          return e;
        },
        elementIcon: function() {
          return this.$el[0] !== this.$elProxy[0] ? this.$elProxy[0] : void 0;
        },
        elementTooltip: function() {
          return this.$tooltip ? this.$tooltip[0] : void 0;
        },
        option: function(t, e) {
          return "undefined" == typeof e
            ? this.options[t]
            : ((this.options[t] = e), this);
        },
        status: function() {
          return this.Status;
        }
      }),
        (t.fn[a] = function() {
          var e = arguments;
          if (0 === this.length) {
            if ("string" == typeof e[0]) {
              var i = !0;
              switch (e[0]) {
                case "setDefaults":
                  t.extend(l, e[1]);
                  break;
                default:
                  i = !1;
              }
              return !!i || this;
            }
            return this;
          }
          if ("string" == typeof e[0]) {
            var o = "#*$~&";
            return (
              this.each(function() {
                var i = t(this).data("tooltipster-ns"),
                  n = i ? t(this).data(i[0]) : null;
                if (!n)
                  throw new Error(
                    "You called Tooltipster's \"" +
                      e[0] +
                      '" method on an uninitialized element'
                  );
                if ("function" != typeof n[e[0]])
                  throw new Error(
                    'Unknown method .tooltipster("' + e[0] + '")'
                  );
                var r = n[e[0]](e[1], e[2]);
                if (r !== n) return (o = r), !1;
              }),
              "#*$~&" !== o ? o : this
            );
          }
          var r = [],
            s = e[0] && "undefined" != typeof e[0].multiple,
            a = (s && e[0].multiple) || (!s && l.multiple),
            c = e[0] && "undefined" != typeof e[0].debug,
            u = (c && e[0].debug) || (!c && l.debug);
          return (
            this.each(function() {
              var i = !1,
                o = t(this).data("tooltipster-ns"),
                s = null;
              o
                ? a
                  ? (i = !0)
                  : u &&
                    console.log(
                      'Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'
                    )
                : (i = !0),
                i &&
                  ((s = new n(this, e[0])),
                  o || (o = []),
                  o.push(s.namespace),
                  t(this).data("tooltipster-ns", o),
                  t(this).data(s.namespace, s)),
                r.push(s);
            }),
            a ? r : this
          );
        });
      var c = !!("ontouchstart" in e),
        u = !1;
      t("body").one("mousemove", function() {
        u = !0;
      });
    })(jQuery, window, document);
  },
  function(t, e, i) {
    (function(t) {
      "use strict";
      function e(t) {
        return t && t.__esModule ? t : { default: t };
      }
      var n = i(25),
        o = e(n);
      t.Flatsome = {
        behaviors: {},
        plugin: function(t, e, i) {
          (i = i || {}),
            (jQuery.fn[t] = function(n) {
              if ("string" == typeof arguments[0]) {
                var r = null,
                  s = arguments[0],
                  a = Array.prototype.slice.call(arguments, 1);
                return (
                  this.each(function() {
                    if (
                      !jQuery.data(this, "plugin_" + t) ||
                      "function" != typeof jQuery.data(this, "plugin_" + t)[s]
                    )
                      throw new Error(
                        "Method " + s + " does not exist on jQuery." + t
                      );
                    r = jQuery.data(this, "plugin_" + t)[s].apply(this, a);
                  }),
                  "destroy" === s &&
                    this.each(function() {
                      jQuery(this).removeData("plugin_" + t);
                    }),
                  void 0 !== r ? r : this
                );
              }
              if (
                "object" ===
                  ("undefined" == typeof n ? "undefined" : (0, o.default)(n)) ||
                !n
              )
                return this.each(function() {
                  jQuery.data(this, "plugin_" + t) ||
                    ((n = jQuery.extend({}, i, n)),
                    jQuery.data(this, "plugin_" + t, new e(this, n)));
                });
            });
        },
        behavior: function(t, e) {
          (this.behaviors[t] = e),
            e.arrive &&
              jQuery(document).arrive(
                e.arrive.selector,
                e.arrive.handler ||
                  function() {
                    Flatsome.attach(t, this.parentNode);
                  }
              );
        },
        attach: function(t) {
          var e =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t;
          if ("string" == typeof t)
            return this.behaviors.hasOwnProperty(t) &&
              "function" == typeof this.behaviors[t].attach
              ? this.behaviors[t].attach(e || document)
              : null;
          for (var i in this.behaviors)
            "function" == typeof this.behaviors[i].attach &&
              this.behaviors[i].attach(e || document);
        },
        detach: function(t) {
          for (var e in this.behaviors)
            "function" == typeof this.behaviors[e].detach &&
              this.behaviors[e].detach(t || document);
        }
      };
    }.call(
      e,
      (function() {
        return this;
      })()
    ));
  },
  function(t, e, i) {
    "use strict";
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    e.__esModule = !0;
    var o = i(26),
      r = n(o),
      s = i(77),
      a = n(s),
      l =
        "function" == typeof a.default && "symbol" == typeof r.default
          ? function(t) {
              return typeof t;
            }
          : function(t) {
              return t &&
                "function" == typeof a.default &&
                t.constructor === a.default &&
                t !== a.default.prototype
                ? "symbol"
                : typeof t;
            };
    e.default =
      "function" == typeof a.default && "symbol" === l(r.default)
        ? function(t) {
            return "undefined" == typeof t ? "undefined" : l(t);
          }
        : function(t) {
            return t &&
              "function" == typeof a.default &&
              t.constructor === a.default &&
              t !== a.default.prototype
              ? "symbol"
              : "undefined" == typeof t
                ? "undefined"
                : l(t);
          };
  },
  function(t, e, i) {
    t.exports = { default: i(27), __esModule: !0 };
  },
  function(t, e, i) {
    i(28), i(72), (t.exports = i(76).f("iterator"));
  },
  function(t, e, i) {
    "use strict";
    var n = i(29)(!0);
    i(32)(
      String,
      "String",
      function(t) {
        (this._t = String(t)), (this._i = 0);
      },
      function() {
        var t,
          e = this._t,
          i = this._i;
        return i >= e.length
          ? { value: void 0, done: !0 }
          : ((t = n(e, i)), (this._i += t.length), { value: t, done: !1 });
      }
    );
  },
  function(t, e, i) {
    var n = i(30),
      o = i(31);
    t.exports = function(t) {
      return function(e, i) {
        var r,
          s,
          a = String(o(e)),
          l = n(i),
          c = a.length;
        return l < 0 || l >= c
          ? t
            ? ""
            : void 0
          : ((r = a.charCodeAt(l)),
            r < 55296 ||
            r > 56319 ||
            l + 1 === c ||
            (s = a.charCodeAt(l + 1)) < 56320 ||
            s > 57343
              ? t
                ? a.charAt(l)
                : r
              : t
                ? a.slice(l, l + 2)
                : ((r - 55296) << 10) + (s - 56320) + 65536);
      };
    };
  },
  function(t, e) {
    var i = Math.ceil,
      n = Math.floor;
    t.exports = function(t) {
      return isNaN((t = +t)) ? 0 : (t > 0 ? n : i)(t);
    };
  },
  function(t, e) {
    t.exports = function(t) {
      if (void 0 == t) throw TypeError("Can't call method on  " + t);
      return t;
    };
  },
  function(t, e, i) {
    "use strict";
    var n = i(33),
      o = i(34),
      r = i(49),
      s = i(39),
      a = i(50),
      l = i(51),
      c = i(52),
      u = i(68),
      d = i(70),
      h = i(69)("iterator"),
      p = !([].keys && "next" in [].keys()),
      f = "@@iterator",
      m = "keys",
      g = "values",
      v = function() {
        return this;
      };
    t.exports = function(t, e, i, y, b, w, x) {
      c(i, e, y);
      var S,
        C,
        k,
        E = function(t) {
          if (!p && t in j) return j[t];
          switch (t) {
            case m:
              return function() {
                return new i(this, t);
              };
            case g:
              return function() {
                return new i(this, t);
              };
          }
          return function() {
            return new i(this, t);
          };
        },
        T = e + " Iterator",
        P = b == g,
        _ = !1,
        j = t.prototype,
        I = j[h] || j[f] || (b && j[b]),
        A = I || E(b),
        O = b ? (P ? E("entries") : A) : void 0,
        D = "Array" == e ? j.entries || I : I;
      if (
        (D &&
          ((k = d(D.call(new t()))),
          k !== Object.prototype &&
            k.next &&
            (u(k, T, !0), n || a(k, h) || s(k, h, v))),
        P &&
          I &&
          I.name !== g &&
          ((_ = !0),
          (A = function() {
            return I.call(this);
          })),
        (n && !x) || (!p && !_ && j[h]) || s(j, h, A),
        (l[e] = A),
        (l[T] = v),
        b)
      )
        if (((S = { values: P ? A : E(g), keys: w ? A : E(m), entries: O }), x))
          for (C in S) C in j || r(j, C, S[C]);
        else o(o.P + o.F * (p || _), e, S);
      return S;
    };
  },
  function(t, e) {
    t.exports = !0;
  },
  function(t, e, i) {
    var n = i(35),
      o = i(36),
      r = i(37),
      s = i(39),
      a = "prototype",
      l = function(t, e, i) {
        var c,
          u,
          d,
          h = t & l.F,
          p = t & l.G,
          f = t & l.S,
          m = t & l.P,
          g = t & l.B,
          v = t & l.W,
          y = p ? o : o[e] || (o[e] = {}),
          b = y[a],
          w = p ? n : f ? n[e] : (n[e] || {})[a];
        p && (i = e);
        for (c in i)
          (u = !h && w && void 0 !== w[c]),
            (u && c in y) ||
              ((d = u ? w[c] : i[c]),
              (y[c] =
                p && "function" != typeof w[c]
                  ? i[c]
                  : g && u
                    ? r(d, n)
                    : v && w[c] == d
                      ? (function(t) {
                          var e = function(e, i, n) {
                            if (this instanceof t) {
                              switch (arguments.length) {
                                case 0:
                                  return new t();
                                case 1:
                                  return new t(e);
                                case 2:
                                  return new t(e, i);
                              }
                              return new t(e, i, n);
                            }
                            return t.apply(this, arguments);
                          };
                          return (e[a] = t[a]), e;
                        })(d)
                      : m && "function" == typeof d
                        ? r(Function.call, d)
                        : d),
              m &&
                (((y.virtual || (y.virtual = {}))[c] = d),
                t & l.R && b && !b[c] && s(b, c, d)));
      };
    (l.F = 1),
      (l.G = 2),
      (l.S = 4),
      (l.P = 8),
      (l.B = 16),
      (l.W = 32),
      (l.U = 64),
      (l.R = 128),
      (t.exports = l);
  },
  function(t, e) {
    var i = (t.exports =
      "undefined" != typeof window && window.Math == Math
        ? window
        : "undefined" != typeof self && self.Math == Math
          ? self
          : Function("return this")());
    "number" == typeof __g && (__g = i);
  },
  function(t, e) {
    var i = (t.exports = { version: "2.5.1" });
    "number" == typeof __e && (__e = i);
  },
  function(t, e, i) {
    var n = i(38);
    t.exports = function(t, e, i) {
      if ((n(t), void 0 === e)) return t;
      switch (i) {
        case 1:
          return function(i) {
            return t.call(e, i);
          };
        case 2:
          return function(i, n) {
            return t.call(e, i, n);
          };
        case 3:
          return function(i, n, o) {
            return t.call(e, i, n, o);
          };
      }
      return function() {
        return t.apply(e, arguments);
      };
    };
  },
  function(t, e) {
    t.exports = function(t) {
      if ("function" != typeof t) throw TypeError(t + " is not a function!");
      return t;
    };
  },
  function(t, e, i) {
    var n = i(40),
      o = i(48);
    t.exports = i(44)
      ? function(t, e, i) {
          return n.f(t, e, o(1, i));
        }
      : function(t, e, i) {
          return (t[e] = i), t;
        };
  },
  function(t, e, i) {
    var n = i(41),
      o = i(43),
      r = i(47),
      s = Object.defineProperty;
    e.f = i(44)
      ? Object.defineProperty
      : function(t, e, i) {
          if ((n(t), (e = r(e, !0)), n(i), o))
            try {
              return s(t, e, i);
            } catch (t) {}
          if ("get" in i || "set" in i)
            throw TypeError("Accessors not supported!");
          return "value" in i && (t[e] = i.value), t;
        };
  },
  function(t, e, i) {
    var n = i(42);
    t.exports = function(t) {
      if (!n(t)) throw TypeError(t + " is not an object!");
      return t;
    };
  },
  function(t, e) {
    t.exports = function(t) {
      return "object" == typeof t ? null !== t : "function" == typeof t;
    };
  },
  function(t, e, i) {
    t.exports =
      !i(44) &&
      !i(45)(function() {
        return (
          7 !=
          Object.defineProperty(i(46)("div"), "a", {
            get: function() {
              return 7;
            }
          }).a
        );
      });
  },
  function(t, e, i) {
    t.exports = !i(45)(function() {
      return (
        7 !=
        Object.defineProperty({}, "a", {
          get: function() {
            return 7;
          }
        }).a
      );
    });
  },
  function(t, e) {
    t.exports = function(t) {
      try {
        return !!t();
      } catch (t) {
        return !0;
      }
    };
  },
  function(t, e, i) {
    var n = i(42),
      o = i(35).document,
      r = n(o) && n(o.createElement);
    t.exports = function(t) {
      return r ? o.createElement(t) : {};
    };
  },
  function(t, e, i) {
    var n = i(42);
    t.exports = function(t, e) {
      if (!n(t)) return t;
      var i, o;
      if (e && "function" == typeof (i = t.toString) && !n((o = i.call(t))))
        return o;
      if ("function" == typeof (i = t.valueOf) && !n((o = i.call(t)))) return o;
      if (!e && "function" == typeof (i = t.toString) && !n((o = i.call(t))))
        return o;
      throw TypeError("Can't convert object to primitive value");
    };
  },
  function(t, e) {
    t.exports = function(t, e) {
      return {
        enumerable: !(1 & t),
        configurable: !(2 & t),
        writable: !(4 & t),
        value: e
      };
    };
  },
  function(t, e, i) {
    t.exports = i(39);
  },
  function(t, e) {
    var i = {}.hasOwnProperty;
    t.exports = function(t, e) {
      return i.call(t, e);
    };
  },
  function(t, e) {
    t.exports = {};
  },
  function(t, e, i) {
    "use strict";
    var n = i(53),
      o = i(48),
      r = i(68),
      s = {};
    i(39)(s, i(69)("iterator"), function() {
      return this;
    }),
      (t.exports = function(t, e, i) {
        (t.prototype = n(s, { next: o(1, i) })), r(t, e + " Iterator");
      });
  },
  function(t, e, i) {
    var n = i(41),
      o = i(54),
      r = i(66),
      s = i(63)("IE_PROTO"),
      a = function() {},
      l = "prototype",
      c = function() {
        var t,
          e = i(46)("iframe"),
          n = r.length,
          o = "<",
          s = ">";
        for (
          e.style.display = "none",
            i(67).appendChild(e),
            e.src = "javascript:",
            t = e.contentWindow.document,
            t.open(),
            t.write(o + "script" + s + "document.F=Object" + o + "/script" + s),
            t.close(),
            c = t.F;
          n--;

        )
          delete c[l][r[n]];
        return c();
      };
    t.exports =
      Object.create ||
      function(t, e) {
        var i;
        return (
          null !== t
            ? ((a[l] = n(t)), (i = new a()), (a[l] = null), (i[s] = t))
            : (i = c()),
          void 0 === e ? i : o(i, e)
        );
      };
  },
  function(t, e, i) {
    var n = i(40),
      o = i(41),
      r = i(55);
    t.exports = i(44)
      ? Object.defineProperties
      : function(t, e) {
          o(t);
          for (var i, s = r(e), a = s.length, l = 0; a > l; )
            n.f(t, (i = s[l++]), e[i]);
          return t;
        };
  },
  function(t, e, i) {
    var n = i(56),
      o = i(66);
    t.exports =
      Object.keys ||
      function(t) {
        return n(t, o);
      };
  },
  function(t, e, i) {
    var n = i(50),
      o = i(57),
      r = i(60)(!1),
      s = i(63)("IE_PROTO");
    t.exports = function(t, e) {
      var i,
        a = o(t),
        l = 0,
        c = [];
      for (i in a) i != s && n(a, i) && c.push(i);
      for (; e.length > l; ) n(a, (i = e[l++])) && (~r(c, i) || c.push(i));
      return c;
    };
  },
  function(t, e, i) {
    var n = i(58),
      o = i(31);
    t.exports = function(t) {
      return n(o(t));
    };
  },
  function(t, e, i) {
    var n = i(59);
    t.exports = Object("z").propertyIsEnumerable(0)
      ? Object
      : function(t) {
          return "String" == n(t) ? t.split("") : Object(t);
        };
  },
  function(t, e) {
    var i = {}.toString;
    t.exports = function(t) {
      return i.call(t).slice(8, -1);
    };
  },
  function(t, e, i) {
    var n = i(57),
      o = i(61),
      r = i(62);
    t.exports = function(t) {
      return function(e, i, s) {
        var a,
          l = n(e),
          c = o(l.length),
          u = r(s, c);
        if (t && i != i) {
          for (; c > u; ) if (((a = l[u++]), a != a)) return !0;
        } else
          for (; c > u; u++)
            if ((t || u in l) && l[u] === i) return t || u || 0;
        return !t && -1;
      };
    };
  },
  function(t, e, i) {
    var n = i(30),
      o = Math.min;
    t.exports = function(t) {
      return t > 0 ? o(n(t), 9007199254740991) : 0;
    };
  },
  function(t, e, i) {
    var n = i(30),
      o = Math.max,
      r = Math.min;
    t.exports = function(t, e) {
      return (t = n(t)), t < 0 ? o(t + e, 0) : r(t, e);
    };
  },
  function(t, e, i) {
    var n = i(64)("keys"),
      o = i(65);
    t.exports = function(t) {
      return n[t] || (n[t] = o(t));
    };
  },
  function(t, e, i) {
    var n = i(35),
      o = "__core-js_shared__",
      r = n[o] || (n[o] = {});
    t.exports = function(t) {
      return r[t] || (r[t] = {});
    };
  },
  function(t, e) {
    var i = 0,
      n = Math.random();
    t.exports = function(t) {
      return "Symbol(".concat(
        void 0 === t ? "" : t,
        ")_",
        (++i + n).toString(36)
      );
    };
  },
  function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(
      ","
    );
  },
  function(t, e, i) {
    var n = i(35).document;
    t.exports = n && n.documentElement;
  },
  function(t, e, i) {
    var n = i(40).f,
      o = i(50),
      r = i(69)("toStringTag");
    t.exports = function(t, e, i) {
      t &&
        !o((t = i ? t : t.prototype), r) &&
        n(t, r, { configurable: !0, value: e });
    };
  },
  function(t, e, i) {
    var n = i(64)("wks"),
      o = i(65),
      r = i(35).Symbol,
      s = "function" == typeof r,
      a = (t.exports = function(t) {
        return n[t] || (n[t] = (s && r[t]) || (s ? r : o)("Symbol." + t));
      });
    a.store = n;
  },
  function(t, e, i) {
    var n = i(50),
      o = i(71),
      r = i(63)("IE_PROTO"),
      s = Object.prototype;
    t.exports =
      Object.getPrototypeOf ||
      function(t) {
        return (
          (t = o(t)),
          n(t, r)
            ? t[r]
            : "function" == typeof t.constructor && t instanceof t.constructor
              ? t.constructor.prototype
              : t instanceof Object
                ? s
                : null
        );
      };
  },
  function(t, e, i) {
    var n = i(31);
    t.exports = function(t) {
      return Object(n(t));
    };
  },
  function(t, e, i) {
    i(73);
    for (
      var n = i(35),
        o = i(39),
        r = i(51),
        s = i(69)("toStringTag"),
        a = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(
          ","
        ),
        l = 0;
      l < a.length;
      l++
    ) {
      var c = a[l],
        u = n[c],
        d = u && u.prototype;
      d && !d[s] && o(d, s, c), (r[c] = r.Array);
    }
  },
  function(t, e, i) {
    "use strict";
    var n = i(74),
      o = i(75),
      r = i(51),
      s = i(57);
    (t.exports = i(32)(
      Array,
      "Array",
      function(t, e) {
        (this._t = s(t)), (this._i = 0), (this._k = e);
      },
      function() {
        var t = this._t,
          e = this._k,
          i = this._i++;
        return !t || i >= t.length
          ? ((this._t = void 0), o(1))
          : "keys" == e
            ? o(0, i)
            : "values" == e
              ? o(0, t[i])
              : o(0, [i, t[i]]);
      },
      "values"
    )),
      (r.Arguments = r.Array),
      n("keys"),
      n("values"),
      n("entries");
  },
  function(t, e) {
    t.exports = function() {};
  },
  function(t, e) {
    t.exports = function(t, e) {
      return { value: e, done: !!t };
    };
  },
  function(t, e, i) {
    e.f = i(69);
  },
  function(t, e, i) {
    t.exports = { default: i(78), __esModule: !0 };
  },
  function(t, e, i) {
    i(79), i(89), i(90), i(91), (t.exports = i(36).Symbol);
  },
  function(t, e, i) {
    "use strict";
    var n = i(35),
      o = i(50),
      r = i(44),
      s = i(34),
      a = i(49),
      l = i(80).KEY,
      c = i(45),
      u = i(64),
      d = i(68),
      h = i(65),
      p = i(69),
      f = i(76),
      m = i(81),
      g = i(82),
      v = i(85),
      y = i(41),
      b = i(57),
      w = i(47),
      x = i(48),
      S = i(53),
      C = i(86),
      k = i(88),
      E = i(40),
      T = i(55),
      P = k.f,
      _ = E.f,
      j = C.f,
      I = n.Symbol,
      A = n.JSON,
      O = A && A.stringify,
      D = "prototype",
      L = p("_hidden"),
      M = p("toPrimitive"),
      z = {}.propertyIsEnumerable,
      Q = u("symbol-registry"),
      F = u("symbols"),
      W = u("op-symbols"),
      N = Object[D],
      B = "function" == typeof I,
      H = n.QObject,
      $ = !H || !H[D] || !H[D].findChild,
      V =
        r &&
        c(function() {
          return (
            7 !=
            S(
              _({}, "a", {
                get: function() {
                  return _(this, "a", { value: 7 }).a;
                }
              })
            ).a
          );
        })
          ? function(t, e, i) {
              var n = P(N, e);
              n && delete N[e], _(t, e, i), n && t !== N && _(N, e, n);
            }
          : _,
      R = function(t) {
        var e = (F[t] = S(I[D]));
        return (e._k = t), e;
      },
      q =
        B && "symbol" == typeof I.iterator
          ? function(t) {
              return "symbol" == typeof t;
            }
          : function(t) {
              return t instanceof I;
            },
      U = function(t, e, i) {
        return (
          t === N && U(W, e, i),
          y(t),
          (e = w(e, !0)),
          y(i),
          o(F, e)
            ? (i.enumerable
                ? (o(t, L) && t[L][e] && (t[L][e] = !1),
                  (i = S(i, { enumerable: x(0, !1) })))
                : (o(t, L) || _(t, L, x(1, {})), (t[L][e] = !0)),
              V(t, e, i))
            : _(t, e, i)
        );
      },
      G = function(t, e) {
        y(t);
        for (var i, n = g((e = b(e))), o = 0, r = n.length; r > o; )
          U(t, (i = n[o++]), e[i]);
        return t;
      },
      Y = function(t, e) {
        return void 0 === e ? S(t) : G(S(t), e);
      },
      X = function(t) {
        var e = z.call(this, (t = w(t, !0)));
        return (
          !(this === N && o(F, t) && !o(W, t)) &&
          (!(e || !o(this, t) || !o(F, t) || (o(this, L) && this[L][t])) || e)
        );
      },
      K = function(t, e) {
        if (((t = b(t)), (e = w(e, !0)), t !== N || !o(F, e) || o(W, e))) {
          var i = P(t, e);
          return (
            !i || !o(F, e) || (o(t, L) && t[L][e]) || (i.enumerable = !0), i
          );
        }
      },
      Z = function(t) {
        for (var e, i = j(b(t)), n = [], r = 0; i.length > r; )
          o(F, (e = i[r++])) || e == L || e == l || n.push(e);
        return n;
      },
      J = function(t) {
        for (
          var e, i = t === N, n = j(i ? W : b(t)), r = [], s = 0;
          n.length > s;

        )
          !o(F, (e = n[s++])) || (i && !o(N, e)) || r.push(F[e]);
        return r;
      };
    B ||
      ((I = function() {
        if (this instanceof I) throw TypeError("Symbol is not a constructor!");
        var t = h(arguments.length > 0 ? arguments[0] : void 0),
          e = function(i) {
            this === N && e.call(W, i),
              o(this, L) && o(this[L], t) && (this[L][t] = !1),
              V(this, t, x(1, i));
          };
        return r && $ && V(N, t, { configurable: !0, set: e }), R(t);
      }),
      a(I[D], "toString", function() {
        return this._k;
      }),
      (k.f = K),
      (E.f = U),
      (i(87).f = C.f = Z),
      (i(84).f = X),
      (i(83).f = J),
      r && !i(33) && a(N, "propertyIsEnumerable", X, !0),
      (f.f = function(t) {
        return R(p(t));
      })),
      s(s.G + s.W + s.F * !B, { Symbol: I });
    for (
      var tt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(
          ","
        ),
        et = 0;
      tt.length > et;

    )
      p(tt[et++]);
    for (var it = T(p.store), nt = 0; it.length > nt; ) m(it[nt++]);
    s(s.S + s.F * !B, "Symbol", {
      for: function(t) {
        return o(Q, (t += "")) ? Q[t] : (Q[t] = I(t));
      },
      keyFor: function(t) {
        if (!q(t)) throw TypeError(t + " is not a symbol!");
        for (var e in Q) if (Q[e] === t) return e;
      },
      useSetter: function() {
        $ = !0;
      },
      useSimple: function() {
        $ = !1;
      }
    }),
      s(s.S + s.F * !B, "Object", {
        create: Y,
        defineProperty: U,
        defineProperties: G,
        getOwnPropertyDescriptor: K,
        getOwnPropertyNames: Z,
        getOwnPropertySymbols: J
      }),
      A &&
        s(
          s.S +
            s.F *
              (!B ||
                c(function() {
                  var t = I();
                  return (
                    "[null]" != O([t]) ||
                    "{}" != O({ a: t }) ||
                    "{}" != O(Object(t))
                  );
                })),
          "JSON",
          {
            stringify: function(t) {
              if (void 0 !== t && !q(t)) {
                for (var e, i, n = [t], o = 1; arguments.length > o; )
                  n.push(arguments[o++]);
                return (
                  (e = n[1]),
                  "function" == typeof e && (i = e),
                  (!i && v(e)) ||
                    (e = function(t, e) {
                      if ((i && (e = i.call(this, t, e)), !q(e))) return e;
                    }),
                  (n[1] = e),
                  O.apply(A, n)
                );
              }
            }
          }
        ),
      I[D][M] || i(39)(I[D], M, I[D].valueOf),
      d(I, "Symbol"),
      d(Math, "Math", !0),
      d(n.JSON, "JSON", !0);
  },
  function(t, e, i) {
    var n = i(65)("meta"),
      o = i(42),
      r = i(50),
      s = i(40).f,
      a = 0,
      l =
        Object.isExtensible ||
        function() {
          return !0;
        },
      c = !i(45)(function() {
        return l(Object.preventExtensions({}));
      }),
      u = function(t) {
        s(t, n, { value: { i: "O" + ++a, w: {} } });
      },
      d = function(t, e) {
        if (!o(t))
          return "symbol" == typeof t
            ? t
            : ("string" == typeof t ? "S" : "P") + t;
        if (!r(t, n)) {
          if (!l(t)) return "F";
          if (!e) return "E";
          u(t);
        }
        return t[n].i;
      },
      h = function(t, e) {
        if (!r(t, n)) {
          if (!l(t)) return !0;
          if (!e) return !1;
          u(t);
        }
        return t[n].w;
      },
      p = function(t) {
        return c && f.NEED && l(t) && !r(t, n) && u(t), t;
      },
      f = (t.exports = {
        KEY: n,
        NEED: !1,
        fastKey: d,
        getWeak: h,
        onFreeze: p
      });
  },
  function(t, e, i) {
    var n = i(35),
      o = i(36),
      r = i(33),
      s = i(76),
      a = i(40).f;
    t.exports = function(t) {
      var e = o.Symbol || (o.Symbol = r ? {} : n.Symbol || {});
      "_" == t.charAt(0) || t in e || a(e, t, { value: s.f(t) });
    };
  },
  function(t, e, i) {
    var n = i(55),
      o = i(83),
      r = i(84);
    t.exports = function(t) {
      var e = n(t),
        i = o.f;
      if (i)
        for (var s, a = i(t), l = r.f, c = 0; a.length > c; )
          l.call(t, (s = a[c++])) && e.push(s);
      return e;
    };
  },
  function(t, e) {
    e.f = Object.getOwnPropertySymbols;
  },
  function(t, e) {
    e.f = {}.propertyIsEnumerable;
  },
  function(t, e, i) {
    var n = i(59);
    t.exports =
      Array.isArray ||
      function(t) {
        return "Array" == n(t);
      };
  },
  function(t, e, i) {
    var n = i(57),
      o = i(87).f,
      r = {}.toString,
      s =
        "object" == typeof window && window && Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [],
      a = function(t) {
        try {
          return o(t);
        } catch (t) {
          return s.slice();
        }
      };
    t.exports.f = function(t) {
      return s && "[object Window]" == r.call(t) ? a(t) : o(n(t));
    };
  },
  function(t, e, i) {
    var n = i(56),
      o = i(66).concat("length", "prototype");
    e.f =
      Object.getOwnPropertyNames ||
      function(t) {
        return n(t, o);
      };
  },
  function(t, e, i) {
    var n = i(84),
      o = i(48),
      r = i(57),
      s = i(47),
      a = i(50),
      l = i(43),
      c = Object.getOwnPropertyDescriptor;
    e.f = i(44)
      ? c
      : function(t, e) {
          if (((t = r(t)), (e = s(e, !0)), l))
            try {
              return c(t, e);
            } catch (t) {}
          if (a(t, e)) return o(!n.f.call(t, e), t[e]);
        };
  },
  function(t, e) {},
  function(t, e, i) {
    i(81)("asyncIterator");
  },
  function(t, e, i) {
    i(81)("observable");
  },
  function(t, e) {
    "use strict";
    var i = jQuery("#wrapper"),
      n = jQuery("#header"),
      o = -jQuery(".header-wrapper").height() - 100,
      r = -jQuery(".header-top.hide-for-sticky").height() - 1,
      s = n.hasClass("has-sticky");
    if (jQuery(".sticky-shrink .header-wrapper").length) {
      var a = jQuery(".header-top.hide-for-sticky").height();
      (a += jQuery("#wpadminbar").height()), (o = -1 - a), (r = -1 - a);
    }
    s &&
      (n.find(".header-wrapper").waypoint(
        function(t) {
          var e = jQuery(this.element),
            i = n.height();
          "down" === t &&
            (e.addClass("stuck"),
            n.height(i),
            jQuery(".has-transparent").removeClass("transparent"),
            jQuery(".toggle-nav-dark").removeClass("nav-dark"));
        },
        { offset: o }
      ),
      i.waypoint(
        function(t) {
          "up" === t &&
            (n.height(""),
            jQuery(".header-wrapper").removeClass("stuck"),
            jQuery(".has-transparent").addClass("transparent"),
            jQuery(".toggle-nav-dark").addClass("nav-dark"));
        },
        { offset: r }
      ));
  },
  function(t, e, i) {
    "use strict";
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    var o = i(22),
      r = n(o);
    (0, r.default)();
  },
  function(t, e) {
    "use strict";
    function i(t) {
      t.classList.add("parallax-active"),
        /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(
          navigator.userAgent
        ) ||
          (t.classList &&
            t.dataset &&
            (f.push({ element: t, type: a(t) }), o(f[f.length - 1])));
    }
    function n() {
      for (var t = 0; t < f.length; t++)
        f[t].element.offsetParent ? o(f[t]) : f.splice(t, 1);
    }
    function o(t) {
      r(t), s(t);
    }
    function r(t) {
      var e = t.element,
        i = t.type,
        n = e.dataset.parallax,
        o = p(n),
        r = c(e),
        s = (window.innerHeight - r.offsetHeight) * o;
      switch (i) {
        case "backgroundImage":
          e.style.backgroundSize = o ? "100% auto" : null;
          break;
        case "backgroundElement":
          e.style.height = o ? r.offsetHeight + s + "px" : null;
      }
    }
    function s(t) {
      var e = t.element,
        i = t.type,
        n = e.dataset.parallax || e.dataset.parallaxBackground,
        o = p(n),
        r = window.innerHeight,
        s = c(e),
        a = e.offsetHeight - s.offsetHeight,
        u = e.getBoundingClientRect(),
        d = s !== e ? s.getBoundingClientRect() : u,
        f = u.top + e.offsetHeight / 2,
        m = d.top + s.offsetHeight / 2,
        g = r / 2 - f,
        v = r / 2 - m,
        y = f + l() < r / 2,
        b = y ? l() : g,
        w = (r / 2 - Math.abs(g), Math.abs(b) / (r / 2)),
        x = 0;
      if (!(d.top > r || d.top + s.offsetHeight < 0))
        switch (i) {
          case "backgroundImage":
            (x = d.top * o),
              (e.style.backgroundPosition = o
                ? "50% " + x.toFixed(0) + "px"
                : null),
              (e.style.backgroundAttachment = o ? "fixed" : null);
            break;
          case "backgroundElement":
            (x = v * o - a / 2),
              (e.style.transform = o
                ? "translate3d(0, " + x.toFixed(2) + "px, 0)"
                : null),
              (e.style.backfaceVisibility = o ? "hidden" : null);
            break;
          case "element":
            (x = b * o),
              (e.style.transform = o
                ? "translate3d(0, " + x.toFixed(2) + "px, 0)"
                : null),
              (e.style.backfaceVisibility = o ? "hidden" : null),
              "undefined" != typeof e.dataset.parallaxFade &&
                (e.style.opacity = o ? h(1 - w).toFixed(2) : null);
        }
    }
    function a(t) {
      return "undefined" != typeof t.dataset.parallaxBackground
        ? "backgroundElement"
        : "undefined" != typeof t.dataset.parallaxElemenet
          ? "element"
          : "" !== t.style.backgroundImage
            ? "backgroundImage"
            : "element";
    }
    function l() {
      return document.documentElement.scrollTop || document.body.scrollTop;
    }
    function c(t) {
      return (
        u(t, t.dataset.parallaxContainer || "[data-parallax-container]") || t
      );
    }
    function u(t) {
      for (
        var e =
          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
        t && !d(t).call(t, e);

      )
        t = t.parentElement;
      return t;
    }
    function d(t) {
      return (
        t.matches ||
        t.webkitMatchesSelector ||
        t.mozMatchesSelector ||
        t.msMatchesSelector
      );
    }
    function h(t) {
      return t * (2 - t);
    }
    function p(t) {
      var e = t / 10 * -1,
        i = Math.abs(t) / 10;
      return e / (2 - i);
    }
    Object.defineProperty(e, "__esModule", { value: !0 }), (e.default = i);
    var f = [];
    window.addEventListener("scroll", function() {
      return window.requestAnimationFrame(n);
    }),
      window.addEventListener("resize", function() {
        return window.requestAnimationFrame(n);
      }),
      window.addEventListener("DOMNodeInserted", function() {
        return window.requestAnimationFrame(n);
      }),
      window.jQuery &&
        (window.jQuery.fn.flatsomeParallax = function(t) {
          "destroy" !== t &&
            this.each(function(t, e) {
              return i(e);
            });
        });
  },
  function(t, e) {
    "use strict";
    Flatsome.plugin("resizeselect", function(t, e) {
      var i = jQuery(t);
      i
        .change(function() {
          var t = jQuery(this),
            e = t.find("option:selected").val(),
            i = t.find("option:selected").text(),
            n = jQuery('<span class="select-resize-ghost">').html(i);
          n.appendTo(t.parent());
          var o = n.width();
          n.remove(),
            t.width(o + 7),
            e &&
              t
                .parent()
                .parent()
                .find("input.search-field")
                .focus();
        })
        .change();
    });
  },
  function(t, e, i) {
    "use strict";
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    var o = i(97),
      r = n(o);
    jQuery(
      ".section .loading-spin, .banner .loading-spin, .page-loader"
    ).fadeOut(),
      jQuery("#top-link").click(function(t) {
        jQuery.scrollTo(0, 300), t.preventDefault();
      }),
      jQuery(".scroll-for-more").click(function() {
        jQuery.scrollTo(jQuery(this), { duration: 300 });
      }),
      jQuery(".search-dropdown button").click(function(t) {
        jQuery(this)
          .parent()
          .find("input")
          .focus(),
          t.preventDefault();
      }),
      jQuery(".current-cat").addClass("active"),
      jQuery("html").removeClass("loading-site"),
      setTimeout(function() {
        jQuery(".page-loader").remove();
      }, 1e3),
      jQuery(".resize-select").resizeselect(),
      flatsomeVars.user.can_edit_pages &&
        jQuery(".block-edit-link").each(function() {
          var t = jQuery(this).data("link"),
            e = jQuery(this).data("backend"),
            i = jQuery(this).data("title");
          jQuery(this)
            .next()
            .addClass("has-block")
            .tooltipster({
              animationDuration: 100,
              distance: -15,
              delay: 0,
              repositionOnScroll: !0,
              interactive: !0,
              contentAsHTML: !0,
              content:
                "" +
                i +
                ' <br/> <a class="button edit-block-button edit-block-button-builder" href="' +
                t +
                '">UX Builder</a> <a class="button edit-block-button edit-block-button edit-block-button-backend" href="' +
                e +
                '">WP Editor</a>'
            }),
            jQuery(this).remove();
        }),
      jQuery("#hotspot").click(function(t) {
        t.preventDefault();
      }),
      jQuery(".wpcf7-form .wpcf7-submit").on("click", function() {
        jQuery(this)
          .parent()
          .parent()
          .addClass("processing");
      }),
      jQuery(document).ajaxComplete(function(t, e, i) {
        jQuery(".processing").removeClass("processing");
      }),
      jQuery(document).ready(function() {
        (0, r.default)();
      });
  },
  function(t, e) {
    var i = function(t) {
      "use strict";
      function e(t) {
        for (
          var e = getComputedStyle(t).fontFamily, i = null, n = {};
          null !== (i = u.exec(e));

        )
          n[i[1]] = i[2];
        return n["object-position"] ? o(n) : n;
      }
      function i(t) {
        var i = -1;
        t
          ? "length" in t || (t = [t])
          : (t = document.querySelectorAll("video"));
        for (; t[++i]; ) {
          var o = e(t[i]);
          (o["object-fit"] || o["object-position"]) &&
            ((o["object-fit"] = o["object-fit"] || "fill"), n(t[i], o));
        }
      }
      function n(t, e) {
        function i() {
          var i = t.videoWidth,
            o = t.videoHeight,
            s = i / o,
            a = r.clientWidth,
            l = r.clientHeight,
            c = a / l,
            u = 0,
            d = 0;
          (n.marginLeft = n.marginTop = 0),
            (s < c
            ? "contain" === e["object-fit"]
            : "cover" === e["object-fit"])
              ? ((u = l * s),
                (d = a / s),
                (n.width = Math.round(u) + "px"),
                (n.height = l + "px"),
                "left" === e["object-position-x"]
                  ? (n.marginLeft = 0)
                  : "right" === e["object-position-x"]
                    ? (n.marginLeft = Math.round(a - u) + "px")
                    : (n.marginLeft = Math.round((a - u) / 2) + "px"))
              : ((d = a / s),
                (n.width = a + "px"),
                (n.height = Math.round(d) + "px"),
                "top" === e["object-position-y"]
                  ? (n.marginTop = 0)
                  : "bottom" === e["object-position-y"]
                    ? (n.marginTop = Math.round(l - d) + "px")
                    : (n.marginTop = Math.round((l - d) / 2) + "px")),
            t.autoplay && t.play();
        }
        if ("fill" !== e["object-fit"]) {
          var n = t.style,
            o = window.getComputedStyle(t),
            r = document.createElement("object-fit");
          r.appendChild(t.parentNode.replaceChild(r, t));
          var s = {
            height: "100%",
            width: "100%",
            boxSizing: "content-box",
            display: "inline-block",
            overflow: "hidden"
          };
          "backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(
            /\w+/g,
            function(t) {
              s[t] = o[t];
            }
          );
          for (var a in s) r.style[a] = s[a];
          (n.border = n.margin = n.padding = 0),
            (n.display = "block"),
            (n.opacity = 1),
            t.addEventListener("loadedmetadata", i),
            window.addEventListener("optimizedResize", i),
            t.readyState >= 1 &&
              (t.removeEventListener("loadedmetadata", i), i());
        }
      }
      function o(t) {
        return (
          ~t["object-position"].indexOf("left")
            ? (t["object-position-x"] = "left")
            : ~t["object-position"].indexOf("right")
              ? (t["object-position-x"] = "right")
              : (t["object-position-x"] = "center"),
          ~t["object-position"].indexOf("top")
            ? (t["object-position-y"] = "top")
            : ~t["object-position"].indexOf("bottom")
              ? (t["object-position-y"] = "bottom")
              : (t["object-position-y"] = "center"),
          t
        );
      }
      function r(t, e, i) {
        i = i || window;
        var n = !1,
          o = null;
        try {
          o = new CustomEvent(e);
        } catch (t) {
          (o = document.createEvent("Event")), o.initEvent(e, !0, !0);
        }
        var r = function() {
          n ||
            ((n = !0),
            requestAnimationFrame(function() {
              i.dispatchEvent(o), (n = !1);
            }));
        };
        i.addEventListener(t, r);
      }
      var s = navigator.userAgent.indexOf("Edge/") >= 0,
        a = new Image(),
        l = "object-fit" in a.style && !s,
        c = "object-position" in a.style && !s,
        u = /(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;
      (l && c) || (i(t), r("resize", "optimizedResize"));
    };
    "undefined" != typeof t &&
      "undefined" != typeof t.exports &&
      (t.exports = i);
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("animate", {
      attach: function(t) {
        jQuery("[data-animate]", t).each(function(t, e) {
          var i = jQuery(e),
            n = i.data("animate");
          if (0 === n.length) return i.attr("data-animated", "true");
          i.waypoint(
            function(t) {
              if ("down" === t) {
                if ("true" == i.data("animated")) return;
                setTimeout(function() {
                  i.attr("data-animated", "true");
                }, 300);
              }
            },
            { offset: "101%" }
          );
        });
      },
      detach: function(t) {
        jQuery("[data-animate]", t).each(function(t, e) {
          jQuery(e).attr("data-animated", "false");
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("commons", {
      attach: function(t) {
        jQuery("select.resizeselect").resizeselect(),
          jQuery("[data-parallax]", t).flatsomeParallax(),
          jQuery.fn.packery &&
            (jQuery("[data-packery-options], .has-packery", t).each(function() {
              var t = jQuery(this);
              t.packery(),
                setTimeout(function() {
                  t.imagesLoaded(function() {
                    t.packery("layout");
                  });
                }, 100);
            }),
            jQuery(".banner-grid-wrapper").imagesLoaded(function() {
              jQuery(this.elements).removeClass("processing");
            }));
      },
      detach: function(t) {}
    });
  },
  function(t, e, i) {
    "use strict";
    function n(t) {
      return t && t.__esModule ? t : { default: t };
    }
    var o = i(101),
      r = n(o);
    Flatsome.behavior("count-up", {
      attach: function(t) {
        jQuery("span.count-up", t).each(function(t, e) {
          var i = jQuery(e);
          i.waypoint({
            handler: function(t) {
              if (!jQuery(this.element).hasClass("active")) {
                var e = parseInt(i.text()),
                  n = new r.default(i.get(0), 0, e, 0, 4);
                n.start(), i.addClass("active");
              }
            },
            offset: "100%"
          });
        });
      }
    });
  },
  function(t, e, i) {
    var n, o;
    !(function(r, s) {
      (n = s),
        (o = "function" == typeof n ? n.call(e, i, e, t) : n),
        !(void 0 !== o && (t.exports = o));
    })(this, function(t, e, i) {
      var n = function(t, e, i, n, o, r) {
        function s(t) {
          var e,
            i,
            n,
            o,
            r,
            s,
            a = t < 0;
          if (
            ((t = Math.abs(t).toFixed(c.decimals)),
            (t += ""),
            (e = t.split(".")),
            (i = e[0]),
            (n = e.length > 1 ? c.options.decimal + e[1] : ""),
            c.options.useGrouping)
          ) {
            for (o = "", r = 0, s = i.length; r < s; ++r)
              0 !== r && r % 3 === 0 && (o = c.options.separator + o),
                (o = i[s - r - 1] + o);
            i = o;
          }
          return (
            c.options.numerals.length &&
              ((i = i.replace(/[0-9]/g, function(t) {
                return c.options.numerals[+t];
              })),
              (n = n.replace(/[0-9]/g, function(t) {
                return c.options.numerals[+t];
              }))),
            (a ? "-" : "") + c.options.prefix + i + n + c.options.suffix
          );
        }
        function a(t, e, i, n) {
          return i * (-Math.pow(2, -10 * t / n) + 1) * 1024 / 1023 + e;
        }
        function l(t) {
          return "number" == typeof t && !isNaN(t);
        }
        var c = this;
        if (
          ((c.version = function() {
            return "1.9.3";
          }),
          (c.options = {
            useEasing: !0,
            useGrouping: !0,
            separator: ",",
            decimal: ".",
            easingFn: a,
            formattingFn: s,
            prefix: "",
            suffix: "",
            numerals: []
          }),
          r && "object" == typeof r)
        )
          for (var u in c.options)
            r.hasOwnProperty(u) && null !== r[u] && (c.options[u] = r[u]);
        "" === c.options.separator
          ? (c.options.useGrouping = !1)
          : (c.options.separator = "" + c.options.separator);
        for (
          var d = 0, h = ["webkit", "moz", "ms", "o"], p = 0;
          p < h.length && !window.requestAnimationFrame;
          ++p
        )
          (window.requestAnimationFrame =
            window[h[p] + "RequestAnimationFrame"]),
            (window.cancelAnimationFrame =
              window[h[p] + "CancelAnimationFrame"] ||
              window[h[p] + "CancelRequestAnimationFrame"]);
        window.requestAnimationFrame ||
          (window.requestAnimationFrame = function(t, e) {
            var i = new Date().getTime(),
              n = Math.max(0, 16 - (i - d)),
              o = window.setTimeout(function() {
                t(i + n);
              }, n);
            return (d = i + n), o;
          }),
          window.cancelAnimationFrame ||
            (window.cancelAnimationFrame = function(t) {
              clearTimeout(t);
            }),
          (c.initialize = function() {
            return !(
              !c.initialized &&
              ((c.error = ""),
              (c.d = "string" == typeof t ? document.getElementById(t) : t),
              c.d
                ? ((c.startVal = Number(e)),
                  (c.endVal = Number(i)),
                  l(c.startVal) && l(c.endVal)
                    ? ((c.decimals = Math.max(0, n || 0)),
                      (c.dec = Math.pow(10, c.decimals)),
                      (c.duration = 1e3 * Number(o) || 2e3),
                      (c.countDown = c.startVal > c.endVal),
                      (c.frameVal = c.startVal),
                      (c.initialized = !0),
                      0)
                    : ((c.error =
                        "[CountUp] startVal (" +
                        e +
                        ") or endVal (" +
                        i +
                        ") is not a number"),
                      1))
                : ((c.error = "[CountUp] target is null or undefined"), 1))
            );
          }),
          (c.printValue = function(t) {
            var e = c.options.formattingFn(t);
            "INPUT" === c.d.tagName
              ? (this.d.value = e)
              : "text" === c.d.tagName || "tspan" === c.d.tagName
                ? (this.d.textContent = e)
                : (this.d.innerHTML = e);
          }),
          (c.count = function(t) {
            c.startTime || (c.startTime = t), (c.timestamp = t);
            var e = t - c.startTime;
            (c.remaining = c.duration - e),
              c.options.useEasing
                ? c.countDown
                  ? (c.frameVal =
                      c.startVal -
                      c.options.easingFn(
                        e,
                        0,
                        c.startVal - c.endVal,
                        c.duration
                      ))
                  : (c.frameVal = c.options.easingFn(
                      e,
                      c.startVal,
                      c.endVal - c.startVal,
                      c.duration
                    ))
                : c.countDown
                  ? (c.frameVal =
                      c.startVal - (c.startVal - c.endVal) * (e / c.duration))
                  : (c.frameVal =
                      c.startVal + (c.endVal - c.startVal) * (e / c.duration)),
              c.countDown
                ? (c.frameVal = c.frameVal < c.endVal ? c.endVal : c.frameVal)
                : (c.frameVal = c.frameVal > c.endVal ? c.endVal : c.frameVal),
              (c.frameVal = Math.round(c.frameVal * c.dec) / c.dec),
              c.printValue(c.frameVal),
              e < c.duration
                ? (c.rAF = requestAnimationFrame(c.count))
                : c.callback && c.callback();
          }),
          (c.start = function(t) {
            c.initialize() &&
              ((c.callback = t), (c.rAF = requestAnimationFrame(c.count)));
          }),
          (c.pauseResume = function() {
            c.paused
              ? ((c.paused = !1),
                delete c.startTime,
                (c.duration = c.remaining),
                (c.startVal = c.frameVal),
                requestAnimationFrame(c.count))
              : ((c.paused = !0), cancelAnimationFrame(c.rAF));
          }),
          (c.reset = function() {
            (c.paused = !1),
              delete c.startTime,
              (c.initialized = !1),
              c.initialize() &&
                (cancelAnimationFrame(c.rAF), c.printValue(c.startVal));
          }),
          (c.update = function(t) {
            if (c.initialize()) {
              if (((t = Number(t)), !l(t)))
                return void (c.error =
                  "[CountUp] update() - new endVal is not a number: " + t);
              (c.error = ""),
                t !== c.frameVal &&
                  (cancelAnimationFrame(c.rAF),
                  (c.paused = !1),
                  delete c.startTime,
                  (c.startVal = c.frameVal),
                  (c.endVal = t),
                  (c.countDown = c.startVal > c.endVal),
                  (c.rAF = requestAnimationFrame(c.count)));
            }
          }),
          c.initialize() && c.printValue(c.startVal);
      };
      return n;
    });
  },
  function(t, e) {
    (function(t) {
      "use strict";
      function e(e) {
        var i = e,
          n = jQuery(".header-inner").width();
        if (n < 750) return !1;
        var o = Math.max(
            document.documentElement.clientWidth,
            window.innerWidth || 0
          ),
          r = i.offset().left - (o - n) / 2;
        t.flatsomeVars.rtl &&
          (r =
            jQuery(window).width() -
            (i.offset().left + i.outerWidth()) -
            (o - n) / 2);
        var s = i.width(),
          a = n - (r + s),
          l = !1;
        r > a && r < s && (l = (r + a) / 3),
          a < 0 && (l = -a),
          l && t.flatsomeVars.rtl
            ? i.css("margin-right", -l)
            : l && i.css("margin-left", -l),
          s > n && i.addClass("nav-dropdown-full");
      }
      Flatsome.behavior("dropdown", {
        attach: function(t) {
          jQuery(".nav li.has-dropdown", t).each(function(t, i) {
            var n = jQuery(i),
              o = !1,
              r = !1;
            n.on("touchstart click", function(t) {
              "touchstart" === t.type && (o = !0),
                "click" === t.type &&
                  o &&
                  (o && !r && t.preventDefault(), (r = !0));
            }),
              n.hoverIntent({
                sensitivity: 3,
                interval: 20,
                timeout: 70,
                over: function(t) {
                  n.addClass("current-dropdown"), e(n.find(".nav-dropdown"));
                },
                out: function() {
                  (r = !1),
                    (o = !1),
                    n.find(".nav-dropdown").attr("style", ""),
                    n.removeClass("current-dropdown");
                }
              });
          });
        }
      });
    }.call(
      e,
      (function() {
        return this;
      })()
    ));
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lightbox-gallery", {
      attach: function(t) {
        jQuery(
          '.lightbox .gallery a[href*=".jpg"], .lightbox .gallery a[href*=".jpeg"], .lightbox a.lightbox-gallery',
          t
        )
          .parent()
          .magnificPopup({
            delegate: "a",
            type: "image",
            closeBtnInside: !1,
            tLoading: '<div class="loading-spin centered dark"></div>',
            removalDelay: 300,
            gallery: {
              enabled: !0,
              navigateByImgClick: !0,
              arrowMarkup:
                '<button class="mfp-arrow mfp-arrow-%dir%" title="%title%"><i class="icon-angle-%dir%"></i></button>',
              preload: [0, 1]
            },
            image: {
              tError:
                '<a href="%url%">The image #%curr%</a> could not be loaded.',
              verticalFit: !1
            }
          });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lightbox-image", {
      attach: function(t) {
        jQuery(
          '.lightbox *[id^="attachment"] a,.lightbox a.image-lightbox,.lightbox .entry-content a[href*=".jpg"],.lightbox .entry-content a[href*=".jpeg"]',
          t
        )
          .not(
            '.lightbox a.lightbox-gallery, .lightbox .gallery a[href*=".jpg"],.lightbox .gallery a[href*=".jpeg"]'
          )
          .magnificPopup({
            type: "image",
            tLoading: '<div class="loading-spin centered dark"></div>',
            closeOnContentClick: !0,
            closeBtnInside: !1,
            removalDelay: 300,
            image: { verticalFit: !1 }
          });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lightboxes-link", {
      attach: function(t) {
        jQuery(".lightbox-by-id", t).each(function() {
          var e = jQuery(this).attr("id");
          jQuery('a[href="#' + e + '"]', t).on("click", function(t) {
            var e = jQuery(t.currentTarget),
              i = e.attr("href").substring(1),
              n = jQuery("#" + i + ".lightbox-by-id");
            if (i && n.length > 0) {
              var o = n[0],
                r = jQuery.magnificPopup.open ? 300 : 0;
              r && jQuery.magnificPopup.close(),
                setTimeout(function() {
                  jQuery.magnificPopup.open({
                    removalDelay: 300,
                    closeBtnInside: !1,
                    items: {
                      src: o,
                      type: "inline",
                      tLoading: '<div class="loading-spin dark"></div>'
                    }
                  });
                }, r),
                t.preventDefault();
            }
          });
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lightbox-video", {
      attach: function(t) {
        jQuery(
          'a.open-video, a.button[href*="vimeo"], a.button[href*="youtube.com/watch"]',
          t
        ).magnificPopup({
          type: "iframe",
          closeBtnInside: !1,
          mainClass: "my-mfp-video",
          tLoading: '<div class="loading-spin centered dark"></div>',
          removalDelay: 300,
          preloader: !0,
          callbacks: {
            open: function() {
              jQuery(".slider .is-selected .video").trigger("pause");
            },
            close: function() {
              jQuery(".slider .is-selected .video").trigger("play");
            }
          }
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lightboxes", {
      attach: function(t) {
        jQuery("[data-open]", t).on("click", function(t) {
          var e = jQuery(t.currentTarget),
            i = e.data("open"),
            n = e.data("color"),
            o = e.data("bg"),
            r = e.data("pos"),
            s = e.data("visible-after"),
            a = e.data("class"),
            l = e.attr("data-focus");
          e.offset();
          e.addClass("current-lightbox-clicked"),
            jQuery.magnificPopup.open({
              items: {
                src: i,
                type: "inline",
                tLoading: '<div class="loading-spin dark"></div>'
              },
              removalDelay: 300,
              closeBtnInside: !1,
              focus: l,
              callbacks: {
                beforeOpen: function() {
                  this.st.mainClass = "off-canvas " + n + " off-canvas-" + r;
                },
                open: function() {
                  jQuery("html").addClass("has-off-canvas"),
                    jQuery("html").addClass("has-off-canvas-" + r),
                    a && jQuery(".mfp-content").addClass(a),
                    o && jQuery(".mfp-bg").addClass(o),
                    jQuery(".mfp-content .resize-select").change(),
                    jQuery.fn.packery &&
                      jQuery("[data-packery-options], .has-packery").packery(
                        "layout"
                      );
                },
                beforeClose: function() {
                  jQuery("html").removeClass("has-off-canvas");
                },
                afterClose: function() {
                  jQuery("html").removeClass("has-off-canvas-" + r),
                    jQuery(".current-lightbox-clicked").removeClass(
                      "current-lightbox-clicked"
                    ),
                    s && jQuery(i).removeClass("mfp-hide");
                }
              }
            }),
            t.preventDefault();
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("slider", {
      attach: function(t) {
        var e;
        (e = jQuery(t).data("flickityOptions")
          ? jQuery(t)
          : jQuery("[data-flickity-options]", t)),
          e.each(function(t, e) {
            var i = jQuery(e),
              n = i.closest(".slider-wrapper"),
              o = i.data("flickity-options");
            if (
              ("undefined" != typeof UxBuilder && (o.draggable = !1),
              o.watchCSS !== !0)
            ) {
              var r = i.flickity(o);
              if (
                (i.imagesLoaded(function() {
                  n.find(".loading-spin").fadeOut();
                }),
                i.on("cellSelect.flickity", function() {
                  i
                    .find(".banner:not(.is-selected) .video-bg")
                    .trigger("pause"),
                    i.find(".banner.is-selected .video-bg").trigger("play");
                }),
                i.on("dragStart.flickity", function() {
                  i.addClass("is-dragging");
                }),
                i.on("dragEnd.flickity", function() {
                  i.removeClass("is-dragging");
                }),
                o.parallax)
              ) {
                var s = r.data("flickity"),
                  a = i.find(".bg, .flickity-slider > .img img");
                i.addClass("slider-has-parallax"),
                  i.on("scroll.flickity", function(t, e) {
                    s.slides.forEach(function(t, e) {
                      var i = a[e],
                        n = (t.target + s.x) * -1 / o.parallax;
                      i && (i.style.transform = "translateX( " + n + "px)");
                    });
                  });
              }
            }
          });
      },
      detach: function(t) {
        jQuery(t).data("flickityOptions")
          ? jQuery(t).flickity("destroy")
          : jQuery("[data-flickity-options]", t).flickity("destroy");
      }
    });
  },
  function(t, e) {
    "use strict";
    function i(t, e, i) {
      e.each(function(e, i) {
        return jQuery(i)
          .parent()
          .toggleClass("active", e === t);
      }),
        i.each(function(e, i) {
          return jQuery(i).toggleClass("active", e === t);
        }),
        jQuery("[data-flickity-options]", i[t]).flickity("resize");
    }
    Flatsome.behavior("tabs", {
      attach: function(t) {
        jQuery(".tabbed-content", t).each(function(t, e) {
          var n = jQuery(e),
            o = n.find("> .nav > li > a"),
            r = n.find("> .tab-panels > .panel");
          r.removeAttr("style"),
            o.each(function(t, e) {
              location.hash.substr(1).length &&
                "reviews" === location.hash.substr(1) &&
                (jQuery.scrollTo(".reviews_tab", {
                  duration: 300,
                  offset: -150
                }),
                i(t, o, r)),
                location.hash.substr(1).length &&
                  location.hash.substr(1) === e.hash.substr(1) &&
                  i(t, o, r),
                jQuery(e).on("click", function(e) {
                  i(t, o, r), e.preventDefault(), e.stopPropagation();
                });
            });
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("toggle", {
      attach: function(t) {
        jQuery(
          ".widget ul.children, .nav ul.children, .menu .sub-menu",
          t
        ).each(function() {
          jQuery(this)
            .parent()
            .addClass("has-child")
            .attr("aria-expanded", "false"),
            jQuery(this).before(
              '<button class="toggle"><i class="icon-angle-down"></i></button>'
            );
        }),
          jQuery(".current-cat-parent", t)
            .addClass("active")
            .attr("aria-expanded", "true")
            .removeClass("current-cat-parent"),
          jQuery(".toggle", t).click(function(t) {
            var e = jQuery(this);
            e.parent().toggleClass("active"),
              e
                .parent()
                .attr(
                  "aria-expanded",
                  "false" === e.parent().attr("aria-expanded")
                    ? "true"
                    : "false"
                ),
              t.preventDefault();
          }),
          jQuery(".sidebar-menu li.menu-item.has-child", t).each(function() {
            var t = jQuery(this),
              e = t.find("> a:first");
            "#" === e.attr("href") &&
              e.click(function(e) {
                e.preventDefault(),
                  t.toggleClass("active"),
                  t.attr(
                    "aria-expanded",
                    "false" === t.attr("aria-expanded") ? "true" : "false"
                  );
              });
          });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("back-to-top", {
      attach: function(t) {
        jQuery("body", t).waypoint({
          handler: function(e) {
            jQuery(".back-to-top", t).toggleClass("active");
          },
          offset: "-100%"
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("scroll-to", {
      attach: function() {
        var t = jQuery("span.scroll-to"),
          e = jQuery(".scroll-to-bullets"),
          i = flatsomeVars.sticky_height;
        if (
          (e.length && (e.children().tooltipster("destroy"), e.remove()),
          jQuery("li.scroll-to-link").remove(),
          t.length &&
            ((e = jQuery('<div class="scroll-to-bullets hide-for-medium"/>')),
            jQuery("body").append(e),
            t.each(function(t, e) {
              var n = jQuery(e),
                o = n.data("link"),
                r = n.data("title"),
                s = n.data("bullet"),
                a = 'a[href*="' + (o || "<nolink>") + '"]';
              if (s) {
                var l = jQuery(
                  '\n          <a href="' +
                    o +
                    '" data-title="' +
                    r +
                    '" title="' +
                    r +
                    '">\n          <strong></strong>\n          </a>\n        '
                );
                l.tooltipster({
                  position: "left",
                  delay: 50,
                  contentAsHTML: !0,
                  touchDevices: !1
                }),
                  jQuery(".scroll-to-bullets").append(l);
              }
              var c = jQuery(
                '\n          <li class="scroll-to-link"><a data-animate="fadeIn" href="' +
                  o +
                  '" data-title="' +
                  r +
                  '" title="' +
                  r +
                  '">\n          ' +
                  r +
                  "\n          </a></li>\n        "
              );
              jQuery("li.nav-single-page").before(c),
                setTimeout(function() {
                  jQuery(".scroll-to-link a").attr("data-animated", "true");
                }, 300),
                n.waypoint(
                  function(t) {
                    jQuery(".scroll-to-bullets a, .scroll-to-link").removeClass(
                      "active"
                    ),
                      jQuery(".scroll-to-bullets")
                        .find(a)
                        .addClass("active"),
                      jQuery(".nav-single-page")
                        .parent()
                        .find(a)
                        .parent()
                        .addClass("active"),
                      "up" === t &&
                        jQuery(".scroll-to-bullets, .nav-single-page")
                          .find(a)
                          .removeClass("active")
                          .prev()
                          .addClass("active");
                  },
                  { offset: i }
                ),
                jQuery(a)
                  .off("click")
                  .on("click", function(t) {
                    var e = jQuery(this)
                      .attr("href")
                      .split("#")[1];
                    if (e) {
                      var n = "\\#" + e,
                        o = "span.scroll-to[data-link=" + n + "]",
                        r = jQuery(o).offset().top - i;
                      jQuery.scrollTo(r, { duration: 500, axis: "y" }),
                        jQuery.magnificPopup.close(),
                        t.preventDefault();
                    }
                  });
            }),
            location.hash))
        ) {
          var n = location.hash.replace("#", "");
          jQuery.scrollTo("a[name=" + n + "]", {
            duration: 500,
            axis: "y",
            offset: -i
          });
        }
      },
      detach: function() {
        jQuery("span.scroll-to").length && setTimeout(this.attach, 0);
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("accordion", {
      attach: function(t) {
        jQuery(".accordion", t).each(function() {
          var t = jQuery(this).attr("rel");
          t > 0 &&
            (jQuery(this)
              .find(".accordion-item:nth-child(" + t + ") .accordion-inner")
              .show(),
            jQuery(this)
              .find(".accordion-item:nth-child(" + t + ") .accordion-inner")
              .prev()
              .addClass("active"));
        });
      }
    }),
      Flatsome.behavior("accordion-title", {
        attach: function(t) {
          jQuery(".accordion-title", t).each(function(t) {
            jQuery(this).click(function(t) {
              jQuery(this)
                .next()
                .is(":hidden")
                ? (jQuery(this)
                    .parent()
                    .parent()
                    .find(".accordion-title")
                    .removeClass("active")
                    .next()
                    .slideUp(200),
                  jQuery(this)
                    .toggleClass("active")
                    .next()
                    .slideDown(200, function() {
                      /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(
                        navigator.userAgent
                      ) &&
                        jQuery.scrollTo(jQuery(this).prev(), {
                          duration: 300,
                          offset: -100
                        });
                    }),
                  jQuery(this)
                    .parent()
                    .parent()
                    .find("[data-flickity-options]")
                    .flickity("resize"))
                : jQuery(this)
                    .parent()
                    .parent()
                    .find(".accordion-title")
                    .removeClass("active")
                    .next()
                    .slideUp(200),
                t.preventDefault();
            });
          });
        }
      });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("tooltips", {
      attach: function(t) {
        jQuery(
          ".tooltip, .has-tooltip, .tip-top, li.chosen a",
          t
        ).tooltipster(),
          jQuery(".tooltip-as-html", t).tooltipster({
            interactive: !0,
            contentAsHTML: !0
          });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("lazy-load-bg", {
      attach: function(t) {
        jQuery(".bg", t).each(function(t, e) {
          var i = jQuery(e);
          i.waypoint(
            function(t) {
              i.addClass("bg-loaded");
            },
            { offset: "110%" }
          );
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("sticky-section", {
      attach: function(t) {
        jQuery(".sticky-section", t).each(function(t, e) {
          var i = jQuery(e);
          i.waypoint(
            function(t) {
              "down" === t &&
                (i.addClass("is-sticky-section"),
                i.after('<div class="sticky-section-helper"></div>')),
                "up" === t &&
                  (i.removeClass("is-sticky-section"),
                  i.next(".sticky-section-helper").remove());
            },
            { offset: "0.1px" }
          ),
            i.waypoint(
              function(t) {
                "down" === t &&
                  (i.removeClass("is-sticky-section"),
                  i.next(".sticky-section-helper").remove()),
                  "up" === t &&
                    (i.addClass("is-sticky-section"),
                    i.after('<div class="sticky-section-helper"></div>'));
              },
              { offset: "-100%" }
            );
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("sticky-sidebar", {
      attach: function(t) {
        var e = parseInt(flatsomeVars.sticky_height) + 15;
        jQuery(".is-sticky-column", t).each(function(t, i) {
          jQuery(i).stickySidebar({
            topSpacing: e,
            bottomSpacing: 15,
            minWidth: 850,
            innerWrapperSelector: ".is-sticky-column__inner"
          }),
            jQuery(document).on("updated_checkout", function() {
              jQuery(i).stickySidebar("updateSticky");
            });
        });
      }
    });
  },
  function(t, e) {
    "use strict";
    Flatsome.behavior("youtube", {
      attach: function(t) {
        var e = jQuery(".ux-youtube", t);
        0 !== e.length &&
          ((window.onYouTubePlayerAPIReady = function() {
            e.each(function() {
              var t = jQuery(this),
                e = t.attr("id"),
                i = t.data("videoid"),
                n = t.data("loop"),
                o = t.data("audio");
              new YT.Player(e, {
                height: "100%",
                width: "100%",
                playerVars: {
                  html5: 1,
                  autoplay: 1,
                  controls: 0,
                  rel: 0,
                  modestbranding: 1,
                  playsinline: 1,
                  showinfo: 0,
                  fs: 0,
                  loop: n,
                  el: 0,
                  playlist: n ? i : void 0
                },
                videoId: i,
                events: {
                  onReady: function(t) {
                    0 === o && t.target.mute();
                  }
                }
              });
            });
          }),
          (function(t, e, i) {
            var n,
              o = t.getElementsByTagName(e)[0];
            t.getElementById(i) ||
              ((n = t.createElement(e)),
              (n.id = i),
              (n.src = "https://www.youtube.com/player_api"),
              o.parentNode.insertBefore(n, o));
          })(document, "script", "youtube-jssdk"));
      }
    });
  }
]);
!(function(t) {
  function e(o) {
    if (i[o]) return i[o].exports;
    var r = (i[o] = { exports: {}, id: o, loaded: !1 });
    return t[o].call(r.exports, r, r.exports, e), (r.loaded = !0), r.exports;
  }
  var i = {};
  return (e.m = t), (e.c = i), (e.p = ""), e(0);
})({
  0: function(t, e, i) {
    t.exports = i(119);
  },
  16: function(t, e) {
    t.exports = window.jQuery;
  },
  119: function(t, e, i) {
    "use strict";
    function o(t) {
      if (jQuery(".cart-item .nav-dropdown").length)
        jQuery(".cart-item").addClass("current-dropdown cart-active"),
          jQuery(".shop-container").click(function() {
            jQuery(".cart-item").removeClass("current-dropdown cart-active");
          }),
          jQuery(".cart-item").hover(function() {
            jQuery(".cart-active").removeClass("cart-active");
          }),
          setTimeout(function() {
            jQuery(".cart-active").removeClass("current-dropdown");
          }, t);
      else {
        var e = jQuery.magnificPopup.open ? 0 : 300;
        e && jQuery.magnificPopup.close(),
          setTimeout(function() {
            jQuery(".cart-item .off-canvas-toggle").click();
          }, e);
      }
    }
    i(120), i(121), i(122), i(123), i(124);
    var r = !1;
    /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ||
      (r = jQuery(".has-image-zoom .slide").easyZoom({
        loadingNotice: "",
        preventClicks: !1
      })),
      jQuery("table.my_account_orders").wrap(
        '<div class="touch-scroll-table"/>'
      ),
      jQuery("a.woocommerce-review-link").click(function(t) {
        jQuery.scrollTo(".reviews_tab", { duration: 300, offset: -150 });
      }),
      jQuery(".single_add_to_cart_button").click(function() {
        var t = jQuery(this),
          e = t.closest("form.cart");
        e
          ? e.on("submit", function() {
              t.addClass("loading");
            })
          : t.hasClass("disabled") || t.addClass("loading");
      });
    var a = jQuery(".product-thumbnails .first img").attr("data-src")
        ? jQuery(".product-thumbnails .first img").attr("data-src")
        : jQuery(".product-thumbnails .first img").attr("src"),
      s = jQuery("form.variations_form"),
      n = null,
      c = {
        setImageZoomSrc: function() {
          r &&
            r.length &&
            ((n = r.filter(".has-image-zoom .slide.first").data("easyZoom")),
            n.swap(
              jQuery(".has-image-zoom .slide.first img").attr("src"),
              jQuery(".has-image-zoom .slide.first img").attr(
                "data-large_image"
              )
            ));
        },
        selectSliderFirstImage: function() {
          jQuery(".product-gallery-slider").data("flickity") &&
            jQuery(".product-gallery-slider").flickity("select", 0);
        }
      };
    s.on("show_variation", function(t, e) {
      e.hasOwnProperty("image") && e.image.thumb_src
        ? (jQuery(
            ".product-gallery-slider-old .slide.first img, .sticky-add-to-cart-img, .product-thumbnails .first img, .product-gallery-slider .slide.first .zoomImg"
          )
            .attr("src", e.image.thumb_src)
            .attr("srcset", ""),
          c.selectSliderFirstImage(),
          c.setImageZoomSrc())
        : jQuery(".product-thumbnails .first img").attr("src", a);
    }),
      s.on("click", ".reset_variations", function() {
        jQuery(".product-thumbnails .first img, .sticky-add-to-cart-img").attr(
          "src",
          a
        ),
          c.selectSliderFirstImage(),
          c.setImageZoomSrc();
      }),
      jQuery(document).ready(function() {
        jQuery(".has-lightbox .product-gallery-slider").each(function() {
          jQuery(this).magnificPopup({
            delegate: "a",
            type: "image",
            tLoading: '<div class="loading-spin centered dark"></div>',
            closeBtnInside: !1,
            gallery: {
              enabled: !0,
              navigateByImgClick: !0,
              preload: [0, 1],
              arrowMarkup:
                '<button class="mfp-arrow mfp-arrow-%dir%" title="%title%"><i class="icon-angle-%dir%"></i></button>'
            },
            image: {
              tError:
                '<a href="%url%">The image #%curr%</a> could not be loaded.',
              verticalFit: !1
            }
          });
        });
      }),
      jQuery(".zoom-button").click(function(t) {
        jQuery(".product-gallery-slider")
          .find(".is-selected a")
          .click(),
          t.preventDefault();
      }),
      jQuery("body").on("added_to_cart", function() {
        o("5000");
      }),
      jQuery(document.body).on("updated_cart_totals", function() {
        var t = jQuery(".cart-wrapper");
        Flatsome.attach("lazy-load-images", t),
          Flatsome.attach("quick-view", t),
          Flatsome.attach("wishlist", t),
          Flatsome.attach("cart-refresh", t);
      }),
      jQuery(document).ajaxComplete(function() {
        Flatsome.attach(jQuery(".quantity").parent());
      }),
      jQuery(document).on("yith_infs_adding_elem", function(t) {
        Flatsome.attach(jQuery(".shop-container"));
      }),
      jQuery(document).ready(function() {
        jQuery("span.added-to-cart").length && o("5000");
      }),
      jQuery(".disable-lightbox a").click(function(t) {
        t.preventDefault();
      }),
      jQuery(document).ready(function() {
        jQuery("body").hasClass("single-product") &&
          window.location.hash.indexOf("#comment-") >= 0 &&
          jQuery("a", ".reviews_tab.active").trigger("click");
      }),
      jQuery(document).ready(function() {
        if (jQuery(".custom-product-page").length) {
          var t = jQuery("#respond p.stars");
          if (t.length > 1) {
            var e = t[0].outerHTML;
            t.remove(),
              jQuery('select[id="rating"]')
                .hide()
                .before(e);
          }
        }
      }),
      jQuery(".sticky-add-to-cart-wrapper").waypoint(function(t) {
        var e = jQuery(this.element),
          i = jQuery(this.element).find(".sticky-add-to-cart");
        jQuery(".wc-variation-selection-needed").click(function() {
          jQuery.scrollTo(".sticky-add-to-cart-wrapper", {
            duration: 0,
            offset: -200
          });
        }),
          "down" === t &&
            (e.css({ height: e.outerHeight() }),
            i.addClass("sticky-add-to-cart--active"),
            jQuery("body").addClass("has-sticky-product-cart")),
          "up" === t &&
            (i.removeClass("sticky-add-to-cart--active"),
            e.css({ height: "auto" }),
            jQuery("body").removeClass("has-sticky-product-cart"));
      }),
      setTimeout(function() {
        jQuery(document.body).on("country_to_state_changed", function() {
          "undefined" != typeof floatlabels && floatlabels.rebuild();
        });
      }, 500);
  },
  120: function(t, e, i) {
    var o, r;
    /*!
          * @name        easyzoom
          * @author       <>
          * @modified    Wednesday, October 3rd, 2018
          * @version     2.5.0
          */
    !(function(a, s) {
      "use strict";
      (o = [i(16)]),
        (r = function(t) {
          s(t);
        }.apply(e, o)),
        !(void 0 !== r && (t.exports = r));
    })(this, function(t) {
      "use strict";
      function e(e, i) {
        (this.$target = t(e)),
          (this.opts = t.extend({}, c, i, this.$target.data())),
          void 0 === this.isOpen && this._init();
      }
      var i,
        o,
        r,
        a,
        s,
        n,
        c = {
          loadingNotice: "Loading image",
          errorNotice: "The image could not be loaded",
          errorDuration: 2500,
          linkAttribute: "href",
          preventClicks: !0,
          beforeShow: t.noop,
          beforeHide: t.noop,
          onShow: t.noop,
          onHide: t.noop,
          onMove: t.noop
        };
      (e.prototype._init = function() {
        (this.$link = this.$target.find("a")),
          (this.$image = this.$target.find("img")),
          (this.$flyout = t('<div class="easyzoom-flyout" />')),
          (this.$notice = t('<div class="easyzoom-notice" />')),
          this.$target.on({
            "mousemove.easyzoom touchmove.easyzoom": t.proxy(
              this._onMove,
              this
            ),
            "mouseleave.easyzoom touchend.easyzoom": t.proxy(
              this._onLeave,
              this
            ),
            "mouseenter.easyzoom touchstart.easyzoom": t.proxy(
              this._onEnter,
              this
            )
          }),
          this.opts.preventClicks &&
            this.$target.on("click.easyzoom", function(t) {
              t.preventDefault();
            });
      }),
        (e.prototype.show = function(t, e) {
          var s = this;
          if (!1 !== this.opts.beforeShow.call(this)) {
            if (!this.isReady)
              return this._loadImage(
                this.$link.attr(this.opts.linkAttribute),
                function() {
                  (!s.isMouseOver && e) || s.show(t);
                }
              );
            this.$target.append(this.$flyout);
            var n = this.$target.outerWidth(),
              c = this.$target.outerHeight(),
              u = this.$flyout.width(),
              l = this.$flyout.height(),
              d = this.$zoom.width(),
              h = this.$zoom.height();
            (i = d - u) < 0 && (i = 0),
              (o = h - l) < 0 && (o = 0),
              (r = i / n),
              (a = o / c),
              (this.isOpen = !0),
              this.opts.onShow.call(this),
              t && this._move(t);
          }
        }),
        (e.prototype._onEnter = function(t) {
          var e = t.originalEvent.touches;
          (this.isMouseOver = !0),
            (e && 1 != e.length) || (t.preventDefault(), this.show(t, !0));
        }),
        (e.prototype._onMove = function(t) {
          this.isOpen && (t.preventDefault(), this._move(t));
        }),
        (e.prototype._onLeave = function() {
          (this.isMouseOver = !1), this.isOpen && this.hide();
        }),
        (e.prototype._onLoad = function(t) {
          t.currentTarget.width &&
            ((this.isReady = !0),
            this.$notice.detach(),
            this.$flyout.html(this.$zoom),
            this.$target.removeClass("is-loading").addClass("is-ready"),
            t.data.call && t.data());
        }),
        (e.prototype._onError = function() {
          var t = this;
          this.$notice.text(this.opts.errorNotice),
            this.$target.removeClass("is-loading").addClass("is-error"),
            (this.detachNotice = setTimeout(function() {
              t.$notice.detach(), (t.detachNotice = null);
            }, this.opts.errorDuration));
        }),
        (e.prototype._loadImage = function(e, i) {
          var o = new Image();
          this.$target
            .addClass("is-loading")
            .append(this.$notice.text(this.opts.loadingNotice)),
            (this.$zoom = t(o)
              .on("error", t.proxy(this._onError, this))
              .on("load", i, t.proxy(this._onLoad, this))),
            (o.style.position = "absolute"),
            (o.src = e);
        }),
        (e.prototype._move = function(t) {
          if (0 === t.type.indexOf("touch")) {
            var e = t.touches || t.originalEvent.touches;
            (s = e[0].pageX), (n = e[0].pageY);
          } else (s = t.pageX || s), (n = t.pageY || n);
          var c = this.$target.offset(),
            u = n - c.top,
            l = s - c.left,
            d = Math.ceil(u * a),
            h = Math.ceil(l * r);
          if (h < 0 || d < 0 || i < h || o < d) this.hide();
          else {
            var p = -1 * d,
              m = -1 * h;
            this.$zoom.css({ top: p, left: m }),
              this.opts.onMove.call(this, p, m);
          }
        }),
        (e.prototype.hide = function() {
          this.isOpen &&
            !1 !== this.opts.beforeHide.call(this) &&
            (this.$flyout.detach(),
            (this.isOpen = !1),
            this.opts.onHide.call(this));
        }),
        (e.prototype.swap = function(e, i, o) {
          this.hide(),
            (this.isReady = !1),
            this.detachNotice && clearTimeout(this.detachNotice),
            this.$notice.parent().length && this.$notice.detach(),
            this.$target.removeClass("is-loading is-ready is-error"),
            this.$image.attr({ src: e, srcset: t.isArray(o) ? o.join() : o }),
            this.$link.attr(this.opts.linkAttribute, i);
        }),
        (e.prototype.teardown = function() {
          this.hide(),
            this.$target
              .off(".easyzoom")
              .removeClass("is-loading is-ready is-error"),
            this.detachNotice && clearTimeout(this.detachNotice),
            delete this.$link,
            delete this.$zoom,
            delete this.$image,
            delete this.$notice,
            delete this.$flyout,
            delete this.isOpen,
            delete this.isReady;
        }),
        (t.fn.easyZoom = function(i) {
          return this.each(function() {
            var o = t.data(this, "easyZoom");
            o
              ? void 0 === o.isOpen && o._init()
              : t.data(this, "easyZoom", new e(this, i));
          });
        });
    });
  },
  121: function(t, e) {
    "use strict";
    Flatsome.plugin("addQty", function(t, e) {
      var i = jQuery(t);
      i.on("click", ".plus, .minus", function() {
        var t = jQuery(this),
          e = t.closest(".quantity").find(".qty"),
          i = parseFloat(e.val()),
          o = parseFloat(e.attr("max")),
          r = parseFloat(e.attr("min")),
          a = e.attr("step");
        (i && "" !== i && "NaN" !== i) || (i = 0),
          ("" !== o && "NaN" !== o) || (o = ""),
          ("" !== r && "NaN" !== r) || (r = 0),
          ("any" !== a &&
            "" !== a &&
            void 0 !== a &&
            "NaN" !== parseFloat(a)) ||
            (a = 1),
          t.is(".plus")
            ? o && (o === i || i > o)
              ? e.val(o)
              : e.val(i + parseFloat(a))
            : r && (r === i || i < r)
              ? e.val(r)
              : i > 0 && e.val(i - parseFloat(a)),
          e.trigger("change");
      });
    });
  },
  122: function(t, e) {
    "use strict";
    Flatsome.behavior("add-qty", {
      attach: function(t) {
        jQuery(".quantity", t).addQty();
      }
    });
  },
  123: function(t, e) {
    "use strict";
    Flatsome.behavior("equalize-box", {
      attach: function() {
        var t = {
          productCount: 0,
          ScreenSize: { LARGE: 1, MEDIUM: 2, SMALL: 3 },
          equalize: function(t, e) {
            (this.colPerRow = this.getColsPerRow(t)),
              1 !== this.colPerRow &&
                ((this.maxHeight = 0),
                (this.rowEnd = this.colPerRow),
                (this.$elements = []),
                (this.rating = {
                  present: !1,
                  height: 0,
                  dummy:
                    '<div class="js-star-rating star-rating" style="opacity: 0; visibility: hidden"></div>'
                }),
                this.loop(e));
          },
          getColsPerRow: function(t) {
            var e = jQuery(".shop-container .products").attr("class"),
              i = /large-columns-(\d+)/g,
              o = /medium-columns-(\d+)/g,
              r = /small-columns-(\d+)/g,
              a = void 0;
            switch (t) {
              case this.ScreenSize.LARGE:
                return (a = i.exec(e)), a ? parseInt(a[1]) : 3;
              case this.ScreenSize.MEDIUM:
                return (a = o.exec(e)), a ? parseInt(a[1]) : 3;
              case this.ScreenSize.SMALL:
                return (a = r.exec(e)), a ? parseInt(a[1]) : 2;
            }
          },
          maybeAddDummyRating: function(t) {
            var e = t;
            this.rating.present &&
              e.hasClass("price-wrapper") &&
              (e.children(".star-rating").length ||
                (e.prepend(this.rating.dummy),
                e.children(".js-star-rating").height(this.rating.height)));
          },
          loop: function(t) {
            var e = this;
            jQuery(t).each(function(t) {
              var i = jQuery(this);
              e.$elements.push(i),
                i.height(""),
                i.height() > e.maxHeight && (e.maxHeight = i.height()),
                i.children(".js-star-rating").remove();
              var o = i.children(".star-rating");
              o.length &&
                ((e.rating.present = !0), (e.rating.height = o.height())),
                (t !== e.rowEnd - 1 && t !== e.productCount - 1) ||
                  (e.$elements.forEach(function(t) {
                    t.height(e.maxHeight), e.maybeAddDummyRating(t);
                  }),
                  (e.rowEnd += e.colPerRow),
                  (e.maxHeight = 0),
                  (e.$elements = []),
                  (e.rating.present = !1));
            });
          },
          getScreenSize: function() {
            return window.matchMedia("(min-width: 850px)").matches
              ? this.ScreenSize.LARGE
              : window.matchMedia("(min-width: 550px) and (max-width: 849px)")
                  .matches
                ? this.ScreenSize.MEDIUM
                : window.matchMedia("(max-width: 549px)").matches
                  ? this.ScreenSize.SMALL
                  : void 0;
          },
          init: function() {
            if (jQuery(".products.equalize-box").length) {
              var t = this;
              if (
                ((this.productCount = jQuery(
                  ".products .product-small.box"
                ).length),
                this.productCount)
              ) {
                var e = [
                    ".products .box-text .product-title",
                    ".products .box-text .price-wrapper",
                    ".products .box-text .box-excerpt",
                    ".products .box-text .add-to-cart-button"
                  ],
                  i = t.getScreenSize();
                e.forEach(function(e) {
                  t.equalize(i, e);
                });
              }
            }
          }
        };
        t.init(),
          jQuery(window).resize(function() {
            t.init();
          });
      }
    });
  },
  124: function(t, e) {
    "use strict";
    Flatsome.behavior("quick-view", {
      attach: function(t) {
        jQuery(".quick-view", t).each(function(t, e) {
          jQuery(e).hasClass("quick-view-added") ||
            (jQuery(e).click(function(t) {
              if ("" != jQuery(this).attr("data-prod")) {
                jQuery(this)
                  .parent()
                  .parent()
                  .addClass("processing");
                var e = jQuery(this).attr("data-prod"),
                  i = { action: "flatsome_quickview", product: e };
                jQuery.post(flatsomeVars.ajaxurl, i, function(t) {
                  jQuery(".processing").removeClass("processing"),
                    jQuery.magnificPopup.open({
                      removalDelay: 300,
                      closeBtnInside: !0,
                      autoFocusLast: !1,
                      items: {
                        src:
                          '<div class="product-lightbox lightbox-content">' +
                          t +
                          "</div>",
                        type: "inline"
                      }
                    });
                  var e = jQuery(".product-gallery-slider img", t).length,
                    i = e > 1;
                  setTimeout(function() {
                    jQuery(".product-lightbox").imagesLoaded(function() {
                      jQuery(".product-lightbox .slider").flickity({
                        cellAlign: "left",
                        wrapAround: !0,
                        autoPlay: !1,
                        prevNextButtons: !0,
                        adaptiveHeight: !0,
                        imagesLoaded: !0,
                        dragThreshold: 15,
                        pageDots: i
                      });
                    });
                  }, 300);
                  var o = jQuery(".product-lightbox form.variations_form");
                  jQuery(".product-lightbox form").hasClass(
                    "variations_form"
                  ) && o.wc_variation_form();
                  var r = jQuery(".product-lightbox .product-gallery-slider"),
                    a = jQuery(
                      ".product-lightbox .product-gallery-slider .slide.first img"
                    ),
                    s = jQuery(
                      ".product-lightbox .product-gallery-slider .slide.first a"
                    ),
                    n = a.attr("data-src") ? a.attr("data-src") : a.attr("src");
                  o.on("show_variation", function(t, e) {
                    e.image.src
                      ? (a.attr("src", e.image.src).attr("srcset", ""),
                        s.attr("href", e.image_link),
                        r.flickity("select", 0))
                      : e.image_src &&
                        (a.attr("src", e.image_src).attr("srcset", ""),
                        s.attr("href", e.image_link),
                        r.flickity("select", 0));
                  }),
                    o.on("click", ".reset_variations", function() {
                      a.attr("src", n).attr("srcset", ""),
                        r.flickity("select", 0);
                    }),
                    jQuery(".product-lightbox .quantity").addQty();
                }),
                  t.preventDefault();
              }
            }),
            jQuery(e).addClass("quick-view-added"));
        });
      }
    });
  }
});
var addComment = {
  moveForm: function(a, b, c, d) {
    var e,
      f,
      g,
      h,
      i = this,
      j = i.I(a),
      k = i.I(c),
      l = i.I("cancel-comment-reply-link"),
      m = i.I("comment_parent"),
      n = i.I("comment_post_ID"),
      o = k.getElementsByTagName("form")[0];
    if (j && k && l && m && o) {
      (i.respondId = c),
        (d = d || !1),
        i.I("wp-temp-form-div") ||
          ((e = document.createElement("div")),
          (e.id = "wp-temp-form-div"),
          (e.style.display = "none"),
          k.parentNode.insertBefore(e, k)),
        j.parentNode.insertBefore(k, j.nextSibling),
        n && d && (n.value = d),
        (m.value = b),
        (l.style.display = ""),
        (l.onclick = function() {
          var a = addComment,
            b = a.I("wp-temp-form-div"),
            c = a.I(a.respondId);
          if (b && c)
            return (
              (a.I("comment_parent").value = "0"),
              b.parentNode.insertBefore(c, b),
              b.parentNode.removeChild(b),
              (this.style.display = "none"),
              (this.onclick = null),
              !1
            );
        });
      try {
        for (var p = 0; p < o.elements.length; p++)
          if (
            ((f = o.elements[p]),
            (h = !1),
            "getComputedStyle" in window
              ? (g = window.getComputedStyle(f))
              : document.documentElement.currentStyle && (g = f.currentStyle),
            ((f.offsetWidth <= 0 && f.offsetHeight <= 0) ||
              "hidden" === g.visibility) &&
              (h = !0),
            "hidden" !== f.type && !f.disabled && !h)
          ) {
            f.focus();
            break;
          }
      } catch (q) {}
      return !1;
    }
  },
  I: function(a) {
    return document.getElementById(a);
  }
};
!(function(a, b) {
  "use strict";
  function c() {
    if (!e) {
      e = !0;
      var a,
        c,
        d,
        f,
        g = -1 !== navigator.appVersion.indexOf("MSIE 10"),
        h = !!navigator.userAgent.match(/Trident.*rv:11\./),
        i = b.querySelectorAll("iframe.wp-embedded-content");
      for (c = 0; c < i.length; c++) {
        if (((d = i[c]), !d.getAttribute("data-secret")))
          (f = Math.random()
            .toString(36)
            .substr(2, 10)),
            (d.src += "#?secret=" + f),
            d.setAttribute("data-secret", f);
        if (g || h)
          (a = d.cloneNode(!0)),
            a.removeAttribute("security"),
            d.parentNode.replaceChild(a, d);
      }
    }
  }
  var d = !1,
    e = !1;
  if (b.querySelector) if (a.addEventListener) d = !0;
  if (((a.wp = a.wp || {}), !a.wp.receiveEmbedMessage))
    if (
      ((a.wp.receiveEmbedMessage = function(c) {
        var d = c.data;
        if (d)
          if (d.secret || d.message || d.value)
            if (!/[^a-zA-Z0-9]/.test(d.secret)) {
              var e,
                f,
                g,
                h,
                i,
                j = b.querySelectorAll(
                  'iframe[data-secret="' + d.secret + '"]'
                ),
                k = b.querySelectorAll(
                  'blockquote[data-secret="' + d.secret + '"]'
                );
              for (e = 0; e < k.length; e++) k[e].style.display = "none";
              for (e = 0; e < j.length; e++)
                if (((f = j[e]), c.source === f.contentWindow)) {
                  if ((f.removeAttribute("style"), "height" === d.message)) {
                    if (((g = parseInt(d.value, 10)), g > 1e3)) g = 1e3;
                    else if (~~g < 200) g = 200;
                    f.height = g;
                  }
                  if ("link" === d.message)
                    if (
                      ((h = b.createElement("a")),
                      (i = b.createElement("a")),
                      (h.href = f.getAttribute("src")),
                      (i.href = d.value),
                      i.host === h.host)
                    )
                      if (b.activeElement === f) a.top.location.href = d.value;
                } else;
            }
      }),
      d)
    )
      a.addEventListener("message", a.wp.receiveEmbedMessage, !1),
        b.addEventListener("DOMContentLoaded", c, !1),
        a.addEventListener("load", c, !1);
})(window, document);
/*!
 * Packery PACKAGED v2.0.0
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2016 Metafizzy
 */
!(function(t, e) {
  "use strict";
  "function" == typeof define && define.amd
    ? define("jquery-bridget/jquery-bridget", ["jquery"], function(i) {
        e(t, i);
      })
    : "object" == typeof module && module.exports
      ? (module.exports = e(t, require("jquery")))
      : (t.jQueryBridget = e(t, t.jQuery));
})(window, function(t, e) {
  "use strict";
  function i(i, s, a) {
    function h(t, e, n) {
      var o,
        s = "$()." + i + '("' + e + '")';
      return (
        t.each(function(t, h) {
          var u = a.data(h, i);
          if (!u)
            return void r(
              i + " not initialized. Cannot call methods, i.e. " + s
            );
          var c = u[e];
          if (!c || "_" == e.charAt(0))
            return void r(s + " is not a valid method");
          var d = c.apply(u, n);
          o = void 0 === o ? d : o;
        }),
        void 0 !== o ? o : t
      );
    }
    function u(t, e) {
      t.each(function(t, n) {
        var o = a.data(n, i);
        o ? (o.option(e), o._init()) : ((o = new s(n, e)), a.data(n, i, o));
      });
    }
    (a = a || e || t.jQuery),
      a &&
        (s.prototype.option ||
          (s.prototype.option = function(t) {
            a.isPlainObject(t) &&
              (this.options = a.extend(!0, this.options, t));
          }),
        (a.fn[i] = function(t) {
          if ("string" == typeof t) {
            var e = o.call(arguments, 1);
            return h(this, t, e);
          }
          return u(this, t), this;
        }),
        n(a));
  }
  function n(t) {
    !t || (t && t.bridget) || (t.bridget = i);
  }
  var o = Array.prototype.slice,
    s = t.console,
    r =
      "undefined" == typeof s
        ? function() {}
        : function(t) {
            s.error(t);
          };
  return n(e || t.jQuery), i;
}),
  (function(t, e) {
    "use strict";
    "function" == typeof define && define.amd
      ? define("get-size/get-size", [], function() {
          return e();
        })
      : "object" == typeof module && module.exports
        ? (module.exports = e())
        : (t.getSize = e());
  })(window, function() {
    "use strict";
    function t(t) {
      var e = parseFloat(t),
        i = -1 == t.indexOf("%") && !isNaN(e);
      return i && e;
    }
    function e() {}
    function i() {
      for (
        var t = {
            width: 0,
            height: 0,
            innerWidth: 0,
            innerHeight: 0,
            outerWidth: 0,
            outerHeight: 0
          },
          e = 0;
        u > e;
        e++
      ) {
        var i = h[e];
        t[i] = 0;
      }
      return t;
    }
    function n(t) {
      var e = getComputedStyle(t);
      return (
        e ||
          a(
            "Style returned " +
              e +
              ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"
          ),
        e
      );
    }
    function o() {
      if (!c) {
        c = !0;
        var e = document.createElement("div");
        (e.style.width = "200px"),
          (e.style.padding = "1px 2px 3px 4px"),
          (e.style.borderStyle = "solid"),
          (e.style.borderWidth = "1px 2px 3px 4px"),
          (e.style.boxSizing = "border-box");
        var i = document.body || document.documentElement;
        i.appendChild(e);
        var o = n(e);
        (s.isBoxSizeOuter = r = 200 == t(o.width)), i.removeChild(e);
      }
    }
    function s(e) {
      if (
        (o(),
        "string" == typeof e && (e = document.querySelector(e)),
        e && "object" == typeof e && e.nodeType)
      ) {
        var s = n(e);
        if ("none" == s.display) return i();
        var a = {};
        (a.width = e.offsetWidth), (a.height = e.offsetHeight);
        for (
          var c = (a.isBorderBox = "border-box" == s.boxSizing), d = 0;
          u > d;
          d++
        ) {
          var f = h[d],
            l = s[f],
            p = parseFloat(l);
          a[f] = isNaN(p) ? 0 : p;
        }
        var m = a.paddingLeft + a.paddingRight,
          g = a.paddingTop + a.paddingBottom,
          y = a.marginLeft + a.marginRight,
          v = a.marginTop + a.marginBottom,
          _ = a.borderLeftWidth + a.borderRightWidth,
          x = a.borderTopWidth + a.borderBottomWidth,
          b = c && r,
          E = t(s.width);
        E !== !1 && (a.width = E + (b ? 0 : m + _));
        var T = t(s.height);
        return (
          T !== !1 && (a.height = T + (b ? 0 : g + x)),
          (a.innerWidth = a.width - (m + _)),
          (a.innerHeight = a.height - (g + x)),
          (a.outerWidth = a.width + y),
          (a.outerHeight = a.height + v),
          a
        );
      }
    }
    var r,
      a =
        "undefined" == typeof console
          ? e
          : function(t) {
              console.error(t);
            },
      h = [
        "paddingLeft",
        "paddingRight",
        "paddingTop",
        "paddingBottom",
        "marginLeft",
        "marginRight",
        "marginTop",
        "marginBottom",
        "borderLeftWidth",
        "borderRightWidth",
        "borderTopWidth",
        "borderBottomWidth"
      ],
      u = h.length,
      c = !1;
    return s;
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define("ev-emitter/ev-emitter", e)
      : "object" == typeof module && module.exports
        ? (module.exports = e())
        : (t.EvEmitter = e());
  })(this, function() {
    function t() {}
    var e = t.prototype;
    return (
      (e.on = function(t, e) {
        if (t && e) {
          var i = (this._events = this._events || {}),
            n = (i[t] = i[t] || []);
          return -1 == n.indexOf(e) && n.push(e), this;
        }
      }),
      (e.once = function(t, e) {
        if (t && e) {
          this.on(t, e);
          var i = (this._onceEvents = this._onceEvents || {}),
            n = (i[t] = i[t] || {});
          return (n[e] = !0), this;
        }
      }),
      (e.off = function(t, e) {
        var i = this._events && this._events[t];
        if (i && i.length) {
          var n = i.indexOf(e);
          return -1 != n && i.splice(n, 1), this;
        }
      }),
      (e.emitEvent = function(t, e) {
        var i = this._events && this._events[t];
        if (i && i.length) {
          var n = 0,
            o = i[n];
          e = e || [];
          for (var s = this._onceEvents && this._onceEvents[t]; o; ) {
            var r = s && s[o];
            r && (this.off(t, o), delete s[o]),
              o.apply(this, e),
              (n += r ? 0 : 1),
              (o = i[n]);
          }
          return this;
        }
      }),
      t
    );
  }),
  (function(t, e) {
    "use strict";
    "function" == typeof define && define.amd
      ? define("desandro-matches-selector/matches-selector", e)
      : "object" == typeof module && module.exports
        ? (module.exports = e())
        : (t.matchesSelector = e());
  })(window, function() {
    "use strict";
    var t = (function() {
      var t = Element.prototype;
      if (t.matches) return "matches";
      if (t.matchesSelector) return "matchesSelector";
      for (var e = ["webkit", "moz", "ms", "o"], i = 0; i < e.length; i++) {
        var n = e[i],
          o = n + "MatchesSelector";
        if (t[o]) return o;
      }
    })();
    return function(e, i) {
      return e[t](i);
    };
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define("fizzy-ui-utils/utils", [
          "desandro-matches-selector/matches-selector"
        ], function(i) {
          return e(t, i);
        })
      : "object" == typeof module && module.exports
        ? (module.exports = e(t, require("desandro-matches-selector")))
        : (t.fizzyUIUtils = e(t, t.matchesSelector));
  })(window, function(t, e) {
    var i = {};
    (i.extend = function(t, e) {
      for (var i in e) t[i] = e[i];
      return t;
    }),
      (i.modulo = function(t, e) {
        return (t % e + e) % e;
      }),
      (i.makeArray = function(t) {
        var e = [];
        if (Array.isArray(t)) e = t;
        else if (t && "number" == typeof t.length)
          for (var i = 0; i < t.length; i++) e.push(t[i]);
        else e.push(t);
        return e;
      }),
      (i.removeFrom = function(t, e) {
        var i = t.indexOf(e);
        -1 != i && t.splice(i, 1);
      }),
      (i.getParent = function(t, i) {
        for (; t != document.body; )
          if (((t = t.parentNode), e(t, i))) return t;
      }),
      (i.getQueryElement = function(t) {
        return "string" == typeof t ? document.querySelector(t) : t;
      }),
      (i.handleEvent = function(t) {
        var e = "on" + t.type;
        this[e] && this[e](t);
      }),
      (i.filterFindElements = function(t, n) {
        t = i.makeArray(t);
        var o = [];
        return (
          t.forEach(function(t) {
            if (t instanceof HTMLElement) {
              if (!n) return void o.push(t);
              e(t, n) && o.push(t);
              for (var i = t.querySelectorAll(n), s = 0; s < i.length; s++)
                o.push(i[s]);
            }
          }),
          o
        );
      }),
      (i.debounceMethod = function(t, e, i) {
        var n = t.prototype[e],
          o = e + "Timeout";
        t.prototype[e] = function() {
          var t = this[o];
          t && clearTimeout(t);
          var e = arguments,
            s = this;
          this[o] = setTimeout(function() {
            n.apply(s, e), delete s[o];
          }, i || 100);
        };
      }),
      (i.docReady = function(t) {
        "complete" == document.readyState
          ? t()
          : document.addEventListener("DOMContentLoaded", t);
      }),
      (i.toDashed = function(t) {
        return t
          .replace(/(.)([A-Z])/g, function(t, e, i) {
            return e + "-" + i;
          })
          .toLowerCase();
      });
    var n = t.console;
    return (
      (i.htmlInit = function(e, o) {
        i.docReady(function() {
          var s = i.toDashed(o),
            r = "data-" + s,
            a = document.querySelectorAll("[" + r + "]"),
            h = document.querySelectorAll(".js-" + s),
            u = i.makeArray(a).concat(i.makeArray(h)),
            c = r + "-options",
            d = t.jQuery;
          u.forEach(function(t) {
            var i,
              s = t.getAttribute(r) || t.getAttribute(c);
            try {
              i = s && JSON.parse(s);
            } catch (a) {
              return void (
                n &&
                n.error("Error parsing " + r + " on " + t.className + ": " + a)
              );
            }
            var h = new e(t, i);
            d && d.data(t, o, h);
          });
        });
      }),
      i
    );
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define("outlayer/item", [
          "ev-emitter/ev-emitter",
          "get-size/get-size"
        ], e)
      : "object" == typeof module && module.exports
        ? (module.exports = e(require("ev-emitter"), require("get-size")))
        : ((t.Outlayer = {}), (t.Outlayer.Item = e(t.EvEmitter, t.getSize)));
  })(window, function(t, e) {
    "use strict";
    function i(t) {
      for (var e in t) return !1;
      return (e = null), !0;
    }
    function n(t, e) {
      t &&
        ((this.element = t),
        (this.layout = e),
        (this.position = { x: 0, y: 0 }),
        this._create());
    }
    function o(t) {
      return t.replace(/([A-Z])/g, function(t) {
        return "-" + t.toLowerCase();
      });
    }
    var s = document.documentElement.style,
      r = "string" == typeof s.transition ? "transition" : "WebkitTransition",
      a = "string" == typeof s.transform ? "transform" : "WebkitTransform",
      h = {
        WebkitTransition: "webkitTransitionEnd",
        transition: "transitionend"
      }[r],
      u = {
        transform: a,
        transition: r,
        transitionDuration: r + "Duration",
        transitionProperty: r + "Property"
      },
      c = (n.prototype = Object.create(t.prototype));
    (c.constructor = n),
      (c._create = function() {
        (this._transn = { ingProperties: {}, clean: {}, onEnd: {} }),
          this.css({ position: "absolute" });
      }),
      (c.handleEvent = function(t) {
        var e = "on" + t.type;
        this[e] && this[e](t);
      }),
      (c.getSize = function() {
        this.size = e(this.element);
      }),
      (c.css = function(t) {
        var e = this.element.style;
        for (var i in t) {
          var n = u[i] || i;
          e[n] = t[i];
        }
      }),
      (c.getPosition = function() {
        var t = getComputedStyle(this.element),
          e = this.layout._getOption("originLeft"),
          i = this.layout._getOption("originTop"),
          n = t[e ? "left" : "right"],
          o = t[i ? "top" : "bottom"],
          s = this.layout.size,
          r =
            -1 != n.indexOf("%")
              ? parseFloat(n) / 100 * s.width
              : parseInt(n, 10),
          a =
            -1 != o.indexOf("%")
              ? parseFloat(o) / 100 * s.height
              : parseInt(o, 10);
        (r = isNaN(r) ? 0 : r),
          (a = isNaN(a) ? 0 : a),
          (r -= e ? s.paddingLeft : s.paddingRight),
          (a -= i ? s.paddingTop : s.paddingBottom),
          (this.position.x = r),
          (this.position.y = a);
      }),
      (c.layoutPosition = function() {
        var t = this.layout.size,
          e = {},
          i = this.layout._getOption("originLeft"),
          n = this.layout._getOption("originTop"),
          o = i ? "paddingLeft" : "paddingRight",
          s = i ? "left" : "right",
          r = i ? "right" : "left",
          a = this.position.x + t[o];
        (e[s] = this.getXValue(a)), (e[r] = "");
        var h = n ? "paddingTop" : "paddingBottom",
          u = n ? "top" : "bottom",
          c = n ? "bottom" : "top",
          d = this.position.y + t[h];
        (e[u] = this.getYValue(d)),
          (e[c] = ""),
          this.css(e),
          this.emitEvent("layout", [this]);
      }),
      (c.getXValue = function(t) {
        var e = this.layout._getOption("horizontal");
        return this.layout.options.percentPosition && !e
          ? t / this.layout.size.width * 100 + "%"
          : t + "px";
      }),
      (c.getYValue = function(t) {
        var e = this.layout._getOption("horizontal");
        return this.layout.options.percentPosition && e
          ? t / this.layout.size.height * 100 + "%"
          : t + "px";
      }),
      (c._transitionTo = function(t, e) {
        this.getPosition();
        var i = this.position.x,
          n = this.position.y,
          o = parseInt(t, 10),
          s = parseInt(e, 10),
          r = o === this.position.x && s === this.position.y;
        if ((this.setPosition(t, e), r && !this.isTransitioning))
          return void this.layoutPosition();
        var a = t - i,
          h = e - n,
          u = {};
        (u.transform = this.getTranslate(a, h)),
          this.transition({
            to: u,
            onTransitionEnd: { transform: this.layoutPosition },
            isCleaning: !0
          });
      }),
      (c.getTranslate = function(t, e) {
        var i = this.layout._getOption("originLeft"),
          n = this.layout._getOption("originTop");
        return (
          (t = i ? t : -t),
          (e = n ? e : -e),
          "translate3d(" + t + "px, " + e + "px, 0)"
        );
      }),
      (c.goTo = function(t, e) {
        this.setPosition(t, e), this.layoutPosition();
      }),
      (c.moveTo = c._transitionTo),
      (c.setPosition = function(t, e) {
        (this.position.x = parseInt(t, 10)),
          (this.position.y = parseInt(e, 10));
      }),
      (c._nonTransition = function(t) {
        this.css(t.to), t.isCleaning && this._removeStyles(t.to);
        for (var e in t.onTransitionEnd) t.onTransitionEnd[e].call(this);
      }),
      (c.transition = function(t) {
        if (!parseFloat(this.layout.options.transitionDuration))
          return void this._nonTransition(t);
        var e = this._transn;
        for (var i in t.onTransitionEnd) e.onEnd[i] = t.onTransitionEnd[i];
        for (i in t.to)
          (e.ingProperties[i] = !0), t.isCleaning && (e.clean[i] = !0);
        if (t.from) {
          this.css(t.from);
          var n = this.element.offsetHeight;
          n = null;
        }
        this.enableTransition(t.to),
          this.css(t.to),
          (this.isTransitioning = !0);
      });
    var d = "opacity," + o(a);
    (c.enableTransition = function() {
      this.isTransitioning ||
        (this.css({
          transitionProperty: d,
          transitionDuration: this.layout.options.transitionDuration
        }),
        this.element.addEventListener(h, this, !1));
    }),
      (c.onwebkitTransitionEnd = function(t) {
        this.ontransitionend(t);
      }),
      (c.onotransitionend = function(t) {
        this.ontransitionend(t);
      });
    var f = { "-webkit-transform": "transform" };
    (c.ontransitionend = function(t) {
      if (t.target === this.element) {
        var e = this._transn,
          n = f[t.propertyName] || t.propertyName;
        if (
          (delete e.ingProperties[n],
          i(e.ingProperties) && this.disableTransition(),
          n in e.clean &&
            ((this.element.style[t.propertyName] = ""), delete e.clean[n]),
          n in e.onEnd)
        ) {
          var o = e.onEnd[n];
          o.call(this), delete e.onEnd[n];
        }
        this.emitEvent("transitionEnd", [this]);
      }
    }),
      (c.disableTransition = function() {
        this.removeTransitionStyles(),
          this.element.removeEventListener(h, this, !1),
          (this.isTransitioning = !1);
      }),
      (c._removeStyles = function(t) {
        var e = {};
        for (var i in t) e[i] = "";
        this.css(e);
      });
    var l = { transitionProperty: "", transitionDuration: "" };
    return (
      (c.removeTransitionStyles = function() {
        this.css(l);
      }),
      (c.removeElem = function() {
        this.element.parentNode.removeChild(this.element),
          this.css({ display: "" }),
          this.emitEvent("remove", [this]);
      }),
      (c.remove = function() {
        return r && parseFloat(this.layout.options.transitionDuration)
          ? (this.once("transitionEnd", function() {
              this.removeElem();
            }),
            void this.hide())
          : void this.removeElem();
      }),
      (c.reveal = function() {
        delete this.isHidden, this.css({ display: "" });
        var t = this.layout.options,
          e = {},
          i = this.getHideRevealTransitionEndProperty("visibleStyle");
        (e[i] = this.onRevealTransitionEnd),
          this.transition({
            from: t.hiddenStyle,
            to: t.visibleStyle,
            isCleaning: !0,
            onTransitionEnd: e
          });
      }),
      (c.onRevealTransitionEnd = function() {
        this.isHidden || this.emitEvent("reveal");
      }),
      (c.getHideRevealTransitionEndProperty = function(t) {
        var e = this.layout.options[t];
        if (e.opacity) return "opacity";
        for (var i in e) return i;
      }),
      (c.hide = function() {
        (this.isHidden = !0), this.css({ display: "" });
        var t = this.layout.options,
          e = {},
          i = this.getHideRevealTransitionEndProperty("hiddenStyle");
        (e[i] = this.onHideTransitionEnd),
          this.transition({
            from: t.visibleStyle,
            to: t.hiddenStyle,
            isCleaning: !0,
            onTransitionEnd: e
          });
      }),
      (c.onHideTransitionEnd = function() {
        this.isHidden &&
          (this.css({ display: "none" }), this.emitEvent("hide"));
      }),
      (c.destroy = function() {
        this.css({
          position: "",
          left: "",
          right: "",
          top: "",
          bottom: "",
          transition: "",
          transform: ""
        });
      }),
      n
    );
  }),
  (function(t, e) {
    "use strict";
    "function" == typeof define && define.amd
      ? define("outlayer/outlayer", [
          "ev-emitter/ev-emitter",
          "get-size/get-size",
          "fizzy-ui-utils/utils",
          "./item"
        ], function(i, n, o, s) {
          return e(t, i, n, o, s);
        })
      : "object" == typeof module && module.exports
        ? (module.exports = e(
            t,
            require("ev-emitter"),
            require("get-size"),
            require("fizzy-ui-utils"),
            require("./item")
          ))
        : (t.Outlayer = e(
            t,
            t.EvEmitter,
            t.getSize,
            t.fizzyUIUtils,
            t.Outlayer.Item
          ));
  })(window, function(t, e, i, n, o) {
    "use strict";
    function s(t, e) {
      var i = n.getQueryElement(t);
      if (!i)
        return void (
          a &&
          a.error(
            "Bad element for " + this.constructor.namespace + ": " + (i || t)
          )
        );
      (this.element = i),
        h && (this.$element = h(this.element)),
        (this.options = n.extend({}, this.constructor.defaults)),
        this.option(e);
      var o = ++c;
      (this.element.outlayerGUID = o), (d[o] = this), this._create();
      var s = this._getOption("initLayout");
      s && this.layout();
    }
    function r(t) {
      function e() {
        t.apply(this, arguments);
      }
      return (
        (e.prototype = Object.create(t.prototype)),
        (e.prototype.constructor = e),
        e
      );
    }
    var a = t.console,
      h = t.jQuery,
      u = function() {},
      c = 0,
      d = {};
    (s.namespace = "outlayer"),
      (s.Item = o),
      (s.defaults = {
        containerStyle: { position: "relative" },
        initLayout: !0,
        originLeft: !0,
        originTop: !0,
        resize: !0,
        resizeContainer: !0,
        transitionDuration: "0.4s",
        hiddenStyle: { opacity: 0, transform: "scale(0.001)" },
        visibleStyle: { opacity: 1, transform: "scale(1)" }
      });
    var f = s.prototype;
    return (
      n.extend(f, e.prototype),
      (f.option = function(t) {
        n.extend(this.options, t);
      }),
      (f._getOption = function(t) {
        var e = this.constructor.compatOptions[t];
        return e && void 0 !== this.options[e]
          ? this.options[e]
          : this.options[t];
      }),
      (s.compatOptions = {
        initLayout: "isInitLayout",
        horizontal: "isHorizontal",
        layoutInstant: "isLayoutInstant",
        originLeft: "isOriginLeft",
        originTop: "isOriginTop",
        resize: "isResizeBound",
        resizeContainer: "isResizingContainer"
      }),
      (f._create = function() {
        this.reloadItems(),
          (this.stamps = []),
          this.stamp(this.options.stamp),
          n.extend(this.element.style, this.options.containerStyle);
        var t = this._getOption("resize");
        t && this.bindResize();
      }),
      (f.reloadItems = function() {
        this.items = this._itemize(this.element.children);
      }),
      (f._itemize = function(t) {
        for (
          var e = this._filterFindItemElements(t),
            i = this.constructor.Item,
            n = [],
            o = 0;
          o < e.length;
          o++
        ) {
          var s = e[o],
            r = new i(s, this);
          n.push(r);
        }
        return n;
      }),
      (f._filterFindItemElements = function(t) {
        return n.filterFindElements(t, this.options.itemSelector);
      }),
      (f.getItemElements = function() {
        return this.items.map(function(t) {
          return t.element;
        });
      }),
      (f.layout = function() {
        this._resetLayout(), this._manageStamps();
        var t = this._getOption("layoutInstant"),
          e = void 0 !== t ? t : !this._isLayoutInited;
        this.layoutItems(this.items, e), (this._isLayoutInited = !0);
      }),
      (f._init = f.layout),
      (f._resetLayout = function() {
        this.getSize();
      }),
      (f.getSize = function() {
        this.size = i(this.element);
      }),
      (f._getMeasurement = function(t, e) {
        var n,
          o = this.options[t];
        o
          ? ("string" == typeof o
              ? (n = this.element.querySelector(o))
              : o instanceof HTMLElement && (n = o),
            (this[t] = n ? i(n)[e] : o))
          : (this[t] = 0);
      }),
      (f.layoutItems = function(t, e) {
        (t = this._getItemsForLayout(t)),
          this._layoutItems(t, e),
          this._postLayout();
      }),
      (f._getItemsForLayout = function(t) {
        return t.filter(function(t) {
          return !t.isIgnored;
        });
      }),
      (f._layoutItems = function(t, e) {
        if ((this._emitCompleteOnItems("layout", t), t && t.length)) {
          var i = [];
          t.forEach(function(t) {
            var n = this._getItemLayoutPosition(t);
            (n.item = t), (n.isInstant = e || t.isLayoutInstant), i.push(n);
          }, this),
            this._processLayoutQueue(i);
        }
      }),
      (f._getItemLayoutPosition = function() {
        return { x: 0, y: 0 };
      }),
      (f._processLayoutQueue = function(t) {
        t.forEach(function(t) {
          this._positionItem(t.item, t.x, t.y, t.isInstant);
        }, this);
      }),
      (f._positionItem = function(t, e, i, n) {
        n ? t.goTo(e, i) : t.moveTo(e, i);
      }),
      (f._postLayout = function() {
        this.resizeContainer();
      }),
      (f.resizeContainer = function() {
        var t = this._getOption("resizeContainer");
        if (t) {
          var e = this._getContainerSize();
          e &&
            (this._setContainerMeasure(e.width, !0),
            this._setContainerMeasure(e.height, !1));
        }
      }),
      (f._getContainerSize = u),
      (f._setContainerMeasure = function(t, e) {
        if (void 0 !== t) {
          var i = this.size;
          i.isBorderBox &&
            (t += e
              ? i.paddingLeft +
                i.paddingRight +
                i.borderLeftWidth +
                i.borderRightWidth
              : i.paddingBottom +
                i.paddingTop +
                i.borderTopWidth +
                i.borderBottomWidth),
            (t = Math.max(t, 0)),
            (this.element.style[e ? "width" : "height"] = t + "px");
        }
      }),
      (f._emitCompleteOnItems = function(t, e) {
        function i() {
          o.dispatchEvent(t + "Complete", null, [e]);
        }
        function n() {
          r++, r == s && i();
        }
        var o = this,
          s = e.length;
        if (!e || !s) return void i();
        var r = 0;
        e.forEach(function(e) {
          e.once(t, n);
        });
      }),
      (f.dispatchEvent = function(t, e, i) {
        var n = e ? [e].concat(i) : i;
        if ((this.emitEvent(t, n), h))
          if (((this.$element = this.$element || h(this.element)), e)) {
            var o = h.Event(e);
            (o.type = t), this.$element.trigger(o, i);
          } else this.$element.trigger(t, i);
      }),
      (f.ignore = function(t) {
        var e = this.getItem(t);
        e && (e.isIgnored = !0);
      }),
      (f.unignore = function(t) {
        var e = this.getItem(t);
        e && delete e.isIgnored;
      }),
      (f.stamp = function(t) {
        (t = this._find(t)),
          t &&
            ((this.stamps = this.stamps.concat(t)),
            t.forEach(this.ignore, this));
      }),
      (f.unstamp = function(t) {
        (t = this._find(t)),
          t &&
            t.forEach(function(t) {
              n.removeFrom(this.stamps, t), this.unignore(t);
            }, this);
      }),
      (f._find = function(t) {
        return t
          ? ("string" == typeof t && (t = this.element.querySelectorAll(t)),
            (t = n.makeArray(t)))
          : void 0;
      }),
      (f._manageStamps = function() {
        this.stamps &&
          this.stamps.length &&
          (this._getBoundingRect(),
          this.stamps.forEach(this._manageStamp, this));
      }),
      (f._getBoundingRect = function() {
        var t = this.element.getBoundingClientRect(),
          e = this.size;
        this._boundingRect = {
          left: t.left + e.paddingLeft + e.borderLeftWidth,
          top: t.top + e.paddingTop + e.borderTopWidth,
          right: t.right - (e.paddingRight + e.borderRightWidth),
          bottom: t.bottom - (e.paddingBottom + e.borderBottomWidth)
        };
      }),
      (f._manageStamp = u),
      (f._getElementOffset = function(t) {
        var e = t.getBoundingClientRect(),
          n = this._boundingRect,
          o = i(t),
          s = {
            left: e.left - n.left - o.marginLeft,
            top: e.top - n.top - o.marginTop,
            right: n.right - e.right - o.marginRight,
            bottom: n.bottom - e.bottom - o.marginBottom
          };
        return s;
      }),
      (f.handleEvent = n.handleEvent),
      (f.bindResize = function() {
        t.addEventListener("resize", this), (this.isResizeBound = !0);
      }),
      (f.unbindResize = function() {
        t.removeEventListener("resize", this), (this.isResizeBound = !1);
      }),
      (f.onresize = function() {
        this.resize();
      }),
      n.debounceMethod(s, "onresize", 100),
      (f.resize = function() {
        this.isResizeBound && this.needsResizeLayout() && this.layout();
      }),
      (f.needsResizeLayout = function() {
        var t = i(this.element),
          e = this.size && t;
        return e && t.innerWidth !== this.size.innerWidth;
      }),
      (f.addItems = function(t) {
        var e = this._itemize(t);
        return e.length && (this.items = this.items.concat(e)), e;
      }),
      (f.appended = function(t) {
        var e = this.addItems(t);
        e.length && (this.layoutItems(e, !0), this.reveal(e));
      }),
      (f.prepended = function(t) {
        var e = this._itemize(t);
        if (e.length) {
          var i = this.items.slice(0);
          (this.items = e.concat(i)),
            this._resetLayout(),
            this._manageStamps(),
            this.layoutItems(e, !0),
            this.reveal(e),
            this.layoutItems(i);
        }
      }),
      (f.reveal = function(t) {
        this._emitCompleteOnItems("reveal", t),
          t &&
            t.length &&
            t.forEach(function(t) {
              t.reveal();
            });
      }),
      (f.hide = function(t) {
        this._emitCompleteOnItems("hide", t),
          t &&
            t.length &&
            t.forEach(function(t) {
              t.hide();
            });
      }),
      (f.revealItemElements = function(t) {
        var e = this.getItems(t);
        this.reveal(e);
      }),
      (f.hideItemElements = function(t) {
        var e = this.getItems(t);
        this.hide(e);
      }),
      (f.getItem = function(t) {
        for (var e = 0; e < this.items.length; e++) {
          var i = this.items[e];
          if (i.element == t) return i;
        }
      }),
      (f.getItems = function(t) {
        t = n.makeArray(t);
        var e = [];
        return (
          t.forEach(function(t) {
            var i = this.getItem(t);
            i && e.push(i);
          }, this),
          e
        );
      }),
      (f.remove = function(t) {
        var e = this.getItems(t);
        this._emitCompleteOnItems("remove", e),
          e &&
            e.length &&
            e.forEach(function(t) {
              t.remove(), n.removeFrom(this.items, t);
            }, this);
      }),
      (f.destroy = function() {
        var t = this.element.style;
        (t.height = ""),
          (t.position = ""),
          (t.width = ""),
          this.items.forEach(function(t) {
            t.destroy();
          }),
          this.unbindResize();
        var e = this.element.outlayerGUID;
        delete d[e],
          delete this.element.outlayerGUID,
          h && h.removeData(this.element, this.constructor.namespace);
      }),
      (s.data = function(t) {
        t = n.getQueryElement(t);
        var e = t && t.outlayerGUID;
        return e && d[e];
      }),
      (s.create = function(t, e) {
        var i = r(s);
        return (
          (i.defaults = n.extend({}, s.defaults)),
          n.extend(i.defaults, e),
          (i.compatOptions = n.extend({}, s.compatOptions)),
          (i.namespace = t),
          (i.data = s.data),
          (i.Item = r(o)),
          n.htmlInit(i, t),
          h && h.bridget && h.bridget(t, i),
          i
        );
      }),
      (s.Item = o),
      s
    );
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define("packery/rect", e)
      : "object" == typeof module && module.exports
        ? (module.exports = e())
        : ((t.Packery = t.Packery || {}), (t.Packery.Rect = e()));
  })(window, function() {
    "use strict";
    function t(e) {
      for (var i in t.defaults) this[i] = t.defaults[i];
      for (i in e) this[i] = e[i];
    }
    t.defaults = { x: 0, y: 0, width: 0, height: 0 };
    var e = t.prototype;
    return (
      (e.contains = function(t) {
        var e = t.width || 0,
          i = t.height || 0;
        return (
          this.x <= t.x &&
          this.y <= t.y &&
          this.x + this.width >= t.x + e &&
          this.y + this.height >= t.y + i
        );
      }),
      (e.overlaps = function(t) {
        var e = this.x + this.width,
          i = this.y + this.height,
          n = t.x + t.width,
          o = t.y + t.height;
        return this.x < n && e > t.x && this.y < o && i > t.y;
      }),
      (e.getMaximalFreeRects = function(e) {
        if (!this.overlaps(e)) return !1;
        var i,
          n = [],
          o = this.x + this.width,
          s = this.y + this.height,
          r = e.x + e.width,
          a = e.y + e.height;
        return (
          this.y < e.y &&
            ((i = new t({
              x: this.x,
              y: this.y,
              width: this.width,
              height: e.y - this.y
            })),
            n.push(i)),
          o > r &&
            ((i = new t({
              x: r,
              y: this.y,
              width: o - r,
              height: this.height
            })),
            n.push(i)),
          s > a &&
            ((i = new t({ x: this.x, y: a, width: this.width, height: s - a })),
            n.push(i)),
          this.x < e.x &&
            ((i = new t({
              x: this.x,
              y: this.y,
              width: e.x - this.x,
              height: this.height
            })),
            n.push(i)),
          n
        );
      }),
      (e.canFit = function(t) {
        return this.width >= t.width && this.height >= t.height;
      }),
      t
    );
  }),
  (function(t, e) {
    if ("function" == typeof define && define.amd)
      define("packery/packer", ["./rect"], e);
    else if ("object" == typeof module && module.exports)
      module.exports = e(require("./rect"));
    else {
      var i = (t.Packery = t.Packery || {});
      i.Packer = e(i.Rect);
    }
  })(window, function(t) {
    "use strict";
    function e(t, e, i) {
      (this.width = t || 0),
        (this.height = e || 0),
        (this.sortDirection = i || "downwardLeftToRight"),
        this.reset();
    }
    var i = e.prototype;
    (i.reset = function() {
      this.spaces = [];
      var e = new t({ x: 0, y: 0, width: this.width, height: this.height });
      this.spaces.push(e),
        (this.sorter = n[this.sortDirection] || n.downwardLeftToRight);
    }),
      (i.pack = function(t) {
        for (var e = 0; e < this.spaces.length; e++) {
          var i = this.spaces[e];
          if (i.canFit(t)) {
            this.placeInSpace(t, i);
            break;
          }
        }
      }),
      (i.columnPack = function(t) {
        for (var e = 0; e < this.spaces.length; e++) {
          var i = this.spaces[e],
            n =
              i.x <= t.x &&
              i.x + i.width >= t.x + t.width &&
              i.height >= t.height - 0.01;
          if (n) {
            (t.y = i.y), this.placed(t);
            break;
          }
        }
      }),
      (i.rowPack = function(t) {
        for (var e = 0; e < this.spaces.length; e++) {
          var i = this.spaces[e],
            n =
              i.y <= t.y &&
              i.y + i.height >= t.y + t.height &&
              i.width >= t.width - 0.01;
          if (n) {
            (t.x = i.x), this.placed(t);
            break;
          }
        }
      }),
      (i.placeInSpace = function(t, e) {
        (t.x = e.x), (t.y = e.y), this.placed(t);
      }),
      (i.placed = function(t) {
        for (var e = [], i = 0; i < this.spaces.length; i++) {
          var n = this.spaces[i],
            o = n.getMaximalFreeRects(t);
          o ? e.push.apply(e, o) : e.push(n);
        }
        (this.spaces = e), this.mergeSortSpaces();
      }),
      (i.mergeSortSpaces = function() {
        e.mergeRects(this.spaces), this.spaces.sort(this.sorter);
      }),
      (i.addSpace = function(t) {
        this.spaces.push(t), this.mergeSortSpaces();
      }),
      (e.mergeRects = function(t) {
        var e = 0,
          i = t[e];
        t: for (; i; ) {
          for (var n = 0, o = t[e + n]; o; ) {
            if (o == i) n++;
            else {
              if (o.contains(i)) {
                t.splice(e, 1), (i = t[e]);
                continue t;
              }
              i.contains(o) ? t.splice(e + n, 1) : n++;
            }
            o = t[e + n];
          }
          e++, (i = t[e]);
        }
        return t;
      });
    var n = {
      downwardLeftToRight: function(t, e) {
        return t.y - e.y || t.x - e.x;
      },
      rightwardTopToBottom: function(t, e) {
        return t.x - e.x || t.y - e.y;
      }
    };
    return e;
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define("packery/item", ["outlayer/outlayer", "./rect"], e)
      : "object" == typeof module && module.exports
        ? (module.exports = e(require("outlayer"), require("./rect")))
        : (t.Packery.Item = e(t.Outlayer, t.Packery.Rect));
  })(window, function(t, e) {
    "use strict";
    var i = document.documentElement.style,
      n = "string" == typeof i.transform ? "transform" : "WebkitTransform",
      o = function() {
        t.Item.apply(this, arguments);
      },
      s = (o.prototype = Object.create(t.Item.prototype)),
      r = s._create;
    s._create = function() {
      r.call(this), (this.rect = new e());
    };
    var a = s.moveTo;
    return (
      (s.moveTo = function(t, e) {
        var i = Math.abs(this.position.x - t),
          n = Math.abs(this.position.y - e),
          o =
            this.layout.dragItemCount &&
            !this.isPlacing &&
            !this.isTransitioning &&
            1 > i &&
            1 > n;
        return o ? void this.goTo(t, e) : void a.apply(this, arguments);
      }),
      (s.enablePlacing = function() {
        this.removeTransitionStyles(),
          this.isTransitioning && n && (this.element.style[n] = "none"),
          (this.isTransitioning = !1),
          this.getSize(),
          this.layout._setRectSize(this.element, this.rect),
          (this.isPlacing = !0);
      }),
      (s.disablePlacing = function() {
        this.isPlacing = !1;
      }),
      (s.removeElem = function() {
        this.element.parentNode.removeChild(this.element),
          this.layout.packer.addSpace(this.rect),
          this.emitEvent("remove", [this]);
      }),
      (s.showDropPlaceholder = function() {
        var t = this.dropPlaceholder;
        t ||
          ((t = this.dropPlaceholder = document.createElement("div")),
          (t.className = "packery-drop-placeholder"),
          (t.style.position = "absolute")),
          (t.style.width = this.size.width + "px"),
          (t.style.height = this.size.height + "px"),
          this.positionDropPlaceholder(),
          this.layout.element.appendChild(t);
      }),
      (s.positionDropPlaceholder = function() {
        this.dropPlaceholder.style[n] =
          "translate(" + this.rect.x + "px, " + this.rect.y + "px)";
      }),
      (s.hideDropPlaceholder = function() {
        this.layout.element.removeChild(this.dropPlaceholder);
      }),
      o
    );
  }),
  (function(t, e) {
    "function" == typeof define && define.amd
      ? define([
          "get-size/get-size",
          "outlayer/outlayer",
          "./rect",
          "./packer",
          "./item"
        ], e)
      : "object" == typeof module && module.exports
        ? (module.exports = e(
            require("get-size"),
            require("outlayer"),
            require("./rect"),
            require("./packer"),
            require("./item")
          ))
        : (t.Packery = e(
            t.getSize,
            t.Outlayer,
            t.Packery.Rect,
            t.Packery.Packer,
            t.Packery.Item
          ));
  })(window, function(t, e, i, n, o) {
    "use strict";
    function s(t, e) {
      return t.position.y - e.position.y || t.position.x - e.position.x;
    }
    function r(t, e) {
      return t.position.x - e.position.x || t.position.y - e.position.y;
    }
    function a(t, e) {
      var i = e.x - t.x,
        n = e.y - t.y;
      return Math.sqrt(i * i + n * n);
    }
    i.prototype.canFit = function(t) {
      return this.width >= t.width - 1 && this.height >= t.height - 1;
    };
    var h = e.create("packery");
    h.Item = o;
    var u = h.prototype;
    (u._create = function() {
      e.prototype._create.call(this),
        (this.packer = new n()),
        (this.shiftPacker = new n()),
        (this.isEnabled = !0),
        (this.dragItemCount = 0);
      var t = this;
      (this.handleDraggabilly = {
        dragStart: function() {
          t.itemDragStart(this.element);
        },
        dragMove: function() {
          t.itemDragMove(this.element, this.position.x, this.position.y);
        },
        dragEnd: function() {
          t.itemDragEnd(this.element);
        }
      }),
        (this.handleUIDraggable = {
          start: function(e, i) {
            i && t.itemDragStart(e.currentTarget);
          },
          drag: function(e, i) {
            i &&
              t.itemDragMove(e.currentTarget, i.position.left, i.position.top);
          },
          stop: function(e, i) {
            i && t.itemDragEnd(e.currentTarget);
          }
        });
    }),
      (u._resetLayout = function() {
        this.getSize(), this._getMeasurements();
        var t, e, i;
        this._getOption("horizontal")
          ? ((t = 1 / 0),
            (e = this.size.innerHeight + this.gutter),
            (i = "rightwardTopToBottom"))
          : ((t = this.size.innerWidth + this.gutter),
            (e = 1 / 0),
            (i = "downwardLeftToRight")),
          (this.packer.width = this.shiftPacker.width = t),
          (this.packer.height = this.shiftPacker.height = e),
          (this.packer.sortDirection = this.shiftPacker.sortDirection = i),
          this.packer.reset(),
          (this.maxY = 0),
          (this.maxX = 0);
      }),
      (u._getMeasurements = function() {
        this._getMeasurement("columnWidth", "width"),
          this._getMeasurement("rowHeight", "height"),
          this._getMeasurement("gutter", "width");
      }),
      (u._getItemLayoutPosition = function(t) {
        if (
          (this._setRectSize(t.element, t.rect),
          this.isShifting || this.dragItemCount > 0)
        ) {
          var e = this._getPackMethod();
          this.packer[e](t.rect);
        } else this.packer.pack(t.rect);
        return this._setMaxXY(t.rect), t.rect;
      }),
      (u.shiftLayout = function() {
        (this.isShifting = !0), this.layout(), delete this.isShifting;
      }),
      (u._getPackMethod = function() {
        return this._getOption("horizontal") ? "rowPack" : "columnPack";
      }),
      (u._setMaxXY = function(t) {
        (this.maxX = Math.max(t.x + t.width, this.maxX)),
          (this.maxY = Math.max(t.y + t.height, this.maxY));
      }),
      (u._setRectSize = function(e, i) {
        var n = t(e),
          o = n.outerWidth,
          s = n.outerHeight;
        (o || s) &&
          ((o = this._applyGridGutter(o, this.columnWidth)),
          (s = this._applyGridGutter(s, this.rowHeight))),
          (i.width = Math.min(o, this.packer.width)),
          (i.height = Math.min(s, this.packer.height));
      }),
      (u._applyGridGutter = function(t, e) {
        if (!e) return t + this.gutter;
        e += this.gutter;
        var i = t % e,
          n = i && 1 > i ? "round" : "ceil";
        return (t = Math[n](t / e) * e);
      }),
      (u._getContainerSize = function() {
        return this._getOption("horizontal")
          ? { width: this.maxX - this.gutter }
          : { height: this.maxY - this.gutter };
      }),
      (u._manageStamp = function(t) {
        var e,
          n = this.getItem(t);
        if (n && n.isPlacing) e = n.rect;
        else {
          var o = this._getElementOffset(t);
          e = new i({
            x: this._getOption("originLeft") ? o.left : o.right,
            y: this._getOption("originTop") ? o.top : o.bottom
          });
        }
        this._setRectSize(t, e), this.packer.placed(e), this._setMaxXY(e);
      }),
      (u.sortItemsByPosition = function() {
        var t = this._getOption("horizontal") ? r : s;
        this.items.sort(t);
      }),
      (u.fit = function(t, e, i) {
        var n = this.getItem(t);
        n &&
          (this.stamp(n.element),
          n.enablePlacing(),
          this.updateShiftTargets(n),
          (e = void 0 === e ? n.rect.x : e),
          (i = void 0 === i ? n.rect.y : i),
          this.shift(n, e, i),
          this._bindFitEvents(n),
          n.moveTo(n.rect.x, n.rect.y),
          this.shiftLayout(),
          this.unstamp(n.element),
          this.sortItemsByPosition(),
          n.disablePlacing());
      }),
      (u._bindFitEvents = function(t) {
        function e() {
          n++, 2 == n && i.dispatchEvent("fitComplete", null, [t]);
        }
        var i = this,
          n = 0;
        t.once("layout", e), this.once("layoutComplete", e);
      }),
      (u.resize = function() {
        this.isResizeBound &&
          this.needsResizeLayout() &&
          (this.options.shiftPercentResize
            ? this.resizeShiftPercentLayout()
            : this.layout());
      }),
      (u.needsResizeLayout = function() {
        var e = t(this.element),
          i = this._getOption("horizontal") ? "innerHeight" : "innerWidth";
        return e[i] != this.size[i];
      }),
      (u.resizeShiftPercentLayout = function() {
        var e = this._getItemsForLayout(this.items),
          i = this._getOption("horizontal"),
          n = i ? "y" : "x",
          o = i ? "height" : "width",
          s = i ? "rowHeight" : "columnWidth",
          r = i ? "innerHeight" : "innerWidth",
          a = this[s];
        if ((a = a && a + this.gutter)) {
          this._getMeasurements();
          var h = this[s] + this.gutter;
          e.forEach(function(t) {
            var e = Math.round(t.rect[n] / a);
            t.rect[n] = e * h;
          });
        } else {
          var u = t(this.element)[r] + this.gutter,
            c = this.packer[o];
          e.forEach(function(t) {
            t.rect[n] = t.rect[n] / c * u;
          });
        }
        this.shiftLayout();
      }),
      (u.itemDragStart = function(t) {
        if (this.isEnabled) {
          this.stamp(t);
          var e = this.getItem(t);
          e &&
            (e.enablePlacing(),
            e.showDropPlaceholder(),
            this.dragItemCount++,
            this.updateShiftTargets(e));
        }
      }),
      (u.updateShiftTargets = function(t) {
        this.shiftPacker.reset(), this._getBoundingRect();
        var e = this._getOption("originLeft"),
          n = this._getOption("originTop");
        this.stamps.forEach(function(t) {
          var o = this.getItem(t);
          if (!o || !o.isPlacing) {
            var s = this._getElementOffset(t),
              r = new i({ x: e ? s.left : s.right, y: n ? s.top : s.bottom });
            this._setRectSize(t, r), this.shiftPacker.placed(r);
          }
        }, this);
        var o = this._getOption("horizontal"),
          s = o ? "rowHeight" : "columnWidth",
          r = o ? "height" : "width";
        (this.shiftTargetKeys = []), (this.shiftTargets = []);
        var a,
          h = this[s];
        if ((h = h && h + this.gutter)) {
          var u = Math.ceil(t.rect[r] / h),
            c = Math.floor((this.shiftPacker[r] + this.gutter) / h);
          a = (c - u) * h;
          for (var d = 0; c > d; d++) this._addShiftTarget(d * h, 0, a);
        } else
          (a = this.shiftPacker[r] + this.gutter - t.rect[r]),
            this._addShiftTarget(0, 0, a);
        var f = this._getItemsForLayout(this.items),
          l = this._getPackMethod();
        f.forEach(function(t) {
          var e = t.rect;
          this._setRectSize(t.element, e),
            this.shiftPacker[l](e),
            this._addShiftTarget(e.x, e.y, a);
          var i = o ? e.x + e.width : e.x,
            n = o ? e.y : e.y + e.height;
          if ((this._addShiftTarget(i, n, a), h))
            for (var s = Math.round(e[r] / h), u = 1; s > u; u++) {
              var c = o ? i : e.x + h * u,
                d = o ? e.y + h * u : n;
              this._addShiftTarget(c, d, a);
            }
        }, this);
      }),
      (u._addShiftTarget = function(t, e, i) {
        var n = this._getOption("horizontal") ? e : t;
        if (!(0 !== n && n > i)) {
          var o = t + "," + e,
            s = -1 != this.shiftTargetKeys.indexOf(o);
          s ||
            (this.shiftTargetKeys.push(o),
            this.shiftTargets.push({ x: t, y: e }));
        }
      }),
      (u.shift = function(t, e, i) {
        var n,
          o = 1 / 0,
          s = { x: e, y: i };
        this.shiftTargets.forEach(function(t) {
          var e = a(t, s);
          o > e && ((n = t), (o = e));
        }),
          (t.rect.x = n.x),
          (t.rect.y = n.y);
      });
    var c = 120;
    (u.itemDragMove = function(t, e, i) {
      function n() {
        s.shift(o, e, i), o.positionDropPlaceholder(), s.layout();
      }
      var o = this.isEnabled && this.getItem(t);
      if (o) {
        (e -= this.size.paddingLeft), (i -= this.size.paddingTop);
        var s = this,
          r = new Date();
        this._itemDragTime && r - this._itemDragTime < c
          ? (clearTimeout(this.dragTimeout),
            (this.dragTimeout = setTimeout(n, c)))
          : (n(), (this._itemDragTime = r));
      }
    }),
      (u.itemDragEnd = function(t) {
        function e() {
          n++,
            2 == n &&
              (i.element.classList.remove("is-positioning-post-drag"),
              i.hideDropPlaceholder(),
              o.dispatchEvent("dragItemPositioned", null, [i]));
        }
        var i = this.isEnabled && this.getItem(t);
        if (i) {
          clearTimeout(this.dragTimeout),
            i.element.classList.add("is-positioning-post-drag");
          var n = 0,
            o = this;
          i.once("layout", e),
            this.once("layoutComplete", e),
            i.moveTo(i.rect.x, i.rect.y),
            this.layout(),
            (this.dragItemCount = Math.max(0, this.dragItemCount - 1)),
            this.sortItemsByPosition(),
            i.disablePlacing(),
            this.unstamp(i.element);
        }
      }),
      (u.bindDraggabillyEvents = function(t) {
        this._bindDraggabillyEvents(t, "on");
      }),
      (u.unbindDraggabillyEvents = function(t) {
        this._bindDraggabillyEvents(t, "off");
      }),
      (u._bindDraggabillyEvents = function(t, e) {
        var i = this.handleDraggabilly;
        t[e]("dragStart", i.dragStart),
          t[e]("dragMove", i.dragMove),
          t[e]("dragEnd", i.dragEnd);
      }),
      (u.bindUIDraggableEvents = function(t) {
        this._bindUIDraggableEvents(t, "on");
      }),
      (u.unbindUIDraggableEvents = function(t) {
        this._bindUIDraggableEvents(t, "off");
      }),
      (u._bindUIDraggableEvents = function(t, e) {
        var i = this.handleUIDraggable;
        t[e]("dragstart", i.start)
          [e]("drag", i.drag)
          [e]("dragstop", i.stop);
      });
    var d = u.destroy;
    return (
      (u.destroy = function() {
        d.apply(this, arguments), (this.isEnabled = !1);
      }),
      (h.Rect = i),
      (h.Packer = n),
      h
    );
  });
(function() {
  function n(n) {
    function t(t, r, e, u, i, o) {
      for (; i >= 0 && o > i; i += n) {
        var a = u ? u[i] : i;
        e = r(e, t[a], a, t);
      }
      return e;
    }
    return function(r, e, u, i) {
      e = b(e, i, 4);
      var o = !k(r) && m.keys(r),
        a = (o || r).length,
        c = n > 0 ? 0 : a - 1;
      return (
        arguments.length < 3 && ((u = r[o ? o[c] : c]), (c += n)),
        t(r, e, u, o, c, a)
      );
    };
  }
  function t(n) {
    return function(t, r, e) {
      r = x(r, e);
      for (var u = O(t), i = n > 0 ? 0 : u - 1; i >= 0 && u > i; i += n)
        if (r(t[i], i, t)) return i;
      return -1;
    };
  }
  function r(n, t, r) {
    return function(e, u, i) {
      var o = 0,
        a = O(e);
      if ("number" == typeof i)
        n > 0
          ? (o = i >= 0 ? i : Math.max(i + a, o))
          : (a = i >= 0 ? Math.min(i + 1, a) : i + a + 1);
      else if (r && i && a) return (i = r(e, u)), e[i] === u ? i : -1;
      if (u !== u)
        return (i = t(l.call(e, o, a), m.isNaN)), i >= 0 ? i + o : -1;
      for (i = n > 0 ? o : a - 1; i >= 0 && a > i; i += n)
        if (e[i] === u) return i;
      return -1;
    };
  }
  function e(n, t) {
    var r = I.length,
      e = n.constructor,
      u = (m.isFunction(e) && e.prototype) || a,
      i = "constructor";
    for (m.has(n, i) && !m.contains(t, i) && t.push(i); r--; )
      (i = I[r]), i in n && n[i] !== u[i] && !m.contains(t, i) && t.push(i);
  }
  var u = this,
    i = u._,
    o = Array.prototype,
    a = Object.prototype,
    c = Function.prototype,
    f = o.push,
    l = o.slice,
    s = a.toString,
    p = a.hasOwnProperty,
    h = Array.isArray,
    v = Object.keys,
    g = c.bind,
    y = Object.create,
    d = function() {},
    m = function(n) {
      return n instanceof m
        ? n
        : this instanceof m
          ? void (this._wrapped = n)
          : new m(n);
    };
  "undefined" != typeof exports
    ? ("undefined" != typeof module &&
        module.exports &&
        (exports = module.exports = m),
      (exports._ = m))
    : (u._ = m),
    (m.VERSION = "1.8.3");
  var b = function(n, t, r) {
      if (t === void 0) return n;
      switch (null == r ? 3 : r) {
        case 1:
          return function(r) {
            return n.call(t, r);
          };
        case 2:
          return function(r, e) {
            return n.call(t, r, e);
          };
        case 3:
          return function(r, e, u) {
            return n.call(t, r, e, u);
          };
        case 4:
          return function(r, e, u, i) {
            return n.call(t, r, e, u, i);
          };
      }
      return function() {
        return n.apply(t, arguments);
      };
    },
    x = function(n, t, r) {
      return null == n
        ? m.identity
        : m.isFunction(n)
          ? b(n, t, r)
          : m.isObject(n)
            ? m.matcher(n)
            : m.property(n);
    };
  m.iteratee = function(n, t) {
    return x(n, t, 1 / 0);
  };
  var _ = function(n, t) {
      return function(r) {
        var e = arguments.length;
        if (2 > e || null == r) return r;
        for (var u = 1; e > u; u++)
          for (
            var i = arguments[u], o = n(i), a = o.length, c = 0;
            a > c;
            c++
          ) {
            var f = o[c];
            (t && r[f] !== void 0) || (r[f] = i[f]);
          }
        return r;
      };
    },
    j = function(n) {
      if (!m.isObject(n)) return {};
      if (y) return y(n);
      d.prototype = n;
      var t = new d();
      return (d.prototype = null), t;
    },
    w = function(n) {
      return function(t) {
        return null == t ? void 0 : t[n];
      };
    },
    A = Math.pow(2, 53) - 1,
    O = w("length"),
    k = function(n) {
      var t = O(n);
      return "number" == typeof t && t >= 0 && A >= t;
    };
  (m.each = m.forEach = function(n, t, r) {
    t = b(t, r);
    var e, u;
    if (k(n)) for (e = 0, u = n.length; u > e; e++) t(n[e], e, n);
    else {
      var i = m.keys(n);
      for (e = 0, u = i.length; u > e; e++) t(n[i[e]], i[e], n);
    }
    return n;
  }),
    (m.map = m.collect = function(n, t, r) {
      t = x(t, r);
      for (
        var e = !k(n) && m.keys(n), u = (e || n).length, i = Array(u), o = 0;
        u > o;
        o++
      ) {
        var a = e ? e[o] : o;
        i[o] = t(n[a], a, n);
      }
      return i;
    }),
    (m.reduce = m.foldl = m.inject = n(1)),
    (m.reduceRight = m.foldr = n(-1)),
    (m.find = m.detect = function(n, t, r) {
      var e;
      return (
        (e = k(n) ? m.findIndex(n, t, r) : m.findKey(n, t, r)),
        e !== void 0 && e !== -1 ? n[e] : void 0
      );
    }),
    (m.filter = m.select = function(n, t, r) {
      var e = [];
      return (
        (t = x(t, r)),
        m.each(n, function(n, r, u) {
          t(n, r, u) && e.push(n);
        }),
        e
      );
    }),
    (m.reject = function(n, t, r) {
      return m.filter(n, m.negate(x(t)), r);
    }),
    (m.every = m.all = function(n, t, r) {
      t = x(t, r);
      for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) {
        var o = e ? e[i] : i;
        if (!t(n[o], o, n)) return !1;
      }
      return !0;
    }),
    (m.some = m.any = function(n, t, r) {
      t = x(t, r);
      for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) {
        var o = e ? e[i] : i;
        if (t(n[o], o, n)) return !0;
      }
      return !1;
    }),
    (m.contains = m.includes = m.include = function(n, t, r, e) {
      return (
        k(n) || (n = m.values(n)),
        ("number" != typeof r || e) && (r = 0),
        m.indexOf(n, t, r) >= 0
      );
    }),
    (m.invoke = function(n, t) {
      var r = l.call(arguments, 2),
        e = m.isFunction(t);
      return m.map(n, function(n) {
        var u = e ? t : n[t];
        return null == u ? u : u.apply(n, r);
      });
    }),
    (m.pluck = function(n, t) {
      return m.map(n, m.property(t));
    }),
    (m.where = function(n, t) {
      return m.filter(n, m.matcher(t));
    }),
    (m.findWhere = function(n, t) {
      return m.find(n, m.matcher(t));
    }),
    (m.max = function(n, t, r) {
      var e,
        u,
        i = -1 / 0,
        o = -1 / 0;
      if (null == t && null != n) {
        n = k(n) ? n : m.values(n);
        for (var a = 0, c = n.length; c > a; a++) (e = n[a]), e > i && (i = e);
      } else
        (t = x(t, r)),
          m.each(n, function(n, r, e) {
            (u = t(n, r, e)),
              (u > o || (u === -1 / 0 && i === -1 / 0)) && ((i = n), (o = u));
          });
      return i;
    }),
    (m.min = function(n, t, r) {
      var e,
        u,
        i = 1 / 0,
        o = 1 / 0;
      if (null == t && null != n) {
        n = k(n) ? n : m.values(n);
        for (var a = 0, c = n.length; c > a; a++) (e = n[a]), i > e && (i = e);
      } else
        (t = x(t, r)),
          m.each(n, function(n, r, e) {
            (u = t(n, r, e)),
              (o > u || (1 / 0 === u && 1 / 0 === i)) && ((i = n), (o = u));
          });
      return i;
    }),
    (m.shuffle = function(n) {
      for (
        var t, r = k(n) ? n : m.values(n), e = r.length, u = Array(e), i = 0;
        e > i;
        i++
      )
        (t = m.random(0, i)), t !== i && (u[i] = u[t]), (u[t] = r[i]);
      return u;
    }),
    (m.sample = function(n, t, r) {
      return null == t || r
        ? (k(n) || (n = m.values(n)), n[m.random(n.length - 1)])
        : m.shuffle(n).slice(0, Math.max(0, t));
    }),
    (m.sortBy = function(n, t, r) {
      return (
        (t = x(t, r)),
        m.pluck(
          m
            .map(n, function(n, r, e) {
              return { value: n, index: r, criteria: t(n, r, e) };
            })
            .sort(function(n, t) {
              var r = n.criteria,
                e = t.criteria;
              if (r !== e) {
                if (r > e || r === void 0) return 1;
                if (e > r || e === void 0) return -1;
              }
              return n.index - t.index;
            }),
          "value"
        )
      );
    });
  var F = function(n) {
    return function(t, r, e) {
      var u = {};
      return (
        (r = x(r, e)),
        m.each(t, function(e, i) {
          var o = r(e, i, t);
          n(u, e, o);
        }),
        u
      );
    };
  };
  (m.groupBy = F(function(n, t, r) {
    m.has(n, r) ? n[r].push(t) : (n[r] = [t]);
  })),
    (m.indexBy = F(function(n, t, r) {
      n[r] = t;
    })),
    (m.countBy = F(function(n, t, r) {
      m.has(n, r) ? n[r]++ : (n[r] = 1);
    })),
    (m.toArray = function(n) {
      return n
        ? m.isArray(n)
          ? l.call(n)
          : k(n)
            ? m.map(n, m.identity)
            : m.values(n)
        : [];
    }),
    (m.size = function(n) {
      return null == n ? 0 : k(n) ? n.length : m.keys(n).length;
    }),
    (m.partition = function(n, t, r) {
      t = x(t, r);
      var e = [],
        u = [];
      return (
        m.each(n, function(n, r, i) {
          (t(n, r, i) ? e : u).push(n);
        }),
        [e, u]
      );
    }),
    (m.first = m.head = m.take = function(n, t, r) {
      return null == n
        ? void 0
        : null == t || r
          ? n[0]
          : m.initial(n, n.length - t);
    }),
    (m.initial = function(n, t, r) {
      return l.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t)));
    }),
    (m.last = function(n, t, r) {
      return null == n
        ? void 0
        : null == t || r
          ? n[n.length - 1]
          : m.rest(n, Math.max(0, n.length - t));
    }),
    (m.rest = m.tail = m.drop = function(n, t, r) {
      return l.call(n, null == t || r ? 1 : t);
    }),
    (m.compact = function(n) {
      return m.filter(n, m.identity);
    });
  var S = function(n, t, r, e) {
    for (var u = [], i = 0, o = e || 0, a = O(n); a > o; o++) {
      var c = n[o];
      if (k(c) && (m.isArray(c) || m.isArguments(c))) {
        t || (c = S(c, t, r));
        var f = 0,
          l = c.length;
        for (u.length += l; l > f; ) u[i++] = c[f++];
      } else r || (u[i++] = c);
    }
    return u;
  };
  (m.flatten = function(n, t) {
    return S(n, t, !1);
  }),
    (m.without = function(n) {
      return m.difference(n, l.call(arguments, 1));
    }),
    (m.uniq = m.unique = function(n, t, r, e) {
      m.isBoolean(t) || ((e = r), (r = t), (t = !1)),
        null != r && (r = x(r, e));
      for (var u = [], i = [], o = 0, a = O(n); a > o; o++) {
        var c = n[o],
          f = r ? r(c, o, n) : c;
        t
          ? ((o && i === f) || u.push(c), (i = f))
          : r
            ? m.contains(i, f) || (i.push(f), u.push(c))
            : m.contains(u, c) || u.push(c);
      }
      return u;
    }),
    (m.union = function() {
      return m.uniq(S(arguments, !0, !0));
    }),
    (m.intersection = function(n) {
      for (var t = [], r = arguments.length, e = 0, u = O(n); u > e; e++) {
        var i = n[e];
        if (!m.contains(t, i)) {
          for (var o = 1; r > o && m.contains(arguments[o], i); o++);
          o === r && t.push(i);
        }
      }
      return t;
    }),
    (m.difference = function(n) {
      var t = S(arguments, !0, !0, 1);
      return m.filter(n, function(n) {
        return !m.contains(t, n);
      });
    }),
    (m.zip = function() {
      return m.unzip(arguments);
    }),
    (m.unzip = function(n) {
      for (
        var t = (n && m.max(n, O).length) || 0, r = Array(t), e = 0;
        t > e;
        e++
      )
        r[e] = m.pluck(n, e);
      return r;
    }),
    (m.object = function(n, t) {
      for (var r = {}, e = 0, u = O(n); u > e; e++)
        t ? (r[n[e]] = t[e]) : (r[n[e][0]] = n[e][1]);
      return r;
    }),
    (m.findIndex = t(1)),
    (m.findLastIndex = t(-1)),
    (m.sortedIndex = function(n, t, r, e) {
      r = x(r, e, 1);
      for (var u = r(t), i = 0, o = O(n); o > i; ) {
        var a = Math.floor((i + o) / 2);
        r(n[a]) < u ? (i = a + 1) : (o = a);
      }
      return i;
    }),
    (m.indexOf = r(1, m.findIndex, m.sortedIndex)),
    (m.lastIndexOf = r(-1, m.findLastIndex)),
    (m.range = function(n, t, r) {
      null == t && ((t = n || 0), (n = 0)), (r = r || 1);
      for (
        var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0;
        e > i;
        i++, n += r
      )
        u[i] = n;
      return u;
    });
  var E = function(n, t, r, e, u) {
    if (!(e instanceof t)) return n.apply(r, u);
    var i = j(n.prototype),
      o = n.apply(i, u);
    return m.isObject(o) ? o : i;
  };
  (m.bind = function(n, t) {
    if (g && n.bind === g) return g.apply(n, l.call(arguments, 1));
    if (!m.isFunction(n))
      throw new TypeError("Bind must be called on a function");
    var r = l.call(arguments, 2),
      e = function() {
        return E(n, e, t, this, r.concat(l.call(arguments)));
      };
    return e;
  }),
    (m.partial = function(n) {
      var t = l.call(arguments, 1),
        r = function() {
          for (var e = 0, u = t.length, i = Array(u), o = 0; u > o; o++)
            i[o] = t[o] === m ? arguments[e++] : t[o];
          for (; e < arguments.length; ) i.push(arguments[e++]);
          return E(n, r, this, this, i);
        };
      return r;
    }),
    (m.bindAll = function(n) {
      var t,
        r,
        e = arguments.length;
      if (1 >= e) throw new Error("bindAll must be passed function names");
      for (t = 1; e > t; t++) (r = arguments[t]), (n[r] = m.bind(n[r], n));
      return n;
    }),
    (m.memoize = function(n, t) {
      var r = function(e) {
        var u = r.cache,
          i = "" + (t ? t.apply(this, arguments) : e);
        return m.has(u, i) || (u[i] = n.apply(this, arguments)), u[i];
      };
      return (r.cache = {}), r;
    }),
    (m.delay = function(n, t) {
      var r = l.call(arguments, 2);
      return setTimeout(function() {
        return n.apply(null, r);
      }, t);
    }),
    (m.defer = m.partial(m.delay, m, 1)),
    (m.throttle = function(n, t, r) {
      var e,
        u,
        i,
        o = null,
        a = 0;
      r || (r = {});
      var c = function() {
        (a = r.leading === !1 ? 0 : m.now()),
          (o = null),
          (i = n.apply(e, u)),
          o || (e = u = null);
      };
      return function() {
        var f = m.now();
        a || r.leading !== !1 || (a = f);
        var l = t - (f - a);
        return (
          (e = this),
          (u = arguments),
          0 >= l || l > t
            ? (o && (clearTimeout(o), (o = null)),
              (a = f),
              (i = n.apply(e, u)),
              o || (e = u = null))
            : o || r.trailing === !1 || (o = setTimeout(c, l)),
          i
        );
      };
    }),
    (m.debounce = function(n, t, r) {
      var e,
        u,
        i,
        o,
        a,
        c = function() {
          var f = m.now() - o;
          t > f && f >= 0
            ? (e = setTimeout(c, t - f))
            : ((e = null), r || ((a = n.apply(i, u)), e || (i = u = null)));
        };
      return function() {
        (i = this), (u = arguments), (o = m.now());
        var f = r && !e;
        return (
          e || (e = setTimeout(c, t)),
          f && ((a = n.apply(i, u)), (i = u = null)),
          a
        );
      };
    }),
    (m.wrap = function(n, t) {
      return m.partial(t, n);
    }),
    (m.negate = function(n) {
      return function() {
        return !n.apply(this, arguments);
      };
    }),
    (m.compose = function() {
      var n = arguments,
        t = n.length - 1;
      return function() {
        for (var r = t, e = n[t].apply(this, arguments); r--; )
          e = n[r].call(this, e);
        return e;
      };
    }),
    (m.after = function(n, t) {
      return function() {
        return --n < 1 ? t.apply(this, arguments) : void 0;
      };
    }),
    (m.before = function(n, t) {
      var r;
      return function() {
        return (
          --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = null), r
        );
      };
    }),
    (m.once = m.partial(m.before, 2));
  var M = !{ toString: null }.propertyIsEnumerable("toString"),
    I = [
      "valueOf",
      "isPrototypeOf",
      "toString",
      "propertyIsEnumerable",
      "hasOwnProperty",
      "toLocaleString"
    ];
  (m.keys = function(n) {
    if (!m.isObject(n)) return [];
    if (v) return v(n);
    var t = [];
    for (var r in n) m.has(n, r) && t.push(r);
    return M && e(n, t), t;
  }),
    (m.allKeys = function(n) {
      if (!m.isObject(n)) return [];
      var t = [];
      for (var r in n) t.push(r);
      return M && e(n, t), t;
    }),
    (m.values = function(n) {
      for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)
        e[u] = n[t[u]];
      return e;
    }),
    (m.mapObject = function(n, t, r) {
      t = x(t, r);
      for (var e, u = m.keys(n), i = u.length, o = {}, a = 0; i > a; a++)
        (e = u[a]), (o[e] = t(n[e], e, n));
      return o;
    }),
    (m.pairs = function(n) {
      for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)
        e[u] = [t[u], n[t[u]]];
      return e;
    }),
    (m.invert = function(n) {
      for (var t = {}, r = m.keys(n), e = 0, u = r.length; u > e; e++)
        t[n[r[e]]] = r[e];
      return t;
    }),
    (m.functions = m.methods = function(n) {
      var t = [];
      for (var r in n) m.isFunction(n[r]) && t.push(r);
      return t.sort();
    }),
    (m.extend = _(m.allKeys)),
    (m.extendOwn = m.assign = _(m.keys)),
    (m.findKey = function(n, t, r) {
      t = x(t, r);
      for (var e, u = m.keys(n), i = 0, o = u.length; o > i; i++)
        if (((e = u[i]), t(n[e], e, n))) return e;
    }),
    (m.pick = function(n, t, r) {
      var e,
        u,
        i = {},
        o = n;
      if (null == o) return i;
      m.isFunction(t)
        ? ((u = m.allKeys(o)), (e = b(t, r)))
        : ((u = S(arguments, !1, !1, 1)),
          (e = function(n, t, r) {
            return t in r;
          }),
          (o = Object(o)));
      for (var a = 0, c = u.length; c > a; a++) {
        var f = u[a],
          l = o[f];
        e(l, f, o) && (i[f] = l);
      }
      return i;
    }),
    (m.omit = function(n, t, r) {
      if (m.isFunction(t)) t = m.negate(t);
      else {
        var e = m.map(S(arguments, !1, !1, 1), String);
        t = function(n, t) {
          return !m.contains(e, t);
        };
      }
      return m.pick(n, t, r);
    }),
    (m.defaults = _(m.allKeys, !0)),
    (m.create = function(n, t) {
      var r = j(n);
      return t && m.extendOwn(r, t), r;
    }),
    (m.clone = function(n) {
      return m.isObject(n) ? (m.isArray(n) ? n.slice() : m.extend({}, n)) : n;
    }),
    (m.tap = function(n, t) {
      return t(n), n;
    }),
    (m.isMatch = function(n, t) {
      var r = m.keys(t),
        e = r.length;
      if (null == n) return !e;
      for (var u = Object(n), i = 0; e > i; i++) {
        var o = r[i];
        if (t[o] !== u[o] || !(o in u)) return !1;
      }
      return !0;
    });
  var N = function(n, t, r, e) {
    if (n === t) return 0 !== n || 1 / n === 1 / t;
    if (null == n || null == t) return n === t;
    n instanceof m && (n = n._wrapped), t instanceof m && (t = t._wrapped);
    var u = s.call(n);
    if (u !== s.call(t)) return !1;
    switch (u) {
      case "[object RegExp]":
      case "[object String]":
        return "" + n == "" + t;
      case "[object Number]":
        return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t;
      case "[object Date]":
      case "[object Boolean]":
        return +n === +t;
    }
    var i = "[object Array]" === u;
    if (!i) {
      if ("object" != typeof n || "object" != typeof t) return !1;
      var o = n.constructor,
        a = t.constructor;
      if (
        o !== a &&
        !(
          m.isFunction(o) &&
          o instanceof o &&
          m.isFunction(a) &&
          a instanceof a
        ) &&
        "constructor" in n &&
        "constructor" in t
      )
        return !1;
    }
    (r = r || []), (e = e || []);
    for (var c = r.length; c--; ) if (r[c] === n) return e[c] === t;
    if ((r.push(n), e.push(t), i)) {
      if (((c = n.length), c !== t.length)) return !1;
      for (; c--; ) if (!N(n[c], t[c], r, e)) return !1;
    } else {
      var f,
        l = m.keys(n);
      if (((c = l.length), m.keys(t).length !== c)) return !1;
      for (; c--; )
        if (((f = l[c]), !m.has(t, f) || !N(n[f], t[f], r, e))) return !1;
    }
    return r.pop(), e.pop(), !0;
  };
  (m.isEqual = function(n, t) {
    return N(n, t);
  }),
    (m.isEmpty = function(n) {
      return null == n
        ? !0
        : k(n) && (m.isArray(n) || m.isString(n) || m.isArguments(n))
          ? 0 === n.length
          : 0 === m.keys(n).length;
    }),
    (m.isElement = function(n) {
      return !(!n || 1 !== n.nodeType);
    }),
    (m.isArray =
      h ||
      function(n) {
        return "[object Array]" === s.call(n);
      }),
    (m.isObject = function(n) {
      var t = typeof n;
      return "function" === t || ("object" === t && !!n);
    }),
    m.each(
      ["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"],
      function(n) {
        m["is" + n] = function(t) {
          return s.call(t) === "[object " + n + "]";
        };
      }
    ),
    m.isArguments(arguments) ||
      (m.isArguments = function(n) {
        return m.has(n, "callee");
      }),
    "function" != typeof /./ &&
      "object" != typeof Int8Array &&
      (m.isFunction = function(n) {
        return "function" == typeof n || !1;
      }),
    (m.isFinite = function(n) {
      return isFinite(n) && !isNaN(parseFloat(n));
    }),
    (m.isNaN = function(n) {
      return m.isNumber(n) && n !== +n;
    }),
    (m.isBoolean = function(n) {
      return n === !0 || n === !1 || "[object Boolean]" === s.call(n);
    }),
    (m.isNull = function(n) {
      return null === n;
    }),
    (m.isUndefined = function(n) {
      return n === void 0;
    }),
    (m.has = function(n, t) {
      return null != n && p.call(n, t);
    }),
    (m.noConflict = function() {
      return (u._ = i), this;
    }),
    (m.identity = function(n) {
      return n;
    }),
    (m.constant = function(n) {
      return function() {
        return n;
      };
    }),
    (m.noop = function() {}),
    (m.property = w),
    (m.propertyOf = function(n) {
      return null == n
        ? function() {}
        : function(t) {
            return n[t];
          };
    }),
    (m.matcher = m.matches = function(n) {
      return (
        (n = m.extendOwn({}, n)),
        function(t) {
          return m.isMatch(t, n);
        }
      );
    }),
    (m.times = function(n, t, r) {
      var e = Array(Math.max(0, n));
      t = b(t, r, 1);
      for (var u = 0; n > u; u++) e[u] = t(u);
      return e;
    }),
    (m.random = function(n, t) {
      return (
        null == t && ((t = n), (n = 0)),
        n + Math.floor(Math.random() * (t - n + 1))
      );
    }),
    (m.now =
      Date.now ||
      function() {
        return new Date().getTime();
      });
  var B = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#x27;",
      "`": "&#x60;"
    },
    T = m.invert(B),
    R = function(n) {
      var t = function(t) {
          return n[t];
        },
        r = "(?:" + m.keys(n).join("|") + ")",
        e = RegExp(r),
        u = RegExp(r, "g");
      return function(n) {
        return (n = null == n ? "" : "" + n), e.test(n) ? n.replace(u, t) : n;
      };
    };
  (m.escape = R(B)),
    (m.unescape = R(T)),
    (m.result = function(n, t, r) {
      var e = null == n ? void 0 : n[t];
      return e === void 0 && (e = r), m.isFunction(e) ? e.call(n) : e;
    });
  var q = 0;
  (m.uniqueId = function(n) {
    var t = ++q + "";
    return n ? n + t : t;
  }),
    (m.templateSettings = {
      evaluate: /<%([\s\S]+?)%>/g,
      interpolate: /<%=([\s\S]+?)%>/g,
      escape: /<%-([\s\S]+?)%>/g
    });
  var K = /(.)^/,
    z = {
      "'": "'",
      "\\": "\\",
      "\r": "r",
      "\n": "n",
      "\u2028": "u2028",
      "\u2029": "u2029"
    },
    D = /\\|'|\r|\n|\u2028|\u2029/g,
    L = function(n) {
      return "\\" + z[n];
    };
  (m.template = function(n, t, r) {
    !t && r && (t = r), (t = m.defaults({}, t, m.templateSettings));
    var e = RegExp(
        [
          (t.escape || K).source,
          (t.interpolate || K).source,
          (t.evaluate || K).source
        ].join("|") + "|$",
        "g"
      ),
      u = 0,
      i = "__p+='";
    n.replace(e, function(t, r, e, o, a) {
      return (
        (i += n.slice(u, a).replace(D, L)),
        (u = a + t.length),
        r
          ? (i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'")
          : e
            ? (i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'")
            : o && (i += "';\n" + o + "\n__p+='"),
        t
      );
    }),
      (i += "';\n"),
      t.variable || (i = "with(obj||{}){\n" + i + "}\n"),
      (i =
        "var __t,__p='',__j=Array.prototype.join," +
        "print=function(){__p+=__j.call(arguments,'');};\n" +
        i +
        "return __p;\n");
    try {
      var o = new Function(t.variable || "obj", "_", i);
    } catch (a) {
      throw ((a.source = i), a);
    }
    var c = function(n) {
        return o.call(this, n, m);
      },
      f = t.variable || "obj";
    return (c.source = "function(" + f + "){\n" + i + "}"), c;
  }),
    (m.chain = function(n) {
      var t = m(n);
      return (t._chain = !0), t;
    });
  var P = function(n, t) {
    return n._chain ? m(t).chain() : t;
  };
  (m.mixin = function(n) {
    m.each(m.functions(n), function(t) {
      var r = (m[t] = n[t]);
      m.prototype[t] = function() {
        var n = [this._wrapped];
        return f.apply(n, arguments), P(this, r.apply(m, n));
      };
    });
  }),
    m.mixin(m),
    m.each(
      ["pop", "push", "reverse", "shift", "sort", "splice", "unshift"],
      function(n) {
        var t = o[n];
        m.prototype[n] = function() {
          var r = this._wrapped;
          return (
            t.apply(r, arguments),
            ("shift" !== n && "splice" !== n) || 0 !== r.length || delete r[0],
            P(this, r)
          );
        };
      }
    ),
    m.each(["concat", "join", "slice"], function(n) {
      var t = o[n];
      m.prototype[n] = function() {
        return P(this, t.apply(this._wrapped, arguments));
      };
    }),
    (m.prototype.value = function() {
      return this._wrapped;
    }),
    (m.prototype.valueOf = m.prototype.toJSON = m.prototype.value),
    (m.prototype.toString = function() {
      return "" + this._wrapped;
    }),
    "function" == typeof define &&
      define.amd &&
      define("underscore", [], function() {
        return m;
      });
}.call(this));
(window.wp = window.wp || {}),
  (function(a) {
    var b = "undefined" == typeof _wpUtilSettings ? {} : _wpUtilSettings;
    (wp.template = _.memoize(function(b) {
      var c,
        d = {
          evaluate: /<#([\s\S]+?)#>/g,
          interpolate: /\{\{\{([\s\S]+?)\}\}\}/g,
          escape: /\{\{([^\}]+?)\}\}(?!\})/g,
          variable: "data"
        };
      return function(e) {
        return (c = c || _.template(a("#tmpl-" + b).html(), d))(e);
      };
    })),
      (wp.ajax = {
        settings: b.ajax || {},
        post: function(a, b) {
          return wp.ajax.send({
            data: _.isObject(a) ? a : _.extend(b || {}, { action: a })
          });
        },
        send: function(b, c) {
          var d, e;
          return (
            _.isObject(b)
              ? (c = b)
              : ((c = c || {}),
                (c.data = _.extend(c.data || {}, { action: b }))),
            (c = _.defaults(c || {}, {
              type: "POST",
              url: wp.ajax.settings.url,
              context: this
            })),
            (e = a.Deferred(function(b) {
              c.success && b.done(c.success),
                c.error && b.fail(c.error),
                delete c.success,
                delete c.error,
                (b.jqXHR = a
                  .ajax(c)
                  .done(function(a) {
                    ("1" !== a && 1 !== a) || (a = { success: !0 }),
                      _.isObject(a) && !_.isUndefined(a.success)
                        ? b[a.success ? "resolveWith" : "rejectWith"](this, [
                            a.data
                          ])
                        : b.rejectWith(this, [a]);
                  })
                  .fail(function() {
                    b.rejectWith(this, arguments);
                  }));
            })),
            (d = e.promise()),
            (d.abort = function() {
              return e.jqXHR.abort(), this;
            }),
            d
          );
        }
      });
  })(jQuery);
!(function(b, d, r, n) {
  var t = function(t) {
    var a = this;
    (a.$form = t),
      (a.$attributeFields = t.find(".variations select")),
      (a.$singleVariation = t.find(".single_variation")),
      (a.$singleVariationWrap = t.find(".single_variation_wrap")),
      (a.$resetVariations = t.find(".reset_variations")),
      (a.$product = t.closest(".product")),
      (a.variationData = t.data("product_variations")),
      (a.useAjax = !1 === a.variationData),
      (a.xhr = !1),
      (a.loading = !0),
      a.$singleVariationWrap.show(),
      a.$form.off(".wc-variation-form"),
      (a.getChosenAttributes = a.getChosenAttributes.bind(a)),
      (a.findMatchingVariations = a.findMatchingVariations.bind(a)),
      (a.isMatch = a.isMatch.bind(a)),
      (a.toggleResetLink = a.toggleResetLink.bind(a)),
      t.on(
        "click.wc-variation-form",
        ".reset_variations",
        { variationForm: a },
        a.onReset
      ),
      t.on("reload_product_variations", { variationForm: a }, a.onReload),
      t.on("hide_variation", { variationForm: a }, a.onHide),
      t.on("show_variation", { variationForm: a }, a.onShow),
      t.on(
        "click",
        ".single_add_to_cart_button",
        { variationForm: a },
        a.onAddToCart
      ),
      t.on("reset_data", { variationForm: a }, a.onResetDisplayedVariation),
      t.on("reset_image", { variationForm: a }, a.onResetImage),
      t.on(
        "change.wc-variation-form",
        ".variations select",
        { variationForm: a },
        a.onChange
      ),
      t.on(
        "found_variation.wc-variation-form",
        { variationForm: a },
        a.onFoundVariation
      ),
      t.on(
        "check_variations.wc-variation-form",
        { variationForm: a },
        a.onFindVariation
      ),
      t.on(
        "update_variation_values.wc-variation-form",
        { variationForm: a },
        a.onUpdateAttributes
      ),
      setTimeout(function() {
        t.trigger("check_variations"),
          t.trigger("wc_variation_form"),
          (a.loading = !1);
      }, 100);
  };
  (t.prototype.onReset = function(t) {
    t.preventDefault(),
      t.data.variationForm.$attributeFields.val("").change(),
      t.data.variationForm.$form.trigger("reset_data");
  }),
    (t.prototype.onReload = function(t) {
      var a = t.data.variationForm;
      (a.variationData = a.$form.data("product_variations")),
        (a.useAjax = !1 === a.variationData),
        a.$form.trigger("check_variations");
    }),
    (t.prototype.onHide = function(t) {
      t.preventDefault(),
        t.data.variationForm.$form
          .find(".single_add_to_cart_button")
          .removeClass("wc-variation-is-unavailable")
          .addClass("disabled wc-variation-selection-needed"),
        t.data.variationForm.$form
          .find(".woocommerce-variation-add-to-cart")
          .removeClass("woocommerce-variation-add-to-cart-enabled")
          .addClass("woocommerce-variation-add-to-cart-disabled");
    }),
    (t.prototype.onShow = function(t, a, i) {
      t.preventDefault(),
        i
          ? (t.data.variationForm.$form
              .find(".single_add_to_cart_button")
              .removeClass(
                "disabled wc-variation-selection-needed wc-variation-is-unavailable"
              ),
            t.data.variationForm.$form
              .find(".woocommerce-variation-add-to-cart")
              .removeClass("woocommerce-variation-add-to-cart-disabled")
              .addClass("woocommerce-variation-add-to-cart-enabled"))
          : (t.data.variationForm.$form
              .find(".single_add_to_cart_button")
              .removeClass("wc-variation-selection-needed")
              .addClass("disabled wc-variation-is-unavailable"),
            t.data.variationForm.$form
              .find(".woocommerce-variation-add-to-cart")
              .removeClass("woocommerce-variation-add-to-cart-enabled")
              .addClass("woocommerce-variation-add-to-cart-disabled"));
    }),
    (t.prototype.onAddToCart = function(t) {
      b(this).is(".disabled") &&
        (t.preventDefault(),
        b(this).is(".wc-variation-is-unavailable")
          ? d.alert(wc_add_to_cart_variation_params.i18n_unavailable_text)
          : b(this).is(".wc-variation-selection-needed") &&
            d.alert(
              wc_add_to_cart_variation_params.i18n_make_a_selection_text
            ));
    }),
    (t.prototype.onResetDisplayedVariation = function(t) {
      var a = t.data.variationForm;
      a.$product
        .find(".product_meta")
        .find(".sku")
        .wc_reset_content(),
        a.$product.find(".product_weight").wc_reset_content(),
        a.$product.find(".product_dimensions").wc_reset_content(),
        a.$form.trigger("reset_image"),
        a.$singleVariation.slideUp(200).trigger("hide_variation");
    }),
    (t.prototype.onResetImage = function(t) {
      t.data.variationForm.$form.wc_variations_image_update(!1);
    }),
    (t.prototype.onFindVariation = function(t) {
      var a = t.data.variationForm,
        i = a.getChosenAttributes(),
        r = i.data;
      if (i.count === i.chosenCount)
        if (a.useAjax)
          a.xhr && a.xhr.abort(),
            a.$form.block({
              message: null,
              overlayCSS: { background: "#fff", opacity: 0.6 }
            }),
            (r.product_id = parseInt(a.$form.data("product_id"), 10)),
            (r.custom_data = a.$form.data("custom_data")),
            (a.xhr = b.ajax({
              url: wc_add_to_cart_variation_params.wc_ajax_url
                .toString()
                .replace("%%endpoint%%", "get_variation"),
              type: "POST",
              data: r,
              success: function(t) {
                t
                  ? a.$form.trigger("found_variation", [t])
                  : (a.$form.trigger("reset_data"),
                    (i.chosenCount = 0),
                    a.loading ||
                      (a.$form
                        .find(".single_variation")
                        .after(
                          '<p class="wc-no-matching-variations woocommerce-info">' +
                            wc_add_to_cart_variation_params.i18n_no_matching_variations_text +
                            "</p>"
                        ),
                      a.$form
                        .find(".wc-no-matching-variations")
                        .slideDown(200)));
              },
              complete: function() {
                a.$form.unblock();
              }
            }));
        else {
          a.$form.trigger("update_variation_values");
          var e = a.findMatchingVariations(a.variationData, r).shift();
          e
            ? a.$form.trigger("found_variation", [e])
            : (a.$form.trigger("reset_data"),
              (i.chosenCount = 0),
              a.loading ||
                (a.$form
                  .find(".single_variation")
                  .after(
                    '<p class="wc-no-matching-variations woocommerce-info">' +
                      wc_add_to_cart_variation_params.i18n_no_matching_variations_text +
                      "</p>"
                  ),
                a.$form.find(".wc-no-matching-variations").slideDown(200)));
        }
      else
        a.$form.trigger("update_variation_values"),
          a.$form.trigger("reset_data");
      a.toggleResetLink(0 < i.chosenCount);
    }),
    (t.prototype.onFoundVariation = function(t, a) {
      var i = t.data.variationForm,
        r = i.$product.find(".product_meta").find(".sku"),
        e = i.$product.find(".product_weight"),
        o = i.$product.find(".product_dimensions"),
        n = i.$singleVariationWrap.find(".quantity"),
        s = !0,
        _ = !1,
        c = "";
      a.sku ? r.wc_set_content(a.sku) : r.wc_reset_content(),
        a.weight ? e.wc_set_content(a.weight_html) : e.wc_reset_content(),
        a.dimensions
          ? o.wc_set_content(a.dimensions_html)
          : o.wc_reset_content(),
        i.$form.wc_variations_image_update(a),
        a.variation_is_visible
          ? ((_ = m("variation-template")), a.variation_id)
          : (_ = m("unavailable-variation-template")),
        (c = (c = (c = _({ variation: a })).replace(
          "/*<![CDATA[*/",
          ""
        )).replace("/*]]>*/", "")),
        i.$singleVariation.html(c),
        i.$form
          .find('input[name="variation_id"], input.variation_id')
          .val(a.variation_id)
          .change(),
        "yes" === a.is_sold_individually
          ? (n
              .find("input.qty")
              .val("1")
              .attr("min", "1")
              .attr("max", ""),
            n.hide())
          : (n
              .find("input.qty")
              .attr("min", a.min_qty)
              .attr("max", a.max_qty),
            n.show()),
        (a.is_purchasable && a.is_in_stock && a.variation_is_visible) ||
          (s = !1),
        b.trim(i.$singleVariation.text())
          ? i.$singleVariation.slideDown(200).trigger("show_variation", [a, s])
          : i.$singleVariation.show().trigger("show_variation", [a, s]);
    }),
    (t.prototype.onChange = function(t) {
      var a = t.data.variationForm;
      a.$form
        .find('input[name="variation_id"], input.variation_id')
        .val("")
        .change(),
        a.$form.find(".wc-no-matching-variations").remove(),
        a.useAjax
          ? a.$form.trigger("check_variations")
          : (a.$form.trigger("woocommerce_variation_select_change"),
            a.$form.trigger("check_variations"),
            b(this).blur()),
        a.$form.trigger("woocommerce_variation_has_changed");
    }),
    (t.prototype.addSlashes = function(t) {
      return (t = (t = t.replace(/'/g, "\\'")).replace(/"/g, '\\"'));
    }),
    (t.prototype.onUpdateAttributes = function(t) {
      var p = t.data.variationForm,
        w = p.getChosenAttributes().data;
      p.useAjax ||
        (p.$attributeFields.each(function(t, a) {
          var i,
            r = b(a),
            e = r.data("attribute_name") || r.attr("name"),
            o = b(a).data("show_option_none"),
            n = ":gt(0)",
            s = b("<select/>"),
            _ = r.val() || "",
            c = !0;
          if (!r.data("attribute_html")) {
            var d = r.clone();
            d
              .find("option")
              .removeAttr("disabled attached")
              .removeAttr("selected"),
              r.data("attribute_options", d.find("option" + n).get()),
              r.data("attribute_html", d.html());
          }
          s.html(r.data("attribute_html"));
          var m = b.extend(!0, {}, w);
          m[e] = "";
          var v = p.findMatchingVariations(p.variationData, m);
          for (var l in v)
            if ("undefined" != typeof v[l]) {
              var g = v[l].attributes;
              for (var f in g)
                if (g.hasOwnProperty(f)) {
                  var u = g[f],
                    h = "";
                  f === e &&
                    (v[l].variation_is_active && (h = "enabled"),
                    u
                      ? ((u = b("<div/>")
                          .html(u)
                          .text()),
                        s
                          .find('option[value="' + p.addSlashes(u) + '"]')
                          .addClass("attached " + h))
                      : s.find("option:gt(0)").addClass("attached " + h));
                }
            }
          (i = s.find("option.attached").length),
            !_ ||
              (0 !== i &&
                0 !==
                  s.find(
                    'option.attached.enabled[value="' + p.addSlashes(_) + '"]'
                  ).length) ||
              (c = !1),
            0 < i &&
              _ &&
              c &&
              "no" === o &&
              (s.find("option:first").remove(), (n = "")),
            s.find("option" + n + ":not(.attached)").remove(),
            r.html(s.html()),
            r.find("option" + n + ":not(.enabled)").prop("disabled", !0),
            _ ? (c ? r.val(_) : r.val("").change()) : r.val("");
        }),
        p.$form.trigger("woocommerce_update_variation_values"));
    }),
    (t.prototype.getChosenAttributes = function() {
      var i = {},
        r = 0,
        e = 0;
      return (
        this.$attributeFields.each(function() {
          var t = b(this).data("attribute_name") || b(this).attr("name"),
            a = b(this).val() || "";
          0 < a.length && e++, r++, (i[t] = a);
        }),
        { count: r, chosenCount: e, data: i }
      );
    }),
    (t.prototype.findMatchingVariations = function(t, a) {
      for (var i = [], r = 0; r < t.length; r++) {
        var e = t[r];
        this.isMatch(e.attributes, a) && i.push(e);
      }
      return i;
    }),
    (t.prototype.isMatch = function(t, a) {
      var i = !0;
      for (var r in t)
        if (t.hasOwnProperty(r)) {
          var e = t[r],
            o = a[r];
          e !== n &&
            o !== n &&
            0 !== e.length &&
            0 !== o.length &&
            e !== o &&
            (i = !1);
        }
      return i;
    }),
    (t.prototype.toggleResetLink = function(t) {
      t
        ? "hidden" === this.$resetVariations.css("visibility") &&
          this.$resetVariations
            .css("visibility", "visible")
            .hide()
            .fadeIn()
        : this.$resetVariations.css("visibility", "hidden");
    }),
    (b.fn.wc_variation_form = function() {
      return new t(this), this;
    }),
    (b.fn.wc_set_content = function(t) {
      n === this.attr("data-o_content") &&
        this.attr("data-o_content", this.text()),
        this.text(t);
    }),
    (b.fn.wc_reset_content = function() {
      n !== this.attr("data-o_content") &&
        this.text(this.attr("data-o_content"));
    }),
    (b.fn.wc_set_variation_attr = function(t, a) {
      n === this.attr("data-o_" + t) &&
        this.attr("data-o_" + t, this.attr(t) ? this.attr(t) : ""),
        !1 === a ? this.removeAttr(t) : this.attr(t, a);
    }),
    (b.fn.wc_reset_variation_attr = function(t) {
      n !== this.attr("data-o_" + t) && this.attr(t, this.attr("data-o_" + t));
    }),
    (b.fn.wc_maybe_trigger_slide_position_reset = function(t) {
      var a = b(this),
        i = a.closest(".product").find(".images"),
        r = !1,
        e = t && t.image_id ? t.image_id : "";
      a.attr("current-image") !== e && (r = !0),
        a.attr("current-image", e),
        r && i.trigger("woocommerce_gallery_reset_slide_position");
    }),
    (b.fn.wc_variations_image_update = function(t) {
      var a = this,
        i = a.closest(".product"),
        r = i.find(".images"),
        e = i.find(".flex-control-nav"),
        o = e.find("li:eq(0) img"),
        n = r
          .find(
            ".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder"
          )
          .eq(0),
        s = n.find(".wp-post-image"),
        _ = n.find("a").eq(0);
      if (t && t.image && t.image.src && 1 < t.image.src.length) {
        0 <
          e.find('li img[data-o_src="' + t.image.gallery_thumbnail_src + '"]')
            .length && a.wc_variations_image_reset();
        var c = e.find('li img[src="' + t.image.gallery_thumbnail_src + '"]');
        if (0 < c.length)
          return (
            c.trigger("click"),
            a.attr("current-image", t.image_id),
            void d.setTimeout(function() {
              b(d).trigger("resize"),
                r.trigger("woocommerce_gallery_init_zoom");
            }, 20)
          );
        s.wc_set_variation_attr("src", t.image.src),
          s.wc_set_variation_attr("height", t.image.src_h),
          s.wc_set_variation_attr("width", t.image.src_w),
          s.wc_set_variation_attr("srcset", t.image.srcset),
          s.wc_set_variation_attr("sizes", t.image.sizes),
          s.wc_set_variation_attr("title", t.image.title),
          s.wc_set_variation_attr("data-caption", t.image.caption),
          s.wc_set_variation_attr("alt", t.image.alt),
          s.wc_set_variation_attr("data-src", t.image.full_src),
          s.wc_set_variation_attr("data-large_image", t.image.full_src),
          s.wc_set_variation_attr("data-large_image_width", t.image.full_src_w),
          s.wc_set_variation_attr(
            "data-large_image_height",
            t.image.full_src_h
          ),
          n.wc_set_variation_attr("data-thumb", t.image.src),
          o.wc_set_variation_attr("src", t.image.gallery_thumbnail_src),
          _.wc_set_variation_attr("href", t.image.full_src);
      } else a.wc_variations_image_reset();
      d.setTimeout(function() {
        b(d).trigger("resize"),
          a.wc_maybe_trigger_slide_position_reset(t),
          r.trigger("woocommerce_gallery_init_zoom");
      }, 20);
    }),
    (b.fn.wc_variations_image_reset = function() {
      var t = this.closest(".product"),
        a = t.find(".images"),
        i = t.find(".flex-control-nav").find("li:eq(0) img"),
        r = a
          .find(
            ".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder"
          )
          .eq(0),
        e = r.find(".wp-post-image"),
        o = r.find("a").eq(0);
      e.wc_reset_variation_attr("src"),
        e.wc_reset_variation_attr("width"),
        e.wc_reset_variation_attr("height"),
        e.wc_reset_variation_attr("srcset"),
        e.wc_reset_variation_attr("sizes"),
        e.wc_reset_variation_attr("title"),
        e.wc_reset_variation_attr("data-caption"),
        e.wc_reset_variation_attr("alt"),
        e.wc_reset_variation_attr("data-src"),
        e.wc_reset_variation_attr("data-large_image"),
        e.wc_reset_variation_attr("data-large_image_width"),
        e.wc_reset_variation_attr("data-large_image_height"),
        r.wc_reset_variation_attr("data-thumb"),
        i.wc_reset_variation_attr("src"),
        o.wc_reset_variation_attr("href");
    }),
    b(function() {
      "undefined" != typeof wc_add_to_cart_variation_params &&
        b(".variations_form").each(function() {
          b(this).wc_variation_form();
        });
    });
  var m = function(t) {
    var a = r.getElementById("tmpl-" + t).textContent,
      i = !1;
    return (i =
      (i =
        (i = i || /<#\s?data\./.test(a)) ||
        /{{{?\s?data\.(?!variation\.).+}}}?/.test(a)) ||
      /{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(a))
      ? wp.template(t)
      : function(t) {
          var o = t.variation || {};
          return a.replace(
            /({{{?)\s?data\.variation\.([\w-]*)\s?(}}}?)/g,
            function(t, a, i, r) {
              if (a.length !== r.length) return "";
              var e = o[i] || "";
              return 2 === a.length ? d.escape(e) : e;
            }
          );
        };
  };
})(jQuery, window, document);
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
!(function(a) {
  "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery);
})(function(a) {
  function b(b, d) {
    var e,
      f,
      g,
      h = b.nodeName.toLowerCase();
    return "area" === h
      ? ((e = b.parentNode),
        (f = e.name),
        !(!b.href || !f || "map" !== e.nodeName.toLowerCase()) &&
          ((g = a("img[usemap='#" + f + "']")[0]), !!g && c(g)))
      : (/^(input|select|textarea|button|object)$/.test(h)
          ? !b.disabled
          : "a" === h
            ? b.href || d
            : d) && c(b);
  }
  function c(b) {
    return (
      a.expr.filters.visible(b) &&
      !a(b)
        .parents()
        .addBack()
        .filter(function() {
          return "hidden" === a.css(this, "visibility");
        }).length
    );
  }
  (a.ui = a.ui || {}),
    a.extend(a.ui, {
      version: "1.11.4",
      keyCode: {
        BACKSPACE: 8,
        COMMA: 188,
        DELETE: 46,
        DOWN: 40,
        END: 35,
        ENTER: 13,
        ESCAPE: 27,
        HOME: 36,
        LEFT: 37,
        PAGE_DOWN: 34,
        PAGE_UP: 33,
        PERIOD: 190,
        RIGHT: 39,
        SPACE: 32,
        TAB: 9,
        UP: 38
      }
    }),
    a.fn.extend({
      scrollParent: function(b) {
        var c = this.css("position"),
          d = "absolute" === c,
          e = b ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
          f = this.parents()
            .filter(function() {
              var b = a(this);
              return (
                (!d || "static" !== b.css("position")) &&
                e.test(
                  b.css("overflow") + b.css("overflow-y") + b.css("overflow-x")
                )
              );
            })
            .eq(0);
        return "fixed" !== c && f.length
          ? f
          : a(this[0].ownerDocument || document);
      },
      uniqueId: (function() {
        var a = 0;
        return function() {
          return this.each(function() {
            this.id || (this.id = "ui-id-" + ++a);
          });
        };
      })(),
      removeUniqueId: function() {
        return this.each(function() {
          /^ui-id-\d+$/.test(this.id) && a(this).removeAttr("id");
        });
      }
    }),
    a.extend(a.expr[":"], {
      data: a.expr.createPseudo
        ? a.expr.createPseudo(function(b) {
            return function(c) {
              return !!a.data(c, b);
            };
          })
        : function(b, c, d) {
            return !!a.data(b, d[3]);
          },
      focusable: function(c) {
        return b(c, !isNaN(a.attr(c, "tabindex")));
      },
      tabbable: function(c) {
        var d = a.attr(c, "tabindex"),
          e = isNaN(d);
        return (e || d >= 0) && b(c, !e);
      }
    }),
    a("<a>").outerWidth(1).jquery ||
      a.each(["Width", "Height"], function(b, c) {
        function d(b, c, d, f) {
          return (
            a.each(e, function() {
              (c -= parseFloat(a.css(b, "padding" + this)) || 0),
                d &&
                  (c -= parseFloat(a.css(b, "border" + this + "Width")) || 0),
                f && (c -= parseFloat(a.css(b, "margin" + this)) || 0);
            }),
            c
          );
        }
        var e = "Width" === c ? ["Left", "Right"] : ["Top", "Bottom"],
          f = c.toLowerCase(),
          g = {
            innerWidth: a.fn.innerWidth,
            innerHeight: a.fn.innerHeight,
            outerWidth: a.fn.outerWidth,
            outerHeight: a.fn.outerHeight
          };
        (a.fn["inner" + c] = function(b) {
          return void 0 === b
            ? g["inner" + c].call(this)
            : this.each(function() {
                a(this).css(f, d(this, b) + "px");
              });
        }),
          (a.fn["outer" + c] = function(b, e) {
            return "number" != typeof b
              ? g["outer" + c].call(this, b)
              : this.each(function() {
                  a(this).css(f, d(this, b, !0, e) + "px");
                });
          });
      }),
    a.fn.addBack ||
      (a.fn.addBack = function(a) {
        return this.add(
          null == a ? this.prevObject : this.prevObject.filter(a)
        );
      }),
    a("<a>")
      .data("a-b", "a")
      .removeData("a-b")
      .data("a-b") &&
      (a.fn.removeData = (function(b) {
        return function(c) {
          return arguments.length ? b.call(this, a.camelCase(c)) : b.call(this);
        };
      })(a.fn.removeData)),
    (a.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())),
    a.fn.extend({
      focus: (function(b) {
        return function(c, d) {
          return "number" == typeof c
            ? this.each(function() {
                var b = this;
                setTimeout(function() {
                  a(b).focus(), d && d.call(b);
                }, c);
              })
            : b.apply(this, arguments);
        };
      })(a.fn.focus),
      disableSelection: (function() {
        var a =
          "onselectstart" in document.createElement("div")
            ? "selectstart"
            : "mousedown";
        return function() {
          return this.bind(a + ".ui-disableSelection", function(a) {
            a.preventDefault();
          });
        };
      })(),
      enableSelection: function() {
        return this.unbind(".ui-disableSelection");
      },
      zIndex: function(b) {
        if (void 0 !== b) return this.css("zIndex", b);
        if (this.length)
          for (var c, d, e = a(this[0]); e.length && e[0] !== document; ) {
            if (
              ((c = e.css("position")),
              ("absolute" === c || "relative" === c || "fixed" === c) &&
                ((d = parseInt(e.css("zIndex"), 10)), !isNaN(d) && 0 !== d))
            )
              return d;
            e = e.parent();
          }
        return 0;
      }
    }),
    (a.ui.plugin = {
      add: function(b, c, d) {
        var e,
          f = a.ui[b].prototype;
        for (e in d)
          (f.plugins[e] = f.plugins[e] || []), f.plugins[e].push([c, d[e]]);
      },
      call: function(a, b, c, d) {
        var e,
          f = a.plugins[b];
        if (
          f &&
          (d ||
            (a.element[0].parentNode &&
              11 !== a.element[0].parentNode.nodeType))
        )
          for (e = 0; e < f.length; e++)
            a.options[f[e][0]] && f[e][1].apply(a.element, c);
      }
    });
});
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
!(function(a) {
  "function" == typeof define && define.amd ? define(["jquery"], a) : a(jQuery);
})(function(a) {
  var b = 0,
    c = Array.prototype.slice;
  return (
    (a.cleanData = (function(b) {
      return function(c) {
        var d, e, f;
        for (f = 0; null != (e = c[f]); f++)
          try {
            (d = a._data(e, "events")),
              d && d.remove && a(e).triggerHandler("remove");
          } catch (g) {}
        b(c);
      };
    })(a.cleanData)),
    (a.widget = function(b, c, d) {
      var e,
        f,
        g,
        h,
        i = {},
        j = b.split(".")[0];
      return (
        (b = b.split(".")[1]),
        (e = j + "-" + b),
        d || ((d = c), (c = a.Widget)),
        (a.expr[":"][e.toLowerCase()] = function(b) {
          return !!a.data(b, e);
        }),
        (a[j] = a[j] || {}),
        (f = a[j][b]),
        (g = a[j][b] = function(a, b) {
          return this._createWidget
            ? void (arguments.length && this._createWidget(a, b))
            : new g(a, b);
        }),
        a.extend(g, f, {
          version: d.version,
          _proto: a.extend({}, d),
          _childConstructors: []
        }),
        (h = new c()),
        (h.options = a.widget.extend({}, h.options)),
        a.each(d, function(b, d) {
          return a.isFunction(d)
            ? void (i[b] = (function() {
                var a = function() {
                    return c.prototype[b].apply(this, arguments);
                  },
                  e = function(a) {
                    return c.prototype[b].apply(this, a);
                  };
                return function() {
                  var b,
                    c = this._super,
                    f = this._superApply;
                  return (
                    (this._super = a),
                    (this._superApply = e),
                    (b = d.apply(this, arguments)),
                    (this._super = c),
                    (this._superApply = f),
                    b
                  );
                };
              })())
            : void (i[b] = d);
        }),
        (g.prototype = a.widget.extend(
          h,
          { widgetEventPrefix: f ? h.widgetEventPrefix || b : b },
          i,
          { constructor: g, namespace: j, widgetName: b, widgetFullName: e }
        )),
        f
          ? (a.each(f._childConstructors, function(b, c) {
              var d = c.prototype;
              a.widget(d.namespace + "." + d.widgetName, g, c._proto);
            }),
            delete f._childConstructors)
          : c._childConstructors.push(g),
        a.widget.bridge(b, g),
        g
      );
    }),
    (a.widget.extend = function(b) {
      for (var d, e, f = c.call(arguments, 1), g = 0, h = f.length; g < h; g++)
        for (d in f[g])
          (e = f[g][d]),
            f[g].hasOwnProperty(d) &&
              void 0 !== e &&
              (a.isPlainObject(e)
                ? (b[d] = a.isPlainObject(b[d])
                    ? a.widget.extend({}, b[d], e)
                    : a.widget.extend({}, e))
                : (b[d] = e));
      return b;
    }),
    (a.widget.bridge = function(b, d) {
      var e = d.prototype.widgetFullName || b;
      a.fn[b] = function(f) {
        var g = "string" == typeof f,
          h = c.call(arguments, 1),
          i = this;
        return (
          g
            ? this.each(function() {
                var c,
                  d = a.data(this, e);
                return "instance" === f
                  ? ((i = d), !1)
                  : d
                    ? a.isFunction(d[f]) && "_" !== f.charAt(0)
                      ? ((c = d[f].apply(d, h)),
                        c !== d && void 0 !== c
                          ? ((i = c && c.jquery ? i.pushStack(c.get()) : c), !1)
                          : void 0)
                      : a.error(
                          "no such method '" +
                            f +
                            "' for " +
                            b +
                            " widget instance"
                        )
                    : a.error(
                        "cannot call methods on " +
                          b +
                          " prior to initialization; attempted to call method '" +
                          f +
                          "'"
                      );
              })
            : (h.length && (f = a.widget.extend.apply(null, [f].concat(h))),
              this.each(function() {
                var b = a.data(this, e);
                b
                  ? (b.option(f || {}), b._init && b._init())
                  : a.data(this, e, new d(f, this));
              })),
          i
        );
      };
    }),
    (a.Widget = function() {}),
    (a.Widget._childConstructors = []),
    (a.Widget.prototype = {
      widgetName: "widget",
      widgetEventPrefix: "",
      defaultElement: "<div>",
      options: { disabled: !1, create: null },
      _createWidget: function(c, d) {
        (d = a(d || this.defaultElement || this)[0]),
          (this.element = a(d)),
          (this.uuid = b++),
          (this.eventNamespace = "." + this.widgetName + this.uuid),
          (this.bindings = a()),
          (this.hoverable = a()),
          (this.focusable = a()),
          d !== this &&
            (a.data(d, this.widgetFullName, this),
            this._on(!0, this.element, {
              remove: function(a) {
                a.target === d && this.destroy();
              }
            }),
            (this.document = a(d.style ? d.ownerDocument : d.document || d)),
            (this.window = a(
              this.document[0].defaultView || this.document[0].parentWindow
            ))),
          (this.options = a.widget.extend(
            {},
            this.options,
            this._getCreateOptions(),
            c
          )),
          this._create(),
          this._trigger("create", null, this._getCreateEventData()),
          this._init();
      },
      _getCreateOptions: a.noop,
      _getCreateEventData: a.noop,
      _create: a.noop,
      _init: a.noop,
      destroy: function() {
        this._destroy(),
          this.element
            .unbind(this.eventNamespace)
            .removeData(this.widgetFullName)
            .removeData(a.camelCase(this.widgetFullName)),
          this.widget()
            .unbind(this.eventNamespace)
            .removeAttr("aria-disabled")
            .removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
          this.bindings.unbind(this.eventNamespace),
          this.hoverable.removeClass("ui-state-hover"),
          this.focusable.removeClass("ui-state-focus");
      },
      _destroy: a.noop,
      widget: function() {
        return this.element;
      },
      option: function(b, c) {
        var d,
          e,
          f,
          g = b;
        if (0 === arguments.length) return a.widget.extend({}, this.options);
        if ("string" == typeof b)
          if (((g = {}), (d = b.split(".")), (b = d.shift()), d.length)) {
            for (
              e = g[b] = a.widget.extend({}, this.options[b]), f = 0;
              f < d.length - 1;
              f++
            )
              (e[d[f]] = e[d[f]] || {}), (e = e[d[f]]);
            if (((b = d.pop()), 1 === arguments.length))
              return void 0 === e[b] ? null : e[b];
            e[b] = c;
          } else {
            if (1 === arguments.length)
              return void 0 === this.options[b] ? null : this.options[b];
            g[b] = c;
          }
        return this._setOptions(g), this;
      },
      _setOptions: function(a) {
        var b;
        for (b in a) this._setOption(b, a[b]);
        return this;
      },
      _setOption: function(a, b) {
        return (
          (this.options[a] = b),
          "disabled" === a &&
            (this.widget().toggleClass(this.widgetFullName + "-disabled", !!b),
            b &&
              (this.hoverable.removeClass("ui-state-hover"),
              this.focusable.removeClass("ui-state-focus"))),
          this
        );
      },
      enable: function() {
        return this._setOptions({ disabled: !1 });
      },
      disable: function() {
        return this._setOptions({ disabled: !0 });
      },
      _on: function(b, c, d) {
        var e,
          f = this;
        "boolean" != typeof b && ((d = c), (c = b), (b = !1)),
          d
            ? ((c = e = a(c)), (this.bindings = this.bindings.add(c)))
            : ((d = c), (c = this.element), (e = this.widget())),
          a.each(d, function(d, g) {
            function h() {
              if (
                b ||
                (f.options.disabled !== !0 &&
                  !a(this).hasClass("ui-state-disabled"))
              )
                return ("string" == typeof g ? f[g] : g).apply(f, arguments);
            }
            "string" != typeof g &&
              (h.guid = g.guid = g.guid || h.guid || a.guid++);
            var i = d.match(/^([\w:-]*)\s*(.*)$/),
              j = i[1] + f.eventNamespace,
              k = i[2];
            k ? e.delegate(k, j, h) : c.bind(j, h);
          });
      },
      _off: function(b, c) {
        (c =
          (c || "").split(" ").join(this.eventNamespace + " ") +
          this.eventNamespace),
          b.unbind(c).undelegate(c),
          (this.bindings = a(this.bindings.not(b).get())),
          (this.focusable = a(this.focusable.not(b).get())),
          (this.hoverable = a(this.hoverable.not(b).get()));
      },
      _delay: function(a, b) {
        function c() {
          return ("string" == typeof a ? d[a] : a).apply(d, arguments);
        }
        var d = this;
        return setTimeout(c, b || 0);
      },
      _hoverable: function(b) {
        (this.hoverable = this.hoverable.add(b)),
          this._on(b, {
            mouseenter: function(b) {
              a(b.currentTarget).addClass("ui-state-hover");
            },
            mouseleave: function(b) {
              a(b.currentTarget).removeClass("ui-state-hover");
            }
          });
      },
      _focusable: function(b) {
        (this.focusable = this.focusable.add(b)),
          this._on(b, {
            focusin: function(b) {
              a(b.currentTarget).addClass("ui-state-focus");
            },
            focusout: function(b) {
              a(b.currentTarget).removeClass("ui-state-focus");
            }
          });
      },
      _trigger: function(b, c, d) {
        var e,
          f,
          g = this.options[b];
        if (
          ((d = d || {}),
          (c = a.Event(c)),
          (c.type = (b === this.widgetEventPrefix
            ? b
            : this.widgetEventPrefix + b
          ).toLowerCase()),
          (c.target = this.element[0]),
          (f = c.originalEvent))
        )
          for (e in f) e in c || (c[e] = f[e]);
        return (
          this.element.trigger(c, d),
          !(
            (a.isFunction(g) &&
              g.apply(this.element[0], [c].concat(d)) === !1) ||
            c.isDefaultPrevented()
          )
        );
      }
    }),
    a.each({ show: "fadeIn", hide: "fadeOut" }, function(b, c) {
      a.Widget.prototype["_" + b] = function(d, e, f) {
        "string" == typeof e && (e = { effect: e });
        var g,
          h = e ? (e === !0 || "number" == typeof e ? c : e.effect || c) : b;
        (e = e || {}),
          "number" == typeof e && (e = { duration: e }),
          (g = !a.isEmptyObject(e)),
          (e.complete = f),
          e.delay && d.delay(e.delay),
          g && a.effects && a.effects.effect[h]
            ? d[b](e)
            : h !== b && d[h]
              ? d[h](e.duration, e.easing, f)
              : d.queue(function(c) {
                  a(this)[b](), f && f.call(d[0]), c();
                });
      };
    }),
    a.widget
  );
});
/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
!(function(a) {
  "function" == typeof define && define.amd
    ? define(["jquery", "./widget"], a)
    : a(jQuery);
})(function(a) {
  var b = !1;
  return (
    a(document).mouseup(function() {
      b = !1;
    }),
    a.widget("ui.mouse", {
      version: "1.11.4",
      options: {
        cancel: "input,textarea,button,select,option",
        distance: 1,
        delay: 0
      },
      _mouseInit: function() {
        var b = this;
        this.element
          .bind("mousedown." + this.widgetName, function(a) {
            return b._mouseDown(a);
          })
          .bind("click." + this.widgetName, function(c) {
            if (!0 === a.data(c.target, b.widgetName + ".preventClickEvent"))
              return (
                a.removeData(c.target, b.widgetName + ".preventClickEvent"),
                c.stopImmediatePropagation(),
                !1
              );
          }),
          (this.started = !1);
      },
      _mouseDestroy: function() {
        this.element.unbind("." + this.widgetName),
          this._mouseMoveDelegate &&
            this.document
              .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
      },
      _mouseDown: function(c) {
        if (!b) {
          (this._mouseMoved = !1),
            this._mouseStarted && this._mouseUp(c),
            (this._mouseDownEvent = c);
          var d = this,
            e = 1 === c.which,
            f =
              !("string" != typeof this.options.cancel || !c.target.nodeName) &&
              a(c.target).closest(this.options.cancel).length;
          return (
            !(e && !f && this._mouseCapture(c)) ||
            ((this.mouseDelayMet = !this.options.delay),
            this.mouseDelayMet ||
              (this._mouseDelayTimer = setTimeout(function() {
                d.mouseDelayMet = !0;
              }, this.options.delay)),
            this._mouseDistanceMet(c) &&
            this._mouseDelayMet(c) &&
            ((this._mouseStarted = this._mouseStart(c) !== !1),
            !this._mouseStarted)
              ? (c.preventDefault(), !0)
              : (!0 ===
                  a.data(c.target, this.widgetName + ".preventClickEvent") &&
                  a.removeData(
                    c.target,
                    this.widgetName + ".preventClickEvent"
                  ),
                (this._mouseMoveDelegate = function(a) {
                  return d._mouseMove(a);
                }),
                (this._mouseUpDelegate = function(a) {
                  return d._mouseUp(a);
                }),
                this.document
                  .bind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                  .bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                c.preventDefault(),
                (b = !0),
                !0))
          );
        }
      },
      _mouseMove: function(b) {
        if (this._mouseMoved) {
          if (
            a.ui.ie &&
            (!document.documentMode || document.documentMode < 9) &&
            !b.button
          )
            return this._mouseUp(b);
          if (!b.which) return this._mouseUp(b);
        }
        return (
          (b.which || b.button) && (this._mouseMoved = !0),
          this._mouseStarted
            ? (this._mouseDrag(b), b.preventDefault())
            : (this._mouseDistanceMet(b) &&
                this._mouseDelayMet(b) &&
                ((this._mouseStarted =
                  this._mouseStart(this._mouseDownEvent, b) !== !1),
                this._mouseStarted ? this._mouseDrag(b) : this._mouseUp(b)),
              !this._mouseStarted)
        );
      },
      _mouseUp: function(c) {
        return (
          this.document
            .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
          this._mouseStarted &&
            ((this._mouseStarted = !1),
            c.target === this._mouseDownEvent.target &&
              a.data(c.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(c)),
          (b = !1),
          !1
        );
      },
      _mouseDistanceMet: function(a) {
        return (
          Math.max(
            Math.abs(this._mouseDownEvent.pageX - a.pageX),
            Math.abs(this._mouseDownEvent.pageY - a.pageY)
          ) >= this.options.distance
        );
      },
      _mouseDelayMet: function() {
        return this.mouseDelayMet;
      },
      _mouseStart: function() {},
      _mouseDrag: function() {},
      _mouseStop: function() {},
      _mouseCapture: function() {
        return !0;
      }
    })
  );
});
/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
!(function(a) {
  "function" == typeof define && define.amd
    ? define(["jquery", "./core", "./mouse", "./widget"], a)
    : a(jQuery);
})(function(a) {
  return (
    a.widget("ui.draggable", a.ui.mouse, {
      version: "1.11.4",
      widgetEventPrefix: "drag",
      options: {
        addClasses: !0,
        appendTo: "parent",
        axis: !1,
        connectToSortable: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        iframeFix: !1,
        opacity: !1,
        refreshPositions: !1,
        revert: !1,
        revertDuration: 500,
        scope: "default",
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        snap: !1,
        snapMode: "both",
        snapTolerance: 20,
        stack: !1,
        zIndex: !1,
        drag: null,
        start: null,
        stop: null
      },
      _create: function() {
        "original" === this.options.helper && this._setPositionRelative(),
          this.options.addClasses && this.element.addClass("ui-draggable"),
          this.options.disabled &&
            this.element.addClass("ui-draggable-disabled"),
          this._setHandleClassName(),
          this._mouseInit();
      },
      _setOption: function(a, b) {
        this._super(a, b),
          "handle" === a &&
            (this._removeHandleClassName(), this._setHandleClassName());
      },
      _destroy: function() {
        return (this.helper || this.element).is(".ui-draggable-dragging")
          ? void (this.destroyOnClear = !0)
          : (this.element.removeClass(
              "ui-draggable ui-draggable-dragging ui-draggable-disabled"
            ),
            this._removeHandleClassName(),
            void this._mouseDestroy());
      },
      _mouseCapture: function(b) {
        var c = this.options;
        return (
          this._blurActiveElement(b),
          !(
            this.helper ||
            c.disabled ||
            a(b.target).closest(".ui-resizable-handle").length > 0
          ) &&
            ((this.handle = this._getHandle(b)),
            !!this.handle &&
              (this._blockFrames(c.iframeFix === !0 ? "iframe" : c.iframeFix),
              !0))
        );
      },
      _blockFrames: function(b) {
        this.iframeBlocks = this.document.find(b).map(function() {
          var b = a(this);
          return a("<div>")
            .css("position", "absolute")
            .appendTo(b.parent())
            .outerWidth(b.outerWidth())
            .outerHeight(b.outerHeight())
            .offset(b.offset())[0];
        });
      },
      _unblockFrames: function() {
        this.iframeBlocks &&
          (this.iframeBlocks.remove(), delete this.iframeBlocks);
      },
      _blurActiveElement: function(b) {
        var c = this.document[0];
        if (this.handleElement.is(b.target))
          try {
            c.activeElement &&
              "body" !== c.activeElement.nodeName.toLowerCase() &&
              a(c.activeElement).blur();
          } catch (d) {}
      },
      _mouseStart: function(b) {
        var c = this.options;
        return (
          (this.helper = this._createHelper(b)),
          this.helper.addClass("ui-draggable-dragging"),
          this._cacheHelperProportions(),
          a.ui.ddmanager && (a.ui.ddmanager.current = this),
          this._cacheMargins(),
          (this.cssPosition = this.helper.css("position")),
          (this.scrollParent = this.helper.scrollParent(!0)),
          (this.offsetParent = this.helper.offsetParent()),
          (this.hasFixedAncestor =
            this.helper.parents().filter(function() {
              return "fixed" === a(this).css("position");
            }).length > 0),
          (this.positionAbs = this.element.offset()),
          this._refreshOffsets(b),
          (this.originalPosition = this.position = this._generatePosition(
            b,
            !1
          )),
          (this.originalPageX = b.pageX),
          (this.originalPageY = b.pageY),
          c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt),
          this._setContainment(),
          this._trigger("start", b) === !1
            ? (this._clear(), !1)
            : (this._cacheHelperProportions(),
              a.ui.ddmanager &&
                !c.dropBehaviour &&
                a.ui.ddmanager.prepareOffsets(this, b),
              this._normalizeRightBottom(),
              this._mouseDrag(b, !0),
              a.ui.ddmanager && a.ui.ddmanager.dragStart(this, b),
              !0)
        );
      },
      _refreshOffsets: function(a) {
        (this.offset = {
          top: this.positionAbs.top - this.margins.top,
          left: this.positionAbs.left - this.margins.left,
          scroll: !1,
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset()
        }),
          (this.offset.click = {
            left: a.pageX - this.offset.left,
            top: a.pageY - this.offset.top
          });
      },
      _mouseDrag: function(b, c) {
        if (
          (this.hasFixedAncestor &&
            (this.offset.parent = this._getParentOffset()),
          (this.position = this._generatePosition(b, !0)),
          (this.positionAbs = this._convertPositionTo("absolute")),
          !c)
        ) {
          var d = this._uiHash();
          if (this._trigger("drag", b, d) === !1) return this._mouseUp({}), !1;
          this.position = d.position;
        }
        return (
          (this.helper[0].style.left = this.position.left + "px"),
          (this.helper[0].style.top = this.position.top + "px"),
          a.ui.ddmanager && a.ui.ddmanager.drag(this, b),
          !1
        );
      },
      _mouseStop: function(b) {
        var c = this,
          d = !1;
        return (
          a.ui.ddmanager &&
            !this.options.dropBehaviour &&
            (d = a.ui.ddmanager.drop(this, b)),
          this.dropped && ((d = this.dropped), (this.dropped = !1)),
          ("invalid" === this.options.revert && !d) ||
          ("valid" === this.options.revert && d) ||
          this.options.revert === !0 ||
          (a.isFunction(this.options.revert) &&
            this.options.revert.call(this.element, d))
            ? a(this.helper).animate(
                this.originalPosition,
                parseInt(this.options.revertDuration, 10),
                function() {
                  c._trigger("stop", b) !== !1 && c._clear();
                }
              )
            : this._trigger("stop", b) !== !1 && this._clear(),
          !1
        );
      },
      _mouseUp: function(b) {
        return (
          this._unblockFrames(),
          a.ui.ddmanager && a.ui.ddmanager.dragStop(this, b),
          this.handleElement.is(b.target) && this.element.focus(),
          a.ui.mouse.prototype._mouseUp.call(this, b)
        );
      },
      cancel: function() {
        return (
          this.helper.is(".ui-draggable-dragging")
            ? this._mouseUp({})
            : this._clear(),
          this
        );
      },
      _getHandle: function(b) {
        return (
          !this.options.handle ||
          !!a(b.target).closest(this.element.find(this.options.handle)).length
        );
      },
      _setHandleClassName: function() {
        (this.handleElement = this.options.handle
          ? this.element.find(this.options.handle)
          : this.element),
          this.handleElement.addClass("ui-draggable-handle");
      },
      _removeHandleClassName: function() {
        this.handleElement.removeClass("ui-draggable-handle");
      },
      _createHelper: function(b) {
        var c = this.options,
          d = a.isFunction(c.helper),
          e = d
            ? a(c.helper.apply(this.element[0], [b]))
            : "clone" === c.helper
              ? this.element.clone().removeAttr("id")
              : this.element;
        return (
          e.parents("body").length ||
            e.appendTo(
              "parent" === c.appendTo ? this.element[0].parentNode : c.appendTo
            ),
          d && e[0] === this.element[0] && this._setPositionRelative(),
          e[0] === this.element[0] ||
            /(fixed|absolute)/.test(e.css("position")) ||
            e.css("position", "absolute"),
          e
        );
      },
      _setPositionRelative: function() {
        /^(?:r|a|f)/.test(this.element.css("position")) ||
          (this.element[0].style.position = "relative");
      },
      _adjustOffsetFromHelper: function(b) {
        "string" == typeof b && (b = b.split(" ")),
          a.isArray(b) && (b = { left: +b[0], top: +b[1] || 0 }),
          "left" in b && (this.offset.click.left = b.left + this.margins.left),
          "right" in b &&
            (this.offset.click.left =
              this.helperProportions.width - b.right + this.margins.left),
          "top" in b && (this.offset.click.top = b.top + this.margins.top),
          "bottom" in b &&
            (this.offset.click.top =
              this.helperProportions.height - b.bottom + this.margins.top);
      },
      _isRootNode: function(a) {
        return /(html|body)/i.test(a.tagName) || a === this.document[0];
      },
      _getParentOffset: function() {
        var b = this.offsetParent.offset(),
          c = this.document[0];
        return (
          "absolute" === this.cssPosition &&
            this.scrollParent[0] !== c &&
            a.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((b.left += this.scrollParent.scrollLeft()),
            (b.top += this.scrollParent.scrollTop())),
          this._isRootNode(this.offsetParent[0]) && (b = { top: 0, left: 0 }),
          {
            top:
              b.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              b.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
          }
        );
      },
      _getRelativeOffset: function() {
        if ("relative" !== this.cssPosition) return { top: 0, left: 0 };
        var a = this.element.position(),
          b = this._isRootNode(this.scrollParent[0]);
        return {
          top:
            a.top -
            (parseInt(this.helper.css("top"), 10) || 0) +
            (b ? 0 : this.scrollParent.scrollTop()),
          left:
            a.left -
            (parseInt(this.helper.css("left"), 10) || 0) +
            (b ? 0 : this.scrollParent.scrollLeft())
        };
      },
      _cacheMargins: function() {
        this.margins = {
          left: parseInt(this.element.css("marginLeft"), 10) || 0,
          top: parseInt(this.element.css("marginTop"), 10) || 0,
          right: parseInt(this.element.css("marginRight"), 10) || 0,
          bottom: parseInt(this.element.css("marginBottom"), 10) || 0
        };
      },
      _cacheHelperProportions: function() {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        };
      },
      _setContainment: function() {
        var b,
          c,
          d,
          e = this.options,
          f = this.document[0];
        return (
          (this.relativeContainer = null),
          e.containment
            ? "window" === e.containment
              ? void (this.containment = [
                  a(window).scrollLeft() -
                    this.offset.relative.left -
                    this.offset.parent.left,
                  a(window).scrollTop() -
                    this.offset.relative.top -
                    this.offset.parent.top,
                  a(window).scrollLeft() +
                    a(window).width() -
                    this.helperProportions.width -
                    this.margins.left,
                  a(window).scrollTop() +
                    (a(window).height() || f.body.parentNode.scrollHeight) -
                    this.helperProportions.height -
                    this.margins.top
                ])
              : "document" === e.containment
                ? void (this.containment = [
                    0,
                    0,
                    a(f).width() -
                      this.helperProportions.width -
                      this.margins.left,
                    (a(f).height() || f.body.parentNode.scrollHeight) -
                      this.helperProportions.height -
                      this.margins.top
                  ])
                : e.containment.constructor === Array
                  ? void (this.containment = e.containment)
                  : ("parent" === e.containment &&
                      (e.containment = this.helper[0].parentNode),
                    (c = a(e.containment)),
                    (d = c[0]),
                    void (
                      d &&
                      ((b = /(scroll|auto)/.test(c.css("overflow"))),
                      (this.containment = [
                        (parseInt(c.css("borderLeftWidth"), 10) || 0) +
                          (parseInt(c.css("paddingLeft"), 10) || 0),
                        (parseInt(c.css("borderTopWidth"), 10) || 0) +
                          (parseInt(c.css("paddingTop"), 10) || 0),
                        (b
                          ? Math.max(d.scrollWidth, d.offsetWidth)
                          : d.offsetWidth) -
                          (parseInt(c.css("borderRightWidth"), 10) || 0) -
                          (parseInt(c.css("paddingRight"), 10) || 0) -
                          this.helperProportions.width -
                          this.margins.left -
                          this.margins.right,
                        (b
                          ? Math.max(d.scrollHeight, d.offsetHeight)
                          : d.offsetHeight) -
                          (parseInt(c.css("borderBottomWidth"), 10) || 0) -
                          (parseInt(c.css("paddingBottom"), 10) || 0) -
                          this.helperProportions.height -
                          this.margins.top -
                          this.margins.bottom
                      ]),
                      (this.relativeContainer = c))
                    ))
            : void (this.containment = null)
        );
      },
      _convertPositionTo: function(a, b) {
        b || (b = this.position);
        var c = "absolute" === a ? 1 : -1,
          d = this._isRootNode(this.scrollParent[0]);
        return {
          top:
            b.top +
            this.offset.relative.top * c +
            this.offset.parent.top * c -
            ("fixed" === this.cssPosition
              ? -this.offset.scroll.top
              : d
                ? 0
                : this.offset.scroll.top) *
              c,
          left:
            b.left +
            this.offset.relative.left * c +
            this.offset.parent.left * c -
            ("fixed" === this.cssPosition
              ? -this.offset.scroll.left
              : d
                ? 0
                : this.offset.scroll.left) *
              c
        };
      },
      _generatePosition: function(a, b) {
        var c,
          d,
          e,
          f,
          g = this.options,
          h = this._isRootNode(this.scrollParent[0]),
          i = a.pageX,
          j = a.pageY;
        return (
          (h && this.offset.scroll) ||
            (this.offset.scroll = {
              top: this.scrollParent.scrollTop(),
              left: this.scrollParent.scrollLeft()
            }),
          b &&
            (this.containment &&
              (this.relativeContainer
                ? ((d = this.relativeContainer.offset()),
                  (c = [
                    this.containment[0] + d.left,
                    this.containment[1] + d.top,
                    this.containment[2] + d.left,
                    this.containment[3] + d.top
                  ]))
                : (c = this.containment),
              a.pageX - this.offset.click.left < c[0] &&
                (i = c[0] + this.offset.click.left),
              a.pageY - this.offset.click.top < c[1] &&
                (j = c[1] + this.offset.click.top),
              a.pageX - this.offset.click.left > c[2] &&
                (i = c[2] + this.offset.click.left),
              a.pageY - this.offset.click.top > c[3] &&
                (j = c[3] + this.offset.click.top)),
            g.grid &&
              ((e = g.grid[1]
                ? this.originalPageY +
                  Math.round((j - this.originalPageY) / g.grid[1]) * g.grid[1]
                : this.originalPageY),
              (j = c
                ? e - this.offset.click.top >= c[1] ||
                  e - this.offset.click.top > c[3]
                  ? e
                  : e - this.offset.click.top >= c[1]
                    ? e - g.grid[1]
                    : e + g.grid[1]
                : e),
              (f = g.grid[0]
                ? this.originalPageX +
                  Math.round((i - this.originalPageX) / g.grid[0]) * g.grid[0]
                : this.originalPageX),
              (i = c
                ? f - this.offset.click.left >= c[0] ||
                  f - this.offset.click.left > c[2]
                  ? f
                  : f - this.offset.click.left >= c[0]
                    ? f - g.grid[0]
                    : f + g.grid[0]
                : f)),
            "y" === g.axis && (i = this.originalPageX),
            "x" === g.axis && (j = this.originalPageY)),
          {
            top:
              j -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.top
                : h
                  ? 0
                  : this.offset.scroll.top),
            left:
              i -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.left
                : h
                  ? 0
                  : this.offset.scroll.left)
          }
        );
      },
      _clear: function() {
        this.helper.removeClass("ui-draggable-dragging"),
          this.helper[0] === this.element[0] ||
            this.cancelHelperRemoval ||
            this.helper.remove(),
          (this.helper = null),
          (this.cancelHelperRemoval = !1),
          this.destroyOnClear && this.destroy();
      },
      _normalizeRightBottom: function() {
        "y" !== this.options.axis &&
          "auto" !== this.helper.css("right") &&
          (this.helper.width(this.helper.width()),
          this.helper.css("right", "auto")),
          "x" !== this.options.axis &&
            "auto" !== this.helper.css("bottom") &&
            (this.helper.height(this.helper.height()),
            this.helper.css("bottom", "auto"));
      },
      _trigger: function(b, c, d) {
        return (
          (d = d || this._uiHash()),
          a.ui.plugin.call(this, b, [c, d, this], !0),
          /^(drag|start|stop)/.test(b) &&
            ((this.positionAbs = this._convertPositionTo("absolute")),
            (d.offset = this.positionAbs)),
          a.Widget.prototype._trigger.call(this, b, c, d)
        );
      },
      plugins: {},
      _uiHash: function() {
        return {
          helper: this.helper,
          position: this.position,
          originalPosition: this.originalPosition,
          offset: this.positionAbs
        };
      }
    }),
    a.ui.plugin.add("draggable", "connectToSortable", {
      start: function(b, c, d) {
        var e = a.extend({}, c, { item: d.element });
        (d.sortables = []),
          a(d.options.connectToSortable).each(function() {
            var c = a(this).sortable("instance");
            c &&
              !c.options.disabled &&
              (d.sortables.push(c),
              c.refreshPositions(),
              c._trigger("activate", b, e));
          });
      },
      stop: function(b, c, d) {
        var e = a.extend({}, c, { item: d.element });
        (d.cancelHelperRemoval = !1),
          a.each(d.sortables, function() {
            var a = this;
            a.isOver
              ? ((a.isOver = 0),
                (d.cancelHelperRemoval = !0),
                (a.cancelHelperRemoval = !1),
                (a._storedCSS = {
                  position: a.placeholder.css("position"),
                  top: a.placeholder.css("top"),
                  left: a.placeholder.css("left")
                }),
                a._mouseStop(b),
                (a.options.helper = a.options._helper))
              : ((a.cancelHelperRemoval = !0), a._trigger("deactivate", b, e));
          });
      },
      drag: function(b, c, d) {
        a.each(d.sortables, function() {
          var e = !1,
            f = this;
          (f.positionAbs = d.positionAbs),
            (f.helperProportions = d.helperProportions),
            (f.offset.click = d.offset.click),
            f._intersectsWith(f.containerCache) &&
              ((e = !0),
              a.each(d.sortables, function() {
                return (
                  (this.positionAbs = d.positionAbs),
                  (this.helperProportions = d.helperProportions),
                  (this.offset.click = d.offset.click),
                  this !== f &&
                    this._intersectsWith(this.containerCache) &&
                    a.contains(f.element[0], this.element[0]) &&
                    (e = !1),
                  e
                );
              })),
            e
              ? (f.isOver ||
                  ((f.isOver = 1),
                  (d._parent = c.helper.parent()),
                  (f.currentItem = c.helper
                    .appendTo(f.element)
                    .data("ui-sortable-item", !0)),
                  (f.options._helper = f.options.helper),
                  (f.options.helper = function() {
                    return c.helper[0];
                  }),
                  (b.target = f.currentItem[0]),
                  f._mouseCapture(b, !0),
                  f._mouseStart(b, !0, !0),
                  (f.offset.click.top = d.offset.click.top),
                  (f.offset.click.left = d.offset.click.left),
                  (f.offset.parent.left -=
                    d.offset.parent.left - f.offset.parent.left),
                  (f.offset.parent.top -=
                    d.offset.parent.top - f.offset.parent.top),
                  d._trigger("toSortable", b),
                  (d.dropped = f.element),
                  a.each(d.sortables, function() {
                    this.refreshPositions();
                  }),
                  (d.currentItem = d.element),
                  (f.fromOutside = d)),
                f.currentItem && (f._mouseDrag(b), (c.position = f.position)))
              : f.isOver &&
                ((f.isOver = 0),
                (f.cancelHelperRemoval = !0),
                (f.options._revert = f.options.revert),
                (f.options.revert = !1),
                f._trigger("out", b, f._uiHash(f)),
                f._mouseStop(b, !0),
                (f.options.revert = f.options._revert),
                (f.options.helper = f.options._helper),
                f.placeholder && f.placeholder.remove(),
                c.helper.appendTo(d._parent),
                d._refreshOffsets(b),
                (c.position = d._generatePosition(b, !0)),
                d._trigger("fromSortable", b),
                (d.dropped = !1),
                a.each(d.sortables, function() {
                  this.refreshPositions();
                }));
        });
      }
    }),
    a.ui.plugin.add("draggable", "cursor", {
      start: function(b, c, d) {
        var e = a("body"),
          f = d.options;
        e.css("cursor") && (f._cursor = e.css("cursor")),
          e.css("cursor", f.cursor);
      },
      stop: function(b, c, d) {
        var e = d.options;
        e._cursor && a("body").css("cursor", e._cursor);
      }
    }),
    a.ui.plugin.add("draggable", "opacity", {
      start: function(b, c, d) {
        var e = a(c.helper),
          f = d.options;
        e.css("opacity") && (f._opacity = e.css("opacity")),
          e.css("opacity", f.opacity);
      },
      stop: function(b, c, d) {
        var e = d.options;
        e._opacity && a(c.helper).css("opacity", e._opacity);
      }
    }),
    a.ui.plugin.add("draggable", "scroll", {
      start: function(a, b, c) {
        c.scrollParentNotHidden ||
          (c.scrollParentNotHidden = c.helper.scrollParent(!1)),
          c.scrollParentNotHidden[0] !== c.document[0] &&
            "HTML" !== c.scrollParentNotHidden[0].tagName &&
            (c.overflowOffset = c.scrollParentNotHidden.offset());
      },
      drag: function(b, c, d) {
        var e = d.options,
          f = !1,
          g = d.scrollParentNotHidden[0],
          h = d.document[0];
        g !== h && "HTML" !== g.tagName
          ? ((e.axis && "x" === e.axis) ||
              (d.overflowOffset.top + g.offsetHeight - b.pageY <
              e.scrollSensitivity
                ? (g.scrollTop = f = g.scrollTop + e.scrollSpeed)
                : b.pageY - d.overflowOffset.top < e.scrollSensitivity &&
                  (g.scrollTop = f = g.scrollTop - e.scrollSpeed)),
            (e.axis && "y" === e.axis) ||
              (d.overflowOffset.left + g.offsetWidth - b.pageX <
              e.scrollSensitivity
                ? (g.scrollLeft = f = g.scrollLeft + e.scrollSpeed)
                : b.pageX - d.overflowOffset.left < e.scrollSensitivity &&
                  (g.scrollLeft = f = g.scrollLeft - e.scrollSpeed)))
          : ((e.axis && "x" === e.axis) ||
              (b.pageY - a(h).scrollTop() < e.scrollSensitivity
                ? (f = a(h).scrollTop(a(h).scrollTop() - e.scrollSpeed))
                : a(window).height() - (b.pageY - a(h).scrollTop()) <
                    e.scrollSensitivity &&
                  (f = a(h).scrollTop(a(h).scrollTop() + e.scrollSpeed))),
            (e.axis && "y" === e.axis) ||
              (b.pageX - a(h).scrollLeft() < e.scrollSensitivity
                ? (f = a(h).scrollLeft(a(h).scrollLeft() - e.scrollSpeed))
                : a(window).width() - (b.pageX - a(h).scrollLeft()) <
                    e.scrollSensitivity &&
                  (f = a(h).scrollLeft(a(h).scrollLeft() + e.scrollSpeed)))),
          f !== !1 &&
            a.ui.ddmanager &&
            !e.dropBehaviour &&
            a.ui.ddmanager.prepareOffsets(d, b);
      }
    }),
    a.ui.plugin.add("draggable", "snap", {
      start: function(b, c, d) {
        var e = d.options;
        (d.snapElements = []),
          a(
            e.snap.constructor !== String
              ? e.snap.items || ":data(ui-draggable)"
              : e.snap
          ).each(function() {
            var b = a(this),
              c = b.offset();
            this !== d.element[0] &&
              d.snapElements.push({
                item: this,
                width: b.outerWidth(),
                height: b.outerHeight(),
                top: c.top,
                left: c.left
              });
          });
      },
      drag: function(b, c, d) {
        var e,
          f,
          g,
          h,
          i,
          j,
          k,
          l,
          m,
          n,
          o = d.options,
          p = o.snapTolerance,
          q = c.offset.left,
          r = q + d.helperProportions.width,
          s = c.offset.top,
          t = s + d.helperProportions.height;
        for (m = d.snapElements.length - 1; m >= 0; m--)
          (i = d.snapElements[m].left - d.margins.left),
            (j = i + d.snapElements[m].width),
            (k = d.snapElements[m].top - d.margins.top),
            (l = k + d.snapElements[m].height),
            r < i - p ||
            q > j + p ||
            t < k - p ||
            s > l + p ||
            !a.contains(
              d.snapElements[m].item.ownerDocument,
              d.snapElements[m].item
            )
              ? (d.snapElements[m].snapping &&
                  d.options.snap.release &&
                  d.options.snap.release.call(
                    d.element,
                    b,
                    a.extend(d._uiHash(), { snapItem: d.snapElements[m].item })
                  ),
                (d.snapElements[m].snapping = !1))
              : ("inner" !== o.snapMode &&
                  ((e = Math.abs(k - t) <= p),
                  (f = Math.abs(l - s) <= p),
                  (g = Math.abs(i - r) <= p),
                  (h = Math.abs(j - q) <= p),
                  e &&
                    (c.position.top = d._convertPositionTo("relative", {
                      top: k - d.helperProportions.height,
                      left: 0
                    }).top),
                  f &&
                    (c.position.top = d._convertPositionTo("relative", {
                      top: l,
                      left: 0
                    }).top),
                  g &&
                    (c.position.left = d._convertPositionTo("relative", {
                      top: 0,
                      left: i - d.helperProportions.width
                    }).left),
                  h &&
                    (c.position.left = d._convertPositionTo("relative", {
                      top: 0,
                      left: j
                    }).left)),
                (n = e || f || g || h),
                "outer" !== o.snapMode &&
                  ((e = Math.abs(k - s) <= p),
                  (f = Math.abs(l - t) <= p),
                  (g = Math.abs(i - q) <= p),
                  (h = Math.abs(j - r) <= p),
                  e &&
                    (c.position.top = d._convertPositionTo("relative", {
                      top: k,
                      left: 0
                    }).top),
                  f &&
                    (c.position.top = d._convertPositionTo("relative", {
                      top: l - d.helperProportions.height,
                      left: 0
                    }).top),
                  g &&
                    (c.position.left = d._convertPositionTo("relative", {
                      top: 0,
                      left: i
                    }).left),
                  h &&
                    (c.position.left = d._convertPositionTo("relative", {
                      top: 0,
                      left: j - d.helperProportions.width
                    }).left)),
                !d.snapElements[m].snapping &&
                  (e || f || g || h || n) &&
                  d.options.snap.snap &&
                  d.options.snap.snap.call(
                    d.element,
                    b,
                    a.extend(d._uiHash(), { snapItem: d.snapElements[m].item })
                  ),
                (d.snapElements[m].snapping = e || f || g || h || n));
      }
    }),
    a.ui.plugin.add("draggable", "stack", {
      start: function(b, c, d) {
        var e,
          f = d.options,
          g = a.makeArray(a(f.stack)).sort(function(b, c) {
            return (
              (parseInt(a(b).css("zIndex"), 10) || 0) -
              (parseInt(a(c).css("zIndex"), 10) || 0)
            );
          });
        g.length &&
          ((e = parseInt(a(g[0]).css("zIndex"), 10) || 0),
          a(g).each(function(b) {
            a(this).css("zIndex", e + b);
          }),
          this.css("zIndex", e + g.length));
      }
    }),
    a.ui.plugin.add("draggable", "zIndex", {
      start: function(b, c, d) {
        var e = a(c.helper),
          f = d.options;
        e.css("zIndex") && (f._zIndex = e.css("zIndex")),
          e.css("zIndex", f.zIndex);
      },
      stop: function(b, c, d) {
        var e = d.options;
        e._zIndex && a(c.helper).css("zIndex", e._zIndex);
      }
    }),
    a.ui.draggable
  );
});
/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
!(function(a) {
  "function" == typeof define && define.amd
    ? define(["jquery", "./core", "./mouse", "./widget"], a)
    : a(jQuery);
})(function(a) {
  return a.widget("ui.sortable", a.ui.mouse, {
    version: "1.11.4",
    widgetEventPrefix: "sort",
    ready: !1,
    options: {
      appendTo: "parent",
      axis: !1,
      connectWith: !1,
      containment: !1,
      cursor: "auto",
      cursorAt: !1,
      dropOnEmpty: !0,
      forcePlaceholderSize: !1,
      forceHelperSize: !1,
      grid: !1,
      handle: !1,
      helper: "original",
      items: "> *",
      opacity: !1,
      placeholder: !1,
      revert: !1,
      scroll: !0,
      scrollSensitivity: 20,
      scrollSpeed: 20,
      scope: "default",
      tolerance: "intersect",
      zIndex: 1e3,
      activate: null,
      beforeStop: null,
      change: null,
      deactivate: null,
      out: null,
      over: null,
      receive: null,
      remove: null,
      sort: null,
      start: null,
      stop: null,
      update: null
    },
    _isOverAxis: function(a, b, c) {
      return a >= b && a < b + c;
    },
    _isFloating: function(a) {
      return (
        /left|right/.test(a.css("float")) ||
        /inline|table-cell/.test(a.css("display"))
      );
    },
    _create: function() {
      (this.containerCache = {}),
        this.element.addClass("ui-sortable"),
        this.refresh(),
        (this.offset = this.element.offset()),
        this._mouseInit(),
        this._setHandleClassName(),
        (this.ready = !0);
    },
    _setOption: function(a, b) {
      this._super(a, b), "handle" === a && this._setHandleClassName();
    },
    _setHandleClassName: function() {
      this.element
        .find(".ui-sortable-handle")
        .removeClass("ui-sortable-handle"),
        a.each(this.items, function() {
          (this.instance.options.handle
            ? this.item.find(this.instance.options.handle)
            : this.item
          ).addClass("ui-sortable-handle");
        });
    },
    _destroy: function() {
      this.element
        .removeClass("ui-sortable ui-sortable-disabled")
        .find(".ui-sortable-handle")
        .removeClass("ui-sortable-handle"),
        this._mouseDestroy();
      for (var a = this.items.length - 1; a >= 0; a--)
        this.items[a].item.removeData(this.widgetName + "-item");
      return this;
    },
    _mouseCapture: function(b, c) {
      var d = null,
        e = !1,
        f = this;
      return (
        !this.reverting &&
        (!this.options.disabled &&
          "static" !== this.options.type &&
          (this._refreshItems(b),
          a(b.target)
            .parents()
            .each(function() {
              if (a.data(this, f.widgetName + "-item") === f)
                return (d = a(this)), !1;
            }),
          a.data(b.target, f.widgetName + "-item") === f && (d = a(b.target)),
          !!d &&
            (!(
              this.options.handle &&
              !c &&
              (a(this.options.handle, d)
                .find("*")
                .addBack()
                .each(function() {
                  this === b.target && (e = !0);
                }),
              !e)
            ) &&
              ((this.currentItem = d), this._removeCurrentsFromItems(), !0))))
      );
    },
    _mouseStart: function(b, c, d) {
      var e,
        f,
        g = this.options;
      if (
        ((this.currentContainer = this),
        this.refreshPositions(),
        (this.helper = this._createHelper(b)),
        this._cacheHelperProportions(),
        this._cacheMargins(),
        (this.scrollParent = this.helper.scrollParent()),
        (this.offset = this.currentItem.offset()),
        (this.offset = {
          top: this.offset.top - this.margins.top,
          left: this.offset.left - this.margins.left
        }),
        a.extend(this.offset, {
          click: {
            left: b.pageX - this.offset.left,
            top: b.pageY - this.offset.top
          },
          parent: this._getParentOffset(),
          relative: this._getRelativeOffset()
        }),
        this.helper.css("position", "absolute"),
        (this.cssPosition = this.helper.css("position")),
        (this.originalPosition = this._generatePosition(b)),
        (this.originalPageX = b.pageX),
        (this.originalPageY = b.pageY),
        g.cursorAt && this._adjustOffsetFromHelper(g.cursorAt),
        (this.domPosition = {
          prev: this.currentItem.prev()[0],
          parent: this.currentItem.parent()[0]
        }),
        this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
        this._createPlaceholder(),
        g.containment && this._setContainment(),
        g.cursor &&
          "auto" !== g.cursor &&
          ((f = this.document.find("body")),
          (this.storedCursor = f.css("cursor")),
          f.css("cursor", g.cursor),
          (this.storedStylesheet = a(
            "<style>*{ cursor: " + g.cursor + " !important; }</style>"
          ).appendTo(f))),
        g.opacity &&
          (this.helper.css("opacity") &&
            (this._storedOpacity = this.helper.css("opacity")),
          this.helper.css("opacity", g.opacity)),
        g.zIndex &&
          (this.helper.css("zIndex") &&
            (this._storedZIndex = this.helper.css("zIndex")),
          this.helper.css("zIndex", g.zIndex)),
        this.scrollParent[0] !== this.document[0] &&
          "HTML" !== this.scrollParent[0].tagName &&
          (this.overflowOffset = this.scrollParent.offset()),
        this._trigger("start", b, this._uiHash()),
        this._preserveHelperProportions || this._cacheHelperProportions(),
        !d)
      )
        for (e = this.containers.length - 1; e >= 0; e--)
          this.containers[e]._trigger("activate", b, this._uiHash(this));
      return (
        a.ui.ddmanager && (a.ui.ddmanager.current = this),
        a.ui.ddmanager &&
          !g.dropBehaviour &&
          a.ui.ddmanager.prepareOffsets(this, b),
        (this.dragging = !0),
        this.helper.addClass("ui-sortable-helper"),
        this._mouseDrag(b),
        !0
      );
    },
    _mouseDrag: function(b) {
      var c,
        d,
        e,
        f,
        g = this.options,
        h = !1;
      for (
        this.position = this._generatePosition(b),
          this.positionAbs = this._convertPositionTo("absolute"),
          this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
          this.options.scroll &&
            (this.scrollParent[0] !== this.document[0] &&
            "HTML" !== this.scrollParent[0].tagName
              ? (this.overflowOffset.top +
                  this.scrollParent[0].offsetHeight -
                  b.pageY <
                g.scrollSensitivity
                  ? (this.scrollParent[0].scrollTop = h =
                      this.scrollParent[0].scrollTop + g.scrollSpeed)
                  : b.pageY - this.overflowOffset.top < g.scrollSensitivity &&
                    (this.scrollParent[0].scrollTop = h =
                      this.scrollParent[0].scrollTop - g.scrollSpeed),
                this.overflowOffset.left +
                  this.scrollParent[0].offsetWidth -
                  b.pageX <
                g.scrollSensitivity
                  ? (this.scrollParent[0].scrollLeft = h =
                      this.scrollParent[0].scrollLeft + g.scrollSpeed)
                  : b.pageX - this.overflowOffset.left < g.scrollSensitivity &&
                    (this.scrollParent[0].scrollLeft = h =
                      this.scrollParent[0].scrollLeft - g.scrollSpeed))
              : (b.pageY - this.document.scrollTop() < g.scrollSensitivity
                  ? (h = this.document.scrollTop(
                      this.document.scrollTop() - g.scrollSpeed
                    ))
                  : this.window.height() -
                      (b.pageY - this.document.scrollTop()) <
                      g.scrollSensitivity &&
                    (h = this.document.scrollTop(
                      this.document.scrollTop() + g.scrollSpeed
                    )),
                b.pageX - this.document.scrollLeft() < g.scrollSensitivity
                  ? (h = this.document.scrollLeft(
                      this.document.scrollLeft() - g.scrollSpeed
                    ))
                  : this.window.width() -
                      (b.pageX - this.document.scrollLeft()) <
                      g.scrollSensitivity &&
                    (h = this.document.scrollLeft(
                      this.document.scrollLeft() + g.scrollSpeed
                    ))),
            h !== !1 &&
              a.ui.ddmanager &&
              !g.dropBehaviour &&
              a.ui.ddmanager.prepareOffsets(this, b)),
          this.positionAbs = this._convertPositionTo("absolute"),
          (this.options.axis && "y" === this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && "x" === this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px"),
          c = this.items.length - 1;
        c >= 0;
        c--
      )
        if (
          ((d = this.items[c]),
          (e = d.item[0]),
          (f = this._intersectsWithPointer(d)),
          f &&
            d.instance === this.currentContainer &&
            !(
              e === this.currentItem[0] ||
              this.placeholder[1 === f ? "next" : "prev"]()[0] === e ||
              a.contains(this.placeholder[0], e) ||
              ("semi-dynamic" === this.options.type &&
                a.contains(this.element[0], e))
            ))
        ) {
          if (
            ((this.direction = 1 === f ? "down" : "up"),
            "pointer" !== this.options.tolerance &&
              !this._intersectsWithSides(d))
          )
            break;
          this._rearrange(b, d), this._trigger("change", b, this._uiHash());
          break;
        }
      return (
        this._contactContainers(b),
        a.ui.ddmanager && a.ui.ddmanager.drag(this, b),
        this._trigger("sort", b, this._uiHash()),
        (this.lastPositionAbs = this.positionAbs),
        !1
      );
    },
    _mouseStop: function(b, c) {
      if (b) {
        if (
          (a.ui.ddmanager &&
            !this.options.dropBehaviour &&
            a.ui.ddmanager.drop(this, b),
          this.options.revert)
        ) {
          var d = this,
            e = this.placeholder.offset(),
            f = this.options.axis,
            g = {};
          (f && "x" !== f) ||
            (g.left =
              e.left -
              this.offset.parent.left -
              this.margins.left +
              (this.offsetParent[0] === this.document[0].body
                ? 0
                : this.offsetParent[0].scrollLeft)),
            (f && "y" !== f) ||
              (g.top =
                e.top -
                this.offset.parent.top -
                this.margins.top +
                (this.offsetParent[0] === this.document[0].body
                  ? 0
                  : this.offsetParent[0].scrollTop)),
            (this.reverting = !0),
            a(this.helper).animate(
              g,
              parseInt(this.options.revert, 10) || 500,
              function() {
                d._clear(b);
              }
            );
        } else this._clear(b, c);
        return !1;
      }
    },
    cancel: function() {
      if (this.dragging) {
        this._mouseUp({ target: null }),
          "original" === this.options.helper
            ? this.currentItem
                .css(this._storedCSS)
                .removeClass("ui-sortable-helper")
            : this.currentItem.show();
        for (var b = this.containers.length - 1; b >= 0; b--)
          this.containers[b]._trigger("deactivate", null, this._uiHash(this)),
            this.containers[b].containerCache.over &&
              (this.containers[b]._trigger("out", null, this._uiHash(this)),
              (this.containers[b].containerCache.over = 0));
      }
      return (
        this.placeholder &&
          (this.placeholder[0].parentNode &&
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          "original" !== this.options.helper &&
            this.helper &&
            this.helper[0].parentNode &&
            this.helper.remove(),
          a.extend(this, {
            helper: null,
            dragging: !1,
            reverting: !1,
            _noFinalSort: null
          }),
          this.domPosition.prev
            ? a(this.domPosition.prev).after(this.currentItem)
            : a(this.domPosition.parent).prepend(this.currentItem)),
        this
      );
    },
    serialize: function(b) {
      var c = this._getItemsAsjQuery(b && b.connected),
        d = [];
      return (
        (b = b || {}),
        a(c).each(function() {
          var c = (a(b.item || this).attr(b.attribute || "id") || "").match(
            b.expression || /(.+)[\-=_](.+)/
          );
          c &&
            d.push(
              (b.key || c[1] + "[]") +
                "=" +
                (b.key && b.expression ? c[1] : c[2])
            );
        }),
        !d.length && b.key && d.push(b.key + "="),
        d.join("&")
      );
    },
    toArray: function(b) {
      var c = this._getItemsAsjQuery(b && b.connected),
        d = [];
      return (
        (b = b || {}),
        c.each(function() {
          d.push(a(b.item || this).attr(b.attribute || "id") || "");
        }),
        d
      );
    },
    _intersectsWith: function(a) {
      var b = this.positionAbs.left,
        c = b + this.helperProportions.width,
        d = this.positionAbs.top,
        e = d + this.helperProportions.height,
        f = a.left,
        g = f + a.width,
        h = a.top,
        i = h + a.height,
        j = this.offset.click.top,
        k = this.offset.click.left,
        l = "x" === this.options.axis || (d + j > h && d + j < i),
        m = "y" === this.options.axis || (b + k > f && b + k < g),
        n = l && m;
      return "pointer" === this.options.tolerance ||
        this.options.forcePointerForContainers ||
        ("pointer" !== this.options.tolerance &&
          this.helperProportions[this.floating ? "width" : "height"] >
            a[this.floating ? "width" : "height"])
        ? n
        : f < b + this.helperProportions.width / 2 &&
            c - this.helperProportions.width / 2 < g &&
            h < d + this.helperProportions.height / 2 &&
            e - this.helperProportions.height / 2 < i;
    },
    _intersectsWithPointer: function(a) {
      var b =
          "x" === this.options.axis ||
          this._isOverAxis(
            this.positionAbs.top + this.offset.click.top,
            a.top,
            a.height
          ),
        c =
          "y" === this.options.axis ||
          this._isOverAxis(
            this.positionAbs.left + this.offset.click.left,
            a.left,
            a.width
          ),
        d = b && c,
        e = this._getDragVerticalDirection(),
        f = this._getDragHorizontalDirection();
      return (
        !!d &&
        (this.floating
          ? (f && "right" === f) || "down" === e
            ? 2
            : 1
          : e && ("down" === e ? 2 : 1))
      );
    },
    _intersectsWithSides: function(a) {
      var b = this._isOverAxis(
          this.positionAbs.top + this.offset.click.top,
          a.top + a.height / 2,
          a.height
        ),
        c = this._isOverAxis(
          this.positionAbs.left + this.offset.click.left,
          a.left + a.width / 2,
          a.width
        ),
        d = this._getDragVerticalDirection(),
        e = this._getDragHorizontalDirection();
      return this.floating && e
        ? ("right" === e && c) || ("left" === e && !c)
        : d && (("down" === d && b) || ("up" === d && !b));
    },
    _getDragVerticalDirection: function() {
      var a = this.positionAbs.top - this.lastPositionAbs.top;
      return 0 !== a && (a > 0 ? "down" : "up");
    },
    _getDragHorizontalDirection: function() {
      var a = this.positionAbs.left - this.lastPositionAbs.left;
      return 0 !== a && (a > 0 ? "right" : "left");
    },
    refresh: function(a) {
      return (
        this._refreshItems(a),
        this._setHandleClassName(),
        this.refreshPositions(),
        this
      );
    },
    _connectWith: function() {
      var a = this.options;
      return a.connectWith.constructor === String
        ? [a.connectWith]
        : a.connectWith;
    },
    _getItemsAsjQuery: function(b) {
      function c() {
        h.push(this);
      }
      var d,
        e,
        f,
        g,
        h = [],
        i = [],
        j = this._connectWith();
      if (j && b)
        for (d = j.length - 1; d >= 0; d--)
          for (f = a(j[d], this.document[0]), e = f.length - 1; e >= 0; e--)
            (g = a.data(f[e], this.widgetFullName)),
              g &&
                g !== this &&
                !g.options.disabled &&
                i.push([
                  a.isFunction(g.options.items)
                    ? g.options.items.call(g.element)
                    : a(g.options.items, g.element)
                        .not(".ui-sortable-helper")
                        .not(".ui-sortable-placeholder"),
                  g
                ]);
      for (
        i.push([
          a.isFunction(this.options.items)
            ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
              })
            : a(this.options.items, this.element)
                .not(".ui-sortable-helper")
                .not(".ui-sortable-placeholder"),
          this
        ]),
          d = i.length - 1;
        d >= 0;
        d--
      )
        i[d][0].each(c);
      return a(h);
    },
    _removeCurrentsFromItems: function() {
      var b = this.currentItem.find(":data(" + this.widgetName + "-item)");
      this.items = a.grep(this.items, function(a) {
        for (var c = 0; c < b.length; c++) if (b[c] === a.item[0]) return !1;
        return !0;
      });
    },
    _refreshItems: function(b) {
      (this.items = []), (this.containers = [this]);
      var c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k = this.items,
        l = [
          [
            a.isFunction(this.options.items)
              ? this.options.items.call(this.element[0], b, {
                  item: this.currentItem
                })
              : a(this.options.items, this.element),
            this
          ]
        ],
        m = this._connectWith();
      if (m && this.ready)
        for (c = m.length - 1; c >= 0; c--)
          for (e = a(m[c], this.document[0]), d = e.length - 1; d >= 0; d--)
            (f = a.data(e[d], this.widgetFullName)),
              f &&
                f !== this &&
                !f.options.disabled &&
                (l.push([
                  a.isFunction(f.options.items)
                    ? f.options.items.call(f.element[0], b, {
                        item: this.currentItem
                      })
                    : a(f.options.items, f.element),
                  f
                ]),
                this.containers.push(f));
      for (c = l.length - 1; c >= 0; c--)
        for (g = l[c][1], h = l[c][0], d = 0, j = h.length; d < j; d++)
          (i = a(h[d])),
            i.data(this.widgetName + "-item", g),
            k.push({
              item: i,
              instance: g,
              width: 0,
              height: 0,
              left: 0,
              top: 0
            });
    },
    refreshPositions: function(b) {
      (this.floating =
        !!this.items.length &&
        ("x" === this.options.axis || this._isFloating(this.items[0].item))),
        this.offsetParent &&
          this.helper &&
          (this.offset.parent = this._getParentOffset());
      var c, d, e, f;
      for (c = this.items.length - 1; c >= 0; c--)
        (d = this.items[c]),
          (d.instance !== this.currentContainer &&
            this.currentContainer &&
            d.item[0] !== this.currentItem[0]) ||
            ((e = this.options.toleranceElement
              ? a(this.options.toleranceElement, d.item)
              : d.item),
            b || ((d.width = e.outerWidth()), (d.height = e.outerHeight())),
            (f = e.offset()),
            (d.left = f.left),
            (d.top = f.top));
      if (this.options.custom && this.options.custom.refreshContainers)
        this.options.custom.refreshContainers.call(this);
      else
        for (c = this.containers.length - 1; c >= 0; c--)
          (f = this.containers[c].element.offset()),
            (this.containers[c].containerCache.left = f.left),
            (this.containers[c].containerCache.top = f.top),
            (this.containers[c].containerCache.width = this.containers[
              c
            ].element.outerWidth()),
            (this.containers[c].containerCache.height = this.containers[
              c
            ].element.outerHeight());
      return this;
    },
    _createPlaceholder: function(b) {
      b = b || this;
      var c,
        d = b.options;
      (d.placeholder && d.placeholder.constructor !== String) ||
        ((c = d.placeholder),
        (d.placeholder = {
          element: function() {
            var d = b.currentItem[0].nodeName.toLowerCase(),
              e = a("<" + d + ">", b.document[0])
                .addClass(
                  c || b.currentItem[0].className + " ui-sortable-placeholder"
                )
                .removeClass("ui-sortable-helper");
            return (
              "tbody" === d
                ? b._createTrPlaceholder(
                    b.currentItem.find("tr").eq(0),
                    a("<tr>", b.document[0]).appendTo(e)
                  )
                : "tr" === d
                  ? b._createTrPlaceholder(b.currentItem, e)
                  : "img" === d && e.attr("src", b.currentItem.attr("src")),
              c || e.css("visibility", "hidden"),
              e
            );
          },
          update: function(a, e) {
            (c && !d.forcePlaceholderSize) ||
              (e.height() ||
                e.height(
                  b.currentItem.innerHeight() -
                    parseInt(b.currentItem.css("paddingTop") || 0, 10) -
                    parseInt(b.currentItem.css("paddingBottom") || 0, 10)
                ),
              e.width() ||
                e.width(
                  b.currentItem.innerWidth() -
                    parseInt(b.currentItem.css("paddingLeft") || 0, 10) -
                    parseInt(b.currentItem.css("paddingRight") || 0, 10)
                ));
          }
        })),
        (b.placeholder = a(
          d.placeholder.element.call(b.element, b.currentItem)
        )),
        b.currentItem.after(b.placeholder),
        d.placeholder.update(b, b.placeholder);
    },
    _createTrPlaceholder: function(b, c) {
      var d = this;
      b.children().each(function() {
        a("<td>&#160;</td>", d.document[0])
          .attr("colspan", a(this).attr("colspan") || 1)
          .appendTo(c);
      });
    },
    _contactContainers: function(b) {
      var c,
        d,
        e,
        f,
        g,
        h,
        i,
        j,
        k,
        l,
        m = null,
        n = null;
      for (c = this.containers.length - 1; c >= 0; c--)
        if (!a.contains(this.currentItem[0], this.containers[c].element[0]))
          if (this._intersectsWith(this.containers[c].containerCache)) {
            if (m && a.contains(this.containers[c].element[0], m.element[0]))
              continue;
            (m = this.containers[c]), (n = c);
          } else
            this.containers[c].containerCache.over &&
              (this.containers[c]._trigger("out", b, this._uiHash(this)),
              (this.containers[c].containerCache.over = 0));
      if (m)
        if (1 === this.containers.length)
          this.containers[n].containerCache.over ||
            (this.containers[n]._trigger("over", b, this._uiHash(this)),
            (this.containers[n].containerCache.over = 1));
        else {
          for (
            e = 1e4,
              f = null,
              k = m.floating || this._isFloating(this.currentItem),
              g = k ? "left" : "top",
              h = k ? "width" : "height",
              l = k ? "clientX" : "clientY",
              d = this.items.length - 1;
            d >= 0;
            d--
          )
            a.contains(this.containers[n].element[0], this.items[d].item[0]) &&
              this.items[d].item[0] !== this.currentItem[0] &&
              ((i = this.items[d].item.offset()[g]),
              (j = !1),
              b[l] - i > this.items[d][h] / 2 && (j = !0),
              Math.abs(b[l] - i) < e &&
                ((e = Math.abs(b[l] - i)),
                (f = this.items[d]),
                (this.direction = j ? "up" : "down")));
          if (!f && !this.options.dropOnEmpty) return;
          if (this.currentContainer === this.containers[n])
            return void (
              this.currentContainer.containerCache.over ||
              (this.containers[n]._trigger("over", b, this._uiHash()),
              (this.currentContainer.containerCache.over = 1))
            );
          f
            ? this._rearrange(b, f, null, !0)
            : this._rearrange(b, null, this.containers[n].element, !0),
            this._trigger("change", b, this._uiHash()),
            this.containers[n]._trigger("change", b, this._uiHash(this)),
            (this.currentContainer = this.containers[n]),
            this.options.placeholder.update(
              this.currentContainer,
              this.placeholder
            ),
            this.containers[n]._trigger("over", b, this._uiHash(this)),
            (this.containers[n].containerCache.over = 1);
        }
    },
    _createHelper: function(b) {
      var c = this.options,
        d = a.isFunction(c.helper)
          ? a(c.helper.apply(this.element[0], [b, this.currentItem]))
          : "clone" === c.helper
            ? this.currentItem.clone()
            : this.currentItem;
      return (
        d.parents("body").length ||
          a(
            "parent" !== c.appendTo
              ? c.appendTo
              : this.currentItem[0].parentNode
          )[0].appendChild(d[0]),
        d[0] === this.currentItem[0] &&
          (this._storedCSS = {
            width: this.currentItem[0].style.width,
            height: this.currentItem[0].style.height,
            position: this.currentItem.css("position"),
            top: this.currentItem.css("top"),
            left: this.currentItem.css("left")
          }),
        (d[0].style.width && !c.forceHelperSize) ||
          d.width(this.currentItem.width()),
        (d[0].style.height && !c.forceHelperSize) ||
          d.height(this.currentItem.height()),
        d
      );
    },
    _adjustOffsetFromHelper: function(b) {
      "string" == typeof b && (b = b.split(" ")),
        a.isArray(b) && (b = { left: +b[0], top: +b[1] || 0 }),
        "left" in b && (this.offset.click.left = b.left + this.margins.left),
        "right" in b &&
          (this.offset.click.left =
            this.helperProportions.width - b.right + this.margins.left),
        "top" in b && (this.offset.click.top = b.top + this.margins.top),
        "bottom" in b &&
          (this.offset.click.top =
            this.helperProportions.height - b.bottom + this.margins.top);
    },
    _getParentOffset: function() {
      this.offsetParent = this.helper.offsetParent();
      var b = this.offsetParent.offset();
      return (
        "absolute" === this.cssPosition &&
          this.scrollParent[0] !== this.document[0] &&
          a.contains(this.scrollParent[0], this.offsetParent[0]) &&
          ((b.left += this.scrollParent.scrollLeft()),
          (b.top += this.scrollParent.scrollTop())),
        (this.offsetParent[0] === this.document[0].body ||
          (this.offsetParent[0].tagName &&
            "html" === this.offsetParent[0].tagName.toLowerCase() &&
            a.ui.ie)) &&
          (b = { top: 0, left: 0 }),
        {
          top:
            b.top +
            (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
          left:
            b.left +
            (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
        }
      );
    },
    _getRelativeOffset: function() {
      if ("relative" === this.cssPosition) {
        var a = this.currentItem.position();
        return {
          top:
            a.top -
            (parseInt(this.helper.css("top"), 10) || 0) +
            this.scrollParent.scrollTop(),
          left:
            a.left -
            (parseInt(this.helper.css("left"), 10) || 0) +
            this.scrollParent.scrollLeft()
        };
      }
      return { top: 0, left: 0 };
    },
    _cacheMargins: function() {
      this.margins = {
        left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
        top: parseInt(this.currentItem.css("marginTop"), 10) || 0
      };
    },
    _cacheHelperProportions: function() {
      this.helperProportions = {
        width: this.helper.outerWidth(),
        height: this.helper.outerHeight()
      };
    },
    _setContainment: function() {
      var b,
        c,
        d,
        e = this.options;
      "parent" === e.containment && (e.containment = this.helper[0].parentNode),
        ("document" !== e.containment && "window" !== e.containment) ||
          (this.containment = [
            0 - this.offset.relative.left - this.offset.parent.left,
            0 - this.offset.relative.top - this.offset.parent.top,
            "document" === e.containment
              ? this.document.width()
              : this.window.width() -
                this.helperProportions.width -
                this.margins.left,
            ("document" === e.containment
              ? this.document.width()
              : this.window.height() ||
                this.document[0].body.parentNode.scrollHeight) -
              this.helperProportions.height -
              this.margins.top
          ]),
        /^(document|window|parent)$/.test(e.containment) ||
          ((b = a(e.containment)[0]),
          (c = a(e.containment).offset()),
          (d = "hidden" !== a(b).css("overflow")),
          (this.containment = [
            c.left +
              (parseInt(a(b).css("borderLeftWidth"), 10) || 0) +
              (parseInt(a(b).css("paddingLeft"), 10) || 0) -
              this.margins.left,
            c.top +
              (parseInt(a(b).css("borderTopWidth"), 10) || 0) +
              (parseInt(a(b).css("paddingTop"), 10) || 0) -
              this.margins.top,
            c.left +
              (d ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) -
              (parseInt(a(b).css("borderLeftWidth"), 10) || 0) -
              (parseInt(a(b).css("paddingRight"), 10) || 0) -
              this.helperProportions.width -
              this.margins.left,
            c.top +
              (d ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) -
              (parseInt(a(b).css("borderTopWidth"), 10) || 0) -
              (parseInt(a(b).css("paddingBottom"), 10) || 0) -
              this.helperProportions.height -
              this.margins.top
          ]));
    },
    _convertPositionTo: function(b, c) {
      c || (c = this.position);
      var d = "absolute" === b ? 1 : -1,
        e =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== this.document[0] &&
            a.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent,
        f = /(html|body)/i.test(e[0].tagName);
      return {
        top:
          c.top +
          this.offset.relative.top * d +
          this.offset.parent.top * d -
          ("fixed" === this.cssPosition
            ? -this.scrollParent.scrollTop()
            : f
              ? 0
              : e.scrollTop()) *
            d,
        left:
          c.left +
          this.offset.relative.left * d +
          this.offset.parent.left * d -
          ("fixed" === this.cssPosition
            ? -this.scrollParent.scrollLeft()
            : f
              ? 0
              : e.scrollLeft()) *
            d
      };
    },
    _generatePosition: function(b) {
      var c,
        d,
        e = this.options,
        f = b.pageX,
        g = b.pageY,
        h =
          "absolute" !== this.cssPosition ||
          (this.scrollParent[0] !== this.document[0] &&
            a.contains(this.scrollParent[0], this.offsetParent[0]))
            ? this.scrollParent
            : this.offsetParent,
        i = /(html|body)/i.test(h[0].tagName);
      return (
        "relative" !== this.cssPosition ||
          (this.scrollParent[0] !== this.document[0] &&
            this.scrollParent[0] !== this.offsetParent[0]) ||
          (this.offset.relative = this._getRelativeOffset()),
        this.originalPosition &&
          (this.containment &&
            (b.pageX - this.offset.click.left < this.containment[0] &&
              (f = this.containment[0] + this.offset.click.left),
            b.pageY - this.offset.click.top < this.containment[1] &&
              (g = this.containment[1] + this.offset.click.top),
            b.pageX - this.offset.click.left > this.containment[2] &&
              (f = this.containment[2] + this.offset.click.left),
            b.pageY - this.offset.click.top > this.containment[3] &&
              (g = this.containment[3] + this.offset.click.top)),
          e.grid &&
            ((c =
              this.originalPageY +
              Math.round((g - this.originalPageY) / e.grid[1]) * e.grid[1]),
            (g = this.containment
              ? c - this.offset.click.top >= this.containment[1] &&
                c - this.offset.click.top <= this.containment[3]
                ? c
                : c - this.offset.click.top >= this.containment[1]
                  ? c - e.grid[1]
                  : c + e.grid[1]
              : c),
            (d =
              this.originalPageX +
              Math.round((f - this.originalPageX) / e.grid[0]) * e.grid[0]),
            (f = this.containment
              ? d - this.offset.click.left >= this.containment[0] &&
                d - this.offset.click.left <= this.containment[2]
                ? d
                : d - this.offset.click.left >= this.containment[0]
                  ? d - e.grid[0]
                  : d + e.grid[0]
              : d))),
        {
          top:
            g -
            this.offset.click.top -
            this.offset.relative.top -
            this.offset.parent.top +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : i
                ? 0
                : h.scrollTop()),
          left:
            f -
            this.offset.click.left -
            this.offset.relative.left -
            this.offset.parent.left +
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : i
                ? 0
                : h.scrollLeft())
        }
      );
    },
    _rearrange: function(a, b, c, d) {
      c
        ? c[0].appendChild(this.placeholder[0])
        : b.item[0].parentNode.insertBefore(
            this.placeholder[0],
            "down" === this.direction ? b.item[0] : b.item[0].nextSibling
          ),
        (this.counter = this.counter ? ++this.counter : 1);
      var e = this.counter;
      this._delay(function() {
        e === this.counter && this.refreshPositions(!d);
      });
    },
    _clear: function(a, b) {
      function c(a, b, c) {
        return function(d) {
          c._trigger(a, d, b._uiHash(b));
        };
      }
      this.reverting = !1;
      var d,
        e = [];
      if (
        (!this._noFinalSort &&
          this.currentItem.parent().length &&
          this.placeholder.before(this.currentItem),
        (this._noFinalSort = null),
        this.helper[0] === this.currentItem[0])
      ) {
        for (d in this._storedCSS)
          ("auto" !== this._storedCSS[d] && "static" !== this._storedCSS[d]) ||
            (this._storedCSS[d] = "");
        this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
      } else this.currentItem.show();
      for (
        this.fromOutside &&
          !b &&
          e.push(function(a) {
            this._trigger("receive", a, this._uiHash(this.fromOutside));
          }),
          (!this.fromOutside &&
            this.domPosition.prev ===
              this.currentItem.prev().not(".ui-sortable-helper")[0] &&
            this.domPosition.parent === this.currentItem.parent()[0]) ||
            b ||
            e.push(function(a) {
              this._trigger("update", a, this._uiHash());
            }),
          this !== this.currentContainer &&
            (b ||
              (e.push(function(a) {
                this._trigger("remove", a, this._uiHash());
              }),
              e.push(
                function(a) {
                  return function(b) {
                    a._trigger("receive", b, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              ),
              e.push(
                function(a) {
                  return function(b) {
                    a._trigger("update", b, this._uiHash(this));
                  };
                }.call(this, this.currentContainer)
              ))),
          d = this.containers.length - 1;
        d >= 0;
        d--
      )
        b || e.push(c("deactivate", this, this.containers[d])),
          this.containers[d].containerCache.over &&
            (e.push(c("out", this, this.containers[d])),
            (this.containers[d].containerCache.over = 0));
      if (
        (this.storedCursor &&
          (this.document.find("body").css("cursor", this.storedCursor),
          this.storedStylesheet.remove()),
        this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
        this._storedZIndex &&
          this.helper.css(
            "zIndex",
            "auto" === this._storedZIndex ? "" : this._storedZIndex
          ),
        (this.dragging = !1),
        b || this._trigger("beforeStop", a, this._uiHash()),
        this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
        this.cancelHelperRemoval ||
          (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
          (this.helper = null)),
        !b)
      ) {
        for (d = 0; d < e.length; d++) e[d].call(this, a);
        this._trigger("stop", a, this._uiHash());
      }
      return (this.fromOutside = !1), !this.cancelHelperRemoval;
    },
    _trigger: function() {
      a.Widget.prototype._trigger.apply(this, arguments) === !1 &&
        this.cancel();
    },
    _uiHash: function(b) {
      var c = b || this;
      return {
        helper: c.helper,
        placeholder: c.placeholder || a([]),
        position: c.position,
        originalPosition: c.originalPosition,
        offset: c.positionAbs,
        item: c.currentItem,
        sender: b ? b.element : null
      };
    }
  });
});
var fabric = fabric || { version: "2.3.2" };
function resizeCanvasIfNeeded(t) {
  var e = t.targetCanvas,
    i = e.width,
    r = e.height,
    n = t.destinationWidth,
    s = t.destinationHeight;
  (i === n && r === s) || ((e.width = n), (e.height = s));
}
function copyGLTo2DDrawImage(t, e) {
  var i = t.canvas,
    r = e.targetCanvas,
    n = r.getContext("2d");
  n.translate(0, r.height), n.scale(1, -1);
  var s = i.height - r.height;
  n.drawImage(i, 0, s, r.width, r.height, 0, 0, r.width, r.height);
}
function copyGLTo2DPutImageData(t, e) {
  var i = e.targetCanvas.getContext("2d"),
    r = e.destinationWidth,
    n = e.destinationHeight,
    s = r * n * 4,
    o = new Uint8Array(this.imageBuffer, 0, s),
    a = new Uint8ClampedArray(this.imageBuffer, 0, s);
  t.readPixels(0, 0, r, n, t.RGBA, t.UNSIGNED_BYTE, o);
  var h = new ImageData(a, r, n);
  i.putImageData(h, 0, 0);
}
"undefined" != typeof exports
  ? (exports.fabric = fabric)
  : "function" == typeof define &&
    define.amd &&
    define([], function() {
      return fabric;
    }),
  "undefined" != typeof document && "undefined" != typeof window
    ? ((fabric.document = document), (fabric.window = window))
    : ((fabric.document = require("jsdom").jsdom(
        decodeURIComponent(
          "%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"
        ),
        { features: { FetchExternalResources: ["img"] } }
      )),
      (fabric.jsdomImplForWrapper = require("jsdom/lib/jsdom/living/generated/utils").implForWrapper),
      (fabric.nodeCanvas = require("jsdom/lib/jsdom/utils").Canvas),
      (fabric.window = fabric.document.defaultView),
      (DOMParser = require("xmldom").DOMParser)),
  (fabric.isTouchSupported = "ontouchstart" in fabric.window),
  (fabric.isLikelyNode =
    "undefined" != typeof Buffer && "undefined" == typeof window),
  (fabric.SHARED_ATTRIBUTES = [
    "display",
    "transform",
    "fill",
    "fill-opacity",
    "fill-rule",
    "opacity",
    "stroke",
    "stroke-dasharray",
    "stroke-linecap",
    "stroke-linejoin",
    "stroke-miterlimit",
    "stroke-opacity",
    "stroke-width",
    "id",
    "paint-order",
    "instantiated_by_use"
  ]),
  (fabric.DPI = 96),
  (fabric.reNum = "(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)"),
  (fabric.fontPaths = {}),
  (fabric.iMatrix = [1, 0, 0, 1, 0, 0]),
  (fabric.canvasModule = "canvas"),
  (fabric.perfLimitSizeTotal = 2097152),
  (fabric.maxCacheSideLimit = 4096),
  (fabric.minCacheSideLimit = 256),
  (fabric.charWidthsCache = {}),
  (fabric.textureSize = 2048),
  (fabric.enableGLFiltering = !0),
  (fabric.devicePixelRatio =
    fabric.window.devicePixelRatio ||
    fabric.window.webkitDevicePixelRatio ||
    fabric.window.mozDevicePixelRatio ||
    1),
  (fabric.browserShadowBlurConstant = 1),
  (fabric.initFilterBackend = function() {
    return fabric.enableGLFiltering &&
      fabric.isWebglSupported &&
      fabric.isWebglSupported(fabric.textureSize)
      ? (console.log("max texture size: " + fabric.maxTextureSize),
        new fabric.WebglFilterBackend({ tileSize: fabric.textureSize }))
      : fabric.Canvas2dFilterBackend
        ? new fabric.Canvas2dFilterBackend()
        : void 0;
  }),
  "undefined" != typeof document &&
    "undefined" != typeof window &&
    (window.fabric = fabric),
  (function() {
    function r(t, e) {
      if (this.__eventListeners[t]) {
        var i = this.__eventListeners[t];
        e ? (i[i.indexOf(e)] = !1) : fabric.util.array.fill(i, !1);
      }
    }
    function t(t, e) {
      if (
        (this.__eventListeners || (this.__eventListeners = {}),
        1 === arguments.length)
      )
        for (var i in t) this.on(i, t[i]);
      else
        this.__eventListeners[t] || (this.__eventListeners[t] = []),
          this.__eventListeners[t].push(e);
      return this;
    }
    function e(t, e) {
      if (this.__eventListeners) {
        if (0 === arguments.length)
          for (t in this.__eventListeners) r.call(this, t);
        else if (1 === arguments.length && "object" == typeof t)
          for (var i in t) r.call(this, i, t[i]);
        else r.call(this, t, e);
        return this;
      }
    }
    function i(t, e) {
      if (this.__eventListeners) {
        var i = this.__eventListeners[t];
        if (i) {
          for (var r = 0, n = i.length; r < n; r++)
            i[r] && i[r].call(this, e || {});
          return (
            (this.__eventListeners[t] = i.filter(function(t) {
              return !1 !== t;
            })),
            this
          );
        }
      }
    }
    fabric.Observable = {
      observe: t,
      stopObserving: e,
      fire: i,
      on: t,
      off: e,
      trigger: i
    };
  })(),
  (fabric.Collection = {
    _objects: [],
    add: function() {
      if (
        (this._objects.push.apply(this._objects, arguments),
        this._onObjectAdded)
      )
        for (var t = 0, e = arguments.length; t < e; t++)
          this._onObjectAdded(arguments[t]);
      return this.renderOnAddRemove && this.requestRenderAll(), this;
    },
    insertAt: function(t, e, i) {
      var r = this.getObjects();
      return (
        i ? (r[e] = t) : r.splice(e, 0, t),
        this._onObjectAdded && this._onObjectAdded(t),
        this.renderOnAddRemove && this.requestRenderAll(),
        this
      );
    },
    remove: function() {
      for (
        var t, e = this.getObjects(), i = !1, r = 0, n = arguments.length;
        r < n;
        r++
      )
        -1 !== (t = e.indexOf(arguments[r])) &&
          ((i = !0),
          e.splice(t, 1),
          this._onObjectRemoved && this._onObjectRemoved(arguments[r]));
      return this.renderOnAddRemove && i && this.requestRenderAll(), this;
    },
    forEachObject: function(t, e) {
      for (var i = this.getObjects(), r = 0, n = i.length; r < n; r++)
        t.call(e, i[r], r, i);
      return this;
    },
    getObjects: function(e) {
      return void 0 === e
        ? this._objects
        : this._objects.filter(function(t) {
            return t.type === e;
          });
    },
    item: function(t) {
      return this.getObjects()[t];
    },
    isEmpty: function() {
      return 0 === this.getObjects().length;
    },
    size: function() {
      return this.getObjects().length;
    },
    contains: function(t) {
      return -1 < this.getObjects().indexOf(t);
    },
    complexity: function() {
      return this.getObjects().reduce(function(t, e) {
        return (t += e.complexity ? e.complexity() : 0);
      }, 0);
    }
  }),
  (fabric.CommonMethods = {
    _setOptions: function(t) {
      for (var e in t) this.set(e, t[e]);
    },
    _initGradient: function(t, e) {
      !t ||
        !t.colorStops ||
        t instanceof fabric.Gradient ||
        this.set(e, new fabric.Gradient(t));
    },
    _initPattern: function(t, e, i) {
      !t || !t.source || t instanceof fabric.Pattern
        ? i && i()
        : this.set(e, new fabric.Pattern(t, i));
    },
    _initClipping: function(t) {
      if (t.clipTo && "string" == typeof t.clipTo) {
        var e = fabric.util.getFunctionBody(t.clipTo);
        void 0 !== e && (this.clipTo = new Function("ctx", e));
      }
    },
    _setObject: function(t) {
      for (var e in t) this._set(e, t[e]);
    },
    set: function(t, e) {
      return (
        "object" == typeof t
          ? this._setObject(t)
          : "function" == typeof e && "clipTo" !== t
            ? this._set(t, e(this.get(t)))
            : this._set(t, e),
        this
      );
    },
    _set: function(t, e) {
      this[t] = e;
    },
    toggle: function(t) {
      var e = this.get(t);
      return "boolean" == typeof e && this.set(t, !e), this;
    },
    get: function(t) {
      return this[t];
    }
  }),
  (function(s) {
    var d = Math.sqrt,
      g = Math.atan2,
      o = Math.pow,
      a = Math.abs,
      h = Math.PI / 180,
      i = Math.PI / 2;
    fabric.util = {
      cos: function(t) {
        if (0 === t) return 1;
        switch ((t < 0 && (t = -t), t / i)) {
          case 1:
          case 3:
            return 0;
          case 2:
            return -1;
        }
        return Math.cos(t);
      },
      sin: function(t) {
        if (0 === t) return 0;
        var e = 1;
        switch ((t < 0 && (e = -1), t / i)) {
          case 1:
            return e;
          case 2:
            return 0;
          case 3:
            return -e;
        }
        return Math.sin(t);
      },
      removeFromArray: function(t, e) {
        var i = t.indexOf(e);
        return -1 !== i && t.splice(i, 1), t;
      },
      getRandomInt: function(t, e) {
        return Math.floor(Math.random() * (e - t + 1)) + t;
      },
      degreesToRadians: function(t) {
        return t * h;
      },
      radiansToDegrees: function(t) {
        return t / h;
      },
      rotatePoint: function(t, e, i) {
        t.subtractEquals(e);
        var r = fabric.util.rotateVector(t, i);
        return new fabric.Point(r.x, r.y).addEquals(e);
      },
      rotateVector: function(t, e) {
        var i = fabric.util.sin(e),
          r = fabric.util.cos(e);
        return { x: t.x * r - t.y * i, y: t.x * i + t.y * r };
      },
      transformPoint: function(t, e, i) {
        return i
          ? new fabric.Point(e[0] * t.x + e[2] * t.y, e[1] * t.x + e[3] * t.y)
          : new fabric.Point(
              e[0] * t.x + e[2] * t.y + e[4],
              e[1] * t.x + e[3] * t.y + e[5]
            );
      },
      makeBoundingBoxFromPoints: function(t) {
        var e = [t[0].x, t[1].x, t[2].x, t[3].x],
          i = fabric.util.array.min(e),
          r = fabric.util.array.max(e) - i,
          n = [t[0].y, t[1].y, t[2].y, t[3].y],
          s = fabric.util.array.min(n);
        return {
          left: i,
          top: s,
          width: r,
          height: fabric.util.array.max(n) - s
        };
      },
      invertTransform: function(t) {
        var e = 1 / (t[0] * t[3] - t[1] * t[2]),
          i = [e * t[3], -e * t[1], -e * t[2], e * t[0]],
          r = fabric.util.transformPoint({ x: t[4], y: t[5] }, i, !0);
        return (i[4] = -r.x), (i[5] = -r.y), i;
      },
      toFixed: function(t, e) {
        return parseFloat(Number(t).toFixed(e));
      },
      parseUnit: function(t, e) {
        var i = /\D{0,2}$/.exec(t),
          r = parseFloat(t);
        switch ((e || (e = fabric.Text.DEFAULT_SVG_FONT_SIZE), i[0])) {
          case "mm":
            return r * fabric.DPI / 25.4;
          case "cm":
            return r * fabric.DPI / 2.54;
          case "in":
            return r * fabric.DPI;
          case "pt":
            return r * fabric.DPI / 72;
          case "pc":
            return r * fabric.DPI / 72 * 12;
          case "em":
            return r * e;
          default:
            return r;
        }
      },
      falseFunction: function() {
        return !1;
      },
      getKlass: function(t, e) {
        return (
          (t = fabric.util.string.camelize(
            t.charAt(0).toUpperCase() + t.slice(1)
          )),
          fabric.util.resolveNamespace(e)[t]
        );
      },
      getSvgAttributes: function(t) {
        var e = ["instantiated_by_use", "style", "id", "class"];
        switch (t) {
          case "linearGradient":
            e = e.concat([
              "x1",
              "y1",
              "x2",
              "y2",
              "gradientUnits",
              "gradientTransform"
            ]);
            break;
          case "radialGradient":
            e = e.concat([
              "gradientUnits",
              "gradientTransform",
              "cx",
              "cy",
              "r",
              "fx",
              "fy",
              "fr"
            ]);
            break;
          case "stop":
            e = e.concat(["offset", "stop-color", "stop-opacity"]);
        }
        return e;
      },
      resolveNamespace: function(t) {
        if (!t) return fabric;
        var e,
          i = t.split("."),
          r = i.length,
          n = s || fabric.window;
        for (e = 0; e < r; ++e) n = n[i[e]];
        return n;
      },
      loadImage: function(t, e, i, r) {
        if (t) {
          var n = fabric.util.createImage(),
            s = function() {
              e && e.call(i, n), (n = n.onload = n.onerror = null);
            };
          (n.onload = s),
            (n.onerror = function() {
              fabric.log("Error loading " + n.src),
                e && e.call(i, null, !0),
                (n = n.onload = n.onerror = null);
            }),
            0 !== t.indexOf("data") && r && (n.crossOrigin = r),
            "data:image/svg" === t.substring(0, 14) &&
              ((n.onload = null), fabric.util.loadImageInDom(n, s)),
            (n.src = t);
        } else e && e.call(i, t);
      },
      loadImageInDom: function(t, e) {
        var i = fabric.document.createElement("div");
        (i.style.width = i.style.height = "1px"),
          (i.style.left = i.style.top = "-100%"),
          (i.style.position = "absolute"),
          i.appendChild(t),
          fabric.document.querySelector("body").appendChild(i),
          (t.onload = function() {
            e(), i.parentNode.removeChild(i), (i = null);
          });
      },
      enlivenObjects: function(t, e, n, s) {
        function o() {
          ++i === r && e && e(a);
        }
        var a = [],
          i = 0,
          r = (t = t || []).length;
        r
          ? t.forEach(function(i, r) {
              i && i.type
                ? fabric.util.getKlass(i.type, n).fromObject(i, function(t, e) {
                    e || (a[r] = t), s && s(i, t, e), o();
                  })
                : o();
            })
          : e && e(a);
      },
      enlivenPatterns: function(t, e) {
        function i() {
          ++n === s && e && e(r);
        }
        var r = [],
          n = 0,
          s = (t = t || []).length;
        s
          ? t.forEach(function(t, e) {
              t && t.source
                ? new fabric.Pattern(t, function(t) {
                    (r[e] = t), i();
                  })
                : ((r[e] = t), i());
            })
          : e && e(r);
      },
      groupSVGElements: function(t, e, i) {
        var r;
        return 1 === t.length
          ? t[0]
          : (e &&
              (e.width && e.height
                ? (e.centerPoint = { x: e.width / 2, y: e.height / 2 })
                : (delete e.width, delete e.height)),
            (r = new fabric.Group(t, e)),
            void 0 !== i && (r.sourcePath = i),
            r);
      },
      populateWithProperties: function(t, e, i) {
        if (i && "[object Array]" === Object.prototype.toString.call(i))
          for (var r = 0, n = i.length; r < n; r++)
            i[r] in t && (e[i[r]] = t[i[r]]);
      },
      drawDashedLine: function(t, e, i, r, n, s) {
        var o = r - e,
          a = n - i,
          h = d(o * o + a * a),
          c = g(a, o),
          l = s.length,
          u = 0,
          f = !0;
        for (
          t.save(), t.translate(e, i), t.moveTo(0, 0), t.rotate(c), e = 0;
          e < h;

        )
          h < (e += s[u++ % l]) && (e = h),
            t[f ? "lineTo" : "moveTo"](e, 0),
            (f = !f);
        t.restore();
      },
      createCanvasElement: function() {
        return fabric.document.createElement("canvas");
      },
      createImage: function() {
        return fabric.document.createElement("img");
      },
      clipContext: function(t, e) {
        e.save(), e.beginPath(), t.clipTo(e), e.clip();
      },
      multiplyTransformMatrices: function(t, e, i) {
        return [
          t[0] * e[0] + t[2] * e[1],
          t[1] * e[0] + t[3] * e[1],
          t[0] * e[2] + t[2] * e[3],
          t[1] * e[2] + t[3] * e[3],
          i ? 0 : t[0] * e[4] + t[2] * e[5] + t[4],
          i ? 0 : t[1] * e[4] + t[3] * e[5] + t[5]
        ];
      },
      qrDecompose: function(t) {
        var e = g(t[1], t[0]),
          i = o(t[0], 2) + o(t[1], 2),
          r = d(i),
          n = (t[0] * t[3] - t[2] * t[1]) / r,
          s = g(t[0] * t[2] + t[1] * t[3], i);
        return {
          angle: e / h,
          scaleX: r,
          scaleY: n,
          skewX: s / h,
          skewY: 0,
          translateX: t[4],
          translateY: t[5]
        };
      },
      customTransformMatrix: function(t, e, i) {
        var r = [1, 0, a(Math.tan(i * h)), 1],
          n = [a(t), 0, 0, a(e)];
        return fabric.util.multiplyTransformMatrices(n, r, !0);
      },
      resetObjectTransform: function(t) {
        (t.scaleX = 1),
          (t.scaleY = 1),
          (t.skewX = 0),
          (t.skewY = 0),
          (t.flipX = !1),
          (t.flipY = !1),
          t.rotate(0);
      },
      getFunctionBody: function(t) {
        return (String(t).match(/function[^{]*\{([\s\S]*)\}/) || {})[1];
      },
      isTransparent: function(t, e, i, r) {
        0 < r && (r < e ? (e -= r) : (e = 0), r < i ? (i -= r) : (i = 0));
        var n,
          s = !0,
          o = t.getImageData(e, i, 2 * r || 1, 2 * r || 1),
          a = o.data.length;
        for (n = 3; n < a && !1 !== (s = o.data[n] <= 0); n += 4);
        return (o = null), s;
      },
      parsePreserveAspectRatioAttribute: function(t) {
        var e,
          i = "meet",
          r = t.split(" ");
        return (
          r &&
            r.length &&
            ("meet" !== (i = r.pop()) && "slice" !== i
              ? ((e = i), (i = "meet"))
              : r.length && (e = r.pop())),
          {
            meetOrSlice: i,
            alignX: "none" !== e ? e.slice(1, 4) : "none",
            alignY: "none" !== e ? e.slice(5, 8) : "none"
          }
        );
      },
      clearFabricFontCache: function(t) {
        (t = (t || "").toLowerCase())
          ? fabric.charWidthsCache[t] && delete fabric.charWidthsCache[t]
          : (fabric.charWidthsCache = {});
      },
      limitDimsByArea: function(t, e) {
        var i = Math.sqrt(e * t),
          r = Math.floor(e / i);
        return { x: Math.floor(i), y: r };
      },
      capValue: function(t, e, i) {
        return Math.max(t, Math.min(e, i));
      },
      findScaleToFit: function(t, e) {
        return Math.min(e.width / t.width, e.height / t.height);
      },
      findScaleToCover: function(t, e) {
        return Math.max(e.width / t.width, e.height / t.height);
      }
    };
  })("undefined" != typeof exports ? exports : this),
  (function() {
    var I = {},
      C = {},
      j = {},
      L = Array.prototype.join;
    function v(t, e, i, r, n, s, o) {
      var a = L.call(arguments);
      if (I[a]) return I[a];
      var h = Math.PI,
        c = o * h / 180,
        l = fabric.util.sin(c),
        u = fabric.util.cos(c),
        f = 0,
        d = 0,
        g = -u * t * 0.5 - l * e * 0.5,
        p = -u * e * 0.5 + l * t * 0.5,
        v = (i = Math.abs(i)) * i,
        m = (r = Math.abs(r)) * r,
        b = p * p,
        _ = g * g,
        y = v * m - v * b - m * _,
        x = 0;
      if (y < 0) {
        var C = Math.sqrt(1 - y / (v * m));
        (i *= C), (r *= C);
      } else x = (n === s ? -1 : 1) * Math.sqrt(y / (v * b + m * _));
      var S = x * i * p / r,
        w = -x * r * g / i,
        T = u * S - l * w + 0.5 * t,
        O = l * S + u * w + 0.5 * e,
        k = B(1, 0, (g - S) / i, (p - w) / r),
        D = B((g - S) / i, (p - w) / r, (-g - S) / i, (-p - w) / r);
      0 === s && 0 < D ? (D -= 2 * h) : 1 === s && D < 0 && (D += 2 * h);
      for (
        var E = Math.ceil(Math.abs(D / h * 2)),
          j = [],
          A = D / E,
          P = 8 / 3 * Math.sin(A / 4) * Math.sin(A / 4) / Math.sin(A / 2),
          F = k + A,
          M = 0;
        M < E;
        M++
      )
        (j[M] = R(k, F, u, l, i, r, T, O, P, f, d)),
          (f = j[M][4]),
          (d = j[M][5]),
          (k = F),
          (F += A);
      return (I[a] = j);
    }
    function R(t, e, i, r, n, s, o, a, h, c, l) {
      var u = L.call(arguments);
      if (C[u]) return C[u];
      var f = fabric.util.cos(t),
        d = fabric.util.sin(t),
        g = fabric.util.cos(e),
        p = fabric.util.sin(e),
        v = i * n * g - r * s * p + o,
        m = r * n * g + i * s * p + a,
        b = c + h * (-i * n * d - r * s * f),
        _ = l + h * (-r * n * d + i * s * f),
        y = v + h * (i * n * p + r * s * g),
        x = m + h * (r * n * p - i * s * g);
      return (C[u] = [b, _, y, x, v, m]), C[u];
    }
    function B(t, e, i, r) {
      var n = Math.atan2(e, t),
        s = Math.atan2(r, i);
      return n <= s ? s - n : 2 * Math.PI - (n - s);
    }
    function m(t, e, i, r, n, s, o, a) {
      var h = L.call(arguments);
      if (j[h]) return j[h];
      var c,
        l,
        u,
        f,
        d,
        g,
        p,
        v,
        m = Math.sqrt,
        b = Math.min,
        _ = Math.max,
        y = Math.abs,
        x = [],
        C = [[], []];
      (l = 6 * t - 12 * i + 6 * n),
        (c = -3 * t + 9 * i - 9 * n + 3 * o),
        (u = 3 * i - 3 * t);
      for (var S = 0; S < 2; ++S)
        if (
          (0 < S &&
            ((l = 6 * e - 12 * r + 6 * s),
            (c = -3 * e + 9 * r - 9 * s + 3 * a),
            (u = 3 * r - 3 * e)),
          y(c) < 1e-12)
        ) {
          if (y(l) < 1e-12) continue;
          0 < (f = -u / l) && f < 1 && x.push(f);
        } else
          (p = l * l - 4 * u * c) < 0 ||
            (0 < (d = (-l + (v = m(p))) / (2 * c)) && d < 1 && x.push(d),
            0 < (g = (-l - v) / (2 * c)) && g < 1 && x.push(g));
      for (var w, T, O, k = x.length, D = k; k--; )
        (w =
          (O = 1 - (f = x[k])) * O * O * t +
          3 * O * O * f * i +
          3 * O * f * f * n +
          f * f * f * o),
          (C[0][k] = w),
          (T =
            O * O * O * e +
            3 * O * O * f * r +
            3 * O * f * f * s +
            f * f * f * a),
          (C[1][k] = T);
      (C[0][D] = t), (C[1][D] = e), (C[0][D + 1] = o), (C[1][D + 1] = a);
      var E = [
        { x: b.apply(null, C[0]), y: b.apply(null, C[1]) },
        { x: _.apply(null, C[0]), y: _.apply(null, C[1]) }
      ];
      return (j[h] = E);
    }
    (fabric.util.drawArc = function(t, e, i, r) {
      for (
        var n = r[0],
          s = r[1],
          o = r[2],
          a = r[3],
          h = r[4],
          c = [[], [], [], []],
          l = v(r[5] - e, r[6] - i, n, s, a, h, o),
          u = 0,
          f = l.length;
        u < f;
        u++
      )
        (c[u][0] = l[u][0] + e),
          (c[u][1] = l[u][1] + i),
          (c[u][2] = l[u][2] + e),
          (c[u][3] = l[u][3] + i),
          (c[u][4] = l[u][4] + e),
          (c[u][5] = l[u][5] + i),
          t.bezierCurveTo.apply(t, c[u]);
    }),
      (fabric.util.getBoundsOfArc = function(t, e, i, r, n, s, o, a, h) {
        for (
          var c,
            l = 0,
            u = 0,
            f = [],
            d = v(a - t, h - e, i, r, s, o, n),
            g = 0,
            p = d.length;
          g < p;
          g++
        )
          (c = m(l, u, d[g][0], d[g][1], d[g][2], d[g][3], d[g][4], d[g][5])),
            f.push({ x: c[0].x + t, y: c[0].y + e }),
            f.push({ x: c[1].x + t, y: c[1].y + e }),
            (l = d[g][4]),
            (u = d[g][5]);
        return f;
      }),
      (fabric.util.getBoundsOfCurve = m);
  })(),
  (function() {
    var o = Array.prototype.slice;
    function i(t, e, i) {
      if (t && 0 !== t.length) {
        var r = t.length - 1,
          n = e ? t[r][e] : t[r];
        if (e) for (; r--; ) i(t[r][e], n) && (n = t[r][e]);
        else for (; r--; ) i(t[r], n) && (n = t[r]);
        return n;
      }
    }
    fabric.util.array = {
      fill: function(t, e) {
        for (var i = t.length; i--; ) t[i] = e;
        return t;
      },
      invoke: function(t, e) {
        for (
          var i = o.call(arguments, 2), r = [], n = 0, s = t.length;
          n < s;
          n++
        )
          r[n] = i.length ? t[n][e].apply(t[n], i) : t[n][e].call(t[n]);
        return r;
      },
      min: function(t, e) {
        return i(t, e, function(t, e) {
          return t < e;
        });
      },
      max: function(t, e) {
        return i(t, e, function(t, e) {
          return e <= t;
        });
      }
    };
  })(),
  (function() {
    function o(t, e, i) {
      if (i)
        if (!fabric.isLikelyNode && e instanceof Element) t = e;
        else if (e instanceof Array) {
          t = [];
          for (var r = 0, n = e.length; r < n; r++) t[r] = o({}, e[r], i);
        } else if (e && "object" == typeof e)
          for (var s in e) e.hasOwnProperty(s) && (t[s] = o({}, e[s], i));
        else t = e;
      else for (var s in e) t[s] = e[s];
      return t;
    }
    (fabric.util.object = {
      extend: o,
      clone: function(t, e) {
        return o({}, t, e);
      }
    }),
      fabric.util.object.extend(fabric.util, fabric.Observable);
  })(),
  (function() {
    function n(t, e) {
      var i = t.charCodeAt(e);
      if (isNaN(i)) return "";
      if (i < 55296 || 57343 < i) return t.charAt(e);
      if (55296 <= i && i <= 56319) {
        if (t.length <= e + 1)
          throw "High surrogate without following low surrogate";
        var r = t.charCodeAt(e + 1);
        if (r < 56320 || 57343 < r)
          throw "High surrogate without following low surrogate";
        return t.charAt(e) + t.charAt(e + 1);
      }
      if (0 === e) throw "Low surrogate without preceding high surrogate";
      var n = t.charCodeAt(e - 1);
      if (n < 55296 || 56319 < n)
        throw "Low surrogate without preceding high surrogate";
      return !1;
    }
    fabric.util.string = {
      camelize: function(t) {
        return t.replace(/-+(.)?/g, function(t, e) {
          return e ? e.toUpperCase() : "";
        });
      },
      capitalize: function(t, e) {
        return (
          t.charAt(0).toUpperCase() +
          (e ? t.slice(1) : t.slice(1).toLowerCase())
        );
      },
      escapeXml: function(t) {
        return t
          .replace(/&/g, "&amp;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&apos;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");
      },
      graphemeSplit: function(t) {
        var e,
          i = 0,
          r = [];
        for (i = 0; i < t.length; i++) !1 !== (e = n(t, i)) && r.push(e);
        return r;
      }
    };
  })(),
  (function() {
    var s = Array.prototype.slice,
      o = function() {},
      i = (function() {
        for (var t in { toString: 1 }) if ("toString" === t) return !1;
        return !0;
      })(),
      a = function(t, r, n) {
        for (var e in r)
          e in t.prototype &&
          "function" == typeof t.prototype[e] &&
          -1 < (r[e] + "").indexOf("callSuper")
            ? (t.prototype[e] = (function(i) {
                return function() {
                  var t = this.constructor.superclass;
                  this.constructor.superclass = n;
                  var e = r[i].apply(this, arguments);
                  if (((this.constructor.superclass = t), "initialize" !== i))
                    return e;
                };
              })(e))
            : (t.prototype[e] = r[e]),
            i &&
              (r.toString !== Object.prototype.toString &&
                (t.prototype.toString = r.toString),
              r.valueOf !== Object.prototype.valueOf &&
                (t.prototype.valueOf = r.valueOf));
      };
    function h() {}
    function c(t) {
      for (var e = null, i = this; i.constructor.superclass; ) {
        var r = i.constructor.superclass.prototype[t];
        if (i[t] !== r) {
          e = r;
          break;
        }
        i = i.constructor.superclass.prototype;
      }
      return e
        ? 1 < arguments.length
          ? e.apply(this, s.call(arguments, 1))
          : e.call(this)
        : console.log(
            "tried to callSuper " + t + ", method not found in prototype chain",
            this
          );
    }
    fabric.util.createClass = function() {
      var t = null,
        e = s.call(arguments, 0);
      function i() {
        this.initialize.apply(this, arguments);
      }
      "function" == typeof e[0] && (t = e.shift()),
        (i.superclass = t),
        (i.subclasses = []),
        t &&
          ((h.prototype = t.prototype),
          (i.prototype = new h()),
          t.subclasses.push(i));
      for (var r = 0, n = e.length; r < n; r++) a(i, e[r], t);
      return (
        i.prototype.initialize || (i.prototype.initialize = o),
        ((i.prototype.constructor = i).prototype.callSuper = c),
        i
      );
    };
  })(),
  (function() {
    function t(t) {
      var e,
        i,
        r = Array.prototype.slice.call(arguments, 1),
        n = r.length;
      for (i = 0; i < n; i++)
        if (((e = typeof t[r[i]]), !/^(?:function|object|unknown)$/.test(e)))
          return !1;
      return !0;
    }
    var n,
      s,
      e,
      i,
      a = ((e = 0),
      function(t) {
        return t.__uniqueID || (t.__uniqueID = "uniqueID__" + e++);
      });
    function o(t, e) {
      return {
        handler: e,
        wrappedHandler: ((i = t),
        (r = e),
        function(t) {
          r.call(n(i), t || fabric.window.event);
        })
      };
      var i, r;
    }
    (i = {}),
      (n = function(t) {
        return i[t];
      }),
      (s = function(t, e) {
        i[t] = e;
      });
    var r,
      h,
      c =
        t(
          fabric.document.documentElement,
          "addEventListener",
          "removeEventListener"
        ) && t(fabric.window, "addEventListener", "removeEventListener"),
      l =
        t(fabric.document.documentElement, "attachEvent", "detachEvent") &&
        t(fabric.window, "attachEvent", "detachEvent"),
      u = {},
      f = {};
    c
      ? ((r = function(t, e, i, r) {
          t && t.addEventListener(e, i, !l && r);
        }),
        (h = function(t, e, i, r) {
          t && t.removeEventListener(e, i, !l && r);
        }))
      : l
        ? ((r = function(t, e, i) {
            if (t) {
              var r = a(t);
              s(r, t), u[r] || (u[r] = {}), u[r][e] || (u[r][e] = []);
              var n = o(r, i);
              u[r][e].push(n), t.attachEvent("on" + e, n.wrappedHandler);
            }
          }),
          (h = function(t, e, i) {
            if (t) {
              var r,
                n = a(t);
              if (u[n] && u[n][e])
                for (var s = 0, o = u[n][e].length; s < o; s++)
                  (r = u[n][e][s]) &&
                    r.handler === i &&
                    (t.detachEvent("on" + e, r.wrappedHandler),
                    (u[n][e][s] = null));
            }
          }))
        : ((r = function(t, e, i) {
            if (t) {
              var n,
                s,
                r = a(t);
              if ((f[r] || (f[r] = {}), !f[r][e])) {
                f[r][e] = [];
                var o = t["on" + e];
                o && f[r][e].push(o),
                  (t["on" + e] = ((n = r),
                  (s = e),
                  function(t) {
                    if (f[n] && f[n][s])
                      for (var e = f[n][s], i = 0, r = e.length; i < r; i++)
                        e[i].call(this, t || fabric.window.event);
                  }));
              }
              f[r][e].push(i);
            }
          }),
          (h = function(t, e, i) {
            if (t) {
              var r = a(t);
              if (f[r] && f[r][e])
                for (var n = f[r][e], s = 0, o = n.length; s < o; s++)
                  n[s] === i && n.splice(s, 1);
            }
          })),
      (fabric.util.addListener = r),
      (fabric.util.removeListener = h);
    var d = function(t) {
        return t.clientX;
      },
      g = function(t) {
        return t.clientY;
      };
    function p(t, e, i) {
      var r,
        n = t["touchend" === t.type ? "changedTouches" : "touches"];
      return n && n[0] && (r = n[0][i]), void 0 === r && (r = t[i]), r;
    }
    fabric.isTouchSupported &&
      ((d = function(t) {
        return p(t, 0, "clientX");
      }),
      (g = function(t) {
        return p(t, 0, "clientY");
      })),
      (fabric.util.getPointer = function(t) {
        t || (t = fabric.window.event);
        var e =
            t.target ||
            ("unknown" != typeof t.srcElement ? t.srcElement : null),
          i = fabric.util.getScrollLeftTop(e);
        return { x: d(t) + i.left, y: g(t) + i.top };
      });
  })(),
  (function() {
    var t = fabric.document.createElement("div"),
      e = "string" == typeof t.style.opacity,
      i = "string" == typeof t.style.filter,
      r = /alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,
      n = function(t) {
        return t;
      };
    e
      ? (n = function(t, e) {
          return (t.style.opacity = e), t;
        })
      : i &&
        (n = function(t, e) {
          var i = t.style;
          return (
            t.currentStyle && !t.currentStyle.hasLayout && (i.zoom = 1),
            r.test(i.filter)
              ? ((e = 0.9999 <= e ? "" : "alpha(opacity=" + 100 * e + ")"),
                (i.filter = i.filter.replace(r, e)))
              : (i.filter += " alpha(opacity=" + 100 * e + ")"),
            t
          );
        }),
      (fabric.util.setStyle = function(t, e) {
        var i = t.style;
        if (!i) return t;
        if ("string" == typeof e)
          return (
            (t.style.cssText += ";" + e),
            -1 < e.indexOf("opacity")
              ? n(t, e.match(/opacity:\s*(\d?\.?\d*)/)[1])
              : t
          );
        for (var r in e)
          "opacity" === r
            ? n(t, e[r])
            : (i[
                "float" === r || "cssFloat" === r
                  ? void 0 === i.styleFloat
                    ? "cssFloat"
                    : "styleFloat"
                  : r
              ] =
                e[r]);
        return t;
      });
  })(),
  (function() {
    var e = Array.prototype.slice;
    var t,
      h,
      i,
      r,
      n = function(t) {
        return e.call(t, 0);
      };
    try {
      t = n(fabric.document.childNodes) instanceof Array;
    } catch (t) {}
    function s(t, e) {
      var i = fabric.document.createElement(t);
      for (var r in e)
        "class" === r
          ? (i.className = e[r])
          : "for" === r
            ? (i.htmlFor = e[r])
            : i.setAttribute(r, e[r]);
      return i;
    }
    function c(t) {
      for (
        var e = 0,
          i = 0,
          r = fabric.document.documentElement,
          n = fabric.document.body || { scrollLeft: 0, scrollTop: 0 };
        t &&
        (t.parentNode || t.host) &&
        ((t = t.parentNode || t.host) === fabric.document
          ? ((e = n.scrollLeft || r.scrollLeft || 0),
            (i = n.scrollTop || r.scrollTop || 0))
          : ((e += t.scrollLeft || 0), (i += t.scrollTop || 0)),
        1 !== t.nodeType || "fixed" !== t.style.position);

      );
      return { left: e, top: i };
    }
    t ||
      (n = function(t) {
        for (var e = new Array(t.length), i = t.length; i--; ) e[i] = t[i];
        return e;
      }),
      (h =
        fabric.document.defaultView &&
        fabric.document.defaultView.getComputedStyle
          ? function(t, e) {
              var i = fabric.document.defaultView.getComputedStyle(t, null);
              return i ? i[e] : void 0;
            }
          : function(t, e) {
              var i = t.style[e];
              return !i && t.currentStyle && (i = t.currentStyle[e]), i;
            }),
      (i = fabric.document.documentElement.style),
      (r =
        "userSelect" in i
          ? "userSelect"
          : "MozUserSelect" in i
            ? "MozUserSelect"
            : "WebkitUserSelect" in i
              ? "WebkitUserSelect"
              : "KhtmlUserSelect" in i
                ? "KhtmlUserSelect"
                : ""),
      (fabric.util.makeElementUnselectable = function(t) {
        return (
          void 0 !== t.onselectstart &&
            (t.onselectstart = fabric.util.falseFunction),
          r
            ? (t.style[r] = "none")
            : "string" == typeof t.unselectable && (t.unselectable = "on"),
          t
        );
      }),
      (fabric.util.makeElementSelectable = function(t) {
        return (
          void 0 !== t.onselectstart && (t.onselectstart = null),
          r
            ? (t.style[r] = "")
            : "string" == typeof t.unselectable && (t.unselectable = ""),
          t
        );
      }),
      (fabric.util.getScript = function(t, e) {
        var i = fabric.document.getElementsByTagName("head")[0],
          r = fabric.document.createElement("script"),
          n = !0;
        (r.onload = r.onreadystatechange = function(t) {
          if (n) {
            if (
              "string" == typeof this.readyState &&
              "loaded" !== this.readyState &&
              "complete" !== this.readyState
            )
              return;
            (n = !1),
              e(t || fabric.window.event),
              (r = r.onload = r.onreadystatechange = null);
          }
        }),
          (r.src = t),
          i.appendChild(r);
      }),
      (fabric.util.getById = function(t) {
        return "string" == typeof t ? fabric.document.getElementById(t) : t;
      }),
      (fabric.util.toArray = n),
      (fabric.util.makeElement = s),
      (fabric.util.addClass = function(t, e) {
        t &&
          -1 === (" " + t.className + " ").indexOf(" " + e + " ") &&
          (t.className += (t.className ? " " : "") + e);
      }),
      (fabric.util.wrapElement = function(t, e, i) {
        return (
          "string" == typeof e && (e = s(e, i)),
          t.parentNode && t.parentNode.replaceChild(e, t),
          e.appendChild(t),
          e
        );
      }),
      (fabric.util.getScrollLeftTop = c),
      (fabric.util.getElementOffset = function(t) {
        var e,
          i,
          r = t && t.ownerDocument,
          n = { left: 0, top: 0 },
          s = { left: 0, top: 0 },
          o = {
            borderLeftWidth: "left",
            borderTopWidth: "top",
            paddingLeft: "left",
            paddingTop: "top"
          };
        if (!r) return s;
        for (var a in o) s[o[a]] += parseInt(h(t, a), 10) || 0;
        return (
          (e = r.documentElement),
          void 0 !== t.getBoundingClientRect && (n = t.getBoundingClientRect()),
          (i = c(t)),
          {
            left: n.left + i.left - (e.clientLeft || 0) + s.left,
            top: n.top + i.top - (e.clientTop || 0) + s.top
          }
        );
      }),
      (fabric.util.getElementStyle = h),
      (fabric.util.getNodeCanvas = function(t) {
        var e = fabric.jsdomImplForWrapper(t);
        return e._canvas || e._image;
      });
  })(),
  (function() {
    var h = (function() {
      for (
        var t = [
            function() {
              return new ActiveXObject("Microsoft.XMLHTTP");
            },
            function() {
              return new ActiveXObject("Msxml2.XMLHTTP");
            },
            function() {
              return new ActiveXObject("Msxml2.XMLHTTP.3.0");
            },
            function() {
              return new XMLHttpRequest();
            }
          ],
          e = t.length;
        e--;

      )
        try {
          if (t[e]()) return t[e];
        } catch (t) {}
    })();
    function c() {}
    fabric.util.request = function(t, e) {
      e || (e = {});
      var i,
        r,
        n = e.method ? e.method.toUpperCase() : "GET",
        s = e.onComplete || function() {},
        o = h(),
        a = e.body || e.parameters;
      return (
        (o.onreadystatechange = function() {
          4 === o.readyState && (s(o), (o.onreadystatechange = c));
        }),
        "GET" === n &&
          ((a = null),
          "string" == typeof e.parameters &&
            ((i = t),
            (r = e.parameters),
            (t = i + (/\?/.test(i) ? "&" : "?") + r))),
        o.open(n, t, !0),
        ("POST" !== n && "PUT" !== n) ||
          o.setRequestHeader(
            "Content-Type",
            "application/x-www-form-urlencoded"
          ),
        o.send(a),
        o
      );
    };
  })(),
  (fabric.log = function() {}),
  (fabric.warn = function() {}),
  "undefined" != typeof console &&
    ["log", "warn"].forEach(function(t) {
      void 0 !== console[t] &&
        "function" == typeof console[t].apply &&
        (fabric[t] = function() {
          return console[t].apply(console, arguments);
        });
    }),
  (function() {
    function e() {
      return !1;
    }
    var t =
        fabric.window.requestAnimationFrame ||
        fabric.window.webkitRequestAnimationFrame ||
        fabric.window.mozRequestAnimationFrame ||
        fabric.window.oRequestAnimationFrame ||
        fabric.window.msRequestAnimationFrame ||
        function(t) {
          return fabric.window.setTimeout(t, 1e3 / 60);
        },
      i = fabric.window.cancelAnimationFrame || fabric.window.clearTimeout;
    function b() {
      return t.apply(fabric.window, arguments);
    }
    (fabric.util.animate = function(m) {
      b(function(t) {
        m || (m = {});
        var o,
          a = t || +new Date(),
          h = m.duration || 500,
          c = a + h,
          l = m.onChange || e,
          u = m.abort || e,
          f = m.onComplete || e,
          d =
            m.easing ||
            function(t, e, i, r) {
              return -i * Math.cos(t / r * (Math.PI / 2)) + i + e;
            },
          g = "startValue" in m ? m.startValue : 0,
          p = "endValue" in m ? m.endValue : 100,
          v = m.byValue || p - g;
        m.onStart && m.onStart(),
          (function t(e) {
            if (u()) f(p, 1, 1);
            else {
              o = e || +new Date();
              var i = c < o ? h : o - a,
                r = i / h,
                n = d(i, g, v, h),
                s = Math.abs((n - g) / v);
              l(n, s, r), c < o ? m.onComplete && m.onComplete() : b(t);
            }
          })(a);
      });
    }),
      (fabric.util.requestAnimFrame = b),
      (fabric.util.cancelAnimFrame = function() {
        return i.apply(fabric.window, arguments);
      });
  })(),
  (fabric.util.animateColor = function(t, e, i, c) {
    var r = new fabric.Color(t).getSource(),
      n = new fabric.Color(e).getSource();
    (c = c || {}),
      fabric.util.animate(
        fabric.util.object.extend(c, {
          duration: i || 500,
          startValue: r,
          endValue: n,
          byValue: n,
          easing: function(t, e, i, r) {
            var n,
              s,
              o,
              a,
              h = c.colorEasing
                ? c.colorEasing(t, r)
                : 1 - Math.cos(t / r * (Math.PI / 2));
            return (
              (n = e),
              (s = i),
              (o = h),
              (a =
                "rgba(" +
                parseInt(n[0] + o * (s[0] - n[0]), 10) +
                "," +
                parseInt(n[1] + o * (s[1] - n[1]), 10) +
                "," +
                parseInt(n[2] + o * (s[2] - n[2]), 10)),
              (a += "," + (n && s ? parseFloat(n[3] + o * (s[3] - n[3])) : 1)),
              (a += ")")
            );
          }
        })
      );
  }),
  (function() {
    function o(t, e, i, r) {
      return (
        t < Math.abs(e)
          ? ((t = e), (r = i / 4))
          : (r =
              0 === e && 0 === t
                ? i / (2 * Math.PI) * Math.asin(1)
                : i / (2 * Math.PI) * Math.asin(e / t)),
        { a: t, c: e, p: i, s: r }
      );
    }
    function a(t, e, i) {
      return (
        t.a *
        Math.pow(2, 10 * (e -= 1)) *
        Math.sin((e * i - t.s) * (2 * Math.PI) / t.p)
      );
    }
    function n(t, e, i, r) {
      return i - s(r - t, 0, i, r) + e;
    }
    function s(t, e, i, r) {
      return (t /= r) < 1 / 2.75
        ? i * (7.5625 * t * t) + e
        : t < 2 / 2.75
          ? i * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + e
          : t < 2.5 / 2.75
            ? i * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + e
            : i * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + e;
    }
    fabric.util.ease = {
      easeInQuad: function(t, e, i, r) {
        return i * (t /= r) * t + e;
      },
      easeOutQuad: function(t, e, i, r) {
        return -i * (t /= r) * (t - 2) + e;
      },
      easeInOutQuad: function(t, e, i, r) {
        return (t /= r / 2) < 1
          ? i / 2 * t * t + e
          : -i / 2 * (--t * (t - 2) - 1) + e;
      },
      easeInCubic: function(t, e, i, r) {
        return i * (t /= r) * t * t + e;
      },
      easeOutCubic: function(t, e, i, r) {
        return i * ((t = t / r - 1) * t * t + 1) + e;
      },
      easeInOutCubic: function(t, e, i, r) {
        return (t /= r / 2) < 1
          ? i / 2 * t * t * t + e
          : i / 2 * ((t -= 2) * t * t + 2) + e;
      },
      easeInQuart: function(t, e, i, r) {
        return i * (t /= r) * t * t * t + e;
      },
      easeOutQuart: function(t, e, i, r) {
        return -i * ((t = t / r - 1) * t * t * t - 1) + e;
      },
      easeInOutQuart: function(t, e, i, r) {
        return (t /= r / 2) < 1
          ? i / 2 * t * t * t * t + e
          : -i / 2 * ((t -= 2) * t * t * t - 2) + e;
      },
      easeInQuint: function(t, e, i, r) {
        return i * (t /= r) * t * t * t * t + e;
      },
      easeOutQuint: function(t, e, i, r) {
        return i * ((t = t / r - 1) * t * t * t * t + 1) + e;
      },
      easeInOutQuint: function(t, e, i, r) {
        return (t /= r / 2) < 1
          ? i / 2 * t * t * t * t * t + e
          : i / 2 * ((t -= 2) * t * t * t * t + 2) + e;
      },
      easeInSine: function(t, e, i, r) {
        return -i * Math.cos(t / r * (Math.PI / 2)) + i + e;
      },
      easeOutSine: function(t, e, i, r) {
        return i * Math.sin(t / r * (Math.PI / 2)) + e;
      },
      easeInOutSine: function(t, e, i, r) {
        return -i / 2 * (Math.cos(Math.PI * t / r) - 1) + e;
      },
      easeInExpo: function(t, e, i, r) {
        return 0 === t ? e : i * Math.pow(2, 10 * (t / r - 1)) + e;
      },
      easeOutExpo: function(t, e, i, r) {
        return t === r ? e + i : i * (1 - Math.pow(2, -10 * t / r)) + e;
      },
      easeInOutExpo: function(t, e, i, r) {
        return 0 === t
          ? e
          : t === r
            ? e + i
            : (t /= r / 2) < 1
              ? i / 2 * Math.pow(2, 10 * (t - 1)) + e
              : i / 2 * (2 - Math.pow(2, -10 * --t)) + e;
      },
      easeInCirc: function(t, e, i, r) {
        return -i * (Math.sqrt(1 - (t /= r) * t) - 1) + e;
      },
      easeOutCirc: function(t, e, i, r) {
        return i * Math.sqrt(1 - (t = t / r - 1) * t) + e;
      },
      easeInOutCirc: function(t, e, i, r) {
        return (t /= r / 2) < 1
          ? -i / 2 * (Math.sqrt(1 - t * t) - 1) + e
          : i / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + e;
      },
      easeInElastic: function(t, e, i, r) {
        var n = 0;
        return 0 === t
          ? e
          : 1 == (t /= r)
            ? e + i
            : (n || (n = 0.3 * r), -a(o(i, i, n, 1.70158), t, r) + e);
      },
      easeOutElastic: function(t, e, i, r) {
        var n = 0;
        if (0 === t) return e;
        if (1 == (t /= r)) return e + i;
        n || (n = 0.3 * r);
        var s = o(i, i, n, 1.70158);
        return (
          s.a *
            Math.pow(2, -10 * t) *
            Math.sin((t * r - s.s) * (2 * Math.PI) / s.p) +
          s.c +
          e
        );
      },
      easeInOutElastic: function(t, e, i, r) {
        var n = 0;
        if (0 === t) return e;
        if (2 == (t /= r / 2)) return e + i;
        n || (n = r * (0.3 * 1.5));
        var s = o(i, i, n, 1.70158);
        return t < 1
          ? -0.5 * a(s, t, r) + e
          : s.a *
              Math.pow(2, -10 * (t -= 1)) *
              Math.sin((t * r - s.s) * (2 * Math.PI) / s.p) *
              0.5 +
              s.c +
              e;
      },
      easeInBack: function(t, e, i, r, n) {
        return (
          void 0 === n && (n = 1.70158),
          i * (t /= r) * t * ((n + 1) * t - n) + e
        );
      },
      easeOutBack: function(t, e, i, r, n) {
        return (
          void 0 === n && (n = 1.70158),
          i * ((t = t / r - 1) * t * ((n + 1) * t + n) + 1) + e
        );
      },
      easeInOutBack: function(t, e, i, r, n) {
        return (
          void 0 === n && (n = 1.70158),
          (t /= r / 2) < 1
            ? i / 2 * (t * t * ((1 + (n *= 1.525)) * t - n)) + e
            : i / 2 * ((t -= 2) * t * ((1 + (n *= 1.525)) * t + n) + 2) + e
        );
      },
      easeInBounce: n,
      easeOutBounce: s,
      easeInOutBounce: function(t, e, i, r) {
        return t < r / 2
          ? 0.5 * n(2 * t, 0, i, r) + e
          : 0.5 * s(2 * t - r, 0, i, r) + 0.5 * i + e;
      }
    };
  })(),
  (function(t) {
    "use strict";
    var C = t.fabric || (t.fabric = {}),
      d = C.util.object.extend,
      u = C.util.object.clone,
      g = C.util.toFixed,
      S = C.util.parseUnit,
      h = C.util.multiplyTransformMatrices,
      p = {
        cx: "left",
        x: "left",
        r: "radius",
        cy: "top",
        y: "top",
        display: "visible",
        visibility: "visible",
        transform: "transformMatrix",
        "fill-opacity": "fillOpacity",
        "fill-rule": "fillRule",
        "font-family": "fontFamily",
        "font-size": "fontSize",
        "font-style": "fontStyle",
        "font-weight": "fontWeight",
        "letter-spacing": "charSpacing",
        "paint-order": "paintFirst",
        "stroke-dasharray": "strokeDashArray",
        "stroke-linecap": "strokeLineCap",
        "stroke-linejoin": "strokeLineJoin",
        "stroke-miterlimit": "strokeMiterLimit",
        "stroke-opacity": "strokeOpacity",
        "stroke-width": "strokeWidth",
        "text-decoration": "textDecoration",
        "text-anchor": "textAnchor",
        opacity: "opacity"
      },
      v = { stroke: "strokeOpacity", fill: "fillOpacity" };
    function m(t, e, i, r) {
      var n,
        s = "[object Array]" === Object.prototype.toString.call(e);
      if (("fill" !== t && "stroke" !== t) || "none" !== e)
        if ("strokeDashArray" === t)
          e =
            "none" === e
              ? null
              : e
                  .replace(/,/g, " ")
                  .split(/\s+/)
                  .map(function(t) {
                    return parseFloat(t);
                  });
        else if ("transformMatrix" === t)
          e =
            i && i.transformMatrix
              ? h(i.transformMatrix, C.parseTransformAttribute(e))
              : C.parseTransformAttribute(e);
        else if ("visible" === t)
          (e = "none" !== e && "hidden" !== e),
            i && !1 === i.visible && (e = !1);
        else if ("opacity" === t)
          (e = parseFloat(e)), i && void 0 !== i.opacity && (e *= i.opacity);
        else if ("textAnchor" === t)
          e = "start" === e ? "left" : "end" === e ? "right" : "center";
        else if ("charSpacing" === t) n = S(e, r) / r * 1e3;
        else if ("paintFirst" === t) {
          var o = e.indexOf("fill"),
            a = e.indexOf("stroke");
          e = "fill";
          -1 < o && -1 < a && a < o
            ? (e = "stroke")
            : -1 === o && -1 < a && (e = "stroke");
        } else n = s ? e.map(S) : S(e, r);
      else e = "";
      return !s && isNaN(n) ? e : n;
    }
    function e(t) {
      return new RegExp("^(" + t.join("|") + ")\\b", "i");
    }
    function b(t, e) {
      var i,
        r,
        n,
        s,
        o = [];
      for (n = 0, s = e.length; n < s; n++)
        (i = e[n]),
          (r = t.getElementsByTagName(i)),
          (o = o.concat(Array.prototype.slice.call(r)));
      return o;
    }
    function _(t, e) {
      var i,
        r = !0;
      return (
        (i = n(t, e.pop())) &&
          e.length &&
          (r = (function(t, e) {
            var i,
              r = !0;
            for (; t.parentNode && 1 === t.parentNode.nodeType && e.length; )
              r && (i = e.pop()), (t = t.parentNode), (r = n(t, i));
            return 0 === e.length;
          })(t, e)),
        i && r && 0 === e.length
      );
    }
    function n(t, e) {
      var i,
        r,
        n = t.nodeName,
        s = t.getAttribute("class"),
        o = t.getAttribute("id");
      if (
        ((i = new RegExp("^" + n, "i")),
        (e = e.replace(i, "")),
        o &&
          e.length &&
          ((i = new RegExp("#" + o + "(?![a-zA-Z\\-]+)", "i")),
          (e = e.replace(i, ""))),
        s && e.length)
      )
        for (r = (s = s.split(" ")).length; r--; )
          (i = new RegExp("\\." + s[r] + "(?![a-zA-Z\\-]+)", "i")),
            (e = e.replace(i, ""));
      return 0 === e.length;
    }
    function y(t, e) {
      var i;
      if ((t.getElementById && (i = t.getElementById(e)), i)) return i;
      var r,
        n,
        s,
        o = t.getElementsByTagName("*");
      for (n = 0, s = o.length; n < s; n++)
        if (e === (r = o[n]).getAttribute("id")) return r;
    }
    (C.svgValidTagNamesRegEx = e([
      "path",
      "circle",
      "polygon",
      "polyline",
      "ellipse",
      "rect",
      "line",
      "image",
      "text",
      "linearGradient",
      "radialGradient",
      "stop"
    ])),
      (C.svgViewBoxElementsRegEx = e([
        "symbol",
        "image",
        "marker",
        "pattern",
        "view",
        "svg"
      ])),
      (C.svgInvalidAncestorsRegEx = e([
        "pattern",
        "defs",
        "symbol",
        "metadata",
        "clipPath",
        "mask",
        "desc"
      ])),
      (C.svgValidParentsRegEx = e(["symbol", "g", "a", "svg"])),
      (C.cssRules = {}),
      (C.gradientDefs = {}),
      (C.parseTransformAttribute = (function() {
        function b(t, e, i) {
          t[i] = Math.tan(C.util.degreesToRadians(e[0]));
        }
        var _ = [1, 0, 0, 1, 0, 0],
          t = C.reNum,
          e = "(?:\\s+,?\\s*|,\\s*)",
          y =
            "(?:" +
            ("(?:(matrix)\\s*\\(\\s*(" +
              t +
              ")" +
              e +
              "(" +
              t +
              ")" +
              e +
              "(" +
              t +
              ")" +
              e +
              "(" +
              t +
              ")" +
              e +
              "(" +
              t +
              ")" +
              e +
              "(" +
              t +
              ")\\s*\\))") +
            "|" +
            ("(?:(translate)\\s*\\(\\s*(" +
              t +
              ")(?:" +
              e +
              "(" +
              t +
              "))?\\s*\\))") +
            "|" +
            ("(?:(scale)\\s*\\(\\s*(" +
              t +
              ")(?:" +
              e +
              "(" +
              t +
              "))?\\s*\\))") +
            "|" +
            ("(?:(rotate)\\s*\\(\\s*(" +
              t +
              ")(?:" +
              e +
              "(" +
              t +
              ")" +
              e +
              "(" +
              t +
              "))?\\s*\\))") +
            "|" +
            ("(?:(skewX)\\s*\\(\\s*(" + t + ")\\s*\\))") +
            "|" +
            ("(?:(skewY)\\s*\\(\\s*(" + t + ")\\s*\\))") +
            ")",
          i = new RegExp(
            "^\\s*(?:" + ("(?:" + y + "(?:" + e + "*" + y + ")*)") + "?)\\s*$"
          ),
          r = new RegExp(y, "g");
        return function(t) {
          var v = _.concat(),
            m = [];
          if (!t || (t && !i.test(t))) return v;
          t.replace(r, function(t) {
            var e,
              i,
              r,
              n,
              s,
              o,
              a,
              h,
              c,
              l,
              u,
              f,
              d = new RegExp(y).exec(t).filter(function(t) {
                return !!t;
              }),
              g = d[1],
              p = d.slice(2).map(parseFloat);
            switch (g) {
              case "translate":
                (f = p), ((u = v)[4] = f[0]), 2 === f.length && (u[5] = f[1]);
                break;
              case "rotate":
                (p[0] = C.util.degreesToRadians(p[0])),
                  (s = v),
                  (o = p),
                  (a = C.util.cos(o[0])),
                  (h = C.util.sin(o[0])),
                  (l = c = 0),
                  3 === o.length && ((c = o[1]), (l = o[2])),
                  (s[0] = a),
                  (s[1] = h),
                  (s[2] = -h),
                  (s[3] = a),
                  (s[4] = c - (a * c - h * l)),
                  (s[5] = l - (h * c + a * l));
                break;
              case "scale":
                (e = v),
                  (r = (i = p)[0]),
                  (n = 2 === i.length ? i[1] : i[0]),
                  (e[0] = r),
                  (e[3] = n);
                break;
              case "skewX":
                b(v, p, 2);
                break;
              case "skewY":
                b(v, p, 1);
                break;
              case "matrix":
                v = p;
            }
            m.push(v.concat()), (v = _.concat());
          });
          for (var e = m[0]; 1 < m.length; )
            m.shift(), (e = C.util.multiplyTransformMatrices(e, m[0]));
          return e;
        };
      })());
    var w = new RegExp(
      "^\\s*(" +
        C.reNum +
        "+)\\s*,?\\s*(" +
        C.reNum +
        "+)\\s*,?\\s*(" +
        C.reNum +
        "+)\\s*,?\\s*(" +
        C.reNum +
        "+)\\s*$"
    );
    function x(t) {
      var e,
        i,
        r,
        n,
        s,
        o,
        a = t.getAttribute("viewBox"),
        h = 1,
        c = 1,
        l = t.getAttribute("width"),
        u = t.getAttribute("height"),
        f = t.getAttribute("x") || 0,
        d = t.getAttribute("y") || 0,
        g = t.getAttribute("preserveAspectRatio") || "",
        p =
          !a ||
          !C.svgViewBoxElementsRegEx.test(t.nodeName) ||
          !(a = a.match(w)),
        v = !l || !u || "100%" === l || "100%" === u,
        m = p && v,
        b = {},
        _ = "",
        y = 0,
        x = 0;
      if (((b.width = 0), (b.height = 0), (b.toBeParsed = m))) return b;
      if (p) return (b.width = S(l)), (b.height = S(u)), b;
      if (
        ((e = -parseFloat(a[1])),
        (i = -parseFloat(a[2])),
        (r = parseFloat(a[3])),
        (n = parseFloat(a[4])),
        v
          ? ((b.width = r), (b.height = n))
          : ((b.width = S(l)),
            (b.height = S(u)),
            (h = b.width / r),
            (c = b.height / n)),
        "none" !== (g = C.util.parsePreserveAspectRatioAttribute(g)).alignX &&
          ("meet" === g.meetOrSlice && (c = h = c < h ? c : h),
          "slice" === g.meetOrSlice && (c = h = c < h ? h : c),
          (y = b.width - r * h),
          (x = b.height - n * h),
          "Mid" === g.alignX && (y /= 2),
          "Mid" === g.alignY && (x /= 2),
          "Min" === g.alignX && (y = 0),
          "Min" === g.alignY && (x = 0)),
        1 === h && 1 === c && 0 === e && 0 === i && 0 === f && 0 === d)
      )
        return b;
      if (
        ((f || d) && (_ = " translate(" + S(f) + " " + S(d) + ") "),
        (s =
          _ +
          " matrix(" +
          h +
          " 0 0 " +
          c +
          " " +
          (e * h + y) +
          " " +
          (i * c + x) +
          ") "),
        "svg" === t.nodeName)
      ) {
        for (o = t.ownerDocument.createElement("g"); t.firstChild; )
          o.appendChild(t.firstChild);
        t.appendChild(o);
      } else s = (o = t).getAttribute("transform") + s;
      return o.setAttribute("transform", s), b;
    }
    C.parseSVGDocument = function(t, i, e, r) {
      if (t) {
        !(function(t) {
          for (
            var e = b(t, ["use", "svg:use"]), i = 0;
            e.length && i < e.length;

          ) {
            var r,
              n,
              s,
              o,
              a = e[i],
              h = a.getAttribute("xlink:href").substr(1),
              c = a.getAttribute("x") || 0,
              l = a.getAttribute("y") || 0,
              u = y(t, h).cloneNode(!0),
              f =
                (u.getAttribute("transform") || "") +
                " translate(" +
                c +
                ", " +
                l +
                ")",
              d = e.length;
            if ((x(u), /^svg$/i.test(u.nodeName))) {
              var g = u.ownerDocument.createElement("g");
              for (n = 0, o = (s = u.attributes).length; n < o; n++)
                (r = s.item(n)), g.setAttribute(r.nodeName, r.nodeValue);
              for (; u.firstChild; ) g.appendChild(u.firstChild);
              u = g;
            }
            for (n = 0, o = (s = a.attributes).length; n < o; n++)
              "x" !== (r = s.item(n)).nodeName &&
                "y" !== r.nodeName &&
                "xlink:href" !== r.nodeName &&
                ("transform" === r.nodeName
                  ? (f = r.nodeValue + " " + f)
                  : u.setAttribute(r.nodeName, r.nodeValue));
            u.setAttribute("transform", f),
              u.setAttribute("instantiated_by_use", "1"),
              u.removeAttribute("id"),
              a.parentNode.replaceChild(u, a),
              e.length === d && i++;
          }
        })(t);
        var n,
          s,
          o = C.Object.__uid++,
          a = x(t),
          h = C.util.toArray(t.getElementsByTagName("*"));
        if (
          ((a.crossOrigin = r && r.crossOrigin),
          (a.svgUid = o),
          0 === h.length && C.isLikelyNode)
        ) {
          var c = [];
          for (
            n = 0, s = (h = t.selectNodes('//*[name(.)!="svg"]')).length;
            n < s;
            n++
          )
            c[n] = h[n];
          h = c;
        }
        var l = h.filter(function(t) {
          return (
            x(t),
            C.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:", "")) &&
              !(function(t, e) {
                for (; t && (t = t.parentNode); )
                  if (
                    t.nodeName &&
                    e.test(t.nodeName.replace("svg:", "")) &&
                    !t.getAttribute("instantiated_by_use")
                  )
                    return !0;
                return !1;
              })(t, C.svgInvalidAncestorsRegEx)
          );
        });
        !l || (l && !l.length)
          ? i && i([], {})
          : ((C.gradientDefs[o] = C.getGradientDefs(t)),
            (C.cssRules[o] = C.getCSSRules(t)),
            C.parseElements(
              l,
              function(t, e) {
                i && i(t, a, e, h);
              },
              u(a),
              e,
              r
            ));
      }
    };
    var c = new RegExp(
      "(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" +
        C.reNum +
        "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" +
        C.reNum +
        "))?\\s+(.*)"
    );
    d(C, {
      parseFontDeclaration: function(t, e) {
        var i = t.match(c);
        if (i) {
          var r = i[1],
            n = i[3],
            s = i[4],
            o = i[5],
            a = i[6];
          r && (e.fontStyle = r),
            n && (e.fontWeight = isNaN(parseFloat(n)) ? n : parseFloat(n)),
            s && (e.fontSize = S(s)),
            a && (e.fontFamily = a),
            o && (e.lineHeight = "normal" === o ? 1 : o);
        }
      },
      getGradientDefs: function(t) {
        var e,
          i,
          r,
          n = b(t, [
            "linearGradient",
            "radialGradient",
            "svg:linearGradient",
            "svg:radialGradient"
          ]),
          s = 0,
          o = {},
          a = {};
        for (s = n.length; s--; )
          (r = (e = n[s]).getAttribute("xlink:href")),
            (i = e.getAttribute("id")),
            r && (a[i] = r.substr(1)),
            (o[i] = e);
        for (i in a) {
          var h = o[a[i]].cloneNode(!0);
          for (e = o[i]; h.firstChild; ) e.appendChild(h.firstChild);
        }
        return o;
      },
      parseAttributes: function(i, t, e) {
        if (i) {
          var r,
            n,
            s = {};
          void 0 === e && (e = i.getAttribute("svgUid")),
            i.parentNode &&
              C.svgValidParentsRegEx.test(i.parentNode.nodeName) &&
              (s = C.parseAttributes(i.parentNode, t, e)),
            (n =
              (s && s.fontSize) ||
              i.getAttribute("font-size") ||
              C.Text.DEFAULT_SVG_FONT_SIZE);
          var o = t.reduce(function(t, e) {
            return (r = i.getAttribute(e)) && (t[e] = r), t;
          }, {});
          o = d(
            o,
            d(
              (function(t, e) {
                var i = {};
                for (var r in C.cssRules[e])
                  if (_(t, r.split(" ")))
                    for (var n in C.cssRules[e][r]) i[n] = C.cssRules[e][r][n];
                return i;
              })(i, e),
              C.parseStyleAttribute(i)
            )
          );
          var a,
            h,
            c,
            l = {};
          for (var u in o)
            (h = m((a = (c = u) in p ? p[c] : c), o[u], s, n)), (l[a] = h);
          l && l.font && C.parseFontDeclaration(l.font, l);
          var f = d(s, l);
          return C.svgValidParentsRegEx.test(i.nodeName)
            ? f
            : (function(t) {
                for (var e in v)
                  if (void 0 !== t[v[e]] && "" !== t[e]) {
                    if (void 0 === t[e]) {
                      if (!C.Object.prototype[e]) continue;
                      t[e] = C.Object.prototype[e];
                    }
                    if (0 !== t[e].indexOf("url(")) {
                      var i = new C.Color(t[e]);
                      t[e] = i.setAlpha(g(i.getAlpha() * t[v[e]], 2)).toRgba();
                    }
                  }
                return t;
              })(f);
        }
      },
      parseElements: function(t, e, i, r, n) {
        new C.ElementsParser(t, e, i, r, n).parse();
      },
      parseStyleAttribute: function(t) {
        var i,
          r,
          n,
          e = {},
          s = t.getAttribute("style");
        return (
          s &&
            ("string" == typeof s
              ? ((i = e),
                s
                  .replace(/;\s*$/, "")
                  .split(";")
                  .forEach(function(t) {
                    var e = t.split(":");
                    (r = e[0].trim().toLowerCase()),
                      (n = e[1].trim()),
                      (i[r] = n);
                  }))
              : (function(t, e) {
                  var i, r;
                  for (var n in t)
                    void 0 !== t[n] &&
                      ((i = n.toLowerCase()), (r = t[n]), (e[i] = r));
                })(s, e)),
          e
        );
      },
      parsePointsAttribute: function(t) {
        if (!t) return null;
        var e,
          i,
          r = [];
        for (
          e = 0,
            i = (t = (t = t.replace(/,/g, " ").trim()).split(/\s+/)).length;
          e < i;
          e += 2
        )
          r.push({ x: parseFloat(t[e]), y: parseFloat(t[e + 1]) });
        return r;
      },
      getCSSRules: function(t) {
        var a,
          h,
          e = t.getElementsByTagName("style"),
          c = {};
        for (a = 0, h = e.length; a < h; a++) {
          var i = e[a].textContent || e[a].text;
          "" !== (i = i.replace(/\/\*[\s\S]*?\*\//g, "")).trim() &&
            i
              .match(/[^{]*\{[\s\S]*?\}/g)
              .map(function(t) {
                return t.trim();
              })
              .forEach(function(t) {
                var e = t.match(/([\s\S]*?)\s*\{([^}]*)\}/),
                  i = {},
                  r = e[2]
                    .trim()
                    .replace(/;$/, "")
                    .split(/\s*;\s*/);
                for (a = 0, h = r.length; a < h; a++) {
                  var n = r[a].split(/\s*:\s*/),
                    s = n[0],
                    o = n[1];
                  i[s] = o;
                }
                (t = e[1]).split(",").forEach(function(t) {
                  "" !== (t = t.replace(/^svg/i, "").trim()) &&
                    (c[t]
                      ? C.util.object.extend(c[t], i)
                      : (c[t] = C.util.object.clone(i)));
                });
              });
        }
        return c;
      },
      loadSVGFromURL: function(t, n, i, r) {
        (t = t.replace(/^\n\s*/, "").trim()),
          new C.util.request(t, {
            method: "get",
            onComplete: function(t) {
              var e = t.responseXML;
              e &&
                !e.documentElement &&
                C.window.ActiveXObject &&
                t.responseText &&
                (((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false"),
                e.loadXML(
                  t.responseText.replace(
                    /<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,
                    ""
                  )
                ));
              (e && e.documentElement) || (n && n(null));
              C.parseSVGDocument(
                e.documentElement,
                function(t, e, i, r) {
                  n && n(t, e, i, r);
                },
                i,
                r
              );
            }
          });
      },
      loadSVGFromString: function(t, n, e, i) {
        var r;
        if (((t = t.trim()), "undefined" != typeof DOMParser)) {
          var s = new DOMParser();
          s && s.parseFromString && (r = s.parseFromString(t, "text/xml"));
        } else
          C.window.ActiveXObject &&
            (((r = new ActiveXObject("Microsoft.XMLDOM")).async = "false"),
            r.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, "")));
        C.parseSVGDocument(
          r.documentElement,
          function(t, e, i, r) {
            n(t, e, i, r);
          },
          e,
          i
        );
      }
    });
  })("undefined" != typeof exports ? exports : this),
  (fabric.ElementsParser = function(t, e, i, r, n) {
    (this.elements = t),
      (this.callback = e),
      (this.options = i),
      (this.reviver = r),
      (this.svgUid = (i && i.svgUid) || 0),
      (this.parsingOptions = n),
      (this.regexUrl = /^url\(['"]?#([^'"]+)['"]?\)/g);
  }),
  (fabric.ElementsParser.prototype.parse = function() {
    (this.instances = new Array(this.elements.length)),
      (this.numElements = this.elements.length),
      this.createObjects();
  }),
  (fabric.ElementsParser.prototype.createObjects = function() {
    for (var t = 0, e = this.elements.length; t < e; t++)
      this.elements[t].setAttribute("svgUid", this.svgUid),
        (function(t, e) {
          setTimeout(function() {
            t.createObject(t.elements[e], e);
          }, 0);
        })(this, t);
  }),
  (fabric.ElementsParser.prototype.createObject = function(t, e) {
    var i =
      fabric[fabric.util.string.capitalize(t.tagName.replace("svg:", ""))];
    if (i && i.fromElement)
      try {
        this._createObject(i, t, e);
      } catch (t) {
        fabric.log(t);
      }
    else this.checkIfDone();
  }),
  (fabric.ElementsParser.prototype._createObject = function(t, e, i) {
    t.fromElement(e, this.createCallback(i, e), this.options);
  }),
  (fabric.ElementsParser.prototype.createCallback = function(i, r) {
    var n = this;
    return function(t) {
      var e;
      n.resolveGradient(t, "fill"),
        n.resolveGradient(t, "stroke"),
        t instanceof fabric.Image &&
          (e = t.parsePreserveAspectRatioAttribute(r)),
        t._removeTransformMatrix(e),
        n.reviver && n.reviver(r, t),
        (n.instances[i] = t),
        n.checkIfDone();
    };
  }),
  (fabric.ElementsParser.prototype.resolveGradient = function(t, e) {
    var i = t[e];
    if (/^url\(/.test(i)) {
      var r = this.regexUrl.exec(i)[1];
      (this.regexUrl.lastIndex = 0),
        fabric.gradientDefs[this.svgUid][r] &&
          t.set(
            e,
            fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r], t)
          );
    }
  }),
  (fabric.ElementsParser.prototype.checkIfDone = function() {
    0 == --this.numElements &&
      ((this.instances = this.instances.filter(function(t) {
        return null != t;
      })),
      this.callback(this.instances, this.elements));
  }),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {});
    function i(t, e) {
      (this.x = t), (this.y = e);
    }
    e.Point
      ? e.warn("fabric.Point is already defined")
      : ((e.Point = i).prototype = {
          type: "point",
          constructor: i,
          add: function(t) {
            return new i(this.x + t.x, this.y + t.y);
          },
          addEquals: function(t) {
            return (this.x += t.x), (this.y += t.y), this;
          },
          scalarAdd: function(t) {
            return new i(this.x + t, this.y + t);
          },
          scalarAddEquals: function(t) {
            return (this.x += t), (this.y += t), this;
          },
          subtract: function(t) {
            return new i(this.x - t.x, this.y - t.y);
          },
          subtractEquals: function(t) {
            return (this.x -= t.x), (this.y -= t.y), this;
          },
          scalarSubtract: function(t) {
            return new i(this.x - t, this.y - t);
          },
          scalarSubtractEquals: function(t) {
            return (this.x -= t), (this.y -= t), this;
          },
          multiply: function(t) {
            return new i(this.x * t, this.y * t);
          },
          multiplyEquals: function(t) {
            return (this.x *= t), (this.y *= t), this;
          },
          divide: function(t) {
            return new i(this.x / t, this.y / t);
          },
          divideEquals: function(t) {
            return (this.x /= t), (this.y /= t), this;
          },
          eq: function(t) {
            return this.x === t.x && this.y === t.y;
          },
          lt: function(t) {
            return this.x < t.x && this.y < t.y;
          },
          lte: function(t) {
            return this.x <= t.x && this.y <= t.y;
          },
          gt: function(t) {
            return this.x > t.x && this.y > t.y;
          },
          gte: function(t) {
            return this.x >= t.x && this.y >= t.y;
          },
          lerp: function(t, e) {
            return (
              void 0 === e && (e = 0.5),
              (e = Math.max(Math.min(1, e), 0)),
              new i(this.x + (t.x - this.x) * e, this.y + (t.y - this.y) * e)
            );
          },
          distanceFrom: function(t) {
            var e = this.x - t.x,
              i = this.y - t.y;
            return Math.sqrt(e * e + i * i);
          },
          midPointFrom: function(t) {
            return this.lerp(t);
          },
          min: function(t) {
            return new i(Math.min(this.x, t.x), Math.min(this.y, t.y));
          },
          max: function(t) {
            return new i(Math.max(this.x, t.x), Math.max(this.y, t.y));
          },
          toString: function() {
            return this.x + "," + this.y;
          },
          setXY: function(t, e) {
            return (this.x = t), (this.y = e), this;
          },
          setX: function(t) {
            return (this.x = t), this;
          },
          setY: function(t) {
            return (this.y = t), this;
          },
          setFromPoint: function(t) {
            return (this.x = t.x), (this.y = t.y), this;
          },
          swap: function(t) {
            var e = this.x,
              i = this.y;
            (this.x = t.x), (this.y = t.y), (t.x = e), (t.y = i);
          },
          clone: function() {
            return new i(this.x, this.y);
          }
        });
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var f = t.fabric || (t.fabric = {});
    function d(t) {
      (this.status = t), (this.points = []);
    }
    f.Intersection
      ? f.warn("fabric.Intersection is already defined")
      : ((f.Intersection = d),
        (f.Intersection.prototype = {
          constructor: d,
          appendPoint: function(t) {
            return this.points.push(t), this;
          },
          appendPoints: function(t) {
            return (this.points = this.points.concat(t)), this;
          }
        }),
        (f.Intersection.intersectLineLine = function(t, e, i, r) {
          var n,
            s = (r.x - i.x) * (t.y - i.y) - (r.y - i.y) * (t.x - i.x),
            o = (e.x - t.x) * (t.y - i.y) - (e.y - t.y) * (t.x - i.x),
            a = (r.y - i.y) * (e.x - t.x) - (r.x - i.x) * (e.y - t.y);
          if (0 !== a) {
            var h = s / a,
              c = o / a;
            0 <= h && h <= 1 && 0 <= c && c <= 1
              ? (n = new d("Intersection")).appendPoint(
                  new f.Point(t.x + h * (e.x - t.x), t.y + h * (e.y - t.y))
                )
              : (n = new d());
          } else n = new d(0 === s || 0 === o ? "Coincident" : "Parallel");
          return n;
        }),
        (f.Intersection.intersectLinePolygon = function(t, e, i) {
          var r,
            n,
            s,
            o,
            a = new d(),
            h = i.length;
          for (o = 0; o < h; o++)
            (r = i[o]),
              (n = i[(o + 1) % h]),
              (s = d.intersectLineLine(t, e, r, n)),
              a.appendPoints(s.points);
          return 0 < a.points.length && (a.status = "Intersection"), a;
        }),
        (f.Intersection.intersectPolygonPolygon = function(t, e) {
          var i,
            r = new d(),
            n = t.length;
          for (i = 0; i < n; i++) {
            var s = t[i],
              o = t[(i + 1) % n],
              a = d.intersectLinePolygon(s, o, e);
            r.appendPoints(a.points);
          }
          return 0 < r.points.length && (r.status = "Intersection"), r;
        }),
        (f.Intersection.intersectPolygonRectangle = function(t, e, i) {
          var r = e.min(i),
            n = e.max(i),
            s = new f.Point(n.x, r.y),
            o = new f.Point(r.x, n.y),
            a = d.intersectLinePolygon(r, s, t),
            h = d.intersectLinePolygon(s, n, t),
            c = d.intersectLinePolygon(n, o, t),
            l = d.intersectLinePolygon(o, r, t),
            u = new d();
          return (
            u.appendPoints(a.points),
            u.appendPoints(h.points),
            u.appendPoints(c.points),
            u.appendPoints(l.points),
            0 < u.points.length && (u.status = "Intersection"),
            u
          );
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var c = t.fabric || (t.fabric = {});
    function l(t) {
      t ? this._tryParsingColor(t) : this.setSource([0, 0, 0, 1]);
    }
    function u(t, e, i) {
      return (
        i < 0 && (i += 1),
        1 < i && (i -= 1),
        i < 1 / 6
          ? t + 6 * (e - t) * i
          : i < 0.5
            ? e
            : i < 2 / 3
              ? t + (e - t) * (2 / 3 - i) * 6
              : t
      );
    }
    c.Color
      ? c.warn("fabric.Color is already defined.")
      : ((c.Color = l),
        (c.Color.prototype = {
          _tryParsingColor: function(t) {
            var e;
            t in l.colorNameMap && (t = l.colorNameMap[t]),
              "transparent" === t && (e = [255, 255, 255, 0]),
              e || (e = l.sourceFromHex(t)),
              e || (e = l.sourceFromRgb(t)),
              e || (e = l.sourceFromHsl(t)),
              e || (e = [0, 0, 0, 1]),
              e && this.setSource(e);
          },
          _rgbToHsl: function(t, e, i) {
            (t /= 255), (e /= 255), (i /= 255);
            var r,
              n,
              s,
              o = c.util.array.max([t, e, i]),
              a = c.util.array.min([t, e, i]);
            if (((s = (o + a) / 2), o === a)) r = n = 0;
            else {
              var h = o - a;
              switch (((n = 0.5 < s ? h / (2 - o - a) : h / (o + a)), o)) {
                case t:
                  r = (e - i) / h + (e < i ? 6 : 0);
                  break;
                case e:
                  r = (i - t) / h + 2;
                  break;
                case i:
                  r = (t - e) / h + 4;
              }
              r /= 6;
            }
            return [
              Math.round(360 * r),
              Math.round(100 * n),
              Math.round(100 * s)
            ];
          },
          getSource: function() {
            return this._source;
          },
          setSource: function(t) {
            this._source = t;
          },
          toRgb: function() {
            var t = this.getSource();
            return "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")";
          },
          toRgba: function() {
            var t = this.getSource();
            return "rgba(" + t[0] + "," + t[1] + "," + t[2] + "," + t[3] + ")";
          },
          toHsl: function() {
            var t = this.getSource(),
              e = this._rgbToHsl(t[0], t[1], t[2]);
            return "hsl(" + e[0] + "," + e[1] + "%," + e[2] + "%)";
          },
          toHsla: function() {
            var t = this.getSource(),
              e = this._rgbToHsl(t[0], t[1], t[2]);
            return (
              "hsla(" + e[0] + "," + e[1] + "%," + e[2] + "%," + t[3] + ")"
            );
          },
          toHex: function() {
            var t,
              e,
              i,
              r = this.getSource();
            return (
              (t = 1 === (t = r[0].toString(16)).length ? "0" + t : t),
              (e = 1 === (e = r[1].toString(16)).length ? "0" + e : e),
              (i = 1 === (i = r[2].toString(16)).length ? "0" + i : i),
              t.toUpperCase() + e.toUpperCase() + i.toUpperCase()
            );
          },
          toHexa: function() {
            var t,
              e = this.getSource();
            return (
              (t =
                1 === (t = (t = Math.round(255 * e[3])).toString(16)).length
                  ? "0" + t
                  : t),
              this.toHex() + t.toUpperCase()
            );
          },
          getAlpha: function() {
            return this.getSource()[3];
          },
          setAlpha: function(t) {
            var e = this.getSource();
            return (e[3] = t), this.setSource(e), this;
          },
          toGrayscale: function() {
            var t = this.getSource(),
              e = parseInt(
                (0.3 * t[0] + 0.59 * t[1] + 0.11 * t[2]).toFixed(0),
                10
              ),
              i = t[3];
            return this.setSource([e, e, e, i]), this;
          },
          toBlackWhite: function(t) {
            var e = this.getSource(),
              i = (0.3 * e[0] + 0.59 * e[1] + 0.11 * e[2]).toFixed(0),
              r = e[3];
            return (
              (t = t || 127),
              (i = Number(i) < Number(t) ? 0 : 255),
              this.setSource([i, i, i, r]),
              this
            );
          },
          overlayWith: function(t) {
            t instanceof l || (t = new l(t));
            var e,
              i = [],
              r = this.getAlpha(),
              n = this.getSource(),
              s = t.getSource();
            for (e = 0; e < 3; e++) i.push(Math.round(0.5 * n[e] + 0.5 * s[e]));
            return (i[3] = r), this.setSource(i), this;
          }
        }),
        (c.Color.reRGBa = /^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i),
        (c.Color.reHSLa = /^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i),
        (c.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i),
        (c.Color.colorNameMap = {
          aliceblue: "#F0F8FF",
          antiquewhite: "#FAEBD7",
          aqua: "#00FFFF",
          aquamarine: "#7FFFD4",
          azure: "#F0FFFF",
          beige: "#F5F5DC",
          bisque: "#FFE4C4",
          black: "#000000",
          blanchedalmond: "#FFEBCD",
          blue: "#0000FF",
          blueviolet: "#8A2BE2",
          brown: "#A52A2A",
          burlywood: "#DEB887",
          cadetblue: "#5F9EA0",
          chartreuse: "#7FFF00",
          chocolate: "#D2691E",
          coral: "#FF7F50",
          cornflowerblue: "#6495ED",
          cornsilk: "#FFF8DC",
          crimson: "#DC143C",
          cyan: "#00FFFF",
          darkblue: "#00008B",
          darkcyan: "#008B8B",
          darkgoldenrod: "#B8860B",
          darkgray: "#A9A9A9",
          darkgrey: "#A9A9A9",
          darkgreen: "#006400",
          darkkhaki: "#BDB76B",
          darkmagenta: "#8B008B",
          darkolivegreen: "#556B2F",
          darkorange: "#FF8C00",
          darkorchid: "#9932CC",
          darkred: "#8B0000",
          darksalmon: "#E9967A",
          darkseagreen: "#8FBC8F",
          darkslateblue: "#483D8B",
          darkslategray: "#2F4F4F",
          darkslategrey: "#2F4F4F",
          darkturquoise: "#00CED1",
          darkviolet: "#9400D3",
          deeppink: "#FF1493",
          deepskyblue: "#00BFFF",
          dimgray: "#696969",
          dimgrey: "#696969",
          dodgerblue: "#1E90FF",
          firebrick: "#B22222",
          floralwhite: "#FFFAF0",
          forestgreen: "#228B22",
          fuchsia: "#FF00FF",
          gainsboro: "#DCDCDC",
          ghostwhite: "#F8F8FF",
          gold: "#FFD700",
          goldenrod: "#DAA520",
          gray: "#808080",
          grey: "#808080",
          green: "#008000",
          greenyellow: "#ADFF2F",
          honeydew: "#F0FFF0",
          hotpink: "#FF69B4",
          indianred: "#CD5C5C",
          indigo: "#4B0082",
          ivory: "#FFFFF0",
          khaki: "#F0E68C",
          lavender: "#E6E6FA",
          lavenderblush: "#FFF0F5",
          lawngreen: "#7CFC00",
          lemonchiffon: "#FFFACD",
          lightblue: "#ADD8E6",
          lightcoral: "#F08080",
          lightcyan: "#E0FFFF",
          lightgoldenrodyellow: "#FAFAD2",
          lightgray: "#D3D3D3",
          lightgrey: "#D3D3D3",
          lightgreen: "#90EE90",
          lightpink: "#FFB6C1",
          lightsalmon: "#FFA07A",
          lightseagreen: "#20B2AA",
          lightskyblue: "#87CEFA",
          lightslategray: "#778899",
          lightslategrey: "#778899",
          lightsteelblue: "#B0C4DE",
          lightyellow: "#FFFFE0",
          lime: "#00FF00",
          limegreen: "#32CD32",
          linen: "#FAF0E6",
          magenta: "#FF00FF",
          maroon: "#800000",
          mediumaquamarine: "#66CDAA",
          mediumblue: "#0000CD",
          mediumorchid: "#BA55D3",
          mediumpurple: "#9370DB",
          mediumseagreen: "#3CB371",
          mediumslateblue: "#7B68EE",
          mediumspringgreen: "#00FA9A",
          mediumturquoise: "#48D1CC",
          mediumvioletred: "#C71585",
          midnightblue: "#191970",
          mintcream: "#F5FFFA",
          mistyrose: "#FFE4E1",
          moccasin: "#FFE4B5",
          navajowhite: "#FFDEAD",
          navy: "#000080",
          oldlace: "#FDF5E6",
          olive: "#808000",
          olivedrab: "#6B8E23",
          orange: "#FFA500",
          orangered: "#FF4500",
          orchid: "#DA70D6",
          palegoldenrod: "#EEE8AA",
          palegreen: "#98FB98",
          paleturquoise: "#AFEEEE",
          palevioletred: "#DB7093",
          papayawhip: "#FFEFD5",
          peachpuff: "#FFDAB9",
          peru: "#CD853F",
          pink: "#FFC0CB",
          plum: "#DDA0DD",
          powderblue: "#B0E0E6",
          purple: "#800080",
          rebeccapurple: "#663399",
          red: "#FF0000",
          rosybrown: "#BC8F8F",
          royalblue: "#4169E1",
          saddlebrown: "#8B4513",
          salmon: "#FA8072",
          sandybrown: "#F4A460",
          seagreen: "#2E8B57",
          seashell: "#FFF5EE",
          sienna: "#A0522D",
          silver: "#C0C0C0",
          skyblue: "#87CEEB",
          slateblue: "#6A5ACD",
          slategray: "#708090",
          slategrey: "#708090",
          snow: "#FFFAFA",
          springgreen: "#00FF7F",
          steelblue: "#4682B4",
          tan: "#D2B48C",
          teal: "#008080",
          thistle: "#D8BFD8",
          tomato: "#FF6347",
          turquoise: "#40E0D0",
          violet: "#EE82EE",
          wheat: "#F5DEB3",
          white: "#FFFFFF",
          whitesmoke: "#F5F5F5",
          yellow: "#FFFF00",
          yellowgreen: "#9ACD32"
        }),
        (c.Color.fromRgb = function(t) {
          return l.fromSource(l.sourceFromRgb(t));
        }),
        (c.Color.sourceFromRgb = function(t) {
          var e = t.match(l.reRGBa);
          if (e) {
            var i =
                parseInt(e[1], 10) /
                (/%$/.test(e[1]) ? 100 : 1) *
                (/%$/.test(e[1]) ? 255 : 1),
              r =
                parseInt(e[2], 10) /
                (/%$/.test(e[2]) ? 100 : 1) *
                (/%$/.test(e[2]) ? 255 : 1),
              n =
                parseInt(e[3], 10) /
                (/%$/.test(e[3]) ? 100 : 1) *
                (/%$/.test(e[3]) ? 255 : 1);
            return [
              parseInt(i, 10),
              parseInt(r, 10),
              parseInt(n, 10),
              e[4] ? parseFloat(e[4]) : 1
            ];
          }
        }),
        (c.Color.fromRgba = l.fromRgb),
        (c.Color.fromHsl = function(t) {
          return l.fromSource(l.sourceFromHsl(t));
        }),
        (c.Color.sourceFromHsl = function(t) {
          var e = t.match(l.reHSLa);
          if (e) {
            var i,
              r,
              n,
              s = ((parseFloat(e[1]) % 360 + 360) % 360) / 360,
              o = parseFloat(e[2]) / (/%$/.test(e[2]) ? 100 : 1),
              a = parseFloat(e[3]) / (/%$/.test(e[3]) ? 100 : 1);
            if (0 === o) i = r = n = a;
            else {
              var h = a <= 0.5 ? a * (o + 1) : a + o - a * o,
                c = 2 * a - h;
              (i = u(c, h, s + 1 / 3)),
                (r = u(c, h, s)),
                (n = u(c, h, s - 1 / 3));
            }
            return [
              Math.round(255 * i),
              Math.round(255 * r),
              Math.round(255 * n),
              e[4] ? parseFloat(e[4]) : 1
            ];
          }
        }),
        (c.Color.fromHsla = l.fromHsl),
        (c.Color.fromHex = function(t) {
          return l.fromSource(l.sourceFromHex(t));
        }),
        (c.Color.sourceFromHex = function(t) {
          if (t.match(l.reHex)) {
            var e = t.slice(t.indexOf("#") + 1),
              i = 3 === e.length || 4 === e.length,
              r = 8 === e.length || 4 === e.length,
              n = i ? e.charAt(0) + e.charAt(0) : e.substring(0, 2),
              s = i ? e.charAt(1) + e.charAt(1) : e.substring(2, 4),
              o = i ? e.charAt(2) + e.charAt(2) : e.substring(4, 6),
              a = r
                ? i
                  ? e.charAt(3) + e.charAt(3)
                  : e.substring(6, 8)
                : "FF";
            return [
              parseInt(n, 16),
              parseInt(s, 16),
              parseInt(o, 16),
              parseFloat((parseInt(a, 16) / 255).toFixed(2))
            ];
          }
        }),
        (c.Color.fromSource = function(t) {
          var e = new l();
          return e.setSource(t), e;
        }));
  })("undefined" != typeof exports ? exports : this),
  (function() {
    function d(t) {
      var e,
        i,
        r,
        n,
        s = t.getAttribute("style"),
        o = t.getAttribute("offset") || 0;
      if (
        ((o =
          (o = parseFloat(o) / (/%$/.test(o) ? 100 : 1)) < 0
            ? 0
            : 1 < o
              ? 1
              : o),
        s)
      ) {
        var a = s.split(/\s*;\s*/);
        for ("" === a[a.length - 1] && a.pop(), n = a.length; n--; ) {
          var h = a[n].split(/\s*:\s*/),
            c = h[0].trim(),
            l = h[1].trim();
          "stop-color" === c ? (e = l) : "stop-opacity" === c && (r = l);
        }
      }
      return (
        e || (e = t.getAttribute("stop-color") || "rgb(0,0,0)"),
        r || (r = t.getAttribute("stop-opacity")),
        (i = (e = new fabric.Color(e)).getAlpha()),
        (r = isNaN(parseFloat(r)) ? 1 : parseFloat(r)),
        (r *= i),
        { offset: o, color: e.toRgb(), opacity: r }
      );
    }
    var g = fabric.util.object.clone;
    function p(t, e, i) {
      var r,
        n = 0,
        s = 1,
        o = "";
      for (var a in e)
        "Infinity" === e[a] ? (e[a] = 1) : "-Infinity" === e[a] && (e[a] = 0),
          (r = parseFloat(e[a], 10)),
          (s =
            "string" == typeof e[a] && /^(\d+\.\d+)%|(\d+)%$/.test(e[a])
              ? 0.01
              : 1),
          "x1" === a || "x2" === a || "r2" === a
            ? ((s *= "objectBoundingBox" === i ? t.width : 1),
              (n = ("objectBoundingBox" === i && t.left) || 0))
            : ("y1" !== a && "y2" !== a) ||
              ((s *= "objectBoundingBox" === i ? t.height : 1),
              (n = ("objectBoundingBox" === i && t.top) || 0)),
          (e[a] = r * s + n);
      if (
        "ellipse" === t.type &&
        null !== e.r2 &&
        "objectBoundingBox" === i &&
        t.rx !== t.ry
      ) {
        var h = t.ry / t.rx;
        (o = " scale(1, " + h + ")"), e.y1 && (e.y1 /= h), e.y2 && (e.y2 /= h);
      }
      return o;
    }
    (fabric.Gradient = fabric.util.createClass({
      offsetX: 0,
      offsetY: 0,
      initialize: function(t) {
        t || (t = {});
        var e = {};
        (this.id = fabric.Object.__uid++),
          (this.type = t.type || "linear"),
          (e = {
            x1: t.coords.x1 || 0,
            y1: t.coords.y1 || 0,
            x2: t.coords.x2 || 0,
            y2: t.coords.y2 || 0
          }),
          "radial" === this.type &&
            ((e.r1 = t.coords.r1 || 0), (e.r2 = t.coords.r2 || 0)),
          (this.coords = e),
          (this.colorStops = t.colorStops.slice()),
          t.gradientTransform && (this.gradientTransform = t.gradientTransform),
          (this.offsetX = t.offsetX || this.offsetX),
          (this.offsetY = t.offsetY || this.offsetY);
      },
      addColorStop: function(t) {
        for (var e in t) {
          var i = new fabric.Color(t[e]);
          this.colorStops.push({
            offset: parseFloat(e),
            color: i.toRgb(),
            opacity: i.getAlpha()
          });
        }
        return this;
      },
      toObject: function(t) {
        var e = {
          type: this.type,
          coords: this.coords,
          colorStops: this.colorStops,
          offsetX: this.offsetX,
          offsetY: this.offsetY,
          gradientTransform: this.gradientTransform
            ? this.gradientTransform.concat()
            : this.gradientTransform
        };
        return fabric.util.populateWithProperties(this, e, t), e;
      },
      toSVG: function(t) {
        var e,
          i,
          r,
          n,
          s = g(this.coords, !0),
          o = g(this.colorStops, !0),
          a = s.r1 > s.r2,
          h = t.width / 2,
          c = t.height / 2;
        for (var l in (o.sort(function(t, e) {
          return t.offset - e.offset;
        }),
        "path" === t.type && ((h -= t.pathOffset.x), (c -= t.pathOffset.y)),
        s))
          "x1" === l || "x2" === l
            ? (s[l] += this.offsetX - h)
            : ("y1" !== l && "y2" !== l) || (s[l] += this.offsetY - c);
        if (
          ((n = 'id="SVGID_' + this.id + '" gradientUnits="userSpaceOnUse"'),
          this.gradientTransform &&
            (n +=
              ' gradientTransform="matrix(' +
              this.gradientTransform.join(" ") +
              ')" '),
          "linear" === this.type
            ? (r = [
                "<linearGradient ",
                n,
                ' x1="',
                s.x1,
                '" y1="',
                s.y1,
                '" x2="',
                s.x2,
                '" y2="',
                s.y2,
                '">\n'
              ])
            : "radial" === this.type &&
              (r = [
                "<radialGradient ",
                n,
                ' cx="',
                a ? s.x1 : s.x2,
                '" cy="',
                a ? s.y1 : s.y2,
                '" r="',
                a ? s.r1 : s.r2,
                '" fx="',
                a ? s.x2 : s.x1,
                '" fy="',
                a ? s.y2 : s.y1,
                '">\n'
              ]),
          "radial" === this.type)
        ) {
          if (a)
            for ((o = o.concat()).reverse(), e = 0, i = o.length; e < i; e++)
              o[e].offset = 1 - o[e].offset;
          var u = Math.min(s.r1, s.r2);
          if (0 < u) {
            var f = u / Math.max(s.r1, s.r2);
            for (e = 0, i = o.length; e < i; e++)
              o[e].offset += f * (1 - o[e].offset);
          }
        }
        for (e = 0, i = o.length; e < i; e++) {
          var d = o[e];
          r.push(
            "<stop ",
            'offset="',
            100 * d.offset + "%",
            '" style="stop-color:',
            d.color,
            void 0 !== d.opacity ? ";stop-opacity: " + d.opacity : ";",
            '"/>\n'
          );
        }
        return (
          r.push(
            "linear" === this.type
              ? "</linearGradient>\n"
              : "</radialGradient>\n"
          ),
          r.join("")
        );
      },
      toLive: function(t) {
        var e,
          i,
          r,
          n = fabric.util.object.clone(this.coords);
        if (this.type) {
          for (
            "linear" === this.type
              ? (e = t.createLinearGradient(n.x1, n.y1, n.x2, n.y2))
              : "radial" === this.type &&
                (e = t.createRadialGradient(
                  n.x1,
                  n.y1,
                  n.r1,
                  n.x2,
                  n.y2,
                  n.r2
                )),
              i = 0,
              r = this.colorStops.length;
            i < r;
            i++
          ) {
            var s = this.colorStops[i].color,
              o = this.colorStops[i].opacity,
              a = this.colorStops[i].offset;
            void 0 !== o && (s = new fabric.Color(s).setAlpha(o).toRgba()),
              e.addColorStop(a, s);
          }
          return e;
        }
      }
    })),
      fabric.util.object.extend(fabric.Gradient, {
        fromElement: function(t, e) {
          var i,
            r,
            n,
            s,
            o,
            a,
            h = t.getElementsByTagName("stop"),
            c = t.getAttribute("gradientUnits") || "objectBoundingBox",
            l = t.getAttribute("gradientTransform"),
            u = [];
          for (
            "linear" ===
            (i =
              "linearGradient" === t.nodeName || "LINEARGRADIENT" === t.nodeName
                ? "linear"
                : "radial")
              ? (r = {
                  x1: (a = t).getAttribute("x1") || 0,
                  y1: a.getAttribute("y1") || 0,
                  x2: a.getAttribute("x2") || "100%",
                  y2: a.getAttribute("y2") || 0
                })
              : "radial" === i &&
                (r = {
                  x1:
                    (o = t).getAttribute("fx") || o.getAttribute("cx") || "50%",
                  y1: o.getAttribute("fy") || o.getAttribute("cy") || "50%",
                  r1: 0,
                  x2: o.getAttribute("cx") || "50%",
                  y2: o.getAttribute("cy") || "50%",
                  r2: o.getAttribute("r") || "50%"
                }),
              s = h.length;
            s--;

          )
            u.push(d(h[s]));
          n = p(e, r, c);
          var f = new fabric.Gradient({
            type: i,
            coords: r,
            colorStops: u,
            offsetX: -e.left,
            offsetY: -e.top
          });
          return (
            (l || "" !== n) &&
              (f.gradientTransform = fabric.parseTransformAttribute(
                (l || "") + n
              )),
            f
          );
        },
        forObject: function(t, e) {
          return (
            e || (e = {}),
            p(t, e.coords, "userSpaceOnUse"),
            new fabric.Gradient(e)
          );
        }
      });
  })(),
  (function() {
    "use strict";
    var n = fabric.util.toFixed;
    fabric.Pattern = fabric.util.createClass({
      repeat: "repeat",
      offsetX: 0,
      offsetY: 0,
      crossOrigin: "",
      patternTransform: null,
      initialize: function(t, e) {
        if (
          (t || (t = {}),
          (this.id = fabric.Object.__uid++),
          this.setOptions(t),
          !t.source || (t.source && "string" != typeof t.source))
        )
          e && e(this);
        else if (void 0 !== fabric.util.getFunctionBody(t.source))
          (this.source = new Function(fabric.util.getFunctionBody(t.source))),
            e && e(this);
        else {
          var i = this;
          (this.source = fabric.util.createImage()),
            fabric.util.loadImage(
              t.source,
              function(t) {
                (i.source = t), e && e(i);
              },
              null,
              this.crossOrigin
            );
        }
      },
      toObject: function(t) {
        var e,
          i,
          r = fabric.Object.NUM_FRACTION_DIGITS;
        return (
          "function" == typeof this.source
            ? (e = String(this.source))
            : "string" == typeof this.source.src
              ? (e = this.source.src)
              : "object" == typeof this.source &&
                this.source.toDataURL &&
                (e = this.source.toDataURL()),
          (i = {
            type: "pattern",
            source: e,
            repeat: this.repeat,
            crossOrigin: this.crossOrigin,
            offsetX: n(this.offsetX, r),
            offsetY: n(this.offsetY, r),
            patternTransform: this.patternTransform
              ? this.patternTransform.concat()
              : null
          }),
          fabric.util.populateWithProperties(this, i, t),
          i
        );
      },
      toSVG: function(t) {
        var e = "function" == typeof this.source ? this.source() : this.source,
          i = e.width / t.width,
          r = e.height / t.height,
          n = this.offsetX / t.width,
          s = this.offsetY / t.height,
          o = "";
        return (
          ("repeat-x" !== this.repeat && "no-repeat" !== this.repeat) ||
            (r = 1),
          ("repeat-y" !== this.repeat && "no-repeat" !== this.repeat) ||
            (i = 1),
          e.src ? (o = e.src) : e.toDataURL && (o = e.toDataURL()),
          '<pattern id="SVGID_' +
            this.id +
            '" x="' +
            n +
            '" y="' +
            s +
            '" width="' +
            i +
            '" height="' +
            r +
            '">\n<image x="0" y="0" width="' +
            e.width +
            '" height="' +
            e.height +
            '" xlink:href="' +
            o +
            '"></image>\n</pattern>\n'
        );
      },
      setOptions: function(t) {
        for (var e in t) this[e] = t[e];
      },
      toLive: function(t) {
        var e = "function" == typeof this.source ? this.source() : this.source;
        if (!e) return "";
        if (void 0 !== e.src) {
          if (!e.complete) return "";
          if (0 === e.naturalWidth || 0 === e.naturalHeight) return "";
        }
        return t.createPattern(e, this.repeat);
      }
    });
  })(),
  (function(t) {
    "use strict";
    var o = t.fabric || (t.fabric = {}),
      a = o.util.toFixed;
    o.Shadow
      ? o.warn("fabric.Shadow is already defined.")
      : ((o.Shadow = o.util.createClass({
          color: "rgb(0,0,0)",
          blur: 0,
          offsetX: 0,
          offsetY: 0,
          affectStroke: !1,
          includeDefaultValues: !0,
          initialize: function(t) {
            for (var e in ("string" == typeof t && (t = this._parseShadow(t)),
            t))
              this[e] = t[e];
            this.id = o.Object.__uid++;
          },
          _parseShadow: function(t) {
            var e = t.trim(),
              i = o.Shadow.reOffsetsAndBlur.exec(e) || [];
            return {
              color: (
                e.replace(o.Shadow.reOffsetsAndBlur, "") || "rgb(0,0,0)"
              ).trim(),
              offsetX: parseInt(i[1], 10) || 0,
              offsetY: parseInt(i[2], 10) || 0,
              blur: parseInt(i[3], 10) || 0
            };
          },
          toString: function() {
            return [this.offsetX, this.offsetY, this.blur, this.color].join(
              "px "
            );
          },
          toSVG: function(t) {
            var e = 40,
              i = 40,
              r = o.Object.NUM_FRACTION_DIGITS,
              n = o.util.rotateVector(
                { x: this.offsetX, y: this.offsetY },
                o.util.degreesToRadians(-t.angle)
              ),
              s = new o.Color(this.color);
            return (
              t.width &&
                t.height &&
                ((e = 100 * a((Math.abs(n.x) + this.blur) / t.width, r) + 20),
                (i = 100 * a((Math.abs(n.y) + this.blur) / t.height, r) + 20)),
              t.flipX && (n.x *= -1),
              t.flipY && (n.y *= -1),
              '<filter id="SVGID_' +
                this.id +
                '" y="-' +
                i +
                '%" height="' +
                (100 + 2 * i) +
                '%" x="-' +
                e +
                '%" width="' +
                (100 + 2 * e) +
                '%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="' +
                a(this.blur ? this.blur / 2 : 0, r) +
                '"></feGaussianBlur>\n\t<feOffset dx="' +
                a(n.x, r) +
                '" dy="' +
                a(n.y, r) +
                '" result="oBlur" ></feOffset>\n\t<feFlood flood-color="' +
                s.toRgb() +
                '" flood-opacity="' +
                s.getAlpha() +
                '"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'
            );
          },
          toObject: function() {
            if (this.includeDefaultValues)
              return {
                color: this.color,
                blur: this.blur,
                offsetX: this.offsetX,
                offsetY: this.offsetY,
                affectStroke: this.affectStroke
              };
            var e = {},
              i = o.Shadow.prototype;
            return (
              ["color", "blur", "offsetX", "offsetY", "affectStroke"].forEach(
                function(t) {
                  this[t] !== i[t] && (e[t] = this[t]);
                },
                this
              ),
              e
            );
          }
        })),
        (o.Shadow.reOffsetsAndBlur = /(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/));
  })("undefined" != typeof exports ? exports : this),
  (function() {
    "use strict";
    if (fabric.StaticCanvas)
      fabric.warn("fabric.StaticCanvas is already defined.");
    else {
      var r = fabric.util.object.extend,
        t = fabric.util.getElementOffset,
        c = fabric.util.removeFromArray,
        a = fabric.util.toFixed,
        s = fabric.util.transformPoint,
        o = fabric.util.invertTransform,
        e = new Error("Could not initialize `canvas` element");
      (fabric.StaticCanvas = fabric.util.createClass(fabric.CommonMethods, {
        initialize: function(t, e) {
          e || (e = {}),
            (this.renderAndResetBound = this.renderAndReset.bind(this)),
            (this.requestRenderAllBound = this.requestRenderAll.bind(this)),
            this._initStatic(t, e);
        },
        backgroundColor: "",
        backgroundImage: null,
        overlayColor: "",
        overlayImage: null,
        includeDefaultValues: !0,
        stateful: !1,
        renderOnAddRemove: !0,
        clipTo: null,
        controlsAboveOverlay: !1,
        allowTouchScrolling: !1,
        imageSmoothingEnabled: !0,
        viewportTransform: fabric.iMatrix.concat(),
        backgroundVpt: !0,
        overlayVpt: !0,
        onBeforeScaleRotate: function() {},
        enableRetinaScaling: !0,
        vptCoords: {},
        skipOffscreen: !0,
        _initStatic: function(t, e) {
          var i = this.requestRenderAllBound;
          (this._objects = []),
            this._createLowerCanvas(t),
            this._initOptions(e),
            this._setImageSmoothing(),
            this.interactive || this._initRetinaScaling(),
            e.overlayImage && this.setOverlayImage(e.overlayImage, i),
            e.backgroundImage && this.setBackgroundImage(e.backgroundImage, i),
            e.backgroundColor && this.setBackgroundColor(e.backgroundColor, i),
            e.overlayColor && this.setOverlayColor(e.overlayColor, i),
            this.calcOffset();
        },
        _isRetinaScaling: function() {
          return 1 !== fabric.devicePixelRatio && this.enableRetinaScaling;
        },
        getRetinaScaling: function() {
          return this._isRetinaScaling() ? fabric.devicePixelRatio : 1;
        },
        _initRetinaScaling: function() {
          this._isRetinaScaling() &&
            (this.lowerCanvasEl.setAttribute(
              "width",
              this.width * fabric.devicePixelRatio
            ),
            this.lowerCanvasEl.setAttribute(
              "height",
              this.height * fabric.devicePixelRatio
            ),
            this.contextContainer.scale(
              fabric.devicePixelRatio,
              fabric.devicePixelRatio
            ));
        },
        calcOffset: function() {
          return (this._offset = t(this.lowerCanvasEl)), this;
        },
        setOverlayImage: function(t, e, i) {
          return this.__setBgOverlayImage("overlayImage", t, e, i);
        },
        setBackgroundImage: function(t, e, i) {
          return this.__setBgOverlayImage("backgroundImage", t, e, i);
        },
        setOverlayColor: function(t, e) {
          return this.__setBgOverlayColor("overlayColor", t, e);
        },
        setBackgroundColor: function(t, e) {
          return this.__setBgOverlayColor("backgroundColor", t, e);
        },
        _setImageSmoothing: function() {
          var t = this.getContext();
          (t.imageSmoothingEnabled =
            t.imageSmoothingEnabled ||
            t.webkitImageSmoothingEnabled ||
            t.mozImageSmoothingEnabled ||
            t.msImageSmoothingEnabled ||
            t.oImageSmoothingEnabled),
            (t.imageSmoothingEnabled = this.imageSmoothingEnabled);
        },
        __setBgOverlayImage: function(e, t, i, r) {
          return (
            "string" == typeof t
              ? fabric.util.loadImage(
                  t,
                  function(t) {
                    t && (this[e] = new fabric.Image(t, r)), i && i(t);
                  },
                  this,
                  r && r.crossOrigin
                )
              : (r && t.setOptions(r), (this[e] = t), i && i(t)),
            this
          );
        },
        __setBgOverlayColor: function(t, e, i) {
          return (
            (this[t] = e),
            this._initGradient(e, t),
            this._initPattern(e, t, i),
            this
          );
        },
        _createCanvasElement: function() {
          var t = fabric.util.createCanvasElement();
          if (!t) throw e;
          if ((t.style || (t.style = {}), void 0 === t.getContext)) throw e;
          return t;
        },
        _initOptions: function(t) {
          this._setOptions(t),
            (this.width =
              this.width || parseInt(this.lowerCanvasEl.width, 10) || 0),
            (this.height =
              this.height || parseInt(this.lowerCanvasEl.height, 10) || 0),
            this.lowerCanvasEl.style &&
              ((this.lowerCanvasEl.width = this.width),
              (this.lowerCanvasEl.height = this.height),
              (this.lowerCanvasEl.style.width = this.width + "px"),
              (this.lowerCanvasEl.style.height = this.height + "px"),
              (this.viewportTransform = this.viewportTransform.slice()));
        },
        _createLowerCanvas: function(t) {
          t && t.getContext
            ? (this.lowerCanvasEl = t)
            : (this.lowerCanvasEl =
                fabric.util.getById(t) || this._createCanvasElement()),
            fabric.util.addClass(this.lowerCanvasEl, "lower-canvas"),
            this.interactive && this._applyCanvasStyle(this.lowerCanvasEl),
            (this.contextContainer = this.lowerCanvasEl.getContext("2d"));
        },
        getWidth: function() {
          return this.width;
        },
        getHeight: function() {
          return this.height;
        },
        setWidth: function(t, e) {
          return this.setDimensions({ width: t }, e);
        },
        setHeight: function(t, e) {
          return this.setDimensions({ height: t }, e);
        },
        setDimensions: function(t, e) {
          var i;
          for (var r in ((e = e || {}), t))
            (i = t[r]),
              e.cssOnly ||
                (this._setBackstoreDimension(r, t[r]),
                (i += "px"),
                (this.hasLostContext = !0)),
              e.backstoreOnly || this._setCssDimension(r, i);
          return (
            this._isCurrentlyDrawing &&
              this.freeDrawingBrush &&
              this.freeDrawingBrush._setBrushStyles(),
            this._initRetinaScaling(),
            this._setImageSmoothing(),
            this.calcOffset(),
            e.cssOnly || this.requestRenderAll(),
            this
          );
        },
        _setBackstoreDimension: function(t, e) {
          return (
            (this.lowerCanvasEl[t] = e),
            this.upperCanvasEl && (this.upperCanvasEl[t] = e),
            this.cacheCanvasEl && (this.cacheCanvasEl[t] = e),
            (this[t] = e),
            this
          );
        },
        _setCssDimension: function(t, e) {
          return (
            (this.lowerCanvasEl.style[t] = e),
            this.upperCanvasEl && (this.upperCanvasEl.style[t] = e),
            this.wrapperEl && (this.wrapperEl.style[t] = e),
            this
          );
        },
        getZoom: function() {
          return this.viewportTransform[0];
        },
        setViewportTransform: function(t) {
          var e,
            i,
            r,
            n = this._activeObject;
          for (
            this.viewportTransform = t, i = 0, r = this._objects.length;
            i < r;
            i++
          )
            (e = this._objects[i]).group || e.setCoords(!1, !0);
          return (
            n && "activeSelection" === n.type && n.setCoords(!1, !0),
            this.calcViewportBoundaries(),
            this.renderOnAddRemove && this.requestRenderAll(),
            this
          );
        },
        zoomToPoint: function(t, e) {
          var i = t,
            r = this.viewportTransform.slice(0);
          (t = s(t, o(this.viewportTransform))), (r[0] = e), (r[3] = e);
          var n = s(t, r);
          return (
            (r[4] += i.x - n.x),
            (r[5] += i.y - n.y),
            this.setViewportTransform(r)
          );
        },
        setZoom: function(t) {
          return this.zoomToPoint(new fabric.Point(0, 0), t), this;
        },
        absolutePan: function(t) {
          var e = this.viewportTransform.slice(0);
          return (e[4] = -t.x), (e[5] = -t.y), this.setViewportTransform(e);
        },
        relativePan: function(t) {
          return this.absolutePan(
            new fabric.Point(
              -t.x - this.viewportTransform[4],
              -t.y - this.viewportTransform[5]
            )
          );
        },
        getElement: function() {
          return this.lowerCanvasEl;
        },
        _onObjectAdded: function(t) {
          this.stateful && t.setupState(),
            t._set("canvas", this),
            t.setCoords(),
            this.fire("object:added", { target: t }),
            t.fire("added");
        },
        _onObjectRemoved: function(t) {
          this.fire("object:removed", { target: t }),
            t.fire("removed"),
            delete t.canvas;
        },
        clearContext: function(t) {
          return t.clearRect(0, 0, this.width, this.height), this;
        },
        getContext: function() {
          return this.contextContainer;
        },
        clear: function() {
          return (
            (this._objects.length = 0),
            (this.backgroundImage = null),
            (this.overlayImage = null),
            (this.backgroundColor = ""),
            (this.overlayColor = ""),
            this._hasITextHandlers &&
              (this.off("mouse:up", this._mouseUpITextHandler),
              (this._iTextInstances = null),
              (this._hasITextHandlers = !1)),
            this.clearContext(this.contextContainer),
            this.fire("canvas:cleared"),
            this.renderOnAddRemove && this.requestRenderAll(),
            this
          );
        },
        renderAll: function() {
          var t = this.contextContainer;
          return this.renderCanvas(t, this._objects), this;
        },
        renderAndReset: function() {
          (this.isRendering = 0), this.renderAll();
        },
        requestRenderAll: function() {
          return (
            this.isRendering ||
              (this.isRendering = fabric.util.requestAnimFrame(
                this.renderAndResetBound
              )),
            this
          );
        },
        calcViewportBoundaries: function() {
          var t = {},
            e = this.width,
            i = this.height,
            r = o(this.viewportTransform);
          return (
            (t.tl = s({ x: 0, y: 0 }, r)),
            (t.br = s({ x: e, y: i }, r)),
            (t.tr = new fabric.Point(t.br.x, t.tl.y)),
            (t.bl = new fabric.Point(t.tl.x, t.br.y)),
            (this.vptCoords = t)
          );
        },
        renderCanvas: function(t, e) {
          var i = this.viewportTransform;
          this.isRendering &&
            (fabric.util.cancelAnimFrame(this.isRendering),
            (this.isRendering = 0)),
            this.calcViewportBoundaries(),
            this.clearContext(t),
            this.fire("before:render"),
            this.clipTo && fabric.util.clipContext(this, t),
            this._renderBackground(t),
            t.save(),
            t.transform(i[0], i[1], i[2], i[3], i[4], i[5]),
            this._renderObjects(t, e),
            t.restore(),
            !this.controlsAboveOverlay &&
              this.interactive &&
              this.drawControls(t),
            this.clipTo && t.restore(),
            this._renderOverlay(t),
            this.controlsAboveOverlay &&
              this.interactive &&
              this.drawControls(t),
            this.fire("after:render");
        },
        _renderObjects: function(t, e) {
          var i, r;
          for (i = 0, r = e.length; i < r; ++i) e[i] && e[i].render(t);
        },
        _renderBackgroundOrOverlay: function(t, e) {
          var i,
            r = this[e + "Color"];
          r &&
            ((t.fillStyle = r.toLive ? r.toLive(t, this) : r),
            t.fillRect(
              r.offsetX || 0,
              r.offsetY || 0,
              this.width,
              this.height
            )),
            (r = this[e + "Image"]) &&
              (this[e + "Vpt"] &&
                ((i = this.viewportTransform),
                t.save(),
                t.transform(i[0], i[1], i[2], i[3], i[4], i[5])),
              r.render(t),
              this[e + "Vpt"] && t.restore());
        },
        _renderBackground: function(t) {
          this._renderBackgroundOrOverlay(t, "background");
        },
        _renderOverlay: function(t) {
          this._renderBackgroundOrOverlay(t, "overlay");
        },
        getCenter: function() {
          return { top: this.height / 2, left: this.width / 2 };
        },
        centerObjectH: function(t) {
          return this._centerObject(
            t,
            new fabric.Point(this.getCenter().left, t.getCenterPoint().y)
          );
        },
        centerObjectV: function(t) {
          return this._centerObject(
            t,
            new fabric.Point(t.getCenterPoint().x, this.getCenter().top)
          );
        },
        centerObject: function(t) {
          var e = this.getCenter();
          return this._centerObject(t, new fabric.Point(e.left, e.top));
        },
        viewportCenterObject: function(t) {
          var e = this.getVpCenter();
          return this._centerObject(t, e);
        },
        viewportCenterObjectH: function(t) {
          var e = this.getVpCenter();
          return (
            this._centerObject(t, new fabric.Point(e.x, t.getCenterPoint().y)),
            this
          );
        },
        viewportCenterObjectV: function(t) {
          var e = this.getVpCenter();
          return this._centerObject(
            t,
            new fabric.Point(t.getCenterPoint().x, e.y)
          );
        },
        getVpCenter: function() {
          var t = this.getCenter(),
            e = o(this.viewportTransform);
          return s({ x: t.left, y: t.top }, e);
        },
        _centerObject: function(t, e) {
          return (
            t.setPositionByOrigin(e, "center", "center"),
            t.setCoords(),
            this.renderOnAddRemove && this.requestRenderAll(),
            this
          );
        },
        toDatalessJSON: function(t) {
          return this.toDatalessObject(t);
        },
        toObject: function(t) {
          return this._toObjectMethod("toObject", t);
        },
        toDatalessObject: function(t) {
          return this._toObjectMethod("toDatalessObject", t);
        },
        _toObjectMethod: function(t, e) {
          var i = { version: fabric.version, objects: this._toObjects(t, e) };
          return (
            r(i, this.__serializeBgOverlay(t, e)),
            fabric.util.populateWithProperties(this, i, e),
            i
          );
        },
        _toObjects: function(e, i) {
          return this.getObjects()
            .filter(function(t) {
              return !t.excludeFromExport;
            })
            .map(function(t) {
              return this._toObject(t, e, i);
            }, this);
        },
        _toObject: function(t, e, i) {
          var r;
          this.includeDefaultValues ||
            ((r = t.includeDefaultValues), (t.includeDefaultValues = !1));
          var n = t[e](i);
          return this.includeDefaultValues || (t.includeDefaultValues = r), n;
        },
        __serializeBgOverlay: function(t, e) {
          var i = {},
            r = this.backgroundImage,
            n = this.overlayImage;
          return (
            this.backgroundColor &&
              (i.background = this.backgroundColor.toObject
                ? this.backgroundColor.toObject(e)
                : this.backgroundColor),
            this.overlayColor &&
              (i.overlay = this.overlayColor.toObject
                ? this.overlayColor.toObject(e)
                : this.overlayColor),
            r &&
              !r.excludeFromExport &&
              (i.backgroundImage = this._toObject(r, t, e)),
            n &&
              !n.excludeFromExport &&
              (i.overlayImage = this._toObject(n, t, e)),
            i
          );
        },
        svgViewportTransformation: !0,
        toSVG: function(t, e) {
          t || (t = {});
          var i = [];
          return (
            this._setSVGPreamble(i, t),
            this._setSVGHeader(i, t),
            this._setSVGBgOverlayColor(i, "backgroundColor"),
            this._setSVGBgOverlayImage(i, "backgroundImage", e),
            this._setSVGObjects(i, e),
            this._setSVGBgOverlayColor(i, "overlayColor"),
            this._setSVGBgOverlayImage(i, "overlayImage", e),
            i.push("</svg>"),
            i.join("")
          );
        },
        _setSVGPreamble: function(t, e) {
          e.suppressPreamble ||
            t.push(
              '<?xml version="1.0" encoding="',
              e.encoding || "UTF-8",
              '" standalone="no" ?>\n',
              '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',
              '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'
            );
        },
        _setSVGHeader: function(t, e) {
          var i,
            r = e.width || this.width,
            n = e.height || this.height,
            s = 'viewBox="0 0 ' + this.width + " " + this.height + '" ',
            o = fabric.Object.NUM_FRACTION_DIGITS;
          e.viewBox
            ? (s =
                'viewBox="' +
                e.viewBox.x +
                " " +
                e.viewBox.y +
                " " +
                e.viewBox.width +
                " " +
                e.viewBox.height +
                '" ')
            : this.svgViewportTransformation &&
              ((i = this.viewportTransform),
              (s =
                'viewBox="' +
                a(-i[4] / i[0], o) +
                " " +
                a(-i[5] / i[3], o) +
                " " +
                a(this.width / i[0], o) +
                " " +
                a(this.height / i[3], o) +
                '" ')),
            t.push(
              "<svg ",
              'xmlns="http://www.w3.org/2000/svg" ',
              'xmlns:xlink="http://www.w3.org/1999/xlink" ',
              'version="1.1" ',
              'width="',
              r,
              '" ',
              'height="',
              n,
              '" ',
              s,
              'xml:space="preserve">\n',
              "<desc>Created with Fabric.js ",
              fabric.version,
              "</desc>\n",
              "<defs>\n",
              this.createSVGFontFacesMarkup(),
              this.createSVGRefElementsMarkup(),
              "</defs>\n"
            );
        },
        createSVGRefElementsMarkup: function() {
          var i = this;
          return ["backgroundColor", "overlayColor"]
            .map(function(t) {
              var e = i[t];
              if (e && e.toLive) return e.toSVG(i, !1);
            })
            .join("");
        },
        createSVGFontFacesMarkup: function() {
          var t,
            e,
            i,
            r,
            n,
            s,
            o,
            a,
            h = "",
            c = {},
            l = fabric.fontPaths,
            u = this.getObjects();
          for (o = 0, a = u.length; o < a; o++)
            if (
              ((e = (t = u[o]).fontFamily),
              -1 !== t.type.indexOf("text") &&
                !c[e] &&
                l[e] &&
                ((c[e] = !0), t.styles))
            )
              for (n in (i = t.styles))
                for (s in (r = i[n]))
                  !c[(e = r[s].fontFamily)] && l[e] && (c[e] = !0);
          for (var f in c)
            h += [
              "\t\t@font-face {\n",
              "\t\t\tfont-family: '",
              f,
              "';\n",
              "\t\t\tsrc: url('",
              l[f],
              "');\n",
              "\t\t}\n"
            ].join("");
          return (
            h &&
              (h = [
                '\t<style type="text/css">',
                "<![CDATA[\n",
                h,
                "]]>",
                "</style>\n"
              ].join("")),
            h
          );
        },
        _setSVGObjects: function(t, e) {
          var i,
            r,
            n,
            s = this.getObjects();
          for (r = 0, n = s.length; r < n; r++)
            (i = s[r]).excludeFromExport || this._setSVGObject(t, i, e);
        },
        _setSVGObject: function(t, e, i) {
          t.push(e.toSVG(i));
        },
        _setSVGBgOverlayImage: function(t, e, i) {
          this[e] && this[e].toSVG && t.push(this[e].toSVG(i));
        },
        _setSVGBgOverlayColor: function(t, e) {
          var i = this[e],
            r = this.viewportTransform,
            n = this.width / r[0],
            s = this.height / r[3];
          if (i)
            if (i.toLive) {
              var o = i.repeat;
              t.push(
                '<rect transform="translate(',
                n / 2,
                ",",
                s / 2,
                ')"',
                ' x="',
                i.offsetX - n / 2,
                '" y="',
                i.offsetY - s / 2,
                '" ',
                'width="',
                "repeat-y" === o || "no-repeat" === o ? i.source.width : n,
                '" height="',
                "repeat-x" === o || "no-repeat" === o ? i.source.height : s,
                '" fill="url(#SVGID_' + i.id + ')"',
                "></rect>\n"
              );
            } else
              t.push(
                '<rect x="0" y="0" width="100%" height="100%" ',
                'fill="',
                this[e],
                '"',
                "></rect>\n"
              );
        },
        sendToBack: function(t) {
          if (!t) return this;
          var e,
            i,
            r,
            n = this._activeObject;
          if (t === n && "activeSelection" === t.type)
            for (e = (r = n._objects).length; e--; )
              (i = r[e]), c(this._objects, i), this._objects.unshift(i);
          else c(this._objects, t), this._objects.unshift(t);
          return this.renderOnAddRemove && this.requestRenderAll(), this;
        },
        bringToFront: function(t) {
          if (!t) return this;
          var e,
            i,
            r,
            n = this._activeObject;
          if (t === n && "activeSelection" === t.type)
            for (r = n._objects, e = 0; e < r.length; e++)
              (i = r[e]), c(this._objects, i), this._objects.push(i);
          else c(this._objects, t), this._objects.push(t);
          return this.renderOnAddRemove && this.requestRenderAll(), this;
        },
        sendBackwards: function(t, e) {
          if (!t) return this;
          var i,
            r,
            n,
            s,
            o,
            a = this._activeObject,
            h = 0;
          if (t === a && "activeSelection" === t.type)
            for (o = a._objects, i = 0; i < o.length; i++)
              (r = o[i]),
                0 + h < (n = this._objects.indexOf(r)) &&
                  ((s = n - 1),
                  c(this._objects, r),
                  this._objects.splice(s, 0, r)),
                h++;
          else
            0 !== (n = this._objects.indexOf(t)) &&
              ((s = this._findNewLowerIndex(t, n, e)),
              c(this._objects, t),
              this._objects.splice(s, 0, t));
          return this.renderOnAddRemove && this.requestRenderAll(), this;
        },
        _findNewLowerIndex: function(t, e, i) {
          var r, n;
          if (i)
            for (n = (r = e) - 1; 0 <= n; --n) {
              if (
                t.intersectsWithObject(this._objects[n]) ||
                t.isContainedWithinObject(this._objects[n]) ||
                this._objects[n].isContainedWithinObject(t)
              ) {
                r = n;
                break;
              }
            }
          else r = e - 1;
          return r;
        },
        bringForward: function(t, e) {
          if (!t) return this;
          var i,
            r,
            n,
            s,
            o,
            a = this._activeObject,
            h = 0;
          if (t === a && "activeSelection" === t.type)
            for (i = (o = a._objects).length; i--; )
              (r = o[i]),
                (n = this._objects.indexOf(r)) < this._objects.length - 1 - h &&
                  ((s = n + 1),
                  c(this._objects, r),
                  this._objects.splice(s, 0, r)),
                h++;
          else
            (n = this._objects.indexOf(t)) !== this._objects.length - 1 &&
              ((s = this._findNewUpperIndex(t, n, e)),
              c(this._objects, t),
              this._objects.splice(s, 0, t));
          return this.renderOnAddRemove && this.requestRenderAll(), this;
        },
        _findNewUpperIndex: function(t, e, i) {
          var r, n, s;
          if (i)
            for (n = (r = e) + 1, s = this._objects.length; n < s; ++n) {
              if (
                t.intersectsWithObject(this._objects[n]) ||
                t.isContainedWithinObject(this._objects[n]) ||
                this._objects[n].isContainedWithinObject(t)
              ) {
                r = n;
                break;
              }
            }
          else r = e + 1;
          return r;
        },
        moveTo: function(t, e) {
          return (
            c(this._objects, t),
            this._objects.splice(e, 0, t),
            this.renderOnAddRemove && this.requestRenderAll()
          );
        },
        dispose: function() {
          return (
            this.isRendering &&
              (fabric.util.cancelAnimFrame(this.isRendering),
              (this.isRendering = 0)),
            this.forEachObject(function(t) {
              t.dispose && t.dispose();
            }),
            (this._objects = []),
            (this.backgroundImage = null),
            (this.overlayImage = null),
            (this._iTextInstances = null),
            (this.lowerCanvasEl = null),
            (this.contextContainer = null),
            this
          );
        },
        toString: function() {
          return (
            "#<fabric.Canvas (" +
            this.complexity() +
            "): { objects: " +
            this.getObjects().length +
            " }>"
          );
        }
      })),
        r(fabric.StaticCanvas.prototype, fabric.Observable),
        r(fabric.StaticCanvas.prototype, fabric.Collection),
        r(fabric.StaticCanvas.prototype, fabric.DataURLExporter),
        r(fabric.StaticCanvas, {
          EMPTY_JSON: '{"objects": [], "background": "white"}',
          supports: function(t) {
            var e = fabric.util.createCanvasElement();
            if (!e || !e.getContext) return null;
            var i = e.getContext("2d");
            if (!i) return null;
            switch (t) {
              case "getImageData":
                return void 0 !== i.getImageData;
              case "setLineDash":
                return void 0 !== i.setLineDash;
              case "toDataURL":
                return void 0 !== e.toDataURL;
              case "toDataURLWithQuality":
                try {
                  return e.toDataURL("image/jpeg", 0), !0;
                } catch (t) {}
                return !1;
              default:
                return null;
            }
          }
        }),
        (fabric.StaticCanvas.prototype.toJSON =
          fabric.StaticCanvas.prototype.toObject),
        fabric.isLikelyNode &&
          ((fabric.StaticCanvas.prototype.createPNGStream = function() {
            var t = fabric.util.getNodeCanvas(this.lowerCanvasEl);
            return t && t.createPNGStream();
          }),
          (fabric.StaticCanvas.prototype.createJPEGStream = function(t) {
            var e = fabric.util.getNodeCanvas(this.lowerCanvasEl);
            return e && e.createJPEGStream(t);
          }));
    }
  })(),
  (fabric.BaseBrush = fabric.util.createClass({
    color: "rgb(0, 0, 0)",
    width: 1,
    shadow: null,
    strokeLineCap: "round",
    strokeLineJoin: "round",
    strokeMiterLimit: 10,
    strokeDashArray: null,
    setShadow: function(t) {
      return (this.shadow = new fabric.Shadow(t)), this;
    },
    _setBrushStyles: function() {
      var t = this.canvas.contextTop;
      (t.strokeStyle = this.color),
        (t.lineWidth = this.width),
        (t.lineCap = this.strokeLineCap),
        (t.miterLimit = this.strokeMiterLimit),
        (t.lineJoin = this.strokeLineJoin),
        fabric.StaticCanvas.supports("setLineDash") &&
          t.setLineDash(this.strokeDashArray || []);
    },
    _saveAndTransform: function(t) {
      var e = this.canvas.viewportTransform;
      t.save(), t.transform(e[0], e[1], e[2], e[3], e[4], e[5]);
    },
    _setShadow: function() {
      if (this.shadow) {
        var t = this.canvas.contextTop,
          e = this.canvas.getZoom();
        (t.shadowColor = this.shadow.color),
          (t.shadowBlur = this.shadow.blur * e),
          (t.shadowOffsetX = this.shadow.offsetX * e),
          (t.shadowOffsetY = this.shadow.offsetY * e);
      }
    },
    _resetShadow: function() {
      var t = this.canvas.contextTop;
      (t.shadowColor = ""),
        (t.shadowBlur = t.shadowOffsetX = t.shadowOffsetY = 0);
    }
  })),
  (fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, {
    initialize: function(t) {
      (this.canvas = t), (this._points = []);
    },
    _drawSegment: function(t, e, i) {
      var r = e.midPointFrom(i);
      return t.quadraticCurveTo(e.x, e.y, r.x, r.y), r;
    },
    onMouseDown: function(t) {
      this._prepareForDrawing(t), this._captureDrawingPath(t), this._render();
    },
    onMouseMove: function(t) {
      if (this._captureDrawingPath(t) && 1 < this._points.length)
        if (this.needsFullRender)
          this.canvas.clearContext(this.canvas.contextTop), this._render();
        else {
          var e = this._points,
            i = e.length,
            r = this.canvas.contextTop;
          this._saveAndTransform(r),
            this.oldEnd &&
              (r.beginPath(), r.moveTo(this.oldEnd.x, this.oldEnd.y)),
            (this.oldEnd = this._drawSegment(r, e[i - 2], e[i - 1], !0)),
            r.stroke(),
            r.restore();
        }
    },
    onMouseUp: function() {
      (this.oldEnd = void 0), this._finalizeAndAddPath();
    },
    _prepareForDrawing: function(t) {
      var e = new fabric.Point(t.x, t.y);
      this._reset(), this._addPoint(e), this.canvas.contextTop.moveTo(e.x, e.y);
    },
    _addPoint: function(t) {
      return !(
        (1 < this._points.length &&
          t.eq(this._points[this._points.length - 1])) ||
        (this._points.push(t), 0)
      );
    },
    _reset: function() {
      (this._points.length = 0), this._setBrushStyles();
      var t = new fabric.Color(this.color);
      (this.needsFullRender = t.getAlpha() < 1), this._setShadow();
    },
    _captureDrawingPath: function(t) {
      var e = new fabric.Point(t.x, t.y);
      return this._addPoint(e);
    },
    _render: function() {
      var t,
        e,
        i = this.canvas.contextTop,
        r = this._points[0],
        n = this._points[1];
      if (
        (this._saveAndTransform(i),
        i.beginPath(),
        2 === this._points.length && r.x === n.x && r.y === n.y)
      ) {
        var s = this.width / 1e3;
        (r = new fabric.Point(r.x, r.y)),
          (n = new fabric.Point(n.x, n.y)),
          (r.x -= s),
          (n.x += s);
      }
      for (i.moveTo(r.x, r.y), t = 1, e = this._points.length; t < e; t++)
        this._drawSegment(i, r, n),
          (r = this._points[t]),
          (n = this._points[t + 1]);
      i.lineTo(r.x, r.y), i.stroke(), i.restore();
    },
    convertPointsToSVGPath: function(t) {
      var e,
        i = [],
        r = this.width / 1e3,
        n = new fabric.Point(t[0].x, t[0].y),
        s = new fabric.Point(t[1].x, t[1].y),
        o = t.length,
        a = 1,
        h = 1,
        c = 2 < o;
      for (
        c &&
          ((a = t[2].x < s.x ? -1 : t[2].x === s.x ? 0 : 1),
          (h = t[2].y < s.y ? -1 : t[2].y === s.y ? 0 : 1)),
          i.push("M ", n.x - a * r, " ", n.y - h * r, " "),
          e = 1;
        e < o;
        e++
      ) {
        if (!n.eq(s)) {
          var l = n.midPointFrom(s);
          i.push("Q ", n.x, " ", n.y, " ", l.x, " ", l.y, " ");
        }
        (n = t[e]), e + 1 < t.length && (s = t[e + 1]);
      }
      return (
        c &&
          ((a = n.x > t[e - 2].x ? 1 : n.x === t[e - 2].x ? 0 : -1),
          (h = n.y > t[e - 2].y ? 1 : n.y === t[e - 2].y ? 0 : -1)),
        i.push("L ", n.x + a * r, " ", n.y + h * r),
        i
      );
    },
    createPath: function(t) {
      var e = new fabric.Path(t, {
          fill: null,
          stroke: this.color,
          strokeWidth: this.width,
          strokeLineCap: this.strokeLineCap,
          strokeMiterLimit: this.strokeMiterLimit,
          strokeLineJoin: this.strokeLineJoin,
          strokeDashArray: this.strokeDashArray
        }),
        i = new fabric.Point(e.left + e.width / 2, e.top + e.height / 2);
      return (
        (i = e.translateToGivenOrigin(
          i,
          "center",
          "center",
          e.originX,
          e.originY
        )),
        (e.top = i.y),
        (e.left = i.x),
        this.shadow &&
          ((this.shadow.affectStroke = !0), e.setShadow(this.shadow)),
        e
      );
    },
    _finalizeAndAddPath: function() {
      this.canvas.contextTop.closePath();
      var t = this.convertPointsToSVGPath(this._points).join("");
      if ("M 0 0 Q 0 0 0 0 L 0 0" !== t) {
        var e = this.createPath(t);
        this.canvas.clearContext(this.canvas.contextTop),
          this.canvas.add(e),
          this.canvas.renderAll(),
          e.setCoords(),
          this._resetShadow(),
          this.canvas.fire("path:created", { path: e });
      } else this.canvas.requestRenderAll();
    }
  })),
  (fabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, {
    width: 10,
    initialize: function(t) {
      (this.canvas = t), (this.points = []);
    },
    drawDot: function(t) {
      var e = this.addPoint(t),
        i = this.canvas.contextTop;
      this._saveAndTransform(i),
        (i.fillStyle = e.fill),
        i.beginPath(),
        i.arc(e.x, e.y, e.radius, 0, 2 * Math.PI, !1),
        i.closePath(),
        i.fill(),
        i.restore();
    },
    onMouseDown: function(t) {
      (this.points.length = 0),
        this.canvas.clearContext(this.canvas.contextTop),
        this._setShadow(),
        this.drawDot(t);
    },
    _render: function() {
      var t,
        e,
        i,
        r = this.canvas.contextTop,
        n = this.points;
      for (this._saveAndTransform(r), t = 0, e = n.length; t < e; t++)
        (i = n[t]),
          (r.fillStyle = i.fill),
          r.beginPath(),
          r.arc(i.x, i.y, i.radius, 0, 2 * Math.PI, !1),
          r.closePath(),
          r.fill();
      r.restore();
    },
    onMouseMove: function(t) {
      this.drawDot(t);
    },
    onMouseUp: function() {
      var t,
        e,
        i = this.canvas.renderOnAddRemove;
      this.canvas.renderOnAddRemove = !1;
      var r = [];
      for (t = 0, e = this.points.length; t < e; t++) {
        var n = this.points[t],
          s = new fabric.Circle({
            radius: n.radius,
            left: n.x,
            top: n.y,
            originX: "center",
            originY: "center",
            fill: n.fill
          });
        this.shadow && s.setShadow(this.shadow), r.push(s);
      }
      var o = new fabric.Group(r, { originX: "center", originY: "center" });
      (o.canvas = this.canvas),
        this.canvas.add(o),
        this.canvas.fire("path:created", { path: o }),
        this.canvas.clearContext(this.canvas.contextTop),
        this._resetShadow(),
        (this.canvas.renderOnAddRemove = i),
        this.canvas.requestRenderAll();
    },
    addPoint: function(t) {
      var e = new fabric.Point(t.x, t.y),
        i =
          fabric.util.getRandomInt(
            Math.max(0, this.width - 20),
            this.width + 20
          ) / 2,
        r = new fabric.Color(this.color)
          .setAlpha(fabric.util.getRandomInt(0, 100) / 100)
          .toRgba();
      return (e.radius = i), (e.fill = r), this.points.push(e), e;
    }
  })),
  (fabric.SprayBrush = fabric.util.createClass(fabric.BaseBrush, {
    width: 10,
    density: 20,
    dotWidth: 1,
    dotWidthVariance: 1,
    randomOpacity: !1,
    optimizeOverlapping: !0,
    initialize: function(t) {
      (this.canvas = t), (this.sprayChunks = []);
    },
    onMouseDown: function(t) {
      (this.sprayChunks.length = 0),
        this.canvas.clearContext(this.canvas.contextTop),
        this._setShadow(),
        this.addSprayChunk(t),
        this.render(this.sprayChunkPoints);
    },
    onMouseMove: function(t) {
      this.addSprayChunk(t), this.render(this.sprayChunkPoints);
    },
    onMouseUp: function() {
      var t = this.canvas.renderOnAddRemove;
      this.canvas.renderOnAddRemove = !1;
      for (var e = [], i = 0, r = this.sprayChunks.length; i < r; i++)
        for (var n = this.sprayChunks[i], s = 0, o = n.length; s < o; s++) {
          var a = new fabric.Rect({
            width: n[s].width,
            height: n[s].width,
            left: n[s].x + 1,
            top: n[s].y + 1,
            originX: "center",
            originY: "center",
            fill: this.color
          });
          e.push(a);
        }
      this.optimizeOverlapping && (e = this._getOptimizedRects(e));
      var h = new fabric.Group(e, { originX: "center", originY: "center" });
      this.shadow && h.setShadow(this.shadow),
        this.canvas.add(h),
        this.canvas.fire("path:created", { path: h }),
        this.canvas.clearContext(this.canvas.contextTop),
        this._resetShadow(),
        (this.canvas.renderOnAddRemove = t),
        this.canvas.requestRenderAll();
    },
    _getOptimizedRects: function(t) {
      var e,
        i,
        r,
        n = {};
      for (i = 0, r = t.length; i < r; i++)
        n[(e = t[i].left + "" + t[i].top)] || (n[e] = t[i]);
      var s = [];
      for (e in n) s.push(n[e]);
      return s;
    },
    render: function(t) {
      var e,
        i,
        r = this.canvas.contextTop;
      for (
        r.fillStyle = this.color,
          this._saveAndTransform(r),
          e = 0,
          i = t.length;
        e < i;
        e++
      ) {
        var n = t[e];
        void 0 !== n.opacity && (r.globalAlpha = n.opacity),
          r.fillRect(n.x, n.y, n.width, n.width);
      }
      r.restore();
    },
    _render: function() {
      var t,
        e,
        i = this.canvas.contextTop;
      for (
        i.fillStyle = this.color,
          this._saveAndTransform(i),
          t = 0,
          e = this.sprayChunks.length;
        t < e;
        t++
      )
        this.render(this.sprayChunks[t]);
      i.restore();
    },
    addSprayChunk: function(t) {
      this.sprayChunkPoints = [];
      var e,
        i,
        r,
        n,
        s = this.width / 2;
      for (n = 0; n < this.density; n++) {
        (e = fabric.util.getRandomInt(t.x - s, t.x + s)),
          (i = fabric.util.getRandomInt(t.y - s, t.y + s)),
          (r = this.dotWidthVariance
            ? fabric.util.getRandomInt(
                Math.max(1, this.dotWidth - this.dotWidthVariance),
                this.dotWidth + this.dotWidthVariance
              )
            : this.dotWidth);
        var o = new fabric.Point(e, i);
        (o.width = r),
          this.randomOpacity &&
            (o.opacity = fabric.util.getRandomInt(0, 100) / 100),
          this.sprayChunkPoints.push(o);
      }
      this.sprayChunks.push(this.sprayChunkPoints);
    }
  })),
  (fabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, {
    getPatternSrc: function() {
      var t = fabric.document.createElement("canvas"),
        e = t.getContext("2d");
      return (
        (t.width = t.height = 25),
        (e.fillStyle = this.color),
        e.beginPath(),
        e.arc(10, 10, 10, 0, 2 * Math.PI, !1),
        e.closePath(),
        e.fill(),
        t
      );
    },
    getPatternSrcFunction: function() {
      return String(this.getPatternSrc).replace(
        "this.color",
        '"' + this.color + '"'
      );
    },
    getPattern: function() {
      return this.canvas.contextTop.createPattern(
        this.source || this.getPatternSrc(),
        "repeat"
      );
    },
    _setBrushStyles: function() {
      this.callSuper("_setBrushStyles"),
        (this.canvas.contextTop.strokeStyle = this.getPattern());
    },
    createPath: function(t) {
      var e = this.callSuper("createPath", t),
        i = e._getLeftTopCoords().scalarAdd(e.strokeWidth / 2);
      return (
        (e.stroke = new fabric.Pattern({
          source: this.source || this.getPatternSrcFunction(),
          offsetX: -i.x,
          offsetY: -i.y
        })),
        e
      );
    }
  })),
  (function() {
    var h = fabric.util.getPointer,
      o = fabric.util.degreesToRadians,
      d = fabric.util.radiansToDegrees,
      g = Math.atan2,
      c = Math.abs,
      l = fabric.StaticCanvas.supports("setLineDash");
    for (var t in ((fabric.Canvas = fabric.util.createClass(
      fabric.StaticCanvas,
      {
        initialize: function(t, e) {
          e || (e = {}),
            (this.renderAndResetBound = this.renderAndReset.bind(this)),
            this._initStatic(t, e),
            this._initInteractive(),
            this._createCacheCanvas();
        },
        uniScaleTransform: !1,
        uniScaleKey: "shiftKey",
        centeredScaling: !1,
        centeredRotation: !1,
        centeredKey: "altKey",
        altActionKey: "shiftKey",
        interactive: !0,
        selection: !0,
        selectionKey: "shiftKey",
        altSelectionKey: null,
        selectionColor: "rgba(100, 100, 255, 0.3)",
        selectionDashArray: [],
        selectionBorderColor: "rgba(255, 255, 255, 0.3)",
        selectionLineWidth: 1,
        selectionFullyContained: !1,
        hoverCursor: "move",
        moveCursor: "move",
        defaultCursor: "default",
        freeDrawingCursor: "crosshair",
        rotationCursor: "crosshair",
        notAllowedCursor: "not-allowed",
        containerClass: "canvas-container",
        perPixelTargetFind: !1,
        targetFindTolerance: 0,
        skipTargetFind: !1,
        isDrawingMode: !1,
        preserveObjectStacking: !1,
        snapAngle: 0,
        snapThreshold: null,
        stopContextMenu: !1,
        fireRightClick: !1,
        fireMiddleClick: !1,
        _initInteractive: function() {
          (this._currentTransform = null),
            (this._groupSelector = null),
            this._initWrapperElement(),
            this._createUpperCanvas(),
            this._initEventListeners(),
            this._initRetinaScaling(),
            (this.freeDrawingBrush =
              fabric.PencilBrush && new fabric.PencilBrush(this)),
            this.calcOffset();
        },
        _chooseObjectsToRender: function() {
          var t,
            e,
            i,
            r = this.getActiveObjects();
          if (0 < r.length && !this.preserveObjectStacking) {
            (e = []), (i = []);
            for (var n = 0, s = this._objects.length; n < s; n++)
              (t = this._objects[n]),
                -1 === r.indexOf(t) ? e.push(t) : i.push(t);
            1 < r.length && (this._activeObject._objects = i),
              e.push.apply(e, i);
          } else e = this._objects;
          return e;
        },
        renderAll: function() {
          !this.contextTopDirty ||
            this._groupSelector ||
            this.isDrawingMode ||
            (this.clearContext(this.contextTop), (this.contextTopDirty = !1)),
            this.hasLostContext && this.renderTopLayer(this.contextTop);
          var t = this.contextContainer;
          return this.renderCanvas(t, this._chooseObjectsToRender()), this;
        },
        renderTopLayer: function(t) {
          this.isDrawingMode &&
            this._isCurrentlyDrawing &&
            this.freeDrawingBrush &&
            this.freeDrawingBrush._render(),
            this.selection && this._groupSelector && this._drawSelection(t);
        },
        renderTop: function() {
          var t = this.contextTop;
          return (
            this.clearContext(t),
            this.renderTopLayer(t),
            this.fire("after:render"),
            (this.contextTopDirty = !0),
            this
          );
        },
        _resetCurrentTransform: function() {
          var t = this._currentTransform;
          t.target.set({
            scaleX: t.original.scaleX,
            scaleY: t.original.scaleY,
            skewX: t.original.skewX,
            skewY: t.original.skewY,
            left: t.original.left,
            top: t.original.top
          }),
            this._shouldCenterTransform(t.target)
              ? ("center" !== t.originX &&
                  ("right" === t.originX
                    ? (t.mouseXSign = -1)
                    : (t.mouseXSign = 1)),
                "center" !== t.originY &&
                  ("bottom" === t.originY
                    ? (t.mouseYSign = -1)
                    : (t.mouseYSign = 1)),
                (t.originX = "center"),
                (t.originY = "center"))
              : ((t.originX = t.original.originX),
                (t.originY = t.original.originY));
        },
        containsPoint: function(t, e, i) {
          var r,
            n = i || this.getPointer(t, !0);
          return (
            (r =
              e.group &&
              e.group === this._activeObject &&
              "activeSelection" === e.group.type
                ? this._normalizePointer(e.group, n)
                : { x: n.x, y: n.y }),
            e.containsPoint(r) || e._findTargetCorner(n)
          );
        },
        _normalizePointer: function(t, e) {
          var i = t.calcTransformMatrix(),
            r = fabric.util.invertTransform(i),
            n = this.restorePointerVpt(e);
          return fabric.util.transformPoint(n, r);
        },
        isTargetTransparent: function(t, e, i) {
          if (t.shouldCache() && t._cacheCanvas) {
            var r = this._normalizePointer(t, { x: e, y: i }),
              n = t.cacheTranslationX + r.x * t.zoomX,
              s = t.cacheTranslationY + r.y * t.zoomY;
            return fabric.util.isTransparent(
              t._cacheContext,
              n,
              s,
              this.targetFindTolerance
            );
          }
          var o = this.contextCache,
            a = t.selectionBackgroundColor,
            h = this.viewportTransform;
          return (
            (t.selectionBackgroundColor = ""),
            this.clearContext(o),
            o.save(),
            o.transform(h[0], h[1], h[2], h[3], h[4], h[5]),
            t.render(o),
            o.restore(),
            t === this._activeObject &&
              t._renderControls(
                o,
                { hasBorders: !1, transparentCorners: !1 },
                { hasBorders: !1 }
              ),
            (t.selectionBackgroundColor = a),
            fabric.util.isTransparent(o, e, i, this.targetFindTolerance)
          );
        },
        _isSelectionKeyPressed: function(e) {
          return "[object Array]" ===
            Object.prototype.toString.call(this.selectionKey)
            ? !!this.selectionKey.find(function(t) {
                return !0 === e[t];
              })
            : e[this.selectionKey];
        },
        _shouldClearSelection: function(t, e) {
          var i = this.getActiveObjects(),
            r = this._activeObject;
          return (
            !e ||
            (e &&
              r &&
              1 < i.length &&
              -1 === i.indexOf(e) &&
              r !== e &&
              !this._isSelectionKeyPressed(t)) ||
            (e && !e.evented) ||
            (e && !e.selectable && r && r !== e)
          );
        },
        _shouldCenterTransform: function(t) {
          if (t) {
            var e,
              i = this._currentTransform;
            return (
              "scale" === i.action ||
              "scaleX" === i.action ||
              "scaleY" === i.action
                ? (e = this.centeredScaling || t.centeredScaling)
                : "rotate" === i.action &&
                  (e = this.centeredRotation || t.centeredRotation),
              e ? !i.altKey : i.altKey
            );
          }
        },
        _getOriginFromCorner: function(t, e) {
          var i = { x: t.originX, y: t.originY };
          return (
            "ml" === e || "tl" === e || "bl" === e
              ? (i.x = "right")
              : ("mr" !== e && "tr" !== e && "br" !== e) || (i.x = "left"),
            "tl" === e || "mt" === e || "tr" === e
              ? (i.y = "bottom")
              : ("bl" !== e && "mb" !== e && "br" !== e) || (i.y = "top"),
            i
          );
        },
        _getActionFromCorner: function(t, e, i) {
          if (!e) return "drag";
          switch (e) {
            case "mtr":
              return "rotate";
            case "ml":
            case "mr":
              return i[this.altActionKey] ? "skewY" : "scaleX";
            case "mt":
            case "mb":
              return i[this.altActionKey] ? "skewX" : "scaleY";
            default:
              return "scale";
          }
        },
        _setupCurrentTransform: function(t, e) {
          if (e) {
            var i = this.getPointer(t),
              r = e._findTargetCorner(this.getPointer(t, !0)),
              n = this._getActionFromCorner(e, r, t),
              s = this._getOriginFromCorner(e, r);
            (this._currentTransform = {
              target: e,
              action: n,
              corner: r,
              scaleX: e.scaleX,
              scaleY: e.scaleY,
              skewX: e.skewX,
              skewY: e.skewY,
              offsetX: i.x - e.left,
              offsetY: i.y - e.top,
              originX: s.x,
              originY: s.y,
              ex: i.x,
              ey: i.y,
              lastX: i.x,
              lastY: i.y,
              theta: o(e.angle),
              width: e.width * e.scaleX,
              mouseXSign: 1,
              mouseYSign: 1,
              shiftKey: t.shiftKey,
              altKey: t[this.centeredKey]
            }),
              (this._currentTransform.original = {
                left: e.left,
                top: e.top,
                scaleX: e.scaleX,
                scaleY: e.scaleY,
                skewX: e.skewX,
                skewY: e.skewY,
                originX: s.x,
                originY: s.y
              }),
              this._resetCurrentTransform(),
              this._beforeTransform(t);
          }
        },
        _translateObject: function(t, e) {
          var i = this._currentTransform,
            r = i.target,
            n = t - i.offsetX,
            s = e - i.offsetY,
            o = !r.get("lockMovementX") && r.left !== n,
            a = !r.get("lockMovementY") && r.top !== s;
          return o && r.set("left", n), a && r.set("top", s), o || a;
        },
        _changeSkewTransformOrigin: function(t, e, i) {
          var r = "originX",
            n = { 0: "center" },
            s = e.target.skewX,
            o = "left",
            a = "right",
            h = "mt" === e.corner || "ml" === e.corner ? 1 : -1,
            c = 1;
          (t = 0 < t ? 1 : -1),
            "y" === i &&
              ((s = e.target.skewY),
              (o = "top"),
              (a = "bottom"),
              (r = "originY")),
            (n[-1] = o),
            (n[1] = a),
            e.target.flipX && (c *= -1),
            e.target.flipY && (c *= -1),
            0 === s
              ? ((e.skewSign = -h * t * c), (e[r] = n[-t]))
              : ((s = 0 < s ? 1 : -1), (e.skewSign = s), (e[r] = n[s * h * c]));
        },
        _skewObject: function(t, e, i) {
          var r,
            n = this._currentTransform,
            s = n.target,
            o = s.get("lockSkewingX"),
            a = s.get("lockSkewingY");
          if ((o && "x" === i) || (a && "y" === i)) return !1;
          var h,
            c,
            l = s.getCenterPoint(),
            u = s.toLocalPoint(new fabric.Point(t, e), "center", "center")[i],
            f = s.toLocalPoint(
              new fabric.Point(n.lastX, n.lastY),
              "center",
              "center"
            )[i],
            d = s._getTransformedDimensions();
          return (
            this._changeSkewTransformOrigin(u - f, n, i),
            (h = s.toLocalPoint(new fabric.Point(t, e), n.originX, n.originY)[
              i
            ]),
            (c = s.translateToOriginPoint(l, n.originX, n.originY)),
            (r = this._setObjectSkew(h, n, i, d)),
            (n.lastX = t),
            (n.lastY = e),
            s.setPositionByOrigin(c, n.originX, n.originY),
            r
          );
        },
        _setObjectSkew: function(t, e, i, r) {
          var n,
            s,
            o,
            a,
            h,
            c,
            l,
            u,
            f,
            d,
            g = e.target,
            p = e.skewSign;
          return (
            "x" === i
              ? ((h = "y"), (c = "Y"), (l = "X"), (f = 0), (d = g.skewY))
              : ((h = "x"), (c = "X"), (l = "Y"), (f = g.skewX), (d = 0)),
            (a = g._getTransformedDimensions(f, d)),
            (u = 2 * Math.abs(t) - a[i]) <= 2
              ? (n = 0)
              : ((n =
                  p * Math.atan(u / g["scale" + l] / (a[h] / g["scale" + c]))),
                (n = fabric.util.radiansToDegrees(n))),
            (s = g["skew" + l] !== n),
            g.set("skew" + l, n),
            0 !== g["skew" + c] &&
              ((o = g._getTransformedDimensions()),
              (n = r[h] / o[h] * g["scale" + c]),
              g.set("scale" + c, n)),
            s
          );
        },
        _scaleObject: function(t, e, i) {
          var r = this._currentTransform,
            n = r.target,
            s = n.lockScalingX,
            o = n.lockScalingY,
            a = n.lockScalingFlip;
          if (s && o) return !1;
          var h,
            c = n.translateToOriginPoint(
              n.getCenterPoint(),
              r.originX,
              r.originY
            ),
            l = n.toLocalPoint(new fabric.Point(t, e), r.originX, r.originY),
            u = n._getTransformedDimensions();
          return (
            this._setLocalMouse(l, r),
            (h = this._setObjectScale(l, r, s, o, i, a, u)),
            n.setPositionByOrigin(c, r.originX, r.originY),
            h
          );
        },
        _setObjectScale: function(t, e, i, r, n, s, o) {
          var a,
            h,
            c,
            l,
            u = e.target,
            f = !1,
            d = !1,
            g = !1;
          return (
            (c = t.x * u.scaleX / o.x),
            (l = t.y * u.scaleY / o.y),
            (a = u.scaleX !== c),
            (h = u.scaleY !== l),
            s && c <= 0 && c < u.scaleX && ((f = !0), (t.x = 0)),
            s && l <= 0 && l < u.scaleY && ((d = !0), (t.y = 0)),
            "equally" !== n || i || r
              ? n
                ? "x" !== n || u.get("lockUniScaling")
                  ? "y" !== n ||
                    u.get("lockUniScaling") ||
                    d ||
                    r ||
                    (u.set("scaleY", l) && (g = g || h))
                  : f || i || (u.set("scaleX", c) && (g = g || a))
                : (f || i || (u.set("scaleX", c) && (g = g || a)),
                  d || r || (u.set("scaleY", l) && (g = g || h)))
              : (g = this._scaleObjectEqually(t, u, e, o)),
            (e.newScaleX = c),
            (e.newScaleY = l),
            f || d || this._flipObject(e, n),
            g
          );
        },
        _scaleObjectEqually: function(t, e, i, r) {
          var n,
            s = t.y + t.x,
            o =
              r.y * i.original.scaleY / e.scaleY +
              r.x * i.original.scaleX / e.scaleX,
            a = t.x < 0 ? -1 : 1,
            h = t.y < 0 ? -1 : 1;
          return (
            (i.newScaleX = a * Math.abs(i.original.scaleX * s / o)),
            (i.newScaleY = h * Math.abs(i.original.scaleY * s / o)),
            (n = i.newScaleX !== e.scaleX || i.newScaleY !== e.scaleY),
            e.set("scaleX", i.newScaleX),
            e.set("scaleY", i.newScaleY),
            n
          );
        },
        _flipObject: function(t, e) {
          t.newScaleX < 0 &&
            "y" !== e &&
            ("left" === t.originX
              ? (t.originX = "right")
              : "right" === t.originX && (t.originX = "left")),
            t.newScaleY < 0 &&
              "x" !== e &&
              ("top" === t.originY
                ? (t.originY = "bottom")
                : "bottom" === t.originY && (t.originY = "top"));
        },
        _setLocalMouse: function(t, e) {
          var i = e.target,
            r = this.getZoom(),
            n = i.padding / r;
          "right" === e.originX
            ? (t.x *= -1)
            : "center" === e.originX &&
              ((t.x *= 2 * e.mouseXSign),
              t.x < 0 && (e.mouseXSign = -e.mouseXSign)),
            "bottom" === e.originY
              ? (t.y *= -1)
              : "center" === e.originY &&
                ((t.y *= 2 * e.mouseYSign),
                t.y < 0 && (e.mouseYSign = -e.mouseYSign)),
            c(t.x) > n ? (t.x < 0 ? (t.x += n) : (t.x -= n)) : (t.x = 0),
            c(t.y) > n ? (t.y < 0 ? (t.y += n) : (t.y -= n)) : (t.y = 0);
        },
        _rotateObject: function(t, e) {
          var i = this._currentTransform,
            r = i.target,
            n = r.translateToOriginPoint(
              r.getCenterPoint(),
              i.originX,
              i.originY
            );
          if (r.lockRotation) return !1;
          var s = g(i.ey - n.y, i.ex - n.x),
            o = g(e - n.y, t - n.x),
            a = d(o - s + i.theta),
            h = !0;
          if (0 < r.snapAngle) {
            var c = r.snapAngle,
              l = r.snapThreshold || c,
              u = Math.ceil(a / c) * c,
              f = Math.floor(a / c) * c;
            Math.abs(a - f) < l ? (a = f) : Math.abs(a - u) < l && (a = u);
          }
          return (
            a < 0 && (a = 360 + a),
            (a %= 360),
            r.angle === a
              ? (h = !1)
              : ((r.angle = a), r.setPositionByOrigin(n, i.originX, i.originY)),
            h
          );
        },
        setCursor: function(t) {
          this.upperCanvasEl.style.cursor = t;
        },
        _resetObjectTransform: function(t) {
          (t.scaleX = 1),
            (t.scaleY = 1),
            (t.skewX = 0),
            (t.skewY = 0),
            t.rotate(0);
        },
        _drawSelection: function(t) {
          var e = this._groupSelector,
            i = e.left,
            r = e.top,
            n = c(i),
            s = c(r);
          if (
            (this.selectionColor &&
              ((t.fillStyle = this.selectionColor),
              t.fillRect(
                e.ex - (0 < i ? 0 : -i),
                e.ey - (0 < r ? 0 : -r),
                n,
                s
              )),
            this.selectionLineWidth && this.selectionBorderColor)
          )
            if (
              ((t.lineWidth = this.selectionLineWidth),
              (t.strokeStyle = this.selectionBorderColor),
              1 < this.selectionDashArray.length && !l)
            ) {
              var o = e.ex + 0.5 - (0 < i ? 0 : n),
                a = e.ey + 0.5 - (0 < r ? 0 : s);
              t.beginPath(),
                fabric.util.drawDashedLine(
                  t,
                  o,
                  a,
                  o + n,
                  a,
                  this.selectionDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  o,
                  a + s - 1,
                  o + n,
                  a + s - 1,
                  this.selectionDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  o,
                  a,
                  o,
                  a + s,
                  this.selectionDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  o + n - 1,
                  a,
                  o + n - 1,
                  a + s,
                  this.selectionDashArray
                ),
                t.closePath(),
                t.stroke();
            } else
              fabric.Object.prototype._setLineDash.call(
                this,
                t,
                this.selectionDashArray
              ),
                t.strokeRect(
                  e.ex + 0.5 - (0 < i ? 0 : n),
                  e.ey + 0.5 - (0 < r ? 0 : s),
                  n,
                  s
                );
        },
        findTarget: function(t, e) {
          if (!this.skipTargetFind) {
            var i,
              r,
              n = this.getPointer(t, !0),
              s = this._activeObject,
              o = this.getActiveObjects();
            if (
              ((this.targets = []),
              1 < o.length && !e && s === this._searchPossibleTargets([s], n))
            )
              return s;
            if (1 === o.length && s._findTargetCorner(n)) return s;
            if (1 === o.length && s === this._searchPossibleTargets([s], n)) {
              if (!this.preserveObjectStacking) return s;
              (i = s), (r = this.targets), (this.targets = []);
            }
            var a = this._searchPossibleTargets(this._objects, n);
            return (
              t[this.altSelectionKey] &&
                a &&
                i &&
                a !== i &&
                ((a = i), (this.targets = r)),
              a
            );
          }
        },
        _checkTarget: function(t, e) {
          if (e && e.visible && e.evented && this.containsPoint(null, e, t)) {
            if (
              (!this.perPixelTargetFind && !e.perPixelTargetFind) ||
              e.isEditing
            )
              return !0;
            if (!this.isTargetTransparent(e, t.x, t.y)) return !0;
          }
        },
        _searchPossibleTargets: function(t, e) {
          for (var i, r, n, s = t.length; s--; )
            if (this._checkTarget(e, t[s])) {
              (i = t[s]).subTargetCheck &&
                i instanceof fabric.Group &&
                ((r = this._normalizePointer(i, e)),
                (n = this._searchPossibleTargets(i._objects, r)) &&
                  this.targets.push(n));
              break;
            }
          return i;
        },
        restorePointerVpt: function(t) {
          return fabric.util.transformPoint(
            t,
            fabric.util.invertTransform(this.viewportTransform)
          );
        },
        getPointer: function(t, e) {
          if (this._absolutePointer && !e) return this._absolutePointer;
          if (this._pointer && e) return this._pointer;
          var i,
            r = h(t),
            n = this.upperCanvasEl,
            s = n.getBoundingClientRect(),
            o = s.width || 0,
            a = s.height || 0;
          return (
            (o && a) ||
              ("top" in s && "bottom" in s && (a = Math.abs(s.top - s.bottom)),
              "right" in s && "left" in s && (o = Math.abs(s.right - s.left))),
            this.calcOffset(),
            (r.x = r.x - this._offset.left),
            (r.y = r.y - this._offset.top),
            e || (r = this.restorePointerVpt(r)),
            (i =
              0 === o || 0 === a
                ? { width: 1, height: 1 }
                : { width: n.width / o, height: n.height / a }),
            { x: r.x * i.width, y: r.y * i.height }
          );
        },
        _createUpperCanvas: function() {
          var t = this.lowerCanvasEl.className.replace(
            /\s*lower-canvas\s*/,
            ""
          );
          this.upperCanvasEl
            ? (this.upperCanvasEl.className = "")
            : (this.upperCanvasEl = this._createCanvasElement()),
            fabric.util.addClass(this.upperCanvasEl, "upper-canvas " + t),
            this.wrapperEl.appendChild(this.upperCanvasEl),
            this._copyCanvasStyle(this.lowerCanvasEl, this.upperCanvasEl),
            this._applyCanvasStyle(this.upperCanvasEl),
            (this.contextTop = this.upperCanvasEl.getContext("2d"));
        },
        _createCacheCanvas: function() {
          (this.cacheCanvasEl = this._createCanvasElement()),
            this.cacheCanvasEl.setAttribute("width", this.width),
            this.cacheCanvasEl.setAttribute("height", this.height),
            (this.contextCache = this.cacheCanvasEl.getContext("2d"));
        },
        _initWrapperElement: function() {
          (this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, "div", {
            class: this.containerClass
          })),
            fabric.util.setStyle(this.wrapperEl, {
              width: this.width + "px",
              height: this.height + "px",
              position: "relative"
            }),
            fabric.util.makeElementUnselectable(this.wrapperEl);
        },
        _applyCanvasStyle: function(t) {
          var e = this.width || t.width,
            i = this.height || t.height;
          fabric.util.setStyle(t, {
            position: "absolute",
            width: e + "px",
            height: i + "px",
            left: 0,
            top: 0,
            "touch-action": this.allowTouchScrolling ? "manipulation" : "none"
          }),
            (t.width = e),
            (t.height = i),
            fabric.util.makeElementUnselectable(t);
        },
        _copyCanvasStyle: function(t, e) {
          e.style.cssText = t.style.cssText;
        },
        getSelectionContext: function() {
          return this.contextTop;
        },
        getSelectionElement: function() {
          return this.upperCanvasEl;
        },
        getActiveObject: function() {
          return this._activeObject;
        },
        getActiveObjects: function() {
          var t = this._activeObject;
          return t
            ? "activeSelection" === t.type && t._objects
              ? t._objects.slice(0)
              : [t]
            : [];
        },
        _onObjectRemoved: function(t) {
          t === this._activeObject &&
            (this.fire("before:selection:cleared", { target: t }),
            this._discardActiveObject(),
            this.fire("selection:cleared", { target: t }),
            t.fire("deselected")),
            this._hoveredTarget === t && (this._hoveredTarget = null),
            this.callSuper("_onObjectRemoved", t);
        },
        _fireSelectionEvents: function(e, t) {
          var i = !1,
            r = this.getActiveObjects(),
            n = [],
            s = [],
            o = { e: t };
          e.forEach(function(t) {
            -1 === r.indexOf(t) &&
              ((i = !0), t.fire("deselected", o), s.push(t));
          }),
            r.forEach(function(t) {
              -1 === e.indexOf(t) &&
                ((i = !0), t.fire("selected", o), n.push(t));
            }),
            0 < e.length && 0 < r.length
              ? ((o.selected = n),
                (o.deselected = s),
                (o.updated = n[0] || s[0]),
                (o.target = this._activeObject),
                i && this.fire("selection:updated", o))
              : 0 < r.length
                ? (1 === r.length &&
                    ((o.target = n[0]), this.fire("object:selected", o)),
                  (o.selected = n),
                  (o.target = this._activeObject),
                  this.fire("selection:created", o))
                : 0 < e.length &&
                  ((o.deselected = s), this.fire("selection:cleared", o));
        },
        setActiveObject: function(t, e) {
          var i = this.getActiveObjects();
          return (
            this._setActiveObject(t, e), this._fireSelectionEvents(i, e), this
          );
        },
        _setActiveObject: function(t, e) {
          return (
            this._activeObject !== t &&
            (!!this._discardActiveObject(e, t) &&
              (!t.onSelect({ e: e }) && ((this._activeObject = t), !0)))
          );
        },
        _discardActiveObject: function(t, e) {
          var i = this._activeObject;
          if (i) {
            if (i.onDeselect({ e: t, object: e })) return !1;
            this._activeObject = null;
          }
          return !0;
        },
        discardActiveObject: function(t) {
          var e = this.getActiveObjects();
          return (
            e.length &&
              this.fire("before:selection:cleared", { target: e[0], e: t }),
            this._discardActiveObject(t),
            this._fireSelectionEvents(e, t),
            this
          );
        },
        dispose: function() {
          var t = this.wrapperEl;
          return (
            this.removeListeners(),
            t.removeChild(this.upperCanvasEl),
            t.removeChild(this.lowerCanvasEl),
            (this.upperCanvasEl = null),
            (this.cacheCanvasEl = null),
            (this.contextCache = null),
            (this.contextTop = null),
            t.parentNode &&
              t.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl),
            delete this.wrapperEl,
            fabric.StaticCanvas.prototype.dispose.call(this),
            this
          );
        },
        clear: function() {
          return (
            this.discardActiveObject(),
            this.clearContext(this.contextTop),
            this.callSuper("clear")
          );
        },
        drawControls: function(t) {
          var e = this._activeObject;
          e && e._renderControls(t);
        },
        _toObject: function(t, e, i) {
          var r = this._realizeGroupTransformOnObject(t),
            n = this.callSuper("_toObject", t, e, i);
          return this._unwindGroupTransformOnObject(t, r), n;
        },
        _realizeGroupTransformOnObject: function(e) {
          if (
            e.group &&
            "activeSelection" === e.group.type &&
            this._activeObject === e.group
          ) {
            var i = {};
            return (
              [
                "angle",
                "flipX",
                "flipY",
                "left",
                "scaleX",
                "scaleY",
                "skewX",
                "skewY",
                "top"
              ].forEach(function(t) {
                i[t] = e[t];
              }),
              this._activeObject.realizeTransform(e),
              i
            );
          }
          return null;
        },
        _unwindGroupTransformOnObject: function(t, e) {
          e && t.set(e);
        },
        _setSVGObject: function(t, e, i) {
          var r = this._realizeGroupTransformOnObject(e);
          this.callSuper("_setSVGObject", t, e, i),
            this._unwindGroupTransformOnObject(e, r);
        }
      }
    )),
    fabric.StaticCanvas))
      "prototype" !== t && (fabric.Canvas[t] = fabric.StaticCanvas[t]);
    fabric.isTouchSupported &&
      (fabric.Canvas.prototype._setCursorFromEvent = function() {});
  })(),
  (function() {
    var n = { mt: 0, tr: 1, mr: 2, br: 3, mb: 4, bl: 5, ml: 6, tl: 7 },
      i = fabric.util.addListener,
      r = fabric.util.removeListener,
      s = { passive: !1 };
    function o(t, e) {
      return "which" in t ? t.which === e : t.button === e - 1;
    }
    fabric.util.object.extend(fabric.Canvas.prototype, {
      cursorMap: [
        "n-resize",
        "ne-resize",
        "e-resize",
        "se-resize",
        "s-resize",
        "sw-resize",
        "w-resize",
        "nw-resize"
      ],
      _initEventListeners: function() {
        this.removeListeners(), this._bindEvents(), this.addOrRemove(i, "add");
      },
      addOrRemove: function(t, e) {
        t(fabric.window, "resize", this._onResize),
          t(this.upperCanvasEl, "mousedown", this._onMouseDown),
          t(this.upperCanvasEl, "mousemove", this._onMouseMove, s),
          t(this.upperCanvasEl, "mouseout", this._onMouseOut),
          t(this.upperCanvasEl, "mouseenter", this._onMouseEnter),
          t(this.upperCanvasEl, "wheel", this._onMouseWheel),
          t(this.upperCanvasEl, "contextmenu", this._onContextMenu),
          t(this.upperCanvasEl, "dblclick", this._onDoubleClick),
          t(this.upperCanvasEl, "touchstart", this._onMouseDown, s),
          t(this.upperCanvasEl, "touchmove", this._onMouseMove, s),
          t(this.upperCanvasEl, "dragover", this._onDragOver),
          t(this.upperCanvasEl, "dragenter", this._onDragEnter),
          t(this.upperCanvasEl, "dragleave", this._onDragLeave),
          t(this.upperCanvasEl, "drop", this._onDrop),
          "undefined" != typeof eventjs &&
            e in eventjs &&
            (eventjs[e](this.upperCanvasEl, "gesture", this._onGesture),
            eventjs[e](this.upperCanvasEl, "drag", this._onDrag),
            eventjs[e](
              this.upperCanvasEl,
              "orientation",
              this._onOrientationChange
            ),
            eventjs[e](this.upperCanvasEl, "shake", this._onShake),
            eventjs[e](this.upperCanvasEl, "longpress", this._onLongPress));
      },
      removeListeners: function() {
        this.addOrRemove(r, "remove"),
          r(fabric.document, "mouseup", this._onMouseUp),
          r(fabric.document, "touchend", this._onMouseUp, s),
          r(fabric.document, "mousemove", this._onMouseMove, s),
          r(fabric.document, "touchmove", this._onMouseMove, s);
      },
      _bindEvents: function() {
        this.eventsBound ||
          ((this._onMouseDown = this._onMouseDown.bind(this)),
          (this._onMouseMove = this._onMouseMove.bind(this)),
          (this._onMouseUp = this._onMouseUp.bind(this)),
          (this._onResize = this._onResize.bind(this)),
          (this._onGesture = this._onGesture.bind(this)),
          (this._onDrag = this._onDrag.bind(this)),
          (this._onShake = this._onShake.bind(this)),
          (this._onLongPress = this._onLongPress.bind(this)),
          (this._onOrientationChange = this._onOrientationChange.bind(this)),
          (this._onMouseWheel = this._onMouseWheel.bind(this)),
          (this._onMouseOut = this._onMouseOut.bind(this)),
          (this._onMouseEnter = this._onMouseEnter.bind(this)),
          (this._onContextMenu = this._onContextMenu.bind(this)),
          (this._onDoubleClick = this._onDoubleClick.bind(this)),
          (this._onDragOver = this._onDragOver.bind(this)),
          (this._onDragEnter = this._simpleEventHandler.bind(
            this,
            "dragenter"
          )),
          (this._onDragLeave = this._simpleEventHandler.bind(
            this,
            "dragleave"
          )),
          (this._onDrop = this._simpleEventHandler.bind(this, "drop")),
          (this.eventsBound = !0));
      },
      _onGesture: function(t, e) {
        this.__onTransformGesture && this.__onTransformGesture(t, e);
      },
      _onDrag: function(t, e) {
        this.__onDrag && this.__onDrag(t, e);
      },
      _onMouseWheel: function(t) {
        this.__onMouseWheel(t);
      },
      _onMouseOut: function(t) {
        var e = this._hoveredTarget;
        this.fire("mouse:out", { target: e, e: t }),
          (this._hoveredTarget = null),
          e && e.fire("mouseout", { e: t }),
          this._iTextInstances &&
            this._iTextInstances.forEach(function(t) {
              t.isEditing && t.hiddenTextarea.focus();
            });
      },
      _onMouseEnter: function(t) {
        this.findTarget(t) ||
          (this.fire("mouse:over", { target: null, e: t }),
          (this._hoveredTarget = null));
      },
      _onOrientationChange: function(t, e) {
        this.__onOrientationChange && this.__onOrientationChange(t, e);
      },
      _onShake: function(t, e) {
        this.__onShake && this.__onShake(t, e);
      },
      _onLongPress: function(t, e) {
        this.__onLongPress && this.__onLongPress(t, e);
      },
      _onDragOver: function(t) {
        t.preventDefault();
        var e = this._simpleEventHandler("dragover", t);
        this._fireEnterLeaveEvents(e, t);
      },
      _onContextMenu: function(t) {
        return (
          this.stopContextMenu && (t.stopPropagation(), t.preventDefault()), !1
        );
      },
      _onDoubleClick: function(t) {
        this._cacheTransformEventData(t),
          this._handleEvent(t, "dblclick"),
          this._resetTransformEventData(t);
      },
      _onMouseDown: function(t) {
        this.__onMouseDown(t),
          this._resetTransformEventData(),
          i(fabric.document, "touchend", this._onMouseUp, s),
          i(fabric.document, "touchmove", this._onMouseMove, s),
          r(this.upperCanvasEl, "mousemove", this._onMouseMove, s),
          r(this.upperCanvasEl, "touchmove", this._onMouseMove, s),
          "touchstart" === t.type
            ? r(this.upperCanvasEl, "mousedown", this._onMouseDown)
            : (i(fabric.document, "mouseup", this._onMouseUp),
              i(fabric.document, "mousemove", this._onMouseMove, s));
      },
      _onMouseUp: function(t) {
        if (
          (this.__onMouseUp(t),
          this._resetTransformEventData(),
          r(fabric.document, "mouseup", this._onMouseUp),
          r(fabric.document, "touchend", this._onMouseUp, s),
          r(fabric.document, "mousemove", this._onMouseMove, s),
          r(fabric.document, "touchmove", this._onMouseMove, s),
          i(this.upperCanvasEl, "mousemove", this._onMouseMove, s),
          i(this.upperCanvasEl, "touchmove", this._onMouseMove, s),
          "touchend" === t.type)
        ) {
          var e = this;
          setTimeout(function() {
            i(e.upperCanvasEl, "mousedown", e._onMouseDown);
          }, 400);
        }
      },
      _onMouseMove: function(t) {
        !this.allowTouchScrolling && t.preventDefault && t.preventDefault(),
          this.__onMouseMove(t);
      },
      _onResize: function() {
        this.calcOffset();
      },
      _shouldRender: function(t, e) {
        var i = this._activeObject;
        return (
          (!i || !i.isEditing || t !== i) &&
          !!(
            (t && (t.isMoving || t !== i)) ||
            (!t && i) ||
            (!t && !i && !this._groupSelector) ||
            (e &&
              this._previousPointer &&
              this.selection &&
              (e.x !== this._previousPointer.x ||
                e.y !== this._previousPointer.y))
          )
        );
      },
      __onMouseUp: function(t) {
        var e,
          i = this._currentTransform,
          r = this._groupSelector,
          n = !r || (0 === r.left && 0 === r.top);
        if (
          (this._cacheTransformEventData(t),
          (e = this._target),
          this._handleEvent(t, "up:before"),
          o(t, 3))
        )
          this.fireRightClick && this._handleEvent(t, "up", 3, n);
        else {
          if (o(t, 2))
            return (
              this.fireMiddleClick && this._handleEvent(t, "up", 2, n),
              void this._resetTransformEventData()
            );
          if (this.isDrawingMode && this._isCurrentlyDrawing)
            this._onMouseUpInDrawingMode(t);
          else {
            i && this._finalizeCurrentTransform(t);
            var s = this._shouldRender(e, this._absolutePointer);
            (!e && n) || this._maybeGroupObjects(t),
              e && (e.isMoving = !1),
              this._setCursorFromEvent(t, e),
              this._handleEvent(t, "up", 1, n),
              (this._groupSelector = null),
              (this._currentTransform = null),
              e && (e.__corner = 0),
              s && this.requestRenderAll();
          }
        }
      },
      _simpleEventHandler: function(t, e) {
        var i = this.findTarget(e),
          r = this.targets,
          n = { e: e, target: i, subTargets: r };
        if ((this.fire(t, n), i && i.fire(t, n), !r)) return i;
        for (var s = 0; s < r.length; s++) r[s].fire(t, n);
        return i;
      },
      _handleEvent: function(t, e, i, r) {
        var n = this._target,
          s = this.targets || [],
          o = {
            e: t,
            target: n,
            subTargets: s,
            button: i || 1,
            isClick: r || !1,
            pointer: this._pointer,
            absolutePointer: this._absolutePointer,
            transform: this._currentTransform
          };
        this.fire("mouse:" + e, o), n && n.fire("mouse" + e, o);
        for (var a = 0; a < s.length; a++) s[a].fire("mouse" + e, o);
      },
      _finalizeCurrentTransform: function(t) {
        var e,
          i = this._currentTransform,
          r = i.target,
          n = { e: t, target: r, transform: i };
        r._scaling && (r._scaling = !1),
          r.setCoords(),
          (i.actionPerformed || (this.stateful && r.hasStateChanged())) &&
            (i.actionPerformed &&
              ((e = this._addEventOptions(n, i)), this._fire(e, n)),
            this._fire("modified", n));
      },
      _addEventOptions: function(t, e) {
        var i, r;
        switch (e.action) {
          case "scaleX":
            (i = "scaled"), (r = "x");
            break;
          case "scaleY":
            (i = "scaled"), (r = "y");
            break;
          case "skewX":
            (i = "skewed"), (r = "x");
            break;
          case "skewY":
            (i = "skewed"), (r = "y");
            break;
          case "scale":
            (i = "scaled"), (r = "equally");
            break;
          case "rotate":
            i = "rotated";
            break;
          case "drag":
            i = "moved";
        }
        return (t.by = r), i;
      },
      _onMouseDownInDrawingMode: function(t) {
        (this._isCurrentlyDrawing = !0),
          this.getActiveObject() &&
            this.discardActiveObject(t).requestRenderAll(),
          this.clipTo && fabric.util.clipContext(this, this.contextTop);
        var e = this.getPointer(t);
        this.freeDrawingBrush.onMouseDown(e), this._handleEvent(t, "down");
      },
      _onMouseMoveInDrawingMode: function(t) {
        if (this._isCurrentlyDrawing) {
          var e = this.getPointer(t);
          this.freeDrawingBrush.onMouseMove(e);
        }
        this.setCursor(this.freeDrawingCursor), this._handleEvent(t, "move");
      },
      _onMouseUpInDrawingMode: function(t) {
        (this._isCurrentlyDrawing = !1),
          this.clipTo && this.contextTop.restore(),
          this.freeDrawingBrush.onMouseUp(),
          this._handleEvent(t, "up");
      },
      __onMouseDown: function(t) {
        this._cacheTransformEventData(t), this._handleEvent(t, "down:before");
        var e = this._target;
        if (o(t, 3)) this.fireRightClick && this._handleEvent(t, "down", 3);
        else if (o(t, 2))
          this.fireMiddleClick && this._handleEvent(t, "down", 2);
        else if (this.isDrawingMode) this._onMouseDownInDrawingMode(t);
        else if (!this._currentTransform) {
          var i = this._pointer;
          this._previousPointer = i;
          var r = this._shouldRender(e, i),
            n = this._shouldGroup(t, e);
          this._shouldClearSelection(t, e)
            ? this.discardActiveObject(t)
            : n && (this._handleGrouping(t, e), (e = this._activeObject)),
            !this.selection ||
              (e &&
                (e.selectable || e.isEditing || e === this._activeObject)) ||
              (this._groupSelector = { ex: i.x, ey: i.y, top: 0, left: 0 }),
            e &&
              (e.selectable && this.setActiveObject(e, t),
              e !== this._activeObject ||
                (!e.__corner && n) ||
                this._setupCurrentTransform(t, e)),
            this._handleEvent(t, "down"),
            r && this.requestRenderAll();
        }
      },
      _resetTransformEventData: function() {
        (this._target = null),
          (this._pointer = null),
          (this._absolutePointer = null);
      },
      _cacheTransformEventData: function(t) {
        this._resetTransformEventData(),
          (this._pointer = this.getPointer(t, !0)),
          (this._absolutePointer = this.restorePointerVpt(this._pointer)),
          (this._target = this._currentTransform
            ? this._currentTransform.target
            : this.findTarget(t) || null);
      },
      _beforeTransform: function(t) {
        var e = this._currentTransform;
        this.stateful && e.target.saveState(),
          this.fire("before:transform", { e: t, transform: e }),
          e.corner && this.onBeforeScaleRotate(e.target);
      },
      __onMouseMove: function(t) {
        var e, i;
        if (
          (this._handleEvent(t, "move:before"),
          this._cacheTransformEventData(t),
          this.isDrawingMode)
        )
          this._onMouseMoveInDrawingMode(t);
        else if (!(void 0 !== t.touches && 1 < t.touches.length)) {
          var r = this._groupSelector;
          r
            ? ((i = this._pointer),
              (r.left = i.x - r.ex),
              (r.top = i.y - r.ey),
              this.renderTop())
            : this._currentTransform
              ? this._transformObject(t)
              : ((e = this.findTarget(t) || null),
                this._setCursorFromEvent(t, e),
                this._fireOverOutEvents(e, t)),
            this._handleEvent(t, "move"),
            this._resetTransformEventData();
        }
      },
      _fireOverOutEvents: function(t, e) {
        this.fireSynteticInOutEvents(t, e, {
          targetName: "_hoveredTarget",
          canvasEvtOut: "mouse:out",
          evtOut: "mouseout",
          canvasEvtIn: "mouse:over",
          evtIn: "mouseover"
        });
      },
      _fireEnterLeaveEvents: function(t, e) {
        this.fireSynteticInOutEvents(t, e, {
          targetName: "_draggedoverTarget",
          evtOut: "dragleave",
          evtIn: "dragenter"
        });
      },
      fireSynteticInOutEvents: function(t, e, i) {
        var r,
          n,
          s,
          o = this[i.targetName],
          a = o !== t,
          h = i.canvasEvtIn,
          c = i.canvasEvtOut;
        a &&
          ((r = { e: e, target: t, previousTarget: o }),
          (n = { e: e, target: o, nextTarget: t }),
          (this[i.targetName] = t)),
          (s = t && a),
          o && a && (c && this.fire(c, n), o.fire(i.evtOut, n)),
          s && (h && this.fire(h, r), t.fire(i.evtIn, r));
      },
      __onMouseWheel: function(t) {
        this._cacheTransformEventData(t),
          this._handleEvent(t, "wheel"),
          this._resetTransformEventData();
      },
      _transformObject: function(t) {
        var e = this.getPointer(t),
          i = this._currentTransform;
        (i.reset = !1),
          (i.target.isMoving = !0),
          (i.shiftKey = t.shiftKey),
          (i.altKey = t[this.centeredKey]),
          this._beforeScaleTransform(t, i),
          this._performTransformAction(t, i, e),
          i.actionPerformed && this.requestRenderAll();
      },
      _performTransformAction: function(t, e, i) {
        var r = i.x,
          n = i.y,
          s = e.action,
          o = !1,
          a = { target: e.target, e: t, transform: e, pointer: i };
        "rotate" === s
          ? (o = this._rotateObject(r, n)) && this._fire("rotating", a)
          : "scale" === s
            ? (o = this._onScale(t, e, r, n)) && this._fire("scaling", a)
            : "scaleX" === s
              ? (o = this._scaleObject(r, n, "x")) && this._fire("scaling", a)
              : "scaleY" === s
                ? (o = this._scaleObject(r, n, "y")) && this._fire("scaling", a)
                : "skewX" === s
                  ? (o = this._skewObject(r, n, "x")) &&
                    this._fire("skewing", a)
                  : "skewY" === s
                    ? (o = this._skewObject(r, n, "y")) &&
                      this._fire("skewing", a)
                    : (o = this._translateObject(r, n)) &&
                      (this._fire("moving", a),
                      this.setCursor(a.target.moveCursor || this.moveCursor)),
          (e.actionPerformed = e.actionPerformed || o);
      },
      _fire: function(t, e) {
        this.fire("object:" + t, e), e.target.fire(t, e);
      },
      _beforeScaleTransform: function(t, e) {
        if (
          "scale" === e.action ||
          "scaleX" === e.action ||
          "scaleY" === e.action
        ) {
          var i = this._shouldCenterTransform(e.target);
          ((i && ("center" !== e.originX || "center" !== e.originY)) ||
            (!i && "center" === e.originX && "center" === e.originY)) &&
            (this._resetCurrentTransform(), (e.reset = !0));
        }
      },
      _onScale: function(t, e, i, r) {
        return this._isUniscalePossible(t, e.target)
          ? ((e.currentAction = "scale"), this._scaleObject(i, r))
          : (e.reset ||
              "scale" !== e.currentAction ||
              this._resetCurrentTransform(),
            (e.currentAction = "scaleEqually"),
            this._scaleObject(i, r, "equally"));
      },
      _isUniscalePossible: function(t, e) {
        return (
          (t[this.uniScaleKey] || this.uniScaleTransform) &&
          !e.get("lockUniScaling")
        );
      },
      _setCursorFromEvent: function(t, e) {
        if (!e) return this.setCursor(this.defaultCursor), !1;
        var i = e.hoverCursor || this.hoverCursor,
          r =
            this._activeObject && "activeSelection" === this._activeObject.type
              ? this._activeObject
              : null,
          n =
            (!r || !r.contains(e)) &&
            e._findTargetCorner(this.getPointer(t, !0));
        n ? this.setCursor(this.getCornerCursor(n, e, t)) : this.setCursor(i);
      },
      getCornerCursor: function(t, e, i) {
        return this.actionIsDisabled(t, e, i)
          ? this.notAllowedCursor
          : t in n
            ? this._getRotatedCornerCursor(t, e, i)
            : "mtr" === t && e.hasRotatingPoint
              ? this.rotationCursor
              : this.defaultCursor;
      },
      actionIsDisabled: function(t, e, i) {
        return "mt" === t || "mb" === t
          ? i[this.altActionKey]
            ? e.lockSkewingX
            : e.lockScalingY
          : "ml" === t || "mr" === t
            ? i[this.altActionKey]
              ? e.lockSkewingY
              : e.lockScalingX
            : "mtr" === t
              ? e.lockRotation
              : this._isUniscalePossible(i, e)
                ? e.lockScalingX && e.lockScalingY
                : e.lockScalingX || e.lockScalingY;
      },
      _getRotatedCornerCursor: function(t, e, i) {
        var r = Math.round((e.angle % 360) / 45);
        return (
          r < 0 && (r += 8),
          (r += n[t]),
          i[this.altActionKey] && n[t] % 2 == 0 && (r += 2),
          (r %= 8),
          this.cursorMap[r]
        );
      }
    });
  })(),
  (function() {
    var u = Math.min,
      f = Math.max;
    fabric.util.object.extend(fabric.Canvas.prototype, {
      _shouldGroup: function(t, e) {
        var i = this._activeObject;
        return (
          i &&
          this._isSelectionKeyPressed(t) &&
          e &&
          e.selectable &&
          this.selection &&
          (i !== e || "activeSelection" === i.type)
        );
      },
      _handleGrouping: function(t, e) {
        var i = this._activeObject;
        i.__corner ||
          ((e !== i || (e = this.findTarget(t, !0))) &&
            (i && "activeSelection" === i.type
              ? this._updateActiveSelection(e, t)
              : this._createActiveSelection(e, t)));
      },
      _updateActiveSelection: function(t, e) {
        var i = this._activeObject,
          r = i._objects.slice(0);
        i.contains(t)
          ? (i.removeWithUpdate(t),
            (this._hoveredTarget = t),
            1 === i.size() && this._setActiveObject(i.item(0), e))
          : (i.addWithUpdate(t), (this._hoveredTarget = i)),
          this._fireSelectionEvents(r, e);
      },
      _createActiveSelection: function(t, e) {
        var i = this.getActiveObjects(),
          r = this._createGroup(t);
        (this._hoveredTarget = r),
          this._setActiveObject(r, e),
          this._fireSelectionEvents(i, e);
      },
      _createGroup: function(t) {
        var e = this.getObjects(),
          i =
            e.indexOf(this._activeObject) < e.indexOf(t)
              ? [this._activeObject, t]
              : [t, this._activeObject];
        return (
          this._activeObject.isEditing && this._activeObject.exitEditing(),
          new fabric.ActiveSelection(i, { canvas: this })
        );
      },
      _groupSelectedObjects: function(t) {
        var e,
          i = this._collectObjects();
        1 === i.length
          ? this.setActiveObject(i[0], t)
          : 1 < i.length &&
            ((e = new fabric.ActiveSelection(i.reverse(), { canvas: this })),
            this.setActiveObject(e, t));
      },
      _collectObjects: function() {
        for (
          var t,
            e = [],
            i = this._groupSelector.ex,
            r = this._groupSelector.ey,
            n = i + this._groupSelector.left,
            s = r + this._groupSelector.top,
            o = new fabric.Point(u(i, n), u(r, s)),
            a = new fabric.Point(f(i, n), f(r, s)),
            h = !this.selectionFullyContained,
            c = i === n && r === s,
            l = this._objects.length;
          l-- &&
          !(
            (t = this._objects[l]) &&
            t.selectable &&
            t.visible &&
            ((h && t.intersectsWithRect(o, a)) ||
              t.isContainedWithinRect(o, a) ||
              (h && t.containsPoint(o)) ||
              (h && t.containsPoint(a))) &&
            (e.push(t), c)
          );

        );
        return e;
      },
      _maybeGroupObjects: function(t) {
        this.selection && this._groupSelector && this._groupSelectedObjects(t),
          this.setCursor(this.defaultCursor),
          (this._groupSelector = null);
      }
    });
  })(),
  (function() {
    var r = fabric.StaticCanvas.supports("toDataURLWithQuality");
    fabric.util.object.extend(fabric.StaticCanvas.prototype, {
      toDataURL: function(t) {
        t || (t = {});
        var e = t.format || "png",
          i = t.quality || 1,
          r =
            (t.multiplier || 1) *
            (t.enableRetinaScaling ? 1 : 1 / this.getRetinaScaling()),
          n = {
            left: t.left || 0,
            top: t.top || 0,
            width: t.width || 0,
            height: t.height || 0
          };
        return this.__toDataURLWithMultiplier(e, i, n, r);
      },
      __toDataURLWithMultiplier: function(t, e, i, r) {
        var n = this.width,
          s = this.height,
          o = (i.width || this.width) * r,
          a = (i.height || this.height) * r,
          h = this.getZoom() * r,
          c = this.viewportTransform,
          l = [h, 0, 0, h, (c[4] - i.left) * r, (c[5] - i.top) * r],
          u = this.interactive,
          f = this.skipOffscreen,
          d = n !== o || s !== a;
        (this.viewportTransform = l),
          (this.skipOffscreen = !1),
          (this.interactive = !1),
          d &&
            this.setDimensions({ width: o, height: a }, { backstoreOnly: !0 }),
          this.renderAll();
        var g = this.__toDataURL(t, e, i);
        return (
          (this.interactive = u),
          (this.skipOffscreen = f),
          (this.viewportTransform = c),
          d &&
            this.setDimensions({ width: n, height: s }, { backstoreOnly: !0 }),
          this.renderAll(),
          g
        );
      },
      __toDataURL: function(t, e) {
        var i = this.contextContainer.canvas;
        return (
          "jpg" === t && (t = "jpeg"),
          r ? i.toDataURL("image/" + t, e) : i.toDataURL("image/" + t)
        );
      }
    });
  })(),
  fabric.util.object.extend(fabric.StaticCanvas.prototype, {
    loadFromDatalessJSON: function(t, e, i) {
      return this.loadFromJSON(t, e, i);
    },
    loadFromJSON: function(t, e, i) {
      if (t) {
        var r =
            "string" == typeof t ? JSON.parse(t) : fabric.util.object.clone(t),
          n = this,
          s = this.renderOnAddRemove;
        return (
          (this.renderOnAddRemove = !1),
          this._enlivenObjects(
            r.objects,
            function(t) {
              n.clear(),
                n._setBgOverlay(r, function() {
                  t.forEach(function(t, e) {
                    n.insertAt(t, e);
                  }),
                    (n.renderOnAddRemove = s),
                    delete r.objects,
                    delete r.backgroundImage,
                    delete r.overlayImage,
                    delete r.background,
                    delete r.overlay,
                    n._setOptions(r),
                    n.renderAll(),
                    e && e();
                });
            },
            i
          ),
          this
        );
      }
    },
    _setBgOverlay: function(t, e) {
      var i = {
        backgroundColor: !1,
        overlayColor: !1,
        backgroundImage: !1,
        overlayImage: !1
      };
      if (t.backgroundImage || t.overlayImage || t.background || t.overlay) {
        var r = function() {
          i.backgroundImage &&
            i.overlayImage &&
            i.backgroundColor &&
            i.overlayColor &&
            e &&
            e();
        };
        this.__setBgOverlay("backgroundImage", t.backgroundImage, i, r),
          this.__setBgOverlay("overlayImage", t.overlayImage, i, r),
          this.__setBgOverlay("backgroundColor", t.background, i, r),
          this.__setBgOverlay("overlayColor", t.overlay, i, r);
      } else e && e();
    },
    __setBgOverlay: function(e, t, i, r) {
      var n = this;
      if (!t) return (i[e] = !0), void (r && r());
      "backgroundImage" === e || "overlayImage" === e
        ? fabric.util.enlivenObjects([t], function(t) {
            (n[e] = t[0]), (i[e] = !0), r && r();
          })
        : this["set" + fabric.util.string.capitalize(e, !0)](t, function() {
            (i[e] = !0), r && r();
          });
    },
    _enlivenObjects: function(t, e, i) {
      t && 0 !== t.length
        ? fabric.util.enlivenObjects(
            t,
            function(t) {
              e && e(t);
            },
            null,
            i
          )
        : e && e([]);
    },
    _toDataURL: function(e, i) {
      this.clone(function(t) {
        i(t.toDataURL(e));
      });
    },
    _toDataURLWithMultiplier: function(e, i, r) {
      this.clone(function(t) {
        r(t.toDataURLWithMultiplier(e, i));
      });
    },
    clone: function(e, t) {
      var i = JSON.stringify(this.toJSON(t));
      this.cloneWithoutData(function(t) {
        t.loadFromJSON(i, function() {
          e && e(t);
        });
      });
    },
    cloneWithoutData: function(t) {
      var e = fabric.document.createElement("canvas");
      (e.width = this.width), (e.height = this.height);
      var i = new fabric.Canvas(e);
      (i.clipTo = this.clipTo),
        this.backgroundImage
          ? (i.setBackgroundImage(this.backgroundImage.src, function() {
              i.renderAll(), t && t(i);
            }),
            (i.backgroundImageOpacity = this.backgroundImageOpacity),
            (i.backgroundImageStretch = this.backgroundImageStretch))
          : t && t(i);
    }
  }),
  (function(t) {
    "use strict";
    var y = t.fabric || (t.fabric = {}),
      e = y.util.object.extend,
      o = y.util.object.clone,
      r = y.util.toFixed,
      i = y.util.string.capitalize,
      a = y.util.degreesToRadians,
      n = y.StaticCanvas.supports("setLineDash"),
      s = !y.isLikelyNode;
    y.Object ||
      ((y.Object = y.util.createClass(y.CommonMethods, {
        type: "object",
        originX: "left",
        originY: "top",
        top: 0,
        left: 0,
        width: 0,
        height: 0,
        scaleX: 1,
        scaleY: 1,
        flipX: !1,
        flipY: !1,
        opacity: 1,
        angle: 0,
        skewX: 0,
        skewY: 0,
        cornerSize: 13,
        transparentCorners: !0,
        hoverCursor: null,
        moveCursor: null,
        padding: 0,
        borderColor: "rgba(102,153,255,0.75)",
        borderDashArray: null,
        cornerColor: "rgba(102,153,255,0.5)",
        cornerStrokeColor: null,
        cornerStyle: "rect",
        cornerDashArray: null,
        centeredScaling: !1,
        centeredRotation: !0,
        fill: "rgb(0,0,0)",
        fillRule: "nonzero",
        globalCompositeOperation: "source-over",
        backgroundColor: "",
        selectionBackgroundColor: "",
        stroke: null,
        strokeWidth: 1,
        strokeDashArray: null,
        strokeLineCap: "butt",
        strokeLineJoin: "miter",
        strokeMiterLimit: 4,
        shadow: null,
        borderOpacityWhenMoving: 0.4,
        borderScaleFactor: 1,
        transformMatrix: null,
        minScaleLimit: 0,
        selectable: !0,
        evented: !0,
        visible: !0,
        hasControls: !0,
        hasBorders: !0,
        hasRotatingPoint: !0,
        rotatingPointOffset: 40,
        perPixelTargetFind: !1,
        includeDefaultValues: !0,
        clipTo: null,
        lockMovementX: !1,
        lockMovementY: !1,
        lockRotation: !1,
        lockScalingX: !1,
        lockScalingY: !1,
        lockUniScaling: !1,
        lockSkewingX: !1,
        lockSkewingY: !1,
        lockScalingFlip: !1,
        excludeFromExport: !1,
        objectCaching: s,
        statefullCache: !1,
        noScaleCache: !0,
        dirty: !0,
        __corner: 0,
        paintFirst: "fill",
        stateProperties: "top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst".split(
          " "
        ),
        cacheProperties: "fill stroke strokeWidth strokeDashArray width height paintFirst strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(
          " "
        ),
        initialize: function(t) {
          t && this.setOptions(t);
        },
        _createCacheCanvas: function() {
          (this._cacheProperties = {}),
            (this._cacheCanvas = y.document.createElement("canvas")),
            (this._cacheContext = this._cacheCanvas.getContext("2d")),
            this._updateCacheCanvas(),
            (this.dirty = !0);
        },
        _limitCacheSize: function(t) {
          var e = y.perfLimitSizeTotal,
            i = t.width,
            r = t.height,
            n = y.maxCacheSideLimit,
            s = y.minCacheSideLimit;
          if (i <= n && r <= n && i * r <= e)
            return i < s && (t.width = s), r < s && (t.height = s), t;
          var o = i / r,
            a = y.util.limitDimsByArea(o, e),
            h = y.util.capValue,
            c = h(s, a.x, n),
            l = h(s, a.y, n);
          return (
            c < i && ((t.zoomX /= i / c), (t.width = c), (t.capped = !0)),
            l < r && ((t.zoomY /= r / l), (t.height = l), (t.capped = !0)),
            t
          );
        },
        _getCacheCanvasDimensions: function() {
          var t = (this.canvas && this.canvas.getZoom()) || 1,
            e = this.getObjectScaling(),
            i =
              this.canvas && this.canvas._isRetinaScaling()
                ? y.devicePixelRatio
                : 1,
            r = this._getNonTransformedDimensions(),
            n = e.scaleX * t * i,
            s = e.scaleY * t * i;
          return {
            width: r.x * n + 2,
            height: r.y * s + 2,
            zoomX: n,
            zoomY: s,
            x: r.x,
            y: r.y
          };
        },
        _updateCacheCanvas: function() {
          if (
            this.noScaleCache &&
            this.canvas &&
            this.canvas._currentTransform
          ) {
            var t = this.canvas._currentTransform.target,
              e = this.canvas._currentTransform.action;
            if (this === t && e.slice && "scale" === e.slice(0, 5)) return !1;
          }
          var i,
            r,
            n = this._cacheCanvas,
            s = this._limitCacheSize(this._getCacheCanvasDimensions()),
            o = y.minCacheSideLimit,
            a = s.width,
            h = s.height,
            c = s.zoomX,
            l = s.zoomY,
            u = a !== this.cacheWidth || h !== this.cacheHeight,
            f = this.zoomX !== c || this.zoomY !== l,
            d = u || f,
            g = 0,
            p = 0,
            v = !1;
          if (u) {
            var m = this._cacheCanvas.width,
              b = this._cacheCanvas.height,
              _ = m < a || b < h;
            (v = _ || ((a < 0.9 * m || h < 0.9 * b) && o < m && o < b)),
              _ &&
                !s.capped &&
                (o < a || o < h) &&
                ((g = 0.1 * a), (p = 0.1 * h));
          }
          return (
            !!d &&
            (v
              ? ((n.width = Math.ceil(a + g)), (n.height = Math.ceil(h + p)))
              : (this._cacheContext.setTransform(1, 0, 0, 1, 0, 0),
                this._cacheContext.clearRect(0, 0, n.width, n.height)),
            (i = s.x * c / 2),
            (r = s.y * l / 2),
            (this.cacheTranslationX = Math.round(n.width / 2 - i) + i),
            (this.cacheTranslationY = Math.round(n.height / 2 - r) + r),
            (this.cacheWidth = a),
            (this.cacheHeight = h),
            this._cacheContext.translate(
              this.cacheTranslationX,
              this.cacheTranslationY
            ),
            this._cacheContext.scale(c, l),
            (this.zoomX = c),
            (this.zoomY = l),
            !0)
          );
        },
        setOptions: function(t) {
          this._setOptions(t),
            this._initGradient(t.fill, "fill"),
            this._initGradient(t.stroke, "stroke"),
            this._initClipping(t),
            this._initPattern(t.fill, "fill"),
            this._initPattern(t.stroke, "stroke");
        },
        transform: function(t) {
          var e;
          (e =
            this.group && !this.group._transformDone
              ? this.calcTransformMatrix()
              : this.calcOwnMatrix()),
            t.transform(e[0], e[1], e[2], e[3], e[4], e[5]);
        },
        toObject: function(t) {
          var e = y.Object.NUM_FRACTION_DIGITS,
            i = {
              type: this.type,
              version: y.version,
              originX: this.originX,
              originY: this.originY,
              left: r(this.left, e),
              top: r(this.top, e),
              width: r(this.width, e),
              height: r(this.height, e),
              fill:
                this.fill && this.fill.toObject
                  ? this.fill.toObject()
                  : this.fill,
              stroke:
                this.stroke && this.stroke.toObject
                  ? this.stroke.toObject()
                  : this.stroke,
              strokeWidth: r(this.strokeWidth, e),
              strokeDashArray: this.strokeDashArray
                ? this.strokeDashArray.concat()
                : this.strokeDashArray,
              strokeLineCap: this.strokeLineCap,
              strokeLineJoin: this.strokeLineJoin,
              strokeMiterLimit: r(this.strokeMiterLimit, e),
              scaleX: r(this.scaleX, e),
              scaleY: r(this.scaleY, e),
              angle: r(this.angle, e),
              flipX: this.flipX,
              flipY: this.flipY,
              opacity: r(this.opacity, e),
              shadow:
                this.shadow && this.shadow.toObject
                  ? this.shadow.toObject()
                  : this.shadow,
              visible: this.visible,
              clipTo: this.clipTo && String(this.clipTo),
              backgroundColor: this.backgroundColor,
              fillRule: this.fillRule,
              paintFirst: this.paintFirst,
              globalCompositeOperation: this.globalCompositeOperation,
              transformMatrix: this.transformMatrix
                ? this.transformMatrix.concat()
                : null,
              skewX: r(this.skewX, e),
              skewY: r(this.skewY, e)
            };
          return (
            y.util.populateWithProperties(this, i, t),
            this.includeDefaultValues || (i = this._removeDefaultValues(i)),
            i
          );
        },
        toDatalessObject: function(t) {
          return this.toObject(t);
        },
        _removeDefaultValues: function(e) {
          var i = y.util.getKlass(e.type).prototype;
          return (
            i.stateProperties.forEach(function(t) {
              e[t] === i[t] && delete e[t],
                "[object Array]" === Object.prototype.toString.call(e[t]) &&
                  "[object Array]" === Object.prototype.toString.call(i[t]) &&
                  0 === e[t].length &&
                  0 === i[t].length &&
                  delete e[t];
            }),
            e
          );
        },
        toString: function() {
          return "#<fabric." + i(this.type) + ">";
        },
        getObjectScaling: function() {
          var t = this.scaleX,
            e = this.scaleY;
          if (this.group) {
            var i = this.group.getObjectScaling();
            (t *= i.scaleX), (e *= i.scaleY);
          }
          return { scaleX: t, scaleY: e };
        },
        getObjectOpacity: function() {
          var t = this.opacity;
          return this.group && (t *= this.group.getObjectOpacity()), t;
        },
        _set: function(t, e) {
          var i = "scaleX" === t || "scaleY" === t,
            r = this[t] !== e,
            n = !1;
          return (
            i && (e = this._constrainScale(e)),
            "scaleX" === t && e < 0
              ? ((this.flipX = !this.flipX), (e *= -1))
              : "scaleY" === t && e < 0
                ? ((this.flipY = !this.flipY), (e *= -1))
                : "shadow" !== t || !e || e instanceof y.Shadow
                  ? "dirty" === t && this.group && this.group.set("dirty", e)
                  : (e = new y.Shadow(e)),
            (this[t] = e),
            r &&
              ((n = this.group && this.group.isOnACache()),
              -1 < this.cacheProperties.indexOf(t)
                ? ((this.dirty = !0), n && this.group.set("dirty", !0))
                : n &&
                  -1 < this.stateProperties.indexOf(t) &&
                  this.group.set("dirty", !0)),
            this
          );
        },
        setOnGroup: function() {},
        getViewportTransform: function() {
          return this.canvas && this.canvas.viewportTransform
            ? this.canvas.viewportTransform
            : y.iMatrix.concat();
        },
        isNotVisible: function() {
          return (
            0 === this.opacity ||
            (0 === this.width && 0 === this.height) ||
            !this.visible
          );
        },
        render: function(t) {
          this.isNotVisible() ||
            (this.canvas &&
              this.canvas.skipOffscreen &&
              !this.group &&
              !this.isOnScreen()) ||
            (t.save(),
            this._setupCompositeOperation(t),
            this.drawSelectionBackground(t),
            this.transform(t),
            this._setOpacity(t),
            this._setShadow(t, this),
            this.transformMatrix && t.transform.apply(t, this.transformMatrix),
            this.clipTo && y.util.clipContext(this, t),
            this.shouldCache()
              ? (this._cacheCanvas || this._createCacheCanvas(),
                this.isCacheDirty() &&
                  (this.statefullCache &&
                    this.saveState({ propertySet: "cacheProperties" }),
                  this.drawObject(this._cacheContext),
                  (this.dirty = !1)),
                this.drawCacheOnCanvas(t))
              : (this._removeCacheCanvas(),
                (this.dirty = !1),
                this.drawObject(t),
                this.objectCaching &&
                  this.statefullCache &&
                  this.saveState({ propertySet: "cacheProperties" })),
            this.clipTo && t.restore(),
            t.restore());
        },
        _removeCacheCanvas: function() {
          (this._cacheCanvas = null),
            (this.cacheWidth = 0),
            (this.cacheHeight = 0);
        },
        needsItsOwnCache: function() {
          return "stroke" === this.paintFirst && "object" == typeof this.shadow;
        },
        shouldCache: function() {
          return (
            (this.ownCaching =
              this.objectCaching &&
              (!this.group ||
                this.needsItsOwnCache() ||
                !this.group.isOnACache())),
            this.ownCaching
          );
        },
        willDrawShadow: function() {
          return (
            !!this.shadow &&
            (0 !== this.shadow.offsetX || 0 !== this.shadow.offsetY)
          );
        },
        drawObject: function(t) {
          this._renderBackground(t),
            this._setStrokeStyles(t, this),
            this._setFillStyles(t, this),
            this._render(t);
        },
        drawCacheOnCanvas: function(t) {
          t.scale(1 / this.zoomX, 1 / this.zoomY),
            t.drawImage(
              this._cacheCanvas,
              -this.cacheTranslationX,
              -this.cacheTranslationY
            );
        },
        isCacheDirty: function(t) {
          if (this.isNotVisible()) return !1;
          if (this._cacheCanvas && !t && this._updateCacheCanvas()) return !0;
          if (
            this.dirty ||
            (this.statefullCache && this.hasStateChanged("cacheProperties"))
          ) {
            if (this._cacheCanvas && !t) {
              var e = this.cacheWidth / this.zoomX,
                i = this.cacheHeight / this.zoomY;
              this._cacheContext.clearRect(-e / 2, -i / 2, e, i);
            }
            return !0;
          }
          return !1;
        },
        _renderBackground: function(t) {
          if (this.backgroundColor) {
            var e = this._getNonTransformedDimensions();
            (t.fillStyle = this.backgroundColor),
              t.fillRect(-e.x / 2, -e.y / 2, e.x, e.y),
              this._removeShadow(t);
          }
        },
        _setOpacity: function(t) {
          this.group && !this.group._transformDone
            ? (t.globalAlpha = this.getObjectOpacity())
            : (t.globalAlpha *= this.opacity);
        },
        _setStrokeStyles: function(t, e) {
          e.stroke &&
            ((t.lineWidth = e.strokeWidth),
            (t.lineCap = e.strokeLineCap),
            (t.lineJoin = e.strokeLineJoin),
            (t.miterLimit = e.strokeMiterLimit),
            (t.strokeStyle = e.stroke.toLive
              ? e.stroke.toLive(t, this)
              : e.stroke));
        },
        _setFillStyles: function(t, e) {
          e.fill &&
            (t.fillStyle = e.fill.toLive ? e.fill.toLive(t, this) : e.fill);
        },
        _setLineDash: function(t, e, i) {
          e &&
            (1 & e.length && e.push.apply(e, e),
            n ? t.setLineDash(e) : i && i(t));
        },
        _renderControls: function(t, e) {
          var i,
            r,
            n,
            s = this.getViewportTransform(),
            o = this.calcTransformMatrix();
          (r =
            void 0 !== (e = e || {}).hasBorders
              ? e.hasBorders
              : this.hasBorders),
            (n = void 0 !== e.hasControls ? e.hasControls : this.hasControls),
            (o = y.util.multiplyTransformMatrices(s, o)),
            (i = y.util.qrDecompose(o)),
            t.save(),
            t.translate(i.translateX, i.translateY),
            (t.lineWidth = 1 * this.borderScaleFactor),
            this.group ||
              (t.globalAlpha = this.isMoving
                ? this.borderOpacityWhenMoving
                : 1),
            e.forActiveSelection
              ? (t.rotate(a(i.angle)), r && this.drawBordersInGroup(t, i, e))
              : (t.rotate(a(this.angle)), r && this.drawBorders(t, e)),
            n && this.drawControls(t, e),
            t.restore();
        },
        _setShadow: function(t) {
          if (this.shadow) {
            var e = (this.canvas && this.canvas.viewportTransform[0]) || 1,
              i = (this.canvas && this.canvas.viewportTransform[3]) || 1,
              r = this.getObjectScaling();
            this.canvas &&
              this.canvas._isRetinaScaling() &&
              ((e *= y.devicePixelRatio), (i *= y.devicePixelRatio)),
              (t.shadowColor = this.shadow.color),
              (t.shadowBlur =
                this.shadow.blur *
                y.browserShadowBlurConstant *
                (e + i) *
                (r.scaleX + r.scaleY) /
                4),
              (t.shadowOffsetX = this.shadow.offsetX * e * r.scaleX),
              (t.shadowOffsetY = this.shadow.offsetY * i * r.scaleY);
          }
        },
        _removeShadow: function(t) {
          this.shadow &&
            ((t.shadowColor = ""),
            (t.shadowBlur = t.shadowOffsetX = t.shadowOffsetY = 0));
        },
        _applyPatternGradientTransform: function(t, e) {
          if (!e || !e.toLive) return { offsetX: 0, offsetY: 0 };
          var i = e.gradientTransform || e.patternTransform,
            r = -this.width / 2 + e.offsetX || 0,
            n = -this.height / 2 + e.offsetY || 0;
          return (
            t.translate(r, n),
            i && t.transform(i[0], i[1], i[2], i[3], i[4], i[5]),
            { offsetX: r, offsetY: n }
          );
        },
        _renderPaintInOrder: function(t) {
          "stroke" === this.paintFirst
            ? (this._renderStroke(t), this._renderFill(t))
            : (this._renderFill(t), this._renderStroke(t));
        },
        _renderFill: function(t) {
          this.fill &&
            (t.save(),
            this._applyPatternGradientTransform(t, this.fill),
            "evenodd" === this.fillRule ? t.fill("evenodd") : t.fill(),
            t.restore());
        },
        _renderStroke: function(t) {
          this.stroke &&
            0 !== this.strokeWidth &&
            (this.shadow && !this.shadow.affectStroke && this._removeShadow(t),
            t.save(),
            this._setLineDash(
              t,
              this.strokeDashArray,
              this._renderDashedStroke
            ),
            this._applyPatternGradientTransform(t, this.stroke),
            t.stroke(),
            t.restore());
        },
        _findCenterFromElement: function() {
          return {
            x: this.left + this.width / 2,
            y: this.top + this.height / 2
          };
        },
        _assignTransformMatrixProps: function() {
          if (this.transformMatrix) {
            var t = y.util.qrDecompose(this.transformMatrix);
            (this.flipX = !1),
              (this.flipY = !1),
              this.set("scaleX", t.scaleX),
              this.set("scaleY", t.scaleY),
              (this.angle = t.angle),
              (this.skewX = t.skewX),
              (this.skewY = 0);
          }
        },
        _removeTransformMatrix: function(t) {
          var e = this._findCenterFromElement();
          this.transformMatrix &&
            (this._assignTransformMatrixProps(),
            (e = y.util.transformPoint(e, this.transformMatrix))),
            (this.transformMatrix = null),
            t &&
              ((this.scaleX *= t.scaleX),
              (this.scaleY *= t.scaleY),
              (this.cropX = t.cropX),
              (this.cropY = t.cropY),
              (e.x += t.offsetLeft),
              (e.y += t.offsetTop),
              (this.width = t.width),
              (this.height = t.height)),
            this.setPositionByOrigin(e, "center", "center");
        },
        clone: function(t, e) {
          var i = this.toObject(e);
          this.constructor.fromObject
            ? this.constructor.fromObject(i, t)
            : y.Object._fromObject("Object", i, t);
        },
        cloneAsImage: function(e, t) {
          var i = this.toDataURL(t);
          return (
            y.util.loadImage(i, function(t) {
              e && e(new y.Image(t));
            }),
            this
          );
        },
        toDataURL: function(t) {
          t || (t = {});
          var e = y.util.createCanvasElement(),
            i = this.getBoundingRect();
          (e.width = i.width),
            (e.height = i.height),
            y.util.wrapElement(e, "div");
          var r = new y.StaticCanvas(e, {
            enableRetinaScaling: t.enableRetinaScaling,
            renderOnAddRemove: !1,
            skipOffscreen: !1
          });
          "jpg" === t.format && (t.format = "jpeg"),
            "jpeg" === t.format && (r.backgroundColor = "#fff");
          var n = { left: this.left, top: this.top };
          this.setPositionByOrigin(
            new y.Point(r.width / 2, r.height / 2),
            "center",
            "center"
          );
          var s = this.canvas;
          r.add(this);
          var o = r.toDataURL(t);
          return (
            this.set(n).setCoords(),
            (this.canvas = s),
            (r._objects = []),
            r.dispose(),
            (r = null),
            o
          );
        },
        isType: function(t) {
          return this.type === t;
        },
        complexity: function() {
          return 1;
        },
        toJSON: function(t) {
          return this.toObject(t);
        },
        setGradient: function(t, e) {
          e || (e = {});
          var i = { colorStops: [] };
          return (
            (i.type = e.type || (e.r1 || e.r2 ? "radial" : "linear")),
            (i.coords = { x1: e.x1, y1: e.y1, x2: e.x2, y2: e.y2 }),
            (e.r1 || e.r2) && ((i.coords.r1 = e.r1), (i.coords.r2 = e.r2)),
            (i.gradientTransform = e.gradientTransform),
            y.Gradient.prototype.addColorStop.call(i, e.colorStops),
            this.set(t, y.Gradient.forObject(this, i))
          );
        },
        setPatternFill: function(t) {
          return this.set("fill", new y.Pattern(t));
        },
        setShadow: function(t) {
          return this.set("shadow", t ? new y.Shadow(t) : null);
        },
        setColor: function(t) {
          return this.set("fill", t), this;
        },
        rotate: function(t) {
          var e =
            ("center" !== this.originX || "center" !== this.originY) &&
            this.centeredRotation;
          return (
            e && this._setOriginToCenter(),
            this.set("angle", t),
            e && this._resetOrigin(),
            this
          );
        },
        centerH: function() {
          return this.canvas && this.canvas.centerObjectH(this), this;
        },
        viewportCenterH: function() {
          return this.canvas && this.canvas.viewportCenterObjectH(this), this;
        },
        centerV: function() {
          return this.canvas && this.canvas.centerObjectV(this), this;
        },
        viewportCenterV: function() {
          return this.canvas && this.canvas.viewportCenterObjectV(this), this;
        },
        center: function() {
          return this.canvas && this.canvas.centerObject(this), this;
        },
        viewportCenter: function() {
          return this.canvas && this.canvas.viewportCenterObject(this), this;
        },
        getLocalPointer: function(t, e) {
          e = e || this.canvas.getPointer(t);
          var i = new y.Point(e.x, e.y),
            r = this._getLeftTopCoords();
          return (
            this.angle && (i = y.util.rotatePoint(i, r, a(-this.angle))),
            { x: i.x - r.x, y: i.y - r.y }
          );
        },
        _setupCompositeOperation: function(t) {
          this.globalCompositeOperation &&
            (t.globalCompositeOperation = this.globalCompositeOperation);
        }
      })),
      y.util.createAccessors && y.util.createAccessors(y.Object),
      e(y.Object.prototype, y.Observable),
      (y.Object.NUM_FRACTION_DIGITS = 2),
      (y.Object._fromObject = function(t, i, r, n) {
        var s = y[t];
        (i = o(i, !0)),
          y.util.enlivenPatterns([i.fill, i.stroke], function(t) {
            void 0 !== t[0] && (i.fill = t[0]),
              void 0 !== t[1] && (i.stroke = t[1]);
            var e = n ? new s(i[n], i) : new s(i);
            r && r(e);
          });
      }),
      (y.Object.__uid = 0));
  })("undefined" != typeof exports ? exports : this),
  (function() {
    var a = fabric.util.degreesToRadians,
      l = { left: -0.5, center: 0, right: 0.5 },
      u = { top: -0.5, center: 0, bottom: 0.5 };
    fabric.util.object.extend(fabric.Object.prototype, {
      translateToGivenOrigin: function(t, e, i, r, n) {
        var s,
          o,
          a,
          h = t.x,
          c = t.y;
        return (
          "string" == typeof e ? (e = l[e]) : (e -= 0.5),
          "string" == typeof r ? (r = l[r]) : (r -= 0.5),
          "string" == typeof i ? (i = u[i]) : (i -= 0.5),
          "string" == typeof n ? (n = u[n]) : (n -= 0.5),
          (o = n - i),
          ((s = r - e) || o) &&
            ((a = this._getTransformedDimensions()),
            (h = t.x + s * a.x),
            (c = t.y + o * a.y)),
          new fabric.Point(h, c)
        );
      },
      translateToCenterPoint: function(t, e, i) {
        var r = this.translateToGivenOrigin(t, e, i, "center", "center");
        return this.angle ? fabric.util.rotatePoint(r, t, a(this.angle)) : r;
      },
      translateToOriginPoint: function(t, e, i) {
        var r = this.translateToGivenOrigin(t, "center", "center", e, i);
        return this.angle ? fabric.util.rotatePoint(r, t, a(this.angle)) : r;
      },
      getCenterPoint: function() {
        var t = new fabric.Point(this.left, this.top);
        return this.translateToCenterPoint(t, this.originX, this.originY);
      },
      getPointByOrigin: function(t, e) {
        var i = this.getCenterPoint();
        return this.translateToOriginPoint(i, t, e);
      },
      toLocalPoint: function(t, e, i) {
        var r,
          n,
          s = this.getCenterPoint();
        return (
          (r =
            void 0 !== e && void 0 !== i
              ? this.translateToGivenOrigin(s, "center", "center", e, i)
              : new fabric.Point(this.left, this.top)),
          (n = new fabric.Point(t.x, t.y)),
          this.angle && (n = fabric.util.rotatePoint(n, s, -a(this.angle))),
          n.subtractEquals(r)
        );
      },
      setPositionByOrigin: function(t, e, i) {
        var r = this.translateToCenterPoint(t, e, i),
          n = this.translateToOriginPoint(r, this.originX, this.originY);
        this.set("left", n.x), this.set("top", n.y);
      },
      adjustPosition: function(t) {
        var e,
          i,
          r = a(this.angle),
          n = this.getScaledWidth(),
          s = fabric.util.cos(r) * n,
          o = fabric.util.sin(r) * n;
        (e =
          "string" == typeof this.originX
            ? l[this.originX]
            : this.originX - 0.5),
          (i = "string" == typeof t ? l[t] : t - 0.5),
          (this.left += s * (i - e)),
          (this.top += o * (i - e)),
          this.setCoords(),
          (this.originX = t);
      },
      _setOriginToCenter: function() {
        (this._originalOriginX = this.originX),
          (this._originalOriginY = this.originY);
        var t = this.getCenterPoint();
        (this.originX = "center"),
          (this.originY = "center"),
          (this.left = t.x),
          (this.top = t.y);
      },
      _resetOrigin: function() {
        var t = this.translateToOriginPoint(
          this.getCenterPoint(),
          this._originalOriginX,
          this._originalOriginY
        );
        (this.originX = this._originalOriginX),
          (this.originY = this._originalOriginY),
          (this.left = t.x),
          (this.top = t.y),
          (this._originalOriginX = null),
          (this._originalOriginY = null);
      },
      _getLeftTopCoords: function() {
        return this.translateToOriginPoint(
          this.getCenterPoint(),
          "left",
          "top"
        );
      }
    });
  })(),
  (function() {
    var k = fabric.util.degreesToRadians,
      D = fabric.util.multiplyTransformMatrices,
      E = fabric.util.transformPoint;
    fabric.util.object.extend(fabric.Object.prototype, {
      oCoords: null,
      aCoords: null,
      ownMatrixCache: null,
      matrixCache: null,
      getCoords: function(t, e) {
        this.oCoords || this.setCoords();
        var i,
          r = t ? this.aCoords : this.oCoords;
        return (
          (i = e ? this.calcCoords(t) : r),
          [
            new fabric.Point(i.tl.x, i.tl.y),
            new fabric.Point(i.tr.x, i.tr.y),
            new fabric.Point(i.br.x, i.br.y),
            new fabric.Point(i.bl.x, i.bl.y)
          ]
        );
      },
      intersectsWithRect: function(t, e, i, r) {
        var n = this.getCoords(i, r);
        return (
          "Intersection" ===
          fabric.Intersection.intersectPolygonRectangle(n, t, e).status
        );
      },
      intersectsWithObject: function(t, e, i) {
        return (
          "Intersection" ===
            fabric.Intersection.intersectPolygonPolygon(
              this.getCoords(e, i),
              t.getCoords(e, i)
            ).status ||
          t.isContainedWithinObject(this, e, i) ||
          this.isContainedWithinObject(t, e, i)
        );
      },
      isContainedWithinObject: function(t, e, i) {
        for (
          var r = this.getCoords(e, i),
            n = 0,
            s = t._getImageLines(
              i ? t.calcCoords(e) : e ? t.aCoords : t.oCoords
            );
          n < 4;
          n++
        )
          if (!t.containsPoint(r[n], s)) return !1;
        return !0;
      },
      isContainedWithinRect: function(t, e, i, r) {
        var n = this.getBoundingRect(i, r);
        return (
          n.left >= t.x &&
          n.left + n.width <= e.x &&
          n.top >= t.y &&
          n.top + n.height <= e.y
        );
      },
      containsPoint: function(t, e, i, r) {
        e =
          e ||
          this._getImageLines(
            r ? this.calcCoords(i) : i ? this.aCoords : this.oCoords
          );
        var n = this._findCrossPoints(t, e);
        return 0 !== n && n % 2 == 1;
      },
      isOnScreen: function(t) {
        if (!this.canvas) return !1;
        for (
          var e,
            i = this.canvas.vptCoords.tl,
            r = this.canvas.vptCoords.br,
            n = this.getCoords(!0, t),
            s = 0;
          s < 4;
          s++
        )
          if ((e = n[s]).x <= r.x && e.x >= i.x && e.y <= r.y && e.y >= i.y)
            return !0;
        return (
          !!this.intersectsWithRect(i, r, !0, t) ||
          this._containsCenterOfCanvas(i, r, t)
        );
      },
      _containsCenterOfCanvas: function(t, e, i) {
        var r = { x: (t.x + e.x) / 2, y: (t.y + e.y) / 2 };
        return !!this.containsPoint(r, null, !0, i);
      },
      isPartiallyOnScreen: function(t) {
        if (!this.canvas) return !1;
        var e = this.canvas.vptCoords.tl,
          i = this.canvas.vptCoords.br;
        return (
          !!this.intersectsWithRect(e, i, !0, t) ||
          this._containsCenterOfCanvas(e, i, t)
        );
      },
      _getImageLines: function(t) {
        return {
          topline: { o: t.tl, d: t.tr },
          rightline: { o: t.tr, d: t.br },
          bottomline: { o: t.br, d: t.bl },
          leftline: { o: t.bl, d: t.tl }
        };
      },
      _findCrossPoints: function(t, e) {
        var i,
          r,
          n,
          s = 0;
        for (var o in e)
          if (
            !(
              ((n = e[o]).o.y < t.y && n.d.y < t.y) ||
              (n.o.y >= t.y && n.d.y >= t.y) ||
              (n.o.x === n.d.x && n.o.x >= t.x
                ? (r = n.o.x)
                : (0,
                  (i = (n.d.y - n.o.y) / (n.d.x - n.o.x)),
                  (r = -(t.y - 0 * t.x - (n.o.y - i * n.o.x)) / (0 - i))),
              r >= t.x && (s += 1),
              2 !== s)
            )
          )
            break;
        return s;
      },
      getBoundingRect: function(t, e) {
        var i = this.getCoords(t, e);
        return fabric.util.makeBoundingBoxFromPoints(i);
      },
      getScaledWidth: function() {
        return this._getTransformedDimensions().x;
      },
      getScaledHeight: function() {
        return this._getTransformedDimensions().y;
      },
      _constrainScale: function(t) {
        return Math.abs(t) < this.minScaleLimit
          ? t < 0
            ? -this.minScaleLimit
            : this.minScaleLimit
          : 0 === t
            ? 1e-4
            : t;
      },
      scale: function(t) {
        return this._set("scaleX", t), this._set("scaleY", t), this.setCoords();
      },
      scaleToWidth: function(t, e) {
        var i = this.getBoundingRect(e).width / this.getScaledWidth();
        return this.scale(t / this.width / i);
      },
      scaleToHeight: function(t, e) {
        var i = this.getBoundingRect(e).height / this.getScaledHeight();
        return this.scale(t / this.height / i);
      },
      calcCoords: function(t) {
        var e = this._calcRotateMatrix(),
          i = this._calcTranslateMatrix(),
          r = D(i, e),
          n = this.getViewportTransform(),
          s = t ? r : D(n, r),
          o = this._getTransformedDimensions(),
          a = o.x / 2,
          h = o.y / 2,
          c = E({ x: -a, y: -h }, s),
          l = E({ x: a, y: -h }, s),
          u = E({ x: -a, y: h }, s),
          f = E({ x: a, y: h }, s);
        if (!t) {
          var d = this.padding,
            g = k(this.angle),
            p = fabric.util.cos(g),
            v = fabric.util.sin(g),
            m = p * d,
            b = v * d,
            _ = m + b,
            y = m - b;
          d &&
            ((c.x -= y),
            (c.y -= _),
            (l.x += _),
            (l.y -= y),
            (u.x -= _),
            (u.y += y),
            (f.x += y),
            (f.y += _));
          var x = new fabric.Point((c.x + u.x) / 2, (c.y + u.y) / 2),
            C = new fabric.Point((l.x + c.x) / 2, (l.y + c.y) / 2),
            S = new fabric.Point((f.x + l.x) / 2, (f.y + l.y) / 2),
            w = new fabric.Point((f.x + u.x) / 2, (f.y + u.y) / 2),
            T = new fabric.Point(
              C.x + v * this.rotatingPointOffset,
              C.y - p * this.rotatingPointOffset
            );
        }
        var O = { tl: c, tr: l, br: f, bl: u };
        return (
          t || ((O.ml = x), (O.mt = C), (O.mr = S), (O.mb = w), (O.mtr = T)), O
        );
      },
      setCoords: function(t, e) {
        return (
          (this.oCoords = this.calcCoords(t)),
          e || (this.aCoords = this.calcCoords(!0)),
          t || (this._setCornerCoords && this._setCornerCoords()),
          this
        );
      },
      _calcRotateMatrix: function() {
        if (this.angle) {
          var t = k(this.angle),
            e = fabric.util.cos(t),
            i = fabric.util.sin(t);
          return [e, i, -i, e, 0, 0];
        }
        return fabric.iMatrix.concat();
      },
      _calcTranslateMatrix: function() {
        var t = this.getCenterPoint();
        return [1, 0, 0, 1, t.x, t.y];
      },
      transformMatrixKey: function(t) {
        var e = "_",
          i = "";
        return (
          !t && this.group && (i = this.group.transformMatrixKey(t) + e),
          i +
            this.top +
            e +
            this.left +
            e +
            this.scaleX +
            e +
            this.scaleY +
            e +
            this.skewX +
            e +
            this.skewY +
            e +
            this.angle +
            e +
            this.originX +
            e +
            this.originY +
            e +
            this.width +
            e +
            this.height +
            e +
            this.strokeWidth +
            this.flipX +
            this.flipY
        );
      },
      calcTransformMatrix: function(t) {
        if (t) return this.calcOwnMatrix();
        var e = this.transformMatrixKey(),
          i = this.matrixCache || (this.matrixCache = {});
        if (i.key === e) return i.value;
        var r = this.calcOwnMatrix();
        return (
          this.group && (r = D(this.group.calcTransformMatrix(), r)),
          (i.key = e),
          (i.value = r)
        );
      },
      calcOwnMatrix: function() {
        var t = this.transformMatrixKey(!0),
          e = this.ownMatrixCache || (this.ownMatrixCache = {});
        if (e.key === t) return e.value;
        var i,
          r = this._calcTranslateMatrix(),
          n = this._calcDimensionsTransformMatrix(this.skewX, this.skewY, !0);
        return (
          this.angle && ((i = this._calcRotateMatrix()), (r = D(r, i))),
          (r = D(r, n)),
          (e.key = t),
          (e.value = r)
        );
      },
      _calcDimensionsTransformMatrix: function(t, e, i) {
        var r,
          n = [
            this.scaleX * (i && this.flipX ? -1 : 1),
            0,
            0,
            this.scaleY * (i && this.flipY ? -1 : 1),
            0,
            0
          ];
        return (
          t && ((r = [1, 0, Math.tan(k(t)), 1]), (n = D(n, r, !0))),
          e && ((r = [1, Math.tan(k(e)), 0, 1]), (n = D(n, r, !0))),
          n
        );
      },
      _getNonTransformedDimensions: function() {
        var t = this.strokeWidth;
        return { x: this.width + t, y: this.height + t };
      },
      _getTransformedDimensions: function(t, e) {
        void 0 === t && (t = this.skewX), void 0 === e && (e = this.skewY);
        var i = this._getNonTransformedDimensions();
        if (0 === t && 0 === e)
          return { x: i.x * this.scaleX, y: i.y * this.scaleY };
        var r,
          n,
          s = i.x / 2,
          o = i.y / 2,
          a = [
            { x: -s, y: -o },
            { x: s, y: -o },
            { x: -s, y: o },
            { x: s, y: o }
          ],
          h = this._calcDimensionsTransformMatrix(t, e, !1);
        for (r = 0; r < a.length; r++)
          a[r] = fabric.util.transformPoint(a[r], h);
        return {
          x: (n = fabric.util.makeBoundingBoxFromPoints(a)).width,
          y: n.height
        };
      },
      _calculateCurrentDimensions: function() {
        var t = this.getViewportTransform(),
          e = this._getTransformedDimensions();
        return fabric.util.transformPoint(e, t, !0).scalarAdd(2 * this.padding);
      }
    });
  })(),
  fabric.util.object.extend(fabric.Object.prototype, {
    sendToBack: function() {
      return (
        this.group
          ? fabric.StaticCanvas.prototype.sendToBack.call(this.group, this)
          : this.canvas.sendToBack(this),
        this
      );
    },
    bringToFront: function() {
      return (
        this.group
          ? fabric.StaticCanvas.prototype.bringToFront.call(this.group, this)
          : this.canvas.bringToFront(this),
        this
      );
    },
    sendBackwards: function(t) {
      return (
        this.group
          ? fabric.StaticCanvas.prototype.sendBackwards.call(
              this.group,
              this,
              t
            )
          : this.canvas.sendBackwards(this, t),
        this
      );
    },
    bringForward: function(t) {
      return (
        this.group
          ? fabric.StaticCanvas.prototype.bringForward.call(this.group, this, t)
          : this.canvas.bringForward(this, t),
        this
      );
    },
    moveTo: function(t) {
      return (
        this.group && "activeSelection" !== this.group.type
          ? fabric.StaticCanvas.prototype.moveTo.call(this.group, this, t)
          : this.canvas.moveTo(this, t),
        this
      );
    }
  }),
  (function() {
    function u(t, e) {
      if (e) {
        if (e.toLive) return t + ": url(#SVGID_" + e.id + "); ";
        var i = new fabric.Color(e),
          r = t + ": " + i.toRgb() + "; ",
          n = i.getAlpha();
        return 1 !== n && (r += t + "-opacity: " + n.toString() + "; "), r;
      }
      return t + ": none; ";
    }
    var l = fabric.util.toFixed;
    fabric.util.object.extend(fabric.Object.prototype, {
      getSvgStyles: function(t) {
        var e = this.fillRule,
          i = this.strokeWidth ? this.strokeWidth : "0",
          r = this.strokeDashArray ? this.strokeDashArray.join(" ") : "none",
          n = this.strokeLineCap ? this.strokeLineCap : "butt",
          s = this.strokeLineJoin ? this.strokeLineJoin : "miter",
          o = this.strokeMiterLimit ? this.strokeMiterLimit : "4",
          a = void 0 !== this.opacity ? this.opacity : "1",
          h = this.visible ? "" : " visibility: hidden;",
          c = t ? "" : this.getSvgFilter(),
          l = u("fill", this.fill);
        return [
          u("stroke", this.stroke),
          "stroke-width: ",
          i,
          "; ",
          "stroke-dasharray: ",
          r,
          "; ",
          "stroke-linecap: ",
          n,
          "; ",
          "stroke-linejoin: ",
          s,
          "; ",
          "stroke-miterlimit: ",
          o,
          "; ",
          l,
          "fill-rule: ",
          e,
          "; ",
          "opacity: ",
          a,
          ";",
          c,
          h
        ].join("");
      },
      getSvgSpanStyles: function(t, e) {
        var i = "; ",
          r = t.fontFamily
            ? "font-family: " +
              (-1 === t.fontFamily.indexOf("'") &&
              -1 === t.fontFamily.indexOf('"')
                ? "'" + t.fontFamily + "'"
                : t.fontFamily) +
              i
            : "",
          n = t.strokeWidth ? "stroke-width: " + t.strokeWidth + i : "",
          s = ((r = r),
          t.fontSize ? "font-size: " + t.fontSize + "px" + i : ""),
          o = t.fontStyle ? "font-style: " + t.fontStyle + i : "",
          a = t.fontWeight ? "font-weight: " + t.fontWeight + i : "",
          h = t.fill ? u("fill", t.fill) : "",
          c = t.stroke ? u("stroke", t.stroke) : "",
          l = this.getSvgTextDecoration(t);
        return (
          l && (l = "text-decoration: " + l + i),
          [
            c,
            n,
            r,
            s,
            o,
            a,
            l,
            h,
            t.deltaY ? "baseline-shift: " + -t.deltaY + "; " : "",
            e ? "white-space: pre; " : ""
          ].join("")
        );
      },
      getSvgTextDecoration: function(t) {
        return "overline" in t || "underline" in t || "linethrough" in t
          ? (t.overline ? "overline " : "") +
              (t.underline ? "underline " : "") +
              (t.linethrough ? "line-through " : "")
          : "";
      },
      getSvgFilter: function() {
        return this.shadow ? "filter: url(#SVGID_" + this.shadow.id + ");" : "";
      },
      getSvgId: function() {
        return this.id ? 'id="' + this.id + '" ' : "";
      },
      getSvgTransform: function() {
        var t = this.angle,
          e = this.skewX % 360,
          i = this.skewY % 360,
          r = this.getCenterPoint(),
          n = fabric.Object.NUM_FRACTION_DIGITS,
          s = "translate(" + l(r.x, n) + " " + l(r.y, n) + ")",
          o = 0 !== t ? " rotate(" + l(t, n) + ")" : "",
          a =
            1 === this.scaleX && 1 === this.scaleY
              ? ""
              : " scale(" + l(this.scaleX, n) + " " + l(this.scaleY, n) + ")",
          h = 0 !== e ? " skewX(" + l(e, n) + ")" : "",
          c = 0 !== i ? " skewY(" + l(i, n) + ")" : "";
        return [
          s,
          o,
          a,
          this.flipX ? " matrix(-1 0 0 1 0 0) " : "",
          this.flipY ? " matrix(1 0 0 -1 0 0)" : "",
          h,
          c
        ].join("");
      },
      getSvgTransformMatrix: function() {
        return this.transformMatrix
          ? " matrix(" + this.transformMatrix.join(" ") + ") "
          : "";
      },
      _setSVGBg: function(t) {
        if (this.backgroundColor) {
          var e = fabric.Object.NUM_FRACTION_DIGITS;
          t.push(
            "\t\t<rect ",
            this._getFillAttributes(this.backgroundColor),
            ' x="',
            l(-this.width / 2, e),
            '" y="',
            l(-this.height / 2, e),
            '" width="',
            l(this.width, e),
            '" height="',
            l(this.height, e),
            '"></rect>\n'
          );
        }
      },
      _createBaseSVGMarkup: function() {
        var t = [];
        return (
          this.fill && this.fill.toLive && t.push(this.fill.toSVG(this, !1)),
          this.stroke &&
            this.stroke.toLive &&
            t.push(this.stroke.toSVG(this, !1)),
          this.shadow && t.push(this.shadow.toSVG(this)),
          t
        );
      },
      addPaintOrder: function() {
        return "fill" !== this.paintFirst
          ? ' paint-order="' + this.paintFirst + '" '
          : "";
      }
    });
  })(),
  (function() {
    var n = fabric.util.object.extend,
      r = "stateProperties";
    function s(e, t, i) {
      var r = {};
      i.forEach(function(t) {
        r[t] = e[t];
      }),
        n(e[t], r, !0);
    }
    fabric.util.object.extend(fabric.Object.prototype, {
      hasStateChanged: function(t) {
        var e = "_" + (t = t || r);
        return (
          Object.keys(this[e]).length < this[t].length ||
          !(function t(e, i, r) {
            if (e === i) return !0;
            if (Array.isArray(e)) {
              if (!Array.isArray(i) || e.length !== i.length) return !1;
              for (var n = 0, s = e.length; n < s; n++)
                if (!t(e[n], i[n])) return !1;
              return !0;
            }
            if (e && "object" == typeof e) {
              var o,
                a = Object.keys(e);
              if (
                !i ||
                "object" != typeof i ||
                (!r && a.length !== Object.keys(i).length)
              )
                return !1;
              for (n = 0, s = a.length; n < s; n++)
                if (!t(e[(o = a[n])], i[o])) return !1;
              return !0;
            }
          })(this[e], this, !0)
        );
      },
      saveState: function(t) {
        var e = (t && t.propertySet) || r,
          i = "_" + e;
        return this[i]
          ? (s(this, i, this[e]),
            t && t.stateProperties && s(this, i, t.stateProperties),
            this)
          : this.setupState(t);
      },
      setupState: function(t) {
        var e = (t = t || {}).propertySet || r;
        return (this["_" + (t.propertySet = e)] = {}), this.saveState(t), this;
      }
    });
  })(),
  (function() {
    var h = fabric.util.degreesToRadians;
    fabric.util.object.extend(fabric.Object.prototype, {
      _controlsVisibility: null,
      _findTargetCorner: function(t) {
        if (
          !this.hasControls ||
          this.group ||
          !this.canvas ||
          this.canvas._activeObject !== this
        )
          return !1;
        var e,
          i,
          r = t.x,
          n = t.y;
        for (var s in ((this.__corner = 0), this.oCoords))
          if (
            this.isControlVisible(s) &&
            ("mtr" !== s || this.hasRotatingPoint) &&
            (!this.get("lockUniScaling") ||
              ("mt" !== s && "mr" !== s && "mb" !== s && "ml" !== s)) &&
            ((i = this._getImageLines(this.oCoords[s].corner)),
            0 !== (e = this._findCrossPoints({ x: r, y: n }, i)) && e % 2 == 1)
          )
            return (this.__corner = s);
        return !1;
      },
      _setCornerCoords: function() {
        var t,
          e,
          i = this.oCoords,
          r = h(45 - this.angle),
          n = 0.707106 * this.cornerSize,
          s = n * fabric.util.cos(r),
          o = n * fabric.util.sin(r);
        for (var a in i)
          (t = i[a].x),
            (e = i[a].y),
            (i[a].corner = {
              tl: { x: t - o, y: e - s },
              tr: { x: t + s, y: e - o },
              bl: { x: t - s, y: e + o },
              br: { x: t + o, y: e + s }
            });
      },
      drawSelectionBackground: function(t) {
        if (
          !this.selectionBackgroundColor ||
          (this.canvas && !this.canvas.interactive) ||
          (this.canvas && this.canvas._activeObject !== this)
        )
          return this;
        t.save();
        var e = this.getCenterPoint(),
          i = this._calculateCurrentDimensions(),
          r = this.canvas.viewportTransform;
        return (
          t.translate(e.x, e.y),
          t.scale(1 / r[0], 1 / r[3]),
          t.rotate(h(this.angle)),
          (t.fillStyle = this.selectionBackgroundColor),
          t.fillRect(-i.x / 2, -i.y / 2, i.x, i.y),
          t.restore(),
          this
        );
      },
      drawBorders: function(t, e) {
        e = e || {};
        var i = this._calculateCurrentDimensions(),
          r = 1 / this.borderScaleFactor,
          n = i.x + r,
          s = i.y + r,
          o =
            void 0 !== e.hasRotatingPoint
              ? e.hasRotatingPoint
              : this.hasRotatingPoint,
          a = void 0 !== e.hasControls ? e.hasControls : this.hasControls,
          h =
            void 0 !== e.rotatingPointOffset
              ? e.rotatingPointOffset
              : this.rotatingPointOffset;
        if (
          (t.save(),
          (t.strokeStyle = e.borderColor || this.borderColor),
          this._setLineDash(t, e.borderDashArray || this.borderDashArray, null),
          t.strokeRect(-n / 2, -s / 2, n, s),
          o && this.isControlVisible("mtr") && a)
        ) {
          var c = -s / 2;
          t.beginPath(), t.moveTo(0, c), t.lineTo(0, c - h), t.stroke();
        }
        return t.restore(), this;
      },
      drawBordersInGroup: function(t, e, i) {
        i = i || {};
        var r = this._getNonTransformedDimensions(),
          n = fabric.util.customTransformMatrix(e.scaleX, e.scaleY, e.skewX),
          s = fabric.util.transformPoint(r, n),
          o = 1 / this.borderScaleFactor,
          a = s.x + o,
          h = s.y + o;
        return (
          t.save(),
          this._setLineDash(t, i.borderDashArray || this.borderDashArray, null),
          (t.strokeStyle = i.borderColor || this.borderColor),
          t.strokeRect(-a / 2, -h / 2, a, h),
          t.restore(),
          this
        );
      },
      drawControls: function(t, e) {
        e = e || {};
        var i = this._calculateCurrentDimensions(),
          r = i.x,
          n = i.y,
          s = e.cornerSize || this.cornerSize,
          o = -(r + s) / 2,
          a = -(n + s) / 2,
          h =
            void 0 !== e.transparentCorners
              ? e.transparentCorners
              : this.transparentCorners,
          c =
            void 0 !== e.hasRotatingPoint
              ? e.hasRotatingPoint
              : this.hasRotatingPoint,
          l = h ? "stroke" : "fill";
        return (
          t.save(),
          (t.strokeStyle = t.fillStyle = e.cornerColor || this.cornerColor),
          this.transparentCorners ||
            (t.strokeStyle = e.cornerStrokeColor || this.cornerStrokeColor),
          this._setLineDash(t, e.cornerDashArray || this.cornerDashArray, null),
          this._drawControl("tl", t, l, o, a, e),
          this._drawControl("tr", t, l, o + r, a, e),
          this._drawControl("bl", t, l, o, a + n, e),
          this._drawControl("br", t, l, o + r, a + n, e),
          this.get("lockUniScaling") ||
            (this._drawControl("mt", t, l, o + r / 2, a, e),
            this._drawControl("mb", t, l, o + r / 2, a + n, e),
            this._drawControl("mr", t, l, o + r, a + n / 2, e),
            this._drawControl("ml", t, l, o, a + n / 2, e)),
          c &&
            this._drawControl(
              "mtr",
              t,
              l,
              o + r / 2,
              a - this.rotatingPointOffset,
              e
            ),
          t.restore(),
          this
        );
      },
      _drawControl: function(t, e, i, r, n, s) {
        if (((s = s || {}), this.isControlVisible(t))) {
          var o = this.cornerSize,
            a = !this.transparentCorners && this.cornerStrokeColor;
          switch (s.cornerStyle || this.cornerStyle) {
            case "circle":
              e.beginPath(),
                e.arc(r + o / 2, n + o / 2, o / 2, 0, 2 * Math.PI, !1),
                e[i](),
                a && e.stroke();
              break;
            default:
              this.transparentCorners || e.clearRect(r, n, o, o),
                e[i + "Rect"](r, n, o, o),
                a && e.strokeRect(r, n, o, o);
          }
        }
      },
      isControlVisible: function(t) {
        return this._getControlsVisibility()[t];
      },
      setControlVisible: function(t, e) {
        return (this._getControlsVisibility()[t] = e), this;
      },
      setControlsVisibility: function(t) {
        for (var e in (t || (t = {}), t)) this.setControlVisible(e, t[e]);
        return this;
      },
      _getControlsVisibility: function() {
        return (
          this._controlsVisibility ||
            (this._controlsVisibility = {
              tl: !0,
              tr: !0,
              br: !0,
              bl: !0,
              ml: !0,
              mt: !0,
              mr: !0,
              mb: !0,
              mtr: !0
            }),
          this._controlsVisibility
        );
      },
      onDeselect: function() {},
      onSelect: function() {}
    });
  })(),
  fabric.util.object.extend(fabric.StaticCanvas.prototype, {
    FX_DURATION: 500,
    fxCenterObjectH: function(e, t) {
      var i = function() {},
        r = (t = t || {}).onComplete || i,
        n = t.onChange || i,
        s = this;
      return (
        fabric.util.animate({
          startValue: e.left,
          endValue: this.getCenter().left,
          duration: this.FX_DURATION,
          onChange: function(t) {
            e.set("left", t), s.requestRenderAll(), n();
          },
          onComplete: function() {
            e.setCoords(), r();
          }
        }),
        this
      );
    },
    fxCenterObjectV: function(e, t) {
      var i = function() {},
        r = (t = t || {}).onComplete || i,
        n = t.onChange || i,
        s = this;
      return (
        fabric.util.animate({
          startValue: e.top,
          endValue: this.getCenter().top,
          duration: this.FX_DURATION,
          onChange: function(t) {
            e.set("top", t), s.requestRenderAll(), n();
          },
          onComplete: function() {
            e.setCoords(), r();
          }
        }),
        this
      );
    },
    fxRemove: function(e, t) {
      var i = function() {},
        r = (t = t || {}).onComplete || i,
        n = t.onChange || i,
        s = this;
      return (
        fabric.util.animate({
          startValue: e.opacity,
          endValue: 0,
          duration: this.FX_DURATION,
          onChange: function(t) {
            e.set("opacity", t), s.requestRenderAll(), n();
          },
          onComplete: function() {
            s.remove(e), r();
          }
        }),
        this
      );
    }
  }),
  fabric.util.object.extend(fabric.Object.prototype, {
    animate: function() {
      if (arguments[0] && "object" == typeof arguments[0]) {
        var t,
          e,
          i = [];
        for (t in arguments[0]) i.push(t);
        for (var r = 0, n = i.length; r < n; r++)
          (t = i[r]),
            (e = r !== n - 1),
            this._animate(t, arguments[0][t], arguments[1], e);
      } else this._animate.apply(this, arguments);
      return this;
    },
    _animate: function(r, t, n, s) {
      var o,
        a = this;
      (t = t.toString()),
        (n = n ? fabric.util.object.clone(n) : {}),
        ~r.indexOf(".") && (o = r.split("."));
      var e = o ? this.get(o[0])[o[1]] : this.get(r);
      "from" in n || (n.from = e),
        (t = ~t.indexOf("=")
          ? e + parseFloat(t.replace("=", ""))
          : parseFloat(t)),
        fabric.util.animate({
          startValue: n.from,
          endValue: t,
          byValue: n.by,
          easing: n.easing,
          duration: n.duration,
          abort:
            n.abort &&
            function() {
              return n.abort.call(a);
            },
          onChange: function(t, e, i) {
            o ? (a[o[0]][o[1]] = t) : a.set(r, t),
              s || (n.onChange && n.onChange(t, e, i));
          },
          onComplete: function(t, e, i) {
            s || (a.setCoords(), n.onComplete && n.onComplete(t, e, i));
          }
        });
    }
  }),
  (function(t) {
    "use strict";
    var s = t.fabric || (t.fabric = {}),
      o = s.util.object.extend,
      r = s.util.object.clone,
      i = { x1: 1, x2: 1, y1: 1, y2: 1 },
      n = s.StaticCanvas.supports("setLineDash");
    function e(t, e) {
      var i = t.origin,
        r = t.axis1,
        n = t.axis2,
        s = t.dimension,
        o = e.nearest,
        a = e.center,
        h = e.farthest;
      return function() {
        switch (this.get(i)) {
          case o:
            return Math.min(this.get(r), this.get(n));
          case a:
            return Math.min(this.get(r), this.get(n)) + 0.5 * this.get(s);
          case h:
            return Math.max(this.get(r), this.get(n));
        }
      };
    }
    s.Line
      ? s.warn("fabric.Line is already defined")
      : ((s.Line = s.util.createClass(s.Object, {
          type: "line",
          x1: 0,
          y1: 0,
          x2: 0,
          y2: 0,
          cacheProperties: s.Object.prototype.cacheProperties.concat(
            "x1",
            "x2",
            "y1",
            "y2"
          ),
          initialize: function(t, e) {
            t || (t = [0, 0, 0, 0]),
              this.callSuper("initialize", e),
              this.set("x1", t[0]),
              this.set("y1", t[1]),
              this.set("x2", t[2]),
              this.set("y2", t[3]),
              this._setWidthHeight(e);
          },
          _setWidthHeight: function(t) {
            t || (t = {}),
              (this.width = Math.abs(this.x2 - this.x1)),
              (this.height = Math.abs(this.y2 - this.y1)),
              (this.left = "left" in t ? t.left : this._getLeftToOriginX()),
              (this.top = "top" in t ? t.top : this._getTopToOriginY());
          },
          _set: function(t, e) {
            return (
              this.callSuper("_set", t, e),
              void 0 !== i[t] && this._setWidthHeight(),
              this
            );
          },
          _getLeftToOriginX: e(
            { origin: "originX", axis1: "x1", axis2: "x2", dimension: "width" },
            { nearest: "left", center: "center", farthest: "right" }
          ),
          _getTopToOriginY: e(
            {
              origin: "originY",
              axis1: "y1",
              axis2: "y2",
              dimension: "height"
            },
            { nearest: "top", center: "center", farthest: "bottom" }
          ),
          _render: function(t) {
            if (
              (t.beginPath(),
              !this.strokeDashArray || (this.strokeDashArray && n))
            ) {
              var e = this.calcLinePoints();
              t.moveTo(e.x1, e.y1), t.lineTo(e.x2, e.y2);
            }
            t.lineWidth = this.strokeWidth;
            var i = t.strokeStyle;
            (t.strokeStyle = this.stroke || t.fillStyle),
              this.stroke && this._renderStroke(t),
              (t.strokeStyle = i);
          },
          _renderDashedStroke: function(t) {
            var e = this.calcLinePoints();
            t.beginPath(),
              s.util.drawDashedLine(
                t,
                e.x1,
                e.y1,
                e.x2,
                e.y2,
                this.strokeDashArray
              ),
              t.closePath();
          },
          _findCenterFromElement: function() {
            return { x: (this.x1 + this.x2) / 2, y: (this.y1 + this.y2) / 2 };
          },
          toObject: function(t) {
            return o(this.callSuper("toObject", t), this.calcLinePoints());
          },
          _getNonTransformedDimensions: function() {
            var t = this.callSuper("_getNonTransformedDimensions");
            return (
              "butt" === this.strokeLineCap &&
                (0 === this.width && (t.y -= this.strokeWidth),
                0 === this.height && (t.x -= this.strokeWidth)),
              t
            );
          },
          calcLinePoints: function() {
            var t = this.x1 <= this.x2 ? -1 : 1,
              e = this.y1 <= this.y2 ? -1 : 1,
              i = t * this.width * 0.5,
              r = e * this.height * 0.5;
            return {
              x1: i,
              x2: t * this.width * -0.5,
              y1: r,
              y2: e * this.height * -0.5
            };
          },
          toSVG: function(t) {
            var e = this._createBaseSVGMarkup(),
              i = this.calcLinePoints();
            return (
              e.push(
                "<line ",
                this.getSvgId(),
                'x1="',
                i.x1,
                '" y1="',
                i.y1,
                '" x2="',
                i.x2,
                '" y2="',
                i.y2,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                this.getSvgTransformMatrix(),
                '"/>\n'
              ),
              t ? t(e.join("")) : e.join("")
            );
          }
        })),
        (s.Line.ATTRIBUTE_NAMES = s.SHARED_ATTRIBUTES.concat(
          "x1 y1 x2 y2".split(" ")
        )),
        (s.Line.fromElement = function(t, e, i) {
          i = i || {};
          var r = s.parseAttributes(t, s.Line.ATTRIBUTE_NAMES),
            n = [r.x1 || 0, r.y1 || 0, r.x2 || 0, r.y2 || 0];
          e(new s.Line(n, o(r, i)));
        }),
        (s.Line.fromObject = function(t, e) {
          var i = r(t, !0);
          (i.points = [t.x1, t.y1, t.x2, t.y2]),
            s.Object._fromObject(
              "Line",
              i,
              function(t) {
                delete t.points, e && e(t);
              },
              "points"
            );
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var h = t.fabric || (t.fabric = {}),
      c = Math.PI;
    h.Circle
      ? h.warn("fabric.Circle is already defined.")
      : ((h.Circle = h.util.createClass(h.Object, {
          type: "circle",
          radius: 0,
          startAngle: 0,
          endAngle: 2 * c,
          cacheProperties: h.Object.prototype.cacheProperties.concat(
            "radius",
            "startAngle",
            "endAngle"
          ),
          _set: function(t, e) {
            return (
              this.callSuper("_set", t, e),
              "radius" === t && this.setRadius(e),
              this
            );
          },
          toObject: function(t) {
            return this.callSuper(
              "toObject",
              ["radius", "startAngle", "endAngle"].concat(t)
            );
          },
          toSVG: function(t) {
            var e = this._createBaseSVGMarkup(),
              i = (this.endAngle - this.startAngle) % (2 * c);
            if (0 === i)
              e.push(
                "<circle ",
                this.getSvgId(),
                'cx="0" cy="0" ',
                'r="',
                this.radius,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                " ",
                this.getSvgTransformMatrix(),
                '"',
                this.addPaintOrder(),
                "/>\n"
              );
            else {
              var r = h.util.cos(this.startAngle) * this.radius,
                n = h.util.sin(this.startAngle) * this.radius,
                s = h.util.cos(this.endAngle) * this.radius,
                o = h.util.sin(this.endAngle) * this.radius,
                a = c < i ? "1" : "0";
              e.push(
                '<path d="M ' + r + " " + n,
                " A " + this.radius + " " + this.radius,
                " 0 ",
                +a + " 1",
                " " + s + " " + o,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                " ",
                this.getSvgTransformMatrix(),
                '"',
                this.addPaintOrder(),
                '"/>\n'
              );
            }
            return t ? t(e.join("")) : e.join("");
          },
          _render: function(t) {
            t.beginPath(),
              t.arc(0, 0, this.radius, this.startAngle, this.endAngle, !1),
              this._renderPaintInOrder(t);
          },
          getRadiusX: function() {
            return this.get("radius") * this.get("scaleX");
          },
          getRadiusY: function() {
            return this.get("radius") * this.get("scaleY");
          },
          setRadius: function(t) {
            return (
              (this.radius = t), this.set("width", 2 * t).set("height", 2 * t)
            );
          }
        })),
        (h.Circle.ATTRIBUTE_NAMES = h.SHARED_ATTRIBUTES.concat(
          "cx cy r".split(" ")
        )),
        (h.Circle.fromElement = function(t, e) {
          var i,
            r = h.parseAttributes(t, h.Circle.ATTRIBUTE_NAMES);
          if (!("radius" in (i = r) && 0 <= i.radius))
            throw new Error(
              "value of `r` attribute is required and can not be negative"
            );
          (r.left = (r.left || 0) - r.radius),
            (r.top = (r.top || 0) - r.radius),
            e(new h.Circle(r));
        }),
        (h.Circle.fromObject = function(t, e) {
          return h.Object._fromObject("Circle", t, e);
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var r = t.fabric || (t.fabric = {});
    r.Triangle
      ? r.warn("fabric.Triangle is already defined")
      : ((r.Triangle = r.util.createClass(r.Object, {
          type: "triangle",
          width: 100,
          height: 100,
          _render: function(t) {
            var e = this.width / 2,
              i = this.height / 2;
            t.beginPath(),
              t.moveTo(-e, i),
              t.lineTo(0, -i),
              t.lineTo(e, i),
              t.closePath(),
              this._renderPaintInOrder(t);
          },
          _renderDashedStroke: function(t) {
            var e = this.width / 2,
              i = this.height / 2;
            t.beginPath(),
              r.util.drawDashedLine(t, -e, i, 0, -i, this.strokeDashArray),
              r.util.drawDashedLine(t, 0, -i, e, i, this.strokeDashArray),
              r.util.drawDashedLine(t, e, i, -e, i, this.strokeDashArray),
              t.closePath();
          },
          toSVG: function(t) {
            var e = this._createBaseSVGMarkup(),
              i = this.width / 2,
              r = this.height / 2,
              n = [-i + " " + r, "0 " + -r, i + " " + r].join(",");
            return (
              e.push(
                "<polygon ",
                this.getSvgId(),
                'points="',
                n,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                '"',
                this.addPaintOrder(),
                "/>"
              ),
              t ? t(e.join("")) : e.join("")
            );
          }
        })),
        (r.Triangle.fromObject = function(t, e) {
          return r.Object._fromObject("Triangle", t, e);
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var r = t.fabric || (t.fabric = {}),
      e = 2 * Math.PI;
    r.Ellipse
      ? r.warn("fabric.Ellipse is already defined.")
      : ((r.Ellipse = r.util.createClass(r.Object, {
          type: "ellipse",
          rx: 0,
          ry: 0,
          cacheProperties: r.Object.prototype.cacheProperties.concat(
            "rx",
            "ry"
          ),
          initialize: function(t) {
            this.callSuper("initialize", t),
              this.set("rx", (t && t.rx) || 0),
              this.set("ry", (t && t.ry) || 0);
          },
          _set: function(t, e) {
            switch ((this.callSuper("_set", t, e), t)) {
              case "rx":
                (this.rx = e), this.set("width", 2 * e);
                break;
              case "ry":
                (this.ry = e), this.set("height", 2 * e);
            }
            return this;
          },
          getRx: function() {
            return this.get("rx") * this.get("scaleX");
          },
          getRy: function() {
            return this.get("ry") * this.get("scaleY");
          },
          toObject: function(t) {
            return this.callSuper("toObject", ["rx", "ry"].concat(t));
          },
          toSVG: function(t) {
            var e = this._createBaseSVGMarkup();
            return (
              e.push(
                "<ellipse ",
                this.getSvgId(),
                'cx="0" cy="0" ',
                'rx="',
                this.rx,
                '" ry="',
                this.ry,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                this.getSvgTransformMatrix(),
                '"',
                this.addPaintOrder(),
                "/>\n"
              ),
              t ? t(e.join("")) : e.join("")
            );
          },
          _render: function(t) {
            t.beginPath(),
              t.save(),
              t.transform(1, 0, 0, this.ry / this.rx, 0, 0),
              t.arc(0, 0, this.rx, 0, e, !1),
              t.restore(),
              this._renderPaintInOrder(t);
          }
        })),
        (r.Ellipse.ATTRIBUTE_NAMES = r.SHARED_ATTRIBUTES.concat(
          "cx cy rx ry".split(" ")
        )),
        (r.Ellipse.fromElement = function(t, e) {
          var i = r.parseAttributes(t, r.Ellipse.ATTRIBUTE_NAMES);
          (i.left = (i.left || 0) - i.rx),
            (i.top = (i.top || 0) - i.ry),
            e(new r.Ellipse(i));
        }),
        (r.Ellipse.fromObject = function(t, e) {
          return r.Object._fromObject("Ellipse", t, e);
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var s = t.fabric || (t.fabric = {}),
      o = s.util.object.extend;
    s.Rect
      ? s.warn("fabric.Rect is already defined")
      : ((s.Rect = s.util.createClass(s.Object, {
          stateProperties: s.Object.prototype.stateProperties.concat(
            "rx",
            "ry"
          ),
          type: "rect",
          rx: 0,
          ry: 0,
          cacheProperties: s.Object.prototype.cacheProperties.concat(
            "rx",
            "ry"
          ),
          initialize: function(t) {
            this.callSuper("initialize", t), this._initRxRy();
          },
          _initRxRy: function() {
            this.rx && !this.ry
              ? (this.ry = this.rx)
              : this.ry && !this.rx && (this.rx = this.ry);
          },
          _render: function(t) {
            if (1 !== this.width || 1 !== this.height) {
              var e = this.rx ? Math.min(this.rx, this.width / 2) : 0,
                i = this.ry ? Math.min(this.ry, this.height / 2) : 0,
                r = this.width,
                n = this.height,
                s = -this.width / 2,
                o = -this.height / 2,
                a = 0 !== e || 0 !== i,
                h = 0.4477152502;
              t.beginPath(),
                t.moveTo(s + e, o),
                t.lineTo(s + r - e, o),
                a &&
                  t.bezierCurveTo(
                    s + r - h * e,
                    o,
                    s + r,
                    o + h * i,
                    s + r,
                    o + i
                  ),
                t.lineTo(s + r, o + n - i),
                a &&
                  t.bezierCurveTo(
                    s + r,
                    o + n - h * i,
                    s + r - h * e,
                    o + n,
                    s + r - e,
                    o + n
                  ),
                t.lineTo(s + e, o + n),
                a &&
                  t.bezierCurveTo(
                    s + h * e,
                    o + n,
                    s,
                    o + n - h * i,
                    s,
                    o + n - i
                  ),
                t.lineTo(s, o + i),
                a && t.bezierCurveTo(s, o + h * i, s + h * e, o, s + e, o),
                t.closePath(),
                this._renderPaintInOrder(t);
            } else t.fillRect(-0.5, -0.5, 1, 1);
          },
          _renderDashedStroke: function(t) {
            var e = -this.width / 2,
              i = -this.height / 2,
              r = this.width,
              n = this.height;
            t.beginPath(),
              s.util.drawDashedLine(t, e, i, e + r, i, this.strokeDashArray),
              s.util.drawDashedLine(
                t,
                e + r,
                i,
                e + r,
                i + n,
                this.strokeDashArray
              ),
              s.util.drawDashedLine(
                t,
                e + r,
                i + n,
                e,
                i + n,
                this.strokeDashArray
              ),
              s.util.drawDashedLine(t, e, i + n, e, i, this.strokeDashArray),
              t.closePath();
          },
          toObject: function(t) {
            return this.callSuper("toObject", ["rx", "ry"].concat(t));
          },
          toSVG: function(t) {
            var e = this._createBaseSVGMarkup(),
              i = -this.width / 2,
              r = -this.height / 2;
            return (
              e.push(
                "<rect ",
                this.getSvgId(),
                'x="',
                i,
                '" y="',
                r,
                '" rx="',
                this.get("rx"),
                '" ry="',
                this.get("ry"),
                '" width="',
                this.width,
                '" height="',
                this.height,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                this.getSvgTransformMatrix(),
                '"',
                this.addPaintOrder(),
                "/>\n"
              ),
              t ? t(e.join("")) : e.join("")
            );
          }
        })),
        (s.Rect.ATTRIBUTE_NAMES = s.SHARED_ATTRIBUTES.concat(
          "x y rx ry width height".split(" ")
        )),
        (s.Rect.fromElement = function(t, e, i) {
          if (!t) return e(null);
          i = i || {};
          var r = s.parseAttributes(t, s.Rect.ATTRIBUTE_NAMES);
          (r.left = r.left || 0), (r.top = r.top || 0);
          var n = new s.Rect(o(i ? s.util.object.clone(i) : {}, r));
          (n.visible = n.visible && 0 < n.width && 0 < n.height), e(n);
        }),
        (s.Rect.fromObject = function(t, e) {
          return s.Object._fromObject("Rect", t, e);
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var h = t.fabric || (t.fabric = {}),
      e = h.util.object.extend,
      r = h.util.array.min,
      n = h.util.array.max,
      c = h.util.toFixed;
    h.Polyline
      ? h.warn("fabric.Polyline is already defined")
      : ((h.Polyline = h.util.createClass(h.Object, {
          type: "polyline",
          points: null,
          cacheProperties: h.Object.prototype.cacheProperties.concat("points"),
          initialize: function(t, e) {
            (e = e || {}),
              (this.points = t || []),
              this.callSuper("initialize", e);
            var i = this._calcDimensions();
            void 0 === e.left && (this.left = i.left),
              void 0 === e.top && (this.top = i.top),
              (this.width = i.width),
              (this.height = i.height),
              (this.pathOffset = {
                x: i.left + this.width / 2,
                y: i.top + this.height / 2
              });
          },
          _calcDimensions: function() {
            var t = this.points,
              e = r(t, "x") || 0,
              i = r(t, "y") || 0;
            return {
              left: e,
              top: i,
              width: (n(t, "x") || 0) - e,
              height: (n(t, "y") || 0) - i
            };
          },
          toObject: function(t) {
            return e(this.callSuper("toObject", t), {
              points: this.points.concat()
            });
          },
          toSVG: function(t) {
            for (
              var e = [],
                i = this.pathOffset.x,
                r = this.pathOffset.y,
                n = this._createBaseSVGMarkup(),
                s = h.Object.NUM_FRACTION_DIGITS,
                o = 0,
                a = this.points.length;
              o < a;
              o++
            )
              e.push(
                c(this.points[o].x - i, s),
                ",",
                c(this.points[o].y - r, s),
                " "
              );
            return (
              n.push(
                "<",
                this.type,
                " ",
                this.getSvgId(),
                'points="',
                e.join(""),
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                " ",
                this.getSvgTransformMatrix(),
                '"',
                this.addPaintOrder(),
                "/>\n"
              ),
              t ? t(n.join("")) : n.join("")
            );
          },
          commonRender: function(t) {
            var e,
              i = this.points.length,
              r = this.pathOffset.x,
              n = this.pathOffset.y;
            if (!i || isNaN(this.points[i - 1].y)) return !1;
            t.beginPath(), t.moveTo(this.points[0].x - r, this.points[0].y - n);
            for (var s = 0; s < i; s++)
              (e = this.points[s]), t.lineTo(e.x - r, e.y - n);
            return !0;
          },
          _render: function(t) {
            this.commonRender(t) && this._renderPaintInOrder(t);
          },
          _renderDashedStroke: function(t) {
            var e, i;
            t.beginPath();
            for (var r = 0, n = this.points.length; r < n; r++)
              (e = this.points[r]),
                (i = this.points[r + 1] || e),
                h.util.drawDashedLine(
                  t,
                  e.x,
                  e.y,
                  i.x,
                  i.y,
                  this.strokeDashArray
                );
          },
          complexity: function() {
            return this.get("points").length;
          }
        })),
        (h.Polyline.ATTRIBUTE_NAMES = h.SHARED_ATTRIBUTES.concat()),
        (h.Polyline.fromElement = function(t, e, i) {
          if (!t) return e(null);
          i || (i = {});
          var r = h.parsePointsAttribute(t.getAttribute("points")),
            n = h.parseAttributes(t, h.Polyline.ATTRIBUTE_NAMES);
          e(new h.Polyline(r, h.util.object.extend(n, i)));
        }),
        (h.Polyline.fromObject = function(t, e) {
          return h.Object._fromObject("Polyline", t, e, "points");
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var s = t.fabric || (t.fabric = {}),
      o = s.util.object.extend;
    s.Polygon
      ? s.warn("fabric.Polygon is already defined")
      : ((s.Polygon = s.util.createClass(s.Polyline, {
          type: "polygon",
          _render: function(t) {
            this.commonRender(t) &&
              (t.closePath(), this._renderPaintInOrder(t));
          },
          _renderDashedStroke: function(t) {
            this.callSuper("_renderDashedStroke", t), t.closePath();
          }
        })),
        (s.Polygon.ATTRIBUTE_NAMES = s.SHARED_ATTRIBUTES.concat()),
        (s.Polygon.fromElement = function(t, e, i) {
          if (!t) return e(null);
          i || (i = {});
          var r = s.parsePointsAttribute(t.getAttribute("points")),
            n = s.parseAttributes(t, s.Polygon.ATTRIBUTE_NAMES);
          e(new s.Polygon(r, o(n, i)));
        }),
        (s.Polygon.fromObject = function(t, e) {
          return s.Object._fromObject("Polygon", t, e, "points");
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var m = t.fabric || (t.fabric = {}),
      b = m.util.array.min,
      _ = m.util.array.max,
      n = m.util.object.extend,
      r = Object.prototype.toString,
      p = m.util.drawArc,
      y = { m: 2, l: 2, h: 1, v: 1, c: 6, s: 4, q: 4, t: 2, a: 7 },
      x = { m: "l", M: "L" };
    m.Path
      ? m.warn("fabric.Path is already defined")
      : ((m.Path = m.util.createClass(m.Object, {
          type: "path",
          path: null,
          cacheProperties: m.Object.prototype.cacheProperties.concat(
            "path",
            "fillRule"
          ),
          stateProperties: m.Object.prototype.stateProperties.concat("path"),
          initialize: function(t, e) {
            (e = e || {}), this.callSuper("initialize", e), t || (t = []);
            var i = "[object Array]" === r.call(t);
            (this.path = i
              ? t
              : t.match && t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)),
              this.path &&
                (i || (this.path = this._parsePath()),
                this._setPositionDimensions(e));
          },
          _setPositionDimensions: function(t) {
            var e = this._parseDimensions();
            (this.width = e.width),
              (this.height = e.height),
              void 0 === t.left && (this.left = e.left),
              void 0 === t.top && (this.top = e.top),
              (this.pathOffset = this.pathOffset || {
                x: e.left + this.width / 2,
                y: e.top + this.height / 2
              });
          },
          _renderPathCommands: function(t) {
            var e,
              i,
              r,
              n = null,
              s = 0,
              o = 0,
              a = 0,
              h = 0,
              c = 0,
              l = 0,
              u = -this.pathOffset.x,
              f = -this.pathOffset.y;
            t.beginPath();
            for (var d = 0, g = this.path.length; d < g; ++d) {
              switch ((e = this.path[d])[0]) {
                case "l":
                  (a += e[1]), (h += e[2]), t.lineTo(a + u, h + f);
                  break;
                case "L":
                  (a = e[1]), (h = e[2]), t.lineTo(a + u, h + f);
                  break;
                case "h":
                  (a += e[1]), t.lineTo(a + u, h + f);
                  break;
                case "H":
                  (a = e[1]), t.lineTo(a + u, h + f);
                  break;
                case "v":
                  (h += e[1]), t.lineTo(a + u, h + f);
                  break;
                case "V":
                  (h = e[1]), t.lineTo(a + u, h + f);
                  break;
                case "m":
                  (s = a += e[1]), (o = h += e[2]), t.moveTo(a + u, h + f);
                  break;
                case "M":
                  (s = a = e[1]), (o = h = e[2]), t.moveTo(a + u, h + f);
                  break;
                case "c":
                  (i = a + e[5]),
                    (r = h + e[6]),
                    (c = a + e[3]),
                    (l = h + e[4]),
                    t.bezierCurveTo(
                      a + e[1] + u,
                      h + e[2] + f,
                      c + u,
                      l + f,
                      i + u,
                      r + f
                    ),
                    (a = i),
                    (h = r);
                  break;
                case "C":
                  (a = e[5]),
                    (h = e[6]),
                    (c = e[3]),
                    (l = e[4]),
                    t.bezierCurveTo(
                      e[1] + u,
                      e[2] + f,
                      c + u,
                      l + f,
                      a + u,
                      h + f
                    );
                  break;
                case "s":
                  (i = a + e[3]),
                    (r = h + e[4]),
                    null === n[0].match(/[CcSs]/)
                      ? ((c = a), (l = h))
                      : ((c = 2 * a - c), (l = 2 * h - l)),
                    t.bezierCurveTo(
                      c + u,
                      l + f,
                      a + e[1] + u,
                      h + e[2] + f,
                      i + u,
                      r + f
                    ),
                    (c = a + e[1]),
                    (l = h + e[2]),
                    (a = i),
                    (h = r);
                  break;
                case "S":
                  (i = e[3]),
                    (r = e[4]),
                    null === n[0].match(/[CcSs]/)
                      ? ((c = a), (l = h))
                      : ((c = 2 * a - c), (l = 2 * h - l)),
                    t.bezierCurveTo(
                      c + u,
                      l + f,
                      e[1] + u,
                      e[2] + f,
                      i + u,
                      r + f
                    ),
                    (a = i),
                    (h = r),
                    (c = e[1]),
                    (l = e[2]);
                  break;
                case "q":
                  (i = a + e[3]),
                    (r = h + e[4]),
                    (c = a + e[1]),
                    (l = h + e[2]),
                    t.quadraticCurveTo(c + u, l + f, i + u, r + f),
                    (a = i),
                    (h = r);
                  break;
                case "Q":
                  (i = e[3]),
                    (r = e[4]),
                    t.quadraticCurveTo(e[1] + u, e[2] + f, i + u, r + f),
                    (a = i),
                    (h = r),
                    (c = e[1]),
                    (l = e[2]);
                  break;
                case "t":
                  (i = a + e[1]),
                    (r = h + e[2]),
                    null === n[0].match(/[QqTt]/)
                      ? ((c = a), (l = h))
                      : ((c = 2 * a - c), (l = 2 * h - l)),
                    t.quadraticCurveTo(c + u, l + f, i + u, r + f),
                    (a = i),
                    (h = r);
                  break;
                case "T":
                  (i = e[1]),
                    (r = e[2]),
                    null === n[0].match(/[QqTt]/)
                      ? ((c = a), (l = h))
                      : ((c = 2 * a - c), (l = 2 * h - l)),
                    t.quadraticCurveTo(c + u, l + f, i + u, r + f),
                    (a = i),
                    (h = r);
                  break;
                case "a":
                  p(t, a + u, h + f, [
                    e[1],
                    e[2],
                    e[3],
                    e[4],
                    e[5],
                    e[6] + a + u,
                    e[7] + h + f
                  ]),
                    (a += e[6]),
                    (h += e[7]);
                  break;
                case "A":
                  p(t, a + u, h + f, [
                    e[1],
                    e[2],
                    e[3],
                    e[4],
                    e[5],
                    e[6] + u,
                    e[7] + f
                  ]),
                    (a = e[6]),
                    (h = e[7]);
                  break;
                case "z":
                case "Z":
                  (a = s), (h = o), t.closePath();
              }
              n = e;
            }
          },
          _render: function(t) {
            this._renderPathCommands(t), this._renderPaintInOrder(t);
          },
          toString: function() {
            return (
              "#<fabric.Path (" +
              this.complexity() +
              '): { "top": ' +
              this.top +
              ', "left": ' +
              this.left +
              " }>"
            );
          },
          toObject: function(t) {
            return n(this.callSuper("toObject", t), {
              path: this.path.map(function(t) {
                return t.slice();
              }),
              top: this.top,
              left: this.left
            });
          },
          toDatalessObject: function(t) {
            var e = this.toObject(["sourcePath"].concat(t));
            return e.sourcePath && delete e.path, e;
          },
          toSVG: function(t) {
            for (
              var e,
                i = [],
                r = this._createBaseSVGMarkup(),
                n = 0,
                s = this.path.length;
              n < s;
              n++
            )
              i.push(this.path[n].join(" "));
            var o = i.join(" ");
            return (
              (e =
                " translate(" +
                -this.pathOffset.x +
                ", " +
                -this.pathOffset.y +
                ") "),
              r.push(
                "<path ",
                this.getSvgId(),
                'd="',
                o,
                '" style="',
                this.getSvgStyles(),
                '" transform="',
                this.getSvgTransform(),
                e,
                this.getSvgTransformMatrix(),
                '" stroke-linecap="round" ',
                this.addPaintOrder(),
                "/>\n"
              ),
              t ? t(r.join("")) : r.join("")
            );
          },
          complexity: function() {
            return this.path.length;
          },
          _parsePath: function() {
            for (
              var t,
                e,
                i,
                r,
                n,
                s = [],
                o = [],
                a = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,
                h = 0,
                c = this.path.length;
              h < c;
              h++
            ) {
              for (
                r = (t = this.path[h]).slice(1).trim(), o.length = 0;
                (i = a.exec(r));

              )
                o.push(i[0]);
              n = [t.charAt(0)];
              for (var l = 0, u = o.length; l < u; l++)
                (e = parseFloat(o[l])), isNaN(e) || n.push(e);
              var f = n[0],
                d = y[f.toLowerCase()],
                g = x[f] || f;
              if (n.length - 1 > d)
                for (var p = 1, v = n.length; p < v; p += d)
                  s.push([f].concat(n.slice(p, p + d))), (f = g);
              else s.push(n);
            }
            return s;
          },
          _parseDimensions: function() {
            for (
              var t,
                e,
                i,
                r,
                n = [],
                s = [],
                o = null,
                a = 0,
                h = 0,
                c = 0,
                l = 0,
                u = 0,
                f = 0,
                d = 0,
                g = this.path.length;
              d < g;
              ++d
            ) {
              switch ((t = this.path[d])[0]) {
                case "l":
                  (c += t[1]), (l += t[2]), (r = []);
                  break;
                case "L":
                  (c = t[1]), (l = t[2]), (r = []);
                  break;
                case "h":
                  (c += t[1]), (r = []);
                  break;
                case "H":
                  (c = t[1]), (r = []);
                  break;
                case "v":
                  (l += t[1]), (r = []);
                  break;
                case "V":
                  (l = t[1]), (r = []);
                  break;
                case "m":
                  (a = c += t[1]), (h = l += t[2]), (r = []);
                  break;
                case "M":
                  (a = c = t[1]), (h = l = t[2]), (r = []);
                  break;
                case "c":
                  (e = c + t[5]),
                    (i = l + t[6]),
                    (u = c + t[3]),
                    (f = l + t[4]),
                    (r = m.util.getBoundsOfCurve(
                      c,
                      l,
                      c + t[1],
                      l + t[2],
                      u,
                      f,
                      e,
                      i
                    )),
                    (c = e),
                    (l = i);
                  break;
                case "C":
                  (u = t[3]),
                    (f = t[4]),
                    (r = m.util.getBoundsOfCurve(
                      c,
                      l,
                      t[1],
                      t[2],
                      u,
                      f,
                      t[5],
                      t[6]
                    )),
                    (c = t[5]),
                    (l = t[6]);
                  break;
                case "s":
                  (e = c + t[3]),
                    (i = l + t[4]),
                    null === o[0].match(/[CcSs]/)
                      ? ((u = c), (f = l))
                      : ((u = 2 * c - u), (f = 2 * l - f)),
                    (r = m.util.getBoundsOfCurve(
                      c,
                      l,
                      u,
                      f,
                      c + t[1],
                      l + t[2],
                      e,
                      i
                    )),
                    (u = c + t[1]),
                    (f = l + t[2]),
                    (c = e),
                    (l = i);
                  break;
                case "S":
                  (e = t[3]),
                    (i = t[4]),
                    null === o[0].match(/[CcSs]/)
                      ? ((u = c), (f = l))
                      : ((u = 2 * c - u), (f = 2 * l - f)),
                    (r = m.util.getBoundsOfCurve(c, l, u, f, t[1], t[2], e, i)),
                    (c = e),
                    (l = i),
                    (u = t[1]),
                    (f = t[2]);
                  break;
                case "q":
                  (e = c + t[3]),
                    (i = l + t[4]),
                    (u = c + t[1]),
                    (f = l + t[2]),
                    (r = m.util.getBoundsOfCurve(c, l, u, f, u, f, e, i)),
                    (c = e),
                    (l = i);
                  break;
                case "Q":
                  (u = t[1]),
                    (f = t[2]),
                    (r = m.util.getBoundsOfCurve(c, l, u, f, u, f, t[3], t[4])),
                    (c = t[3]),
                    (l = t[4]);
                  break;
                case "t":
                  (e = c + t[1]),
                    (i = l + t[2]),
                    null === o[0].match(/[QqTt]/)
                      ? ((u = c), (f = l))
                      : ((u = 2 * c - u), (f = 2 * l - f)),
                    (r = m.util.getBoundsOfCurve(c, l, u, f, u, f, e, i)),
                    (c = e),
                    (l = i);
                  break;
                case "T":
                  (e = t[1]),
                    (i = t[2]),
                    null === o[0].match(/[QqTt]/)
                      ? ((u = c), (f = l))
                      : ((u = 2 * c - u), (f = 2 * l - f)),
                    (r = m.util.getBoundsOfCurve(c, l, u, f, u, f, e, i)),
                    (c = e),
                    (l = i);
                  break;
                case "a":
                  (r = m.util.getBoundsOfArc(
                    c,
                    l,
                    t[1],
                    t[2],
                    t[3],
                    t[4],
                    t[5],
                    t[6] + c,
                    t[7] + l
                  )),
                    (c += t[6]),
                    (l += t[7]);
                  break;
                case "A":
                  (r = m.util.getBoundsOfArc(
                    c,
                    l,
                    t[1],
                    t[2],
                    t[3],
                    t[4],
                    t[5],
                    t[6],
                    t[7]
                  )),
                    (c = t[6]),
                    (l = t[7]);
                  break;
                case "z":
                case "Z":
                  (c = a), (l = h);
              }
              (o = t),
                r.forEach(function(t) {
                  n.push(t.x), s.push(t.y);
                }),
                n.push(c),
                s.push(l);
            }
            var p = b(n) || 0,
              v = b(s) || 0;
            return {
              left: p,
              top: v,
              width: (_(n) || 0) - p,
              height: (_(s) || 0) - v
            };
          }
        })),
        (m.Path.fromObject = function(i, r) {
          if ("string" == typeof i.sourcePath) {
            var t = i.sourcePath;
            m.loadSVGFromURL(t, function(t) {
              var e = t[0];
              e.setOptions(i), r && r(e);
            });
          } else m.Object._fromObject("Path", i, r, "path");
        }),
        (m.Path.ATTRIBUTE_NAMES = m.SHARED_ATTRIBUTES.concat(["d"])),
        (m.Path.fromElement = function(t, e, i) {
          var r = m.parseAttributes(t, m.Path.ATTRIBUTE_NAMES);
          e(new m.Path(r.d, n(r, i)));
        }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var o = t.fabric || (t.fabric = {}),
      i = o.util.object.extend,
      a = o.util.array.min,
      h = o.util.array.max;
    o.Group ||
      ((o.Group = o.util.createClass(o.Object, o.Collection, {
        type: "group",
        strokeWidth: 0,
        subTargetCheck: !1,
        cacheProperties: [],
        useSetOnGroup: !1,
        initialize: function(t, e, i) {
          (e = e || {}),
            (this._objects = []),
            i && this.callSuper("initialize", e),
            (this._objects = t || []);
          for (var r = this._objects.length; r--; )
            this._objects[r].group = this;
          if (
            (e.originX && (this.originX = e.originX),
            e.originY && (this.originY = e.originY),
            i)
          )
            this._updateObjectsACoords();
          else {
            var n = e && e.centerPoint;
            n || this._calcBounds(),
              this._updateObjectsCoords(n),
              delete e.centerPoint,
              this.callSuper("initialize", e);
          }
          this.setCoords();
        },
        _updateObjectsACoords: function() {
          for (var t = this._objects.length; t--; )
            this._objects[t].setCoords(!0, !0);
        },
        _updateObjectsCoords: function(t) {
          t = t || this.getCenterPoint();
          for (var e = this._objects.length; e--; )
            this._updateObjectCoords(this._objects[e], t);
        },
        _updateObjectCoords: function(t, e) {
          var i = t.left,
            r = t.top;
          t.set({ left: i - e.x, top: r - e.y }),
            (t.group = this),
            t.setCoords(!0, !0);
        },
        toString: function() {
          return "#<fabric.Group: (" + this.complexity() + ")>";
        },
        addWithUpdate: function(t) {
          return (
            this._restoreObjectsState(),
            o.util.resetObjectTransform(this),
            t &&
              (this._objects.push(t),
              (t.group = this),
              t._set("canvas", this.canvas)),
            this._calcBounds(),
            this._updateObjectsCoords(),
            this.setCoords(),
            (this.dirty = !0),
            this
          );
        },
        removeWithUpdate: function(t) {
          return (
            this._restoreObjectsState(),
            o.util.resetObjectTransform(this),
            this.remove(t),
            this._calcBounds(),
            this._updateObjectsCoords(),
            this.setCoords(),
            (this.dirty = !0),
            this
          );
        },
        _onObjectAdded: function(t) {
          (this.dirty = !0), (t.group = this), t._set("canvas", this.canvas);
        },
        _onObjectRemoved: function(t) {
          (this.dirty = !0), delete t.group;
        },
        _set: function(t, e) {
          var i = this._objects.length;
          if (this.useSetOnGroup)
            for (; i--; ) this._objects[i].setOnGroup(t, e);
          if ("canvas" === t)
            for (i = this._objects.length; i--; ) this._objects[i]._set(t, e);
          this.callSuper("_set", t, e);
        },
        toObject: function(r) {
          var t = this.getObjects().map(function(t) {
            var e = t.includeDefaultValues;
            t.includeDefaultValues = t.group.includeDefaultValues;
            var i = t.toObject(r);
            return (t.includeDefaultValues = e), i;
          });
          return i(this.callSuper("toObject", r), { objects: t });
        },
        toDatalessObject: function(r) {
          var t,
            e = this.sourcePath;
          return (
            (t =
              e ||
              this.getObjects().map(function(t) {
                var e = t.includeDefaultValues;
                t.includeDefaultValues = t.group.includeDefaultValues;
                var i = t.toDatalessObject(r);
                return (t.includeDefaultValues = e), i;
              })),
            i(this.callSuper("toDatalessObject", r), { objects: t })
          );
        },
        render: function(t) {
          (this._transformDone = !0),
            this.callSuper("render", t),
            (this._transformDone = !1);
        },
        shouldCache: function() {
          var t =
            this.objectCaching &&
            (!this.group ||
              this.needsItsOwnCache() ||
              !this.group.isOnACache());
          if ((this.ownCaching = t))
            for (var e = 0, i = this._objects.length; e < i; e++)
              if (this._objects[e].willDrawShadow())
                return (this.ownCaching = !1);
          return t;
        },
        willDrawShadow: function() {
          if (this.shadow) return this.callSuper("willDrawShadow");
          for (var t = 0, e = this._objects.length; t < e; t++)
            if (this._objects[t].willDrawShadow()) return !0;
          return !1;
        },
        isOnACache: function() {
          return this.ownCaching || (this.group && this.group.isOnACache());
        },
        drawObject: function(t) {
          for (var e = 0, i = this._objects.length; e < i; e++)
            this._objects[e].render(t);
        },
        isCacheDirty: function() {
          if (this.callSuper("isCacheDirty")) return !0;
          if (!this.statefullCache) return !1;
          for (var t = 0, e = this._objects.length; t < e; t++)
            if (this._objects[t].isCacheDirty(!0)) {
              if (this._cacheCanvas) {
                var i = this.cacheWidth / this.zoomX,
                  r = this.cacheHeight / this.zoomY;
                this._cacheContext.clearRect(-i / 2, -r / 2, i, r);
              }
              return !0;
            }
          return !1;
        },
        _restoreObjectsState: function() {
          return this._objects.forEach(this._restoreObjectState, this), this;
        },
        realizeTransform: function(t) {
          var e = t.calcTransformMatrix(),
            i = o.util.qrDecompose(e),
            r = new o.Point(i.translateX, i.translateY);
          return (
            (t.flipX = !1),
            (t.flipY = !1),
            t.set("scaleX", i.scaleX),
            t.set("scaleY", i.scaleY),
            (t.skewX = i.skewX),
            (t.skewY = i.skewY),
            (t.angle = i.angle),
            t.setPositionByOrigin(r, "center", "center"),
            t
          );
        },
        _restoreObjectState: function(t) {
          return this.realizeTransform(t), t.setCoords(), delete t.group, this;
        },
        destroy: function() {
          return (
            this._objects.forEach(function(t) {
              t.set("dirty", !0);
            }),
            this._restoreObjectsState()
          );
        },
        toActiveSelection: function() {
          if (this.canvas) {
            var t = this._objects,
              e = this.canvas;
            this._objects = [];
            var i = this.toObject();
            delete i.objects;
            var r = new o.ActiveSelection([]);
            return (
              r.set(i),
              (r.type = "activeSelection"),
              e.remove(this),
              t.forEach(function(t) {
                (t.group = r), (t.dirty = !0), e.add(t);
              }),
              (r.canvas = e),
              (r._objects = t),
              (e._activeObject = r).setCoords(),
              r
            );
          }
        },
        ungroupOnCanvas: function() {
          return this._restoreObjectsState();
        },
        setObjectsCoords: function() {
          return (
            this.forEachObject(function(t) {
              t.setCoords(!0, !0);
            }),
            this
          );
        },
        _calcBounds: function(t) {
          for (
            var e,
              i,
              r,
              n = [],
              s = [],
              o = ["tr", "br", "bl", "tl"],
              a = 0,
              h = this._objects.length,
              c = o.length;
            a < h;
            ++a
          )
            for ((e = this._objects[a]).setCoords(!0), r = 0; r < c; r++)
              (i = o[r]), n.push(e.oCoords[i].x), s.push(e.oCoords[i].y);
          this.set(this._getBounds(n, s, t));
        },
        _getBounds: function(t, e, i) {
          var r = new o.Point(a(t), a(e)),
            n = new o.Point(h(t), h(e)),
            s = { width: n.x - r.x || 0, height: n.y - r.y || 0 };
          return (
            i ||
              ((s.left = r.x || 0),
              (s.top = r.y || 0),
              "center" === this.originX && (s.left += s.width / 2),
              "right" === this.originX && (s.left += s.width),
              "center" === this.originY && (s.top += s.height / 2),
              "bottom" === this.originY && (s.top += s.height)),
            s
          );
        },
        toSVG: function(t) {
          var e = this._createBaseSVGMarkup();
          e.push(
            "<g ",
            this.getSvgId(),
            'transform="',
            this.getSvgTransform(),
            this.getSvgTransformMatrix(),
            '" style="',
            this.getSvgFilter(),
            '">\n'
          );
          for (var i = 0, r = this._objects.length; i < r; i++)
            e.push("\t", this._objects[i].toSVG(t));
          return e.push("</g>\n"), t ? t(e.join("")) : e.join("");
        }
      })),
      (o.Group.fromObject = function(i, r) {
        o.util.enlivenObjects(i.objects, function(t) {
          var e = o.util.object.clone(i, !0);
          delete e.objects, r && r(new o.Group(t, e, !0));
        });
      }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var n = t.fabric || (t.fabric = {});
    n.ActiveSelection ||
      ((n.ActiveSelection = n.util.createClass(n.Group, {
        type: "activeSelection",
        initialize: function(t, e) {
          (e = e || {}), (this._objects = t || []);
          for (var i = this._objects.length; i--; )
            this._objects[i].group = this;
          e.originX && (this.originX = e.originX),
            e.originY && (this.originY = e.originY),
            this._calcBounds(),
            this._updateObjectsCoords(),
            n.Object.prototype.initialize.call(this, e),
            this.setCoords();
        },
        toGroup: function() {
          var t = this._objects;
          this._objects = [];
          var e = this.toObject(),
            i = new n.Group([]);
          if (
            (delete e.objects,
            i.set(e),
            (i.type = "group"),
            t.forEach(function(t) {
              (t.group = i), t.canvas.remove(t);
            }),
            (i._objects = t),
            !this.canvas)
          )
            return i;
          var r = this.canvas;
          return r.add(i), (r._activeObject = i).setCoords(), i;
        },
        onDeselect: function() {
          return this.destroy(), !1;
        },
        toString: function() {
          return "#<fabric.ActiveSelection: (" + this.complexity() + ")>";
        },
        _set: function(t, e) {
          var i = this._objects.length;
          if ("canvas" === t) for (; i--; ) this._objects[i].set(t, e);
          if (this.useSetOnGroup)
            for (; i--; ) this._objects[i].setOnGroup(t, e);
          n.Object.prototype._set.call(this, t, e);
        },
        shouldCache: function() {
          return !1;
        },
        willDrawShadow: function() {
          if (this.shadow) return this.callSuper("willDrawShadow");
          for (var t = 0, e = this._objects.length; t < e; t++)
            if (this._objects[t].willDrawShadow()) return !0;
          return !1;
        },
        isOnACache: function() {
          return !1;
        },
        _renderControls: function(t, e, i) {
          t.save(),
            (t.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1),
            this.callSuper("_renderControls", t, e),
            void 0 === (i = i || {}).hasControls && (i.hasControls = !1),
            void 0 === i.hasRotatingPoint && (i.hasRotatingPoint = !1),
            (i.forActiveSelection = !0);
          for (var r = 0, n = this._objects.length; r < n; r++)
            this._objects[r]._renderControls(t, i);
          t.restore();
        }
      })),
      (n.ActiveSelection.fromObject = function(e, i) {
        n.util.enlivenObjects(e.objects, function(t) {
          delete e.objects, i && i(new n.ActiveSelection(t, e, !0));
        });
      }));
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var n = fabric.util.object.extend;
    t.fabric || (t.fabric = {}),
      t.fabric.Image
        ? fabric.warn("fabric.Image is already defined.")
        : ((fabric.Image = fabric.util.createClass(fabric.Object, {
            type: "image",
            crossOrigin: "",
            strokeWidth: 0,
            _lastScaleX: 1,
            _lastScaleY: 1,
            _filterScalingX: 1,
            _filterScalingY: 1,
            minimumScaleTrigger: 0.5,
            stateProperties: fabric.Object.prototype.stateProperties.concat(
              "cropX",
              "cropY"
            ),
            objectCaching: !1,
            cacheKey: "",
            cropX: 0,
            cropY: 0,
            initialize: function(t, e) {
              e || (e = {}),
                (this.filters = []),
                (this.cacheKey = "texture" + fabric.Object.__uid++),
                this.callSuper("initialize", e),
                this._initElement(t, e);
            },
            getElement: function() {
              return this._element;
            },
            setElement: function(t, e) {
              var i = fabric.filterBackend;
              return (
                i &&
                  i.evictCachesForKey &&
                  (i.evictCachesForKey(this.cacheKey),
                  i.evictCachesForKey(this.cacheKey + "_filtered")),
                (this._element = t),
                (this._originalElement = t),
                this._initConfig(e),
                this.resizeFilter && this.applyResizeFilters(),
                0 !== this.filters.length && this.applyFilters(),
                this
              );
            },
            dispose: function() {
              var t = fabric.filterBackend;
              t &&
                t.evictCachesForKey &&
                (t.evictCachesForKey(this.cacheKey),
                t.evictCachesForKey(this.cacheKey + "_filtered")),
                (this._originalElement = void 0),
                (this._element = void 0),
                (this._filteredEl = void 0);
            },
            setCrossOrigin: function(t) {
              return (
                (this.crossOrigin = t), (this._element.crossOrigin = t), this
              );
            },
            getOriginalSize: function() {
              var t = this.getElement();
              return { width: t.width, height: t.height };
            },
            _stroke: function(t) {
              if (this.stroke && 0 !== this.strokeWidth) {
                var e = this.width / 2,
                  i = this.height / 2;
                t.beginPath(),
                  t.moveTo(-e, -i),
                  t.lineTo(e, -i),
                  t.lineTo(e, i),
                  t.lineTo(-e, i),
                  t.lineTo(-e, -i),
                  t.closePath();
              }
            },
            _renderDashedStroke: function(t) {
              var e = -this.width / 2,
                i = -this.height / 2,
                r = this.width,
                n = this.height;
              t.save(),
                this._setStrokeStyles(t, this),
                t.beginPath(),
                fabric.util.drawDashedLine(
                  t,
                  e,
                  i,
                  e + r,
                  i,
                  this.strokeDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  e + r,
                  i,
                  e + r,
                  i + n,
                  this.strokeDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  e + r,
                  i + n,
                  e,
                  i + n,
                  this.strokeDashArray
                ),
                fabric.util.drawDashedLine(
                  t,
                  e,
                  i + n,
                  e,
                  i,
                  this.strokeDashArray
                ),
                t.closePath(),
                t.restore();
            },
            toObject: function(t) {
              var e = [];
              this.filters.forEach(function(t) {
                t && e.push(t.toObject());
              });
              var i = n(
                this.callSuper(
                  "toObject",
                  ["crossOrigin", "cropX", "cropY"].concat(t)
                ),
                { src: this.getSrc(), filters: e }
              );
              return (
                this.resizeFilter &&
                  (i.resizeFilter = this.resizeFilter.toObject()),
                i
              );
            },
            hasCrop: function() {
              return (
                this.cropX ||
                this.cropY ||
                this.width < this._element.width ||
                this.height < this._element.height
              );
            },
            toSVG: function(t) {
              var e = this._createBaseSVGMarkup(),
                i = -this.width / 2,
                r = -this.height / 2,
                n = "";
              if (this.hasCrop()) {
                var s = fabric.Object.__uid++;
                e.push(
                  '<clipPath id="imageCrop_' + s + '">\n',
                  '\t<rect x="' +
                    i +
                    '" y="' +
                    r +
                    '" width="' +
                    this.width +
                    '" height="' +
                    this.height +
                    '" />\n',
                  "</clipPath>\n"
                ),
                  (n = ' clip-path="url(#imageCrop_' + s + ')" ');
              }
              e.push(
                '<g transform="',
                this.getSvgTransform(),
                this.getSvgTransformMatrix(),
                '">\n'
              );
              var o = [
                "\t<image ",
                this.getSvgId(),
                'xlink:href="',
                this.getSvgSrc(!0),
                '" x="',
                i - this.cropX,
                '" y="',
                r - this.cropY,
                '" style="',
                this.getSvgStyles(),
                '" width="',
                this._element.width || this._element.naturalWidth,
                '" height="',
                this._element.height || this._element.height,
                '"',
                n,
                "></image>\n"
              ];
              if (
                ("fill" === this.paintFirst && Array.prototype.push.apply(e, o),
                this.stroke || this.strokeDashArray)
              ) {
                var a = this.fill;
                (this.fill = null),
                  e.push(
                    "\t<rect ",
                    'x="',
                    i,
                    '" y="',
                    r,
                    '" width="',
                    this.width,
                    '" height="',
                    this.height,
                    '" style="',
                    this.getSvgStyles(),
                    '"/>\n'
                  ),
                  (this.fill = a);
              }
              return (
                "fill" !== this.paintFirst && Array.prototype.push.apply(e, o),
                e.push("</g>\n"),
                t ? t(e.join("")) : e.join("")
              );
            },
            getSrc: function(t) {
              var e = t ? this._element : this._originalElement;
              return e ? (e.toDataURL ? e.toDataURL() : e.src) : this.src || "";
            },
            setSrc: function(t, e, i) {
              return (
                fabric.util.loadImage(
                  t,
                  function(t) {
                    this.setElement(t, i), this._setWidthHeight(), e(this);
                  },
                  this,
                  i && i.crossOrigin
                ),
                this
              );
            },
            toString: function() {
              return '#<fabric.Image: { src: "' + this.getSrc() + '" }>';
            },
            applyResizeFilters: function() {
              var t = this.resizeFilter,
                e = this.canvas ? this.canvas.getRetinaScaling() : 1,
                i = this.minimumScaleTrigger,
                r = this.scaleX * e,
                n = this.scaleY * e,
                s = this._filteredEl || this._originalElement;
              if ((this.group && this.set("dirty", !0), !t || (i < r && i < n)))
                return (
                  (this._element = s),
                  (this._filterScalingX = 1),
                  void (this._filterScalingY = 1)
                );
              fabric.filterBackend ||
                (fabric.filterBackend = fabric.initFilterBackend());
              var o = fabric.util.createCanvasElement(),
                a = this._filteredEl
                  ? this.cacheKey
                  : this.cacheKey + "_filtered",
                h = s.width,
                c = s.height;
              (o.width = h),
                (o.height = c),
                (this._element = o),
                (t.scaleX = r),
                (t.scaleY = n),
                fabric.filterBackend.applyFilters(
                  [t],
                  s,
                  h,
                  c,
                  this._element,
                  a
                ),
                (this._filterScalingX = o.width / this._originalElement.width),
                (this._filterScalingY =
                  o.height / this._originalElement.height);
            },
            applyFilters: function(t) {
              if (
                ((t = (t = t || this.filters || []).filter(function(t) {
                  return t;
                })),
                this.group && this.set("dirty", !0),
                0 === t.length)
              )
                return (
                  (this._element = this._originalElement),
                  (this._filteredEl = null),
                  (this._filterScalingX = 1),
                  (this._filterScalingY = 1),
                  this
                );
              var e = this._originalElement,
                i = e.naturalWidth || e.width,
                r = e.naturalHeight || e.height;
              if (this._element === this._originalElement) {
                var n = fabric.util.createCanvasElement();
                (n.width = i),
                  (n.height = r),
                  (this._element = n),
                  (this._filteredEl = n);
              } else this._element.getContext("2d").clearRect(0, 0, i, r);
              return (
                fabric.filterBackend ||
                  (fabric.filterBackend = fabric.initFilterBackend()),
                fabric.filterBackend.applyFilters(
                  t,
                  this._originalElement,
                  i,
                  r,
                  this._element,
                  this.cacheKey
                ),
                (this._originalElement.width === this._element.width &&
                  this._originalElement.height === this._element.height) ||
                  ((this._filterScalingX =
                    this._element.width / this._originalElement.width),
                  (this._filterScalingY =
                    this._element.height / this._originalElement.height)),
                this
              );
            },
            _render: function(t) {
              !1 === this.isMoving &&
                this.resizeFilter &&
                this._needsResize() &&
                ((this._lastScaleX = this.scaleX),
                (this._lastScaleY = this.scaleY),
                this.applyResizeFilters()),
                this._stroke(t),
                this._renderPaintInOrder(t);
            },
            _renderFill: function(t) {
              var e = this.width,
                i = this.height,
                r = e * this._filterScalingX,
                n = i * this._filterScalingY,
                s = -e / 2,
                o = -i / 2,
                a = this._element;
              a &&
                t.drawImage(
                  a,
                  this.cropX * this._filterScalingX,
                  this.cropY * this._filterScalingY,
                  r,
                  n,
                  s,
                  o,
                  e,
                  i
                );
            },
            _needsResize: function() {
              return (
                this.scaleX !== this._lastScaleX ||
                this.scaleY !== this._lastScaleY
              );
            },
            _resetWidthHeight: function() {
              var t = this.getElement();
              this.set("width", t.width), this.set("height", t.height);
            },
            _initElement: function(t, e) {
              this.setElement(fabric.util.getById(t), e),
                fabric.util.addClass(
                  this.getElement(),
                  fabric.Image.CSS_CANVAS
                );
            },
            _initConfig: function(t) {
              t || (t = {}),
                this.setOptions(t),
                this._setWidthHeight(t),
                this._element &&
                  this.crossOrigin &&
                  (this._element.crossOrigin = this.crossOrigin);
            },
            _initFilters: function(t, e) {
              t && t.length
                ? fabric.util.enlivenObjects(
                    t,
                    function(t) {
                      e && e(t);
                    },
                    "fabric.Image.filters"
                  )
                : e && e();
            },
            _setWidthHeight: function(t) {
              (this.width =
                t && "width" in t
                  ? t.width
                  : (this.getElement() && this.getElement().width) || 0),
                (this.height =
                  t && "height" in t
                    ? t.height
                    : (this.getElement() && this.getElement().height) || 0);
            },
            parsePreserveAspectRatioAttribute: function() {
              var t,
                e = fabric.util.parsePreserveAspectRatioAttribute(
                  this.preserveAspectRatio || ""
                ),
                i = this._element.width,
                r = this._element.height,
                n = 1,
                s = 1,
                o = 0,
                a = 0,
                h = 0,
                c = 0,
                l = this.width,
                u = this.height,
                f = { width: l, height: u };
              return (
                !e || ("none" === e.alignX && "none" === e.alignY)
                  ? ((n = l / i), (s = u / r))
                  : ("meet" === e.meetOrSlice &&
                      ((t =
                        (l -
                          i *
                            (n = s = fabric.util.findScaleToFit(
                              this._element,
                              f
                            ))) /
                        2),
                      "Min" === e.alignX && (o = -t),
                      "Max" === e.alignX && (o = t),
                      (t = (u - r * s) / 2),
                      "Min" === e.alignY && (a = -t),
                      "Max" === e.alignY && (a = t)),
                    "slice" === e.meetOrSlice &&
                      ((t =
                        i -
                        l /
                          (n = s = fabric.util.findScaleToCover(
                            this._element,
                            f
                          ))),
                      "Mid" === e.alignX && (h = t / 2),
                      "Max" === e.alignX && (h = t),
                      (t = r - u / s),
                      "Mid" === e.alignY && (c = t / 2),
                      "Max" === e.alignY && (c = t),
                      (i = l / n),
                      (r = u / s))),
                {
                  width: i,
                  height: r,
                  scaleX: n,
                  scaleY: s,
                  offsetLeft: o,
                  offsetTop: a,
                  cropX: h,
                  cropY: c
                }
              );
            }
          })),
          (fabric.Image.CSS_CANVAS = "canvas-img"),
          (fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc),
          (fabric.Image.fromObject = function(t, r) {
            var n = fabric.util.object.clone(t);
            fabric.util.loadImage(
              n.src,
              function(i, t) {
                t
                  ? r && r(null, t)
                  : fabric.Image.prototype._initFilters.call(
                      n,
                      n.filters,
                      function(t) {
                        (n.filters = t || []),
                          fabric.Image.prototype._initFilters.call(
                            n,
                            [n.resizeFilter],
                            function(t) {
                              n.resizeFilter = t[0];
                              var e = new fabric.Image(i, n);
                              r(e);
                            }
                          );
                      }
                    );
              },
              null,
              n.crossOrigin
            );
          }),
          (fabric.Image.fromURL = function(t, e, i) {
            fabric.util.loadImage(
              t,
              function(t) {
                e && e(new fabric.Image(t, i));
              },
              null,
              i && i.crossOrigin
            );
          }),
          (fabric.Image.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(
            "x y width height preserveAspectRatio xlink:href crossOrigin".split(
              " "
            )
          )),
          (fabric.Image.fromElement = function(t, e, i) {
            var r = fabric.parseAttributes(t, fabric.Image.ATTRIBUTE_NAMES);
            fabric.Image.fromURL(
              r["xlink:href"],
              e,
              n(i ? fabric.util.object.clone(i) : {}, r)
            );
          }));
  })("undefined" != typeof exports ? exports : this),
  fabric.util.object.extend(fabric.Object.prototype, {
    _getAngleValueForStraighten: function() {
      var t = this.angle % 360;
      return 0 < t ? 90 * Math.round((t - 1) / 90) : 90 * Math.round(t / 90);
    },
    straighten: function() {
      return this.rotate(this._getAngleValueForStraighten()), this;
    },
    fxStraighten: function(t) {
      var e = function() {},
        i = (t = t || {}).onComplete || e,
        r = t.onChange || e,
        n = this;
      return (
        fabric.util.animate({
          startValue: this.get("angle"),
          endValue: this._getAngleValueForStraighten(),
          duration: this.FX_DURATION,
          onChange: function(t) {
            n.rotate(t), r();
          },
          onComplete: function() {
            n.setCoords(), i();
          }
        }),
        this
      );
    }
  }),
  fabric.util.object.extend(fabric.StaticCanvas.prototype, {
    straightenObject: function(t) {
      return t.straighten(), this.requestRenderAll(), this;
    },
    fxStraightenObject: function(t) {
      return t.fxStraighten({ onChange: this.requestRenderAllBound }), this;
    }
  }),
  (function() {
    "use strict";
    function t(t) {
      t && t.tileSize && (this.tileSize = t.tileSize),
        this.setupGLContext(this.tileSize, this.tileSize),
        this.captureGPUInfo();
    }
    (fabric.isWebglSupported = function(t) {
      if (fabric.isLikelyNode) return !1;
      t = t || fabric.WebglFilterBackend.prototype.tileSize;
      var e,
        i,
        r,
        n = document.createElement("canvas"),
        s = n.getContext("webgl") || n.getContext("experimental-webgl"),
        o = !1;
      if (s) {
        (fabric.maxTextureSize = s.getParameter(s.MAX_TEXTURE_SIZE)),
          (o = fabric.maxTextureSize >= t);
        for (var a = ["highp", "mediump", "lowp"], h = 0; h < 3; h++)
          if (
            (void 0,
            (i = "precision " + a[h] + " float;\nvoid main(){}"),
            (r = (e = s).createShader(e.FRAGMENT_SHADER)),
            e.shaderSource(r, i),
            e.compileShader(r),
            e.getShaderParameter(r, e.COMPILE_STATUS))
          ) {
            fabric.webGlPrecision = a[h];
            break;
          }
      }
      return (this.isSupported = o);
    }),
      ((fabric.WebglFilterBackend = t).prototype = {
        tileSize: 2048,
        resources: {},
        setupGLContext: function(t, e) {
          this.dispose(),
            this.createWebGLCanvas(t, e),
            (this.aPosition = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1])),
            this.chooseFastestCopyGLTo2DMethod(t, e);
        },
        chooseFastestCopyGLTo2DMethod: function(t, e) {
          var i,
            r = void 0 !== window.performance;
          try {
            new ImageData(1, 1), (i = !0);
          } catch (t) {
            i = !1;
          }
          var n = "undefined" != typeof ArrayBuffer,
            s = "undefined" != typeof Uint8ClampedArray;
          if (r && i && n && s) {
            var o,
              a,
              h = fabric.util.createCanvasElement(),
              c = new ArrayBuffer(t * e * 4),
              l = {
                imageBuffer: c,
                destinationWidth: t,
                destinationHeight: e,
                targetCanvas: h
              };
            (h.width = t),
              (h.height = e),
              (o = window.performance.now()),
              copyGLTo2DDrawImage.call(l, this.gl, l),
              (a = window.performance.now() - o),
              (o = window.performance.now()),
              copyGLTo2DPutImageData.call(l, this.gl, l),
              window.performance.now() - o < a
                ? ((this.imageBuffer = c),
                  (this.copyGLTo2D = copyGLTo2DPutImageData))
                : (this.copyGLTo2D = copyGLTo2DDrawImage);
          }
        },
        createWebGLCanvas: function(t, e) {
          var i = fabric.util.createCanvasElement();
          (i.width = t), (i.height = e);
          var r = {
              alpha: !0,
              premultipliedAlpha: !1,
              depth: !1,
              stencil: !1,
              antialias: !1
            },
            n = i.getContext("webgl", r);
          n || (n = i.getContext("experimental-webgl", r)),
            n && (n.clearColor(0, 0, 0, 0), (this.canvas = i), (this.gl = n));
        },
        applyFilters: function(t, e, i, r, n, s) {
          var o,
            a = this.gl;
          s && (o = this.getCachedTexture(s, e));
          var h = {
              originalWidth: e.width || e.originalWidth,
              originalHeight: e.height || e.originalHeight,
              sourceWidth: i,
              sourceHeight: r,
              destinationWidth: i,
              destinationHeight: r,
              context: a,
              sourceTexture: this.createTexture(a, i, r, !o && e),
              targetTexture: this.createTexture(a, i, r),
              originalTexture: o || this.createTexture(a, i, r, !o && e),
              passes: t.length,
              webgl: !0,
              aPosition: this.aPosition,
              programCache: this.programCache,
              pass: 0,
              filterBackend: this,
              targetCanvas: n
            },
            c = a.createFramebuffer();
          return (
            a.bindFramebuffer(a.FRAMEBUFFER, c),
            t.forEach(function(t) {
              t && t.applyTo(h);
            }),
            resizeCanvasIfNeeded(h),
            this.copyGLTo2D(a, h),
            a.bindTexture(a.TEXTURE_2D, null),
            a.deleteTexture(h.sourceTexture),
            a.deleteTexture(h.targetTexture),
            a.deleteFramebuffer(c),
            n.getContext("2d").setTransform(1, 0, 0, 1, 0, 0),
            h
          );
        },
        applyFiltersDebug: function(t, e, i, r, n, s) {
          var o = this.gl,
            a = this.applyFilters(t, e, i, r, n, s),
            h = o.getError();
          if (h !== o.NO_ERROR) {
            var c = this.glErrorToString(o, h),
              l = new Error("WebGL Error " + c);
            throw ((l.glErrorCode = h), l);
          }
          return a;
        },
        glErrorToString: function(t, e) {
          if (!t) return "Context undefined for error code: " + e;
          if ("number" != typeof e) return "Error code is not a number";
          switch (e) {
            case t.NO_ERROR:
              return "NO_ERROR";
            case t.INVALID_ENUM:
              return "INVALID_ENUM";
            case t.INVALID_VALUE:
              return "INVALID_VALUE";
            case t.INVALID_OPERATION:
              return "INVALID_OPERATION";
            case t.INVALID_FRAMEBUFFER_OPERATION:
              return "INVALID_FRAMEBUFFER_OPERATION";
            case t.OUT_OF_MEMORY:
              return "OUT_OF_MEMORY";
            case t.CONTEXT_LOST_WEBGL:
              return "CONTEXT_LOST_WEBGL";
            default:
              return "UNKNOWN_ERROR";
          }
        },
        dispose: function() {
          this.canvas && ((this.canvas = null), (this.gl = null)),
            this.clearWebGLCaches();
        },
        clearWebGLCaches: function() {
          (this.programCache = {}), (this.textureCache = {});
        },
        createTexture: function(t, e, i, r) {
          var n = t.createTexture();
          return (
            t.bindTexture(t.TEXTURE_2D, n),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
            r
              ? t.texImage2D(
                  t.TEXTURE_2D,
                  0,
                  t.RGBA,
                  t.RGBA,
                  t.UNSIGNED_BYTE,
                  r
                )
              : t.texImage2D(
                  t.TEXTURE_2D,
                  0,
                  t.RGBA,
                  e,
                  i,
                  0,
                  t.RGBA,
                  t.UNSIGNED_BYTE,
                  null
                ),
            n
          );
        },
        getCachedTexture: function(t, e) {
          if (this.textureCache[t]) return this.textureCache[t];
          var i = this.createTexture(this.gl, e.width, e.height, e);
          return (this.textureCache[t] = i);
        },
        evictCachesForKey: function(t) {
          this.textureCache[t] &&
            (this.gl.deleteTexture(this.textureCache[t]),
            delete this.textureCache[t]);
        },
        copyGLTo2D: copyGLTo2DDrawImage,
        captureGPUInfo: function() {
          if (this.gpuInfo) return this.gpuInfo;
          var t = this.gl,
            e = t.getExtension("WEBGL_debug_renderer_info"),
            i = { renderer: "", vendor: "" };
          if (e) {
            var r = t.getParameter(e.UNMASKED_RENDERER_WEBGL),
              n = t.getParameter(e.UNMASKED_VENDOR_WEBGL);
            r && (i.renderer = r.toLowerCase()),
              n && (i.vendor = n.toLowerCase());
          }
          return (this.gpuInfo = i);
        }
      });
  })(),
  (function() {
    "use strict";
    var t = function() {};
    function e() {}
    (fabric.Canvas2dFilterBackend = e).prototype = {
      evictCachesForKey: t,
      dispose: t,
      clearWebGLCaches: t,
      resources: {},
      applyFilters: function(t, e, i, r, n) {
        var s = n.getContext("2d");
        s.drawImage(e, 0, 0, i, r);
        var o = {
          sourceWidth: i,
          sourceHeight: r,
          imageData: s.getImageData(0, 0, i, r),
          originalEl: e,
          originalImageData: s.getImageData(0, 0, i, r),
          canvasEl: n,
          ctx: s,
          filterBackend: this
        };
        return (
          t.forEach(function(t) {
            t.applyTo(o);
          }),
          (o.imageData.width === i && o.imageData.height === r) ||
            ((n.width = o.imageData.width), (n.height = o.imageData.height)),
          s.putImageData(o.imageData, 0, 0),
          o
        );
      }
    };
  })(),
  (fabric.Image.filters = fabric.Image.filters || {}),
  (fabric.Image.filters.BaseFilter = fabric.util.createClass({
    type: "BaseFilter",
    vertexSource:
      "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",
    fragmentSource:
      "precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",
    initialize: function(t) {
      t && this.setOptions(t);
    },
    setOptions: function(t) {
      for (var e in t) this[e] = t[e];
    },
    createProgram: function(t, e, i) {
      (e = e || this.fragmentSource),
        (i = i || this.vertexSource),
        "highp" !== fabric.webGlPrecision &&
          (e = e.replace(
            /precision highp float/g,
            "precision " + fabric.webGlPrecision + " float"
          ));
      var r = t.createShader(t.VERTEX_SHADER);
      if (
        (t.shaderSource(r, i),
        t.compileShader(r),
        !t.getShaderParameter(r, t.COMPILE_STATUS))
      )
        throw new Error(
          "Vertex shader compile error for " +
            this.type +
            ": " +
            t.getShaderInfoLog(r)
        );
      var n = t.createShader(t.FRAGMENT_SHADER);
      if (
        (t.shaderSource(n, e),
        t.compileShader(n),
        !t.getShaderParameter(n, t.COMPILE_STATUS))
      )
        throw new Error(
          "Fragment shader compile error for " +
            this.type +
            ": " +
            t.getShaderInfoLog(n)
        );
      var s = t.createProgram();
      if (
        (t.attachShader(s, r),
        t.attachShader(s, n),
        t.linkProgram(s),
        !t.getProgramParameter(s, t.LINK_STATUS))
      )
        throw new Error(
          'Shader link error for "${this.type}" ' + t.getProgramInfoLog(s)
        );
      var o = this.getAttributeLocations(t, s),
        a = this.getUniformLocations(t, s) || {};
      return (
        (a.uStepW = t.getUniformLocation(s, "uStepW")),
        (a.uStepH = t.getUniformLocation(s, "uStepH")),
        { program: s, attributeLocations: o, uniformLocations: a }
      );
    },
    getAttributeLocations: function(t, e) {
      return { aPosition: t.getAttribLocation(e, "aPosition") };
    },
    getUniformLocations: function() {
      return {};
    },
    sendAttributeData: function(t, e, i) {
      var r = e.aPosition,
        n = t.createBuffer();
      t.bindBuffer(t.ARRAY_BUFFER, n),
        t.enableVertexAttribArray(r),
        t.vertexAttribPointer(r, 2, t.FLOAT, !1, 0, 0),
        t.bufferData(t.ARRAY_BUFFER, i, t.STATIC_DRAW);
    },
    _setupFrameBuffer: function(t) {
      var e,
        i,
        r = t.context;
      1 < t.passes
        ? ((e = t.destinationWidth),
          (i = t.destinationHeight),
          (t.sourceWidth === e && t.sourceHeight === i) ||
            (r.deleteTexture(t.targetTexture),
            (t.targetTexture = t.filterBackend.createTexture(r, e, i))),
          r.framebufferTexture2D(
            r.FRAMEBUFFER,
            r.COLOR_ATTACHMENT0,
            r.TEXTURE_2D,
            t.targetTexture,
            0
          ))
        : (r.bindFramebuffer(r.FRAMEBUFFER, null), r.finish());
    },
    _swapTextures: function(t) {
      t.passes--, t.pass++;
      var e = t.targetTexture;
      (t.targetTexture = t.sourceTexture), (t.sourceTexture = e);
    },
    isNeutralState: function() {
      return !1;
    },
    applyTo: function(t) {
      if (t.webgl) {
        if (1 < t.passes && this.isNeutralState(t)) return;
        this._setupFrameBuffer(t), this.applyToWebGL(t), this._swapTextures(t);
      } else this.isNeutralState() || this.applyTo2d(t);
    },
    retrieveShader: function(t) {
      return (
        t.programCache.hasOwnProperty(this.type) ||
          (t.programCache[this.type] = this.createProgram(t.context)),
        t.programCache[this.type]
      );
    },
    applyToWebGL: function(t) {
      var e = t.context,
        i = this.retrieveShader(t);
      0 === t.pass && t.originalTexture
        ? e.bindTexture(e.TEXTURE_2D, t.originalTexture)
        : e.bindTexture(e.TEXTURE_2D, t.sourceTexture),
        e.useProgram(i.program),
        this.sendAttributeData(e, i.attributeLocations, t.aPosition),
        e.uniform1f(i.uniformLocations.uStepW, 1 / t.sourceWidth),
        e.uniform1f(i.uniformLocations.uStepH, 1 / t.sourceHeight),
        this.sendUniformData(e, i.uniformLocations),
        e.viewport(0, 0, t.destinationWidth, t.destinationHeight),
        e.drawArrays(e.TRIANGLE_STRIP, 0, 4);
    },
    bindAdditionalTexture: function(t, e, i) {
      t.activeTexture(i),
        t.bindTexture(t.TEXTURE_2D, e),
        t.activeTexture(t.TEXTURE0);
    },
    unbindAdditionalTexture: function(t, e) {
      t.activeTexture(e),
        t.bindTexture(t.TEXTURE_2D, null),
        t.activeTexture(t.TEXTURE0);
    },
    getMainParameter: function() {
      return this[this.mainParameter];
    },
    setMainParameter: function(t) {
      this[this.mainParameter] = t;
    },
    sendUniformData: function() {},
    createHelpLayer: function(t) {
      if (!t.helpLayer) {
        var e = document.createElement("canvas");
        (e.width = t.sourceWidth),
          (e.height = t.sourceHeight),
          (t.helpLayer = e);
      }
    },
    toObject: function() {
      var t = { type: this.type },
        e = this.mainParameter;
      return e && (t[e] = this[e]), t;
    },
    toJSON: function() {
      return this.toObject();
    }
  })),
  (fabric.Image.filters.BaseFilter.fromObject = function(t, e) {
    var i = new fabric.Image.filters[t.type](t);
    return e && e(i), i;
  }),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.ColorMatrix = r(i.BaseFilter, {
      type: "ColorMatrix",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",
      matrix: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0],
      mainParameter: "matrix",
      colorsOnly: !0,
      initialize: function(t) {
        this.callSuper("initialize", t), (this.matrix = this.matrix.slice(0));
      },
      isNeutralState: function() {
        for (var t = i.ColorMatrix, e = 20; e--; )
          if (this.matrix[e] !== t.prototype.matrix[e]) return !1;
        return !0;
      },
      applyTo2d: function(t) {
        var e,
          i,
          r,
          n,
          s,
          o = t.imageData.data,
          a = o.length,
          h = this.matrix,
          c = this.colorsOnly;
        for (s = 0; s < a; s += 4)
          (e = o[s]),
            (i = o[s + 1]),
            (r = o[s + 2]),
            c
              ? ((o[s] = e * h[0] + i * h[1] + r * h[2] + 255 * h[4]),
                (o[s + 1] = e * h[5] + i * h[6] + r * h[7] + 255 * h[9]),
                (o[s + 2] = e * h[10] + i * h[11] + r * h[12] + 255 * h[14]))
              : ((n = o[s + 3]),
                (o[s] = e * h[0] + i * h[1] + r * h[2] + n * h[3] + 255 * h[4]),
                (o[s + 1] =
                  e * h[5] + i * h[6] + r * h[7] + n * h[8] + 255 * h[9]),
                (o[s + 2] =
                  e * h[10] + i * h[11] + r * h[12] + n * h[13] + 255 * h[14]),
                (o[s + 3] =
                  e * h[15] + i * h[16] + r * h[17] + n * h[18] + 255 * h[19]));
      },
      getUniformLocations: function(t, e) {
        return {
          uColorMatrix: t.getUniformLocation(e, "uColorMatrix"),
          uConstants: t.getUniformLocation(e, "uConstants")
        };
      },
      sendUniformData: function(t, e) {
        var i = this.matrix,
          r = [
            i[0],
            i[1],
            i[2],
            i[3],
            i[5],
            i[6],
            i[7],
            i[8],
            i[10],
            i[11],
            i[12],
            i[13],
            i[15],
            i[16],
            i[17],
            i[18]
          ],
          n = [i[4], i[9], i[14], i[19]];
        t.uniformMatrix4fv(e.uColorMatrix, !1, r),
          t.uniform4fv(e.uConstants, n);
      }
    })),
      (e.Image.filters.ColorMatrix.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Brightness = r(i.BaseFilter, {
      type: "Brightness",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",
      brightness: 0,
      mainParameter: "brightness",
      applyTo2d: function(t) {
        if (0 !== this.brightness) {
          var e,
            i = t.imageData.data,
            r = i.length,
            n = Math.round(255 * this.brightness);
          for (e = 0; e < r; e += 4)
            (i[e] = i[e] + n),
              (i[e + 1] = i[e + 1] + n),
              (i[e + 2] = i[e + 2] + n);
        }
      },
      getUniformLocations: function(t, e) {
        return { uBrightness: t.getUniformLocation(e, "uBrightness") };
      },
      sendUniformData: function(t, e) {
        t.uniform1f(e.uBrightness, this.brightness);
      }
    })),
      (e.Image.filters.Brightness.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.util.object.extend,
      r = e.Image.filters,
      n = e.util.createClass;
    (r.Convolute = n(r.BaseFilter, {
      type: "Convolute",
      opaque: !1,
      matrix: [0, 0, 0, 0, 1, 0, 0, 0, 0],
      fragmentSource: {
        Convolute_3_1:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
        Convolute_3_0:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
        Convolute_5_1:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
        Convolute_5_0:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
        Convolute_7_1:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
        Convolute_7_0:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",
        Convolute_9_1:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",
        Convolute_9_0:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"
      },
      retrieveShader: function(t) {
        var e = Math.sqrt(this.matrix.length),
          i = this.type + "_" + e + "_" + (this.opaque ? 1 : 0),
          r = this.fragmentSource[i];
        return (
          t.programCache.hasOwnProperty(i) ||
            (t.programCache[i] = this.createProgram(t.context, r)),
          t.programCache[i]
        );
      },
      applyTo2d: function(t) {
        var e,
          i,
          r,
          n,
          s,
          o,
          a,
          h,
          c,
          l,
          u,
          f,
          d,
          g = t.imageData,
          p = g.data,
          v = this.matrix,
          m = Math.round(Math.sqrt(v.length)),
          b = Math.floor(m / 2),
          _ = g.width,
          y = g.height,
          x = t.ctx.createImageData(_, y),
          C = x.data,
          S = this.opaque ? 1 : 0;
        for (u = 0; u < y; u++)
          for (l = 0; l < _; l++) {
            for (s = 4 * (u * _ + l), d = n = r = i = e = 0; d < m; d++)
              for (f = 0; f < m; f++)
                (o = l + f - b),
                  (a = u + d - b) < 0 ||
                    y < a ||
                    o < 0 ||
                    _ < o ||
                    ((h = 4 * (a * _ + o)),
                    (c = v[d * m + f]),
                    (e += p[h] * c),
                    (i += p[h + 1] * c),
                    (r += p[h + 2] * c),
                    S || (n += p[h + 3] * c));
            (C[s] = e),
              (C[s + 1] = i),
              (C[s + 2] = r),
              (C[s + 3] = S ? p[s + 3] : n);
          }
        t.imageData = x;
      },
      getUniformLocations: function(t, e) {
        return {
          uMatrix: t.getUniformLocation(e, "uMatrix"),
          uOpaque: t.getUniformLocation(e, "uOpaque"),
          uHalfSize: t.getUniformLocation(e, "uHalfSize"),
          uSize: t.getUniformLocation(e, "uSize")
        };
      },
      sendUniformData: function(t, e) {
        t.uniform1fv(e.uMatrix, this.matrix);
      },
      toObject: function() {
        return i(this.callSuper("toObject"), {
          opaque: this.opaque,
          matrix: this.matrix
        });
      }
    })),
      (e.Image.filters.Convolute.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Grayscale = r(i.BaseFilter, {
      type: "Grayscale",
      fragmentSource: {
        average:
          "precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",
        lightness:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",
        luminosity:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"
      },
      mode: "average",
      mainParameter: "mode",
      applyTo2d: function(t) {
        var e,
          i,
          r = t.imageData.data,
          n = r.length,
          s = this.mode;
        for (e = 0; e < n; e += 4)
          "average" === s
            ? (i = (r[e] + r[e + 1] + r[e + 2]) / 3)
            : "lightness" === s
              ? (i =
                  (Math.min(r[e], r[e + 1], r[e + 2]) +
                    Math.max(r[e], r[e + 1], r[e + 2])) /
                  2)
              : "luminosity" === s &&
                (i = 0.21 * r[e] + 0.72 * r[e + 1] + 0.07 * r[e + 2]),
            (r[e] = i),
            (r[e + 1] = i),
            (r[e + 2] = i);
      },
      retrieveShader: function(t) {
        var e = this.type + "_" + this.mode;
        if (!t.programCache.hasOwnProperty(e)) {
          var i = this.fragmentSource[this.mode];
          t.programCache[e] = this.createProgram(t.context, i);
        }
        return t.programCache[e];
      },
      getUniformLocations: function(t, e) {
        return { uMode: t.getUniformLocation(e, "uMode") };
      },
      sendUniformData: function(t, e) {
        t.uniform1i(e.uMode, 1);
      }
    })),
      (e.Image.filters.Grayscale.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Invert = r(i.BaseFilter, {
      type: "Invert",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",
      invert: !0,
      mainParameter: "invert",
      applyTo2d: function(t) {
        if (this.invert) {
          var e,
            i = t.imageData.data,
            r = i.length;
          for (e = 0; e < r; e += 4)
            (i[e] = 255 - i[e]),
              (i[e + 1] = 255 - i[e + 1]),
              (i[e + 2] = 255 - i[e + 2]);
        }
      },
      getUniformLocations: function(t, e) {
        return { uInvert: t.getUniformLocation(e, "uInvert") };
      },
      sendUniformData: function(t, e) {
        t.uniform1i(e.uInvert, this.invert);
      }
    })),
      (e.Image.filters.Invert.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.util.object.extend,
      r = e.Image.filters,
      n = e.util.createClass;
    (r.Noise = n(r.BaseFilter, {
      type: "Noise",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",
      mainParameter: "noise",
      noise: 0,
      applyTo2d: function(t) {
        if (0 !== this.noise) {
          var e,
            i,
            r = t.imageData.data,
            n = r.length,
            s = this.noise;
          for (e = 0, n = r.length; e < n; e += 4)
            (i = (0.5 - Math.random()) * s),
              (r[e] += i),
              (r[e + 1] += i),
              (r[e + 2] += i);
        }
      },
      getUniformLocations: function(t, e) {
        return {
          uNoise: t.getUniformLocation(e, "uNoise"),
          uSeed: t.getUniformLocation(e, "uSeed")
        };
      },
      sendUniformData: function(t, e) {
        t.uniform1f(e.uNoise, this.noise / 255),
          t.uniform1f(e.uSeed, Math.random());
      },
      toObject: function() {
        return i(this.callSuper("toObject"), { noise: this.noise });
      }
    })),
      (e.Image.filters.Noise.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Pixelate = r(i.BaseFilter, {
      type: "Pixelate",
      blocksize: 4,
      mainParameter: "blocksize",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",
      applyTo2d: function(t) {
        if (1 !== this.blocksize) {
          var e,
            i,
            r,
            n,
            s,
            o,
            a,
            h,
            c,
            l,
            u,
            f = t.imageData,
            d = f.data,
            g = f.height,
            p = f.width;
          for (i = 0; i < g; i += this.blocksize)
            for (r = 0; r < p; r += this.blocksize)
              for (
                n = d[(e = 4 * i * p + 4 * r)],
                  s = d[e + 1],
                  o = d[e + 2],
                  a = d[e + 3],
                  l = Math.min(i + this.blocksize, g),
                  u = Math.min(r + this.blocksize, p),
                  h = i;
                h < l;
                h++
              )
                for (c = r; c < u; c++)
                  (d[(e = 4 * h * p + 4 * c)] = n),
                    (d[e + 1] = s),
                    (d[e + 2] = o),
                    (d[e + 3] = a);
        }
      },
      isNeutralState: function() {
        return 1 === this.blocksize;
      },
      getUniformLocations: function(t, e) {
        return {
          uBlocksize: t.getUniformLocation(e, "uBlocksize"),
          uStepW: t.getUniformLocation(e, "uStepW"),
          uStepH: t.getUniformLocation(e, "uStepH")
        };
      },
      sendUniformData: function(t, e) {
        t.uniform1f(e.uBlocksize, this.blocksize);
      }
    })),
      (e.Image.filters.Pixelate.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var l = t.fabric || (t.fabric = {}),
      e = l.util.object.extend,
      i = l.Image.filters,
      r = l.util.createClass;
    (i.RemoveColor = r(i.BaseFilter, {
      type: "RemoveColor",
      color: "#FFFFFF",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",
      distance: 0.02,
      useAlpha: !1,
      applyTo2d: function(t) {
        var e,
          i,
          r,
          n,
          s = t.imageData.data,
          o = 255 * this.distance,
          a = new l.Color(this.color).getSource(),
          h = [a[0] - o, a[1] - o, a[2] - o],
          c = [a[0] + o, a[1] + o, a[2] + o];
        for (e = 0; e < s.length; e += 4)
          (i = s[e]),
            (r = s[e + 1]),
            (n = s[e + 2]),
            h[0] < i &&
              h[1] < r &&
              h[2] < n &&
              i < c[0] &&
              r < c[1] &&
              n < c[2] &&
              (s[e + 3] = 0);
      },
      getUniformLocations: function(t, e) {
        return {
          uLow: t.getUniformLocation(e, "uLow"),
          uHigh: t.getUniformLocation(e, "uHigh")
        };
      },
      sendUniformData: function(t, e) {
        var i = new l.Color(this.color).getSource(),
          r = parseFloat(this.distance),
          n = [0 + i[0] / 255 - r, 0 + i[1] / 255 - r, 0 + i[2] / 255 - r, 1],
          s = [i[0] / 255 + r, i[1] / 255 + r, i[2] / 255 + r, 1];
        t.uniform4fv(e.uLow, n), t.uniform4fv(e.uHigh, s);
      },
      toObject: function() {
        return e(this.callSuper("toObject"), {
          color: this.color,
          distance: this.distance
        });
      }
    })),
      (l.Image.filters.RemoveColor.fromObject =
        l.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass,
      n = {
        Brownie: [
          0.5997,
          0.34553,
          -0.27082,
          0,
          0.186,
          -0.0377,
          0.86095,
          0.15059,
          0,
          -0.1449,
          0.24113,
          -0.07441,
          0.44972,
          0,
          -0.02965,
          0,
          0,
          0,
          1,
          0
        ],
        Vintage: [
          0.62793,
          0.32021,
          -0.03965,
          0,
          0.03784,
          0.02578,
          0.64411,
          0.03259,
          0,
          0.02926,
          0.0466,
          -0.08512,
          0.52416,
          0,
          0.02023,
          0,
          0,
          0,
          1,
          0
        ],
        Kodachrome: [
          1.12855,
          -0.39673,
          -0.03992,
          0,
          0.24991,
          -0.16404,
          1.08352,
          -0.05498,
          0,
          0.09698,
          -0.16786,
          -0.56034,
          1.60148,
          0,
          0.13972,
          0,
          0,
          0,
          1,
          0
        ],
        Technicolor: [
          1.91252,
          -0.85453,
          -0.09155,
          0,
          0.04624,
          -0.30878,
          1.76589,
          -0.10601,
          0,
          -0.27589,
          -0.2311,
          -0.75018,
          1.84759,
          0,
          0.12137,
          0,
          0,
          0,
          1,
          0
        ],
        Polaroid: [
          1.438,
          -0.062,
          -0.062,
          0,
          0,
          -0.122,
          1.378,
          -0.122,
          0,
          0,
          -0.016,
          -0.016,
          1.483,
          0,
          0,
          0,
          0,
          0,
          1,
          0
        ],
        Sepia: [
          0.393,
          0.769,
          0.189,
          0,
          0,
          0.349,
          0.686,
          0.168,
          0,
          0,
          0.272,
          0.534,
          0.131,
          0,
          0,
          0,
          0,
          0,
          1,
          0
        ],
        BlackWhite: [
          1.5,
          1.5,
          1.5,
          0,
          -1,
          1.5,
          1.5,
          1.5,
          0,
          -1,
          1.5,
          1.5,
          1.5,
          0,
          -1,
          0,
          0,
          0,
          1,
          0
        ]
      };
    for (var s in n)
      (i[s] = r(i.ColorMatrix, {
        type: s,
        matrix: n[s],
        mainParameter: !1,
        colorsOnly: !0
      })),
        (e.Image.filters[s].fromObject = e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var f = t.fabric,
      e = f.Image.filters,
      i = f.util.createClass;
    (e.BlendColor = i(e.BaseFilter, {
      type: "BlendColor",
      color: "#F95C63",
      mode: "multiply",
      alpha: 1,
      fragmentSource: {
        multiply: "gl_FragColor.rgb *= uColor.rgb;\n",
        screen:
          "gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",
        add: "gl_FragColor.rgb += uColor.rgb;\n",
        diff: "gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",
        subtract: "gl_FragColor.rgb -= uColor.rgb;\n",
        lighten: "gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",
        darken: "gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",
        exclusion:
          "gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",
        overlay:
          "if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",
        tint:
          "gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"
      },
      buildSource: function(t) {
        return (
          "precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n" +
          this.fragmentSource[t] +
          "}\n}"
        );
      },
      retrieveShader: function(t) {
        var e,
          i = this.type + "_" + this.mode;
        return (
          t.programCache.hasOwnProperty(i) ||
            ((e = this.buildSource(this.mode)),
            (t.programCache[i] = this.createProgram(t.context, e))),
          t.programCache[i]
        );
      },
      applyTo2d: function(t) {
        var e,
          i,
          r,
          n,
          s,
          o,
          a,
          h = t.imageData.data,
          c = h.length,
          l = 1 - this.alpha;
        (e = (a = new f.Color(this.color).getSource())[0] * this.alpha),
          (i = a[1] * this.alpha),
          (r = a[2] * this.alpha);
        for (var u = 0; u < c; u += 4)
          switch (((n = h[u]), (s = h[u + 1]), (o = h[u + 2]), this.mode)) {
            case "multiply":
              (h[u] = n * e / 255),
                (h[u + 1] = s * i / 255),
                (h[u + 2] = o * r / 255);
              break;
            case "screen":
              (h[u] = 255 - (255 - n) * (255 - e) / 255),
                (h[u + 1] = 255 - (255 - s) * (255 - i) / 255),
                (h[u + 2] = 255 - (255 - o) * (255 - r) / 255);
              break;
            case "add":
              (h[u] = n + e), (h[u + 1] = s + i), (h[u + 2] = o + r);
              break;
            case "diff":
            case "difference":
              (h[u] = Math.abs(n - e)),
                (h[u + 1] = Math.abs(s - i)),
                (h[u + 2] = Math.abs(o - r));
              break;
            case "subtract":
              (h[u] = n - e), (h[u + 1] = s - i), (h[u + 2] = o - r);
              break;
            case "darken":
              (h[u] = Math.min(n, e)),
                (h[u + 1] = Math.min(s, i)),
                (h[u + 2] = Math.min(o, r));
              break;
            case "lighten":
              (h[u] = Math.max(n, e)),
                (h[u + 1] = Math.max(s, i)),
                (h[u + 2] = Math.max(o, r));
              break;
            case "overlay":
              (h[u] =
                e < 128
                  ? 2 * n * e / 255
                  : 255 - 2 * (255 - n) * (255 - e) / 255),
                (h[u + 1] =
                  i < 128
                    ? 2 * s * i / 255
                    : 255 - 2 * (255 - s) * (255 - i) / 255),
                (h[u + 2] =
                  r < 128
                    ? 2 * o * r / 255
                    : 255 - 2 * (255 - o) * (255 - r) / 255);
              break;
            case "exclusion":
              (h[u] = e + n - 2 * e * n / 255),
                (h[u + 1] = i + s - 2 * i * s / 255),
                (h[u + 2] = r + o - 2 * r * o / 255);
              break;
            case "tint":
              (h[u] = e + n * l),
                (h[u + 1] = i + s * l),
                (h[u + 2] = r + o * l);
          }
      },
      getUniformLocations: function(t, e) {
        return { uColor: t.getUniformLocation(e, "uColor") };
      },
      sendUniformData: function(t, e) {
        var i = new f.Color(this.color).getSource();
        (i[0] = this.alpha * i[0] / 255),
          (i[1] = this.alpha * i[1] / 255),
          (i[2] = this.alpha * i[2] / 255),
          (i[3] = this.alpha),
          t.uniform4fv(e.uColor, i);
      },
      toObject: function() {
        return {
          type: this.type,
          color: this.color,
          mode: this.mode,
          alpha: this.alpha
        };
      }
    })),
      (f.Image.filters.BlendColor.fromObject =
        f.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var n = t.fabric,
      e = n.Image.filters,
      i = n.util.createClass;
    (e.BlendImage = i(e.BaseFilter, {
      type: "BlendImage",
      image: null,
      mode: "multiply",
      alpha: 1,
      vertexSource:
        "attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",
      fragmentSource: {
        multiply:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",
        mask:
          "precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"
      },
      retrieveShader: function(t) {
        var e = this.type + "_" + this.mode,
          i = this.fragmentSource[this.mode];
        return (
          t.programCache.hasOwnProperty(e) ||
            (t.programCache[e] = this.createProgram(t.context, i)),
          t.programCache[e]
        );
      },
      applyToWebGL: function(t) {
        var e = t.context,
          i = this.createTexture(t.filterBackend, this.image);
        this.bindAdditionalTexture(e, i, e.TEXTURE1),
          this.callSuper("applyToWebGL", t),
          this.unbindAdditionalTexture(e, e.TEXTURE1);
      },
      createTexture: function(t, e) {
        return t.getCachedTexture(e.cacheKey, e._element);
      },
      calculateMatrix: function() {
        var t = this.image,
          e = t._element.width,
          i = t._element.height;
        return [
          1 / t.scaleX,
          0,
          0,
          0,
          1 / t.scaleY,
          0,
          -t.left / e,
          -t.top / i,
          1
        ];
      },
      applyTo2d: function(t) {
        var e,
          i,
          r,
          n,
          s,
          o,
          a,
          h,
          c,
          l,
          u,
          f = t.imageData,
          d = t.filterBackend.resources,
          g = f.data,
          p = g.length,
          v = t.imageData.width,
          m = t.imageData.height,
          b = this.image;
        d.blendImage || (d.blendImage = document.createElement("canvas")),
          ((c = d.blendImage).width === v && c.height === m) ||
            ((c.width = v), (c.height = m)),
          (l = c.getContext("2d")).setTransform(
            b.scaleX,
            0,
            0,
            b.scaleY,
            b.left,
            b.top
          ),
          l.drawImage(b._element, 0, 0, v, m),
          (u = l.getImageData(0, 0, v, m).data);
        for (var _ = 0; _ < p; _ += 4)
          switch (
            ((s = g[_]),
            (o = g[_ + 1]),
            (a = g[_ + 2]),
            (h = g[_ + 3]),
            (e = u[_]),
            (i = u[_ + 1]),
            (r = u[_ + 2]),
            (n = u[_ + 3]),
            this.mode)
          ) {
            case "multiply":
              (g[_] = s * e / 255),
                (g[_ + 1] = o * i / 255),
                (g[_ + 2] = a * r / 255),
                (g[_ + 3] = h * n / 255);
              break;
            case "mask":
              g[_ + 3] = n;
          }
      },
      getUniformLocations: function(t, e) {
        return {
          uTransformMatrix: t.getUniformLocation(e, "uTransformMatrix"),
          uImage: t.getUniformLocation(e, "uImage")
        };
      },
      sendUniformData: function(t, e) {
        var i = this.calculateMatrix();
        t.uniform1i(e.uImage, 1), t.uniformMatrix3fv(e.uTransformMatrix, !1, i);
      },
      toObject: function() {
        return {
          type: this.type,
          image: this.image && this.image.toObject(),
          mode: this.mode,
          alpha: this.alpha
        };
      }
    })),
      (n.Image.filters.BlendImage.fromObject = function(i, r) {
        n.Image.fromObject(i.image, function(t) {
          var e = n.util.object.clone(i);
          (e.image = t), r(new n.Image.filters.BlendImage(e));
        });
      });
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var m = t.fabric || (t.fabric = {}),
      A = Math.pow,
      P = Math.floor,
      F = Math.sqrt,
      M = Math.abs,
      c = Math.round,
      r = Math.sin,
      I = Math.ceil,
      e = m.Image.filters,
      i = m.util.createClass;
    (e.Resize = i(e.BaseFilter, {
      type: "Resize",
      resizeType: "hermite",
      scaleX: 0,
      scaleY: 0,
      lanczosLobes: 3,
      getUniformLocations: function(t, e) {
        return {
          uDelta: t.getUniformLocation(e, "uDelta"),
          uTaps: t.getUniformLocation(e, "uTaps")
        };
      },
      sendUniformData: function(t, e) {
        t.uniform2fv(
          e.uDelta,
          this.horizontal ? [1 / this.width, 0] : [0, 1 / this.height]
        ),
          t.uniform1fv(e.uTaps, this.taps);
      },
      retrieveShader: function(t) {
        var e = this.getFilterWindow(),
          i = this.type + "_" + e;
        if (!t.programCache.hasOwnProperty(i)) {
          var r = this.generateShader(e);
          t.programCache[i] = this.createProgram(t.context, r);
        }
        return t.programCache[i];
      },
      getFilterWindow: function() {
        var t = this.tempScale;
        return Math.ceil(this.lanczosLobes / t);
      },
      getTaps: function() {
        for (
          var t = this.lanczosCreate(this.lanczosLobes),
            e = this.tempScale,
            i = this.getFilterWindow(),
            r = new Array(i),
            n = 1;
          n <= i;
          n++
        )
          r[n - 1] = t(n * e);
        return r;
      },
      generateShader: function(t) {
        for (
          var e = new Array(t), i = this.fragmentSourceTOP, r = 1;
          r <= t;
          r++
        )
          e[r - 1] = r + ".0 * uDelta";
        return (
          (i += "uniform float uTaps[" + t + "];\n"),
          (i += "void main() {\n"),
          (i += "  vec4 color = texture2D(uTexture, vTexCoord);\n"),
          (i += "  float sum = 1.0;\n"),
          e.forEach(function(t, e) {
            (i +=
              "  color += texture2D(uTexture, vTexCoord + " +
              t +
              ") * uTaps[" +
              e +
              "];\n"),
              (i +=
                "  color += texture2D(uTexture, vTexCoord - " +
                t +
                ") * uTaps[" +
                e +
                "];\n"),
              (i += "  sum += 2.0 * uTaps[" + e + "];\n");
          }),
          (i += "  gl_FragColor = color / sum;\n"),
          (i += "}")
        );
      },
      fragmentSourceTOP:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",
      applyTo: function(t) {
        if (t.webgl) {
          if (1 < t.passes && this.isNeutralState(t)) return;
          t.passes++,
            (this.width = t.sourceWidth),
            (this.horizontal = !0),
            (this.dW = Math.round(this.width * this.scaleX)),
            (this.dH = t.sourceHeight),
            (this.tempScale = this.dW / this.width),
            (this.taps = this.getTaps()),
            (t.destinationWidth = this.dW),
            this._setupFrameBuffer(t),
            this.applyToWebGL(t),
            this._swapTextures(t),
            (t.sourceWidth = t.destinationWidth),
            (this.height = t.sourceHeight),
            (this.horizontal = !1),
            (this.dH = Math.round(this.height * this.scaleY)),
            (this.tempScale = this.dH / this.height),
            (this.taps = this.getTaps()),
            (t.destinationHeight = this.dH),
            this._setupFrameBuffer(t),
            this.applyToWebGL(t),
            this._swapTextures(t),
            (t.sourceHeight = t.destinationHeight);
        } else this.isNeutralState(t) || this.applyTo2d(t);
      },
      isNeutralState: function(t) {
        var e = t.scaleX || this.scaleX,
          i = t.scaleY || this.scaleY;
        return 1 === e && 1 === i;
      },
      lanczosCreate: function(i) {
        return function(t) {
          if (i <= t || t <= -i) return 0;
          if (t < 1.1920929e-7 && -1.1920929e-7 < t) return 1;
          var e = (t *= Math.PI) / i;
          return r(t) / t * r(e) / e;
        };
      },
      applyTo2d: function(t) {
        var e = t.imageData,
          i = this.scaleX,
          r = this.scaleY;
        (this.rcpScaleX = 1 / i), (this.rcpScaleY = 1 / r);
        var n,
          s = e.width,
          o = e.height,
          a = c(s * i),
          h = c(o * r);
        "sliceHack" === this.resizeType
          ? (n = this.sliceByTwo(t, s, o, a, h))
          : "hermite" === this.resizeType
            ? (n = this.hermiteFastResize(t, s, o, a, h))
            : "bilinear" === this.resizeType
              ? (n = this.bilinearFiltering(t, s, o, a, h))
              : "lanczos" === this.resizeType &&
                (n = this.lanczosResize(t, s, o, a, h)),
          (t.imageData = n);
      },
      sliceByTwo: function(t, e, i, r, n) {
        var s,
          o,
          a = t.imageData,
          h = !1,
          c = !1,
          l = 0.5 * e,
          u = 0.5 * i,
          f = m.filterBackend.resources,
          d = 0,
          g = 0,
          p = e,
          v = 0;
        for (
          f.sliceByTwo || (f.sliceByTwo = document.createElement("canvas")),
            ((s = f.sliceByTwo).width < 1.5 * e || s.height < i) &&
              ((s.width = 1.5 * e), (s.height = i)),
            (o = s.getContext("2d")).clearRect(0, 0, 1.5 * e, i),
            o.putImageData(a, 0, 0),
            r = P(r),
            n = P(n);
          !h || !c;

        )
          (i = u),
            r < P(0.5 * (e = l)) ? (l = P(0.5 * l)) : ((l = r), (h = !0)),
            n < P(0.5 * u) ? (u = P(0.5 * u)) : ((u = n), (c = !0)),
            o.drawImage(s, d, g, e, i, p, v, l, u),
            (d = p),
            (g = v),
            (v += u);
        return o.getImageData(d, g, r, n);
      },
      lanczosResize: function(t, g, p, v, m) {
        var b = t.imageData.data,
          _ = t.ctx.createImageData(v, m),
          y = _.data,
          x = this.lanczosCreate(this.lanczosLobes),
          C = this.rcpScaleX,
          S = this.rcpScaleY,
          w = 2 / this.rcpScaleX,
          T = 2 / this.rcpScaleY,
          O = I(C * this.lanczosLobes / 2),
          k = I(S * this.lanczosLobes / 2),
          D = {},
          E = {},
          j = {};
        return (function t(e) {
          var i, r, n, s, o, a, h, c, l, u, f;
          for (E.x = (e + 0.5) * C, j.x = P(E.x), i = 0; i < m; i++) {
            for (
              E.y = (i + 0.5) * S,
                j.y = P(E.y),
                l = c = h = a = o = 0,
                r = j.x - O;
              r <= j.x + O;
              r++
            )
              if (!(r < 0 || g <= r)) {
                (u = P(1e3 * M(r - E.x))), D[u] || (D[u] = {});
                for (var d = j.y - k; d <= j.y + k; d++)
                  d < 0 ||
                    p <= d ||
                    ((f = P(1e3 * M(d - E.y))),
                    D[u][f] ||
                      (D[u][f] = x(F(A(u * w, 2) + A(f * T, 2)) / 1e3)),
                    0 < (n = D[u][f]) &&
                      ((o += n),
                      (a += n * b[(s = 4 * (d * g + r))]),
                      (h += n * b[s + 1]),
                      (c += n * b[s + 2]),
                      (l += n * b[s + 3])));
              }
            (y[(s = 4 * (i * v + e))] = a / o),
              (y[s + 1] = h / o),
              (y[s + 2] = c / o),
              (y[s + 3] = l / o);
          }
          return ++e < v ? t(e) : _;
        })(0);
      },
      bilinearFiltering: function(t, e, i, r, n) {
        var s,
          o,
          a,
          h,
          c,
          l,
          u,
          f,
          d,
          g = 0,
          p = this.rcpScaleX,
          v = this.rcpScaleY,
          m = 4 * (e - 1),
          b = t.imageData.data,
          _ = t.ctx.createImageData(r, n),
          y = _.data;
        for (a = 0; a < n; a++)
          for (h = 0; h < r; h++)
            for (
              c = p * h - (s = P(p * h)),
                l = v * a - (o = P(v * a)),
                d = 4 * (o * e + s),
                u = 0;
              u < 4;
              u++
            )
              (f =
                b[d + u] * (1 - c) * (1 - l) +
                b[d + 4 + u] * c * (1 - l) +
                b[d + m + u] * l * (1 - c) +
                b[d + m + 4 + u] * c * l),
                (y[g++] = f);
        return _;
      },
      hermiteFastResize: function(t, e, i, r, n) {
        for (
          var s = this.rcpScaleX,
            o = this.rcpScaleY,
            a = I(s / 2),
            h = I(o / 2),
            c = t.imageData.data,
            l = t.ctx.createImageData(r, n),
            u = l.data,
            f = 0;
          f < n;
          f++
        )
          for (var d = 0; d < r; d++) {
            for (
              var g = 4 * (d + f * r),
                p = 0,
                v = 0,
                m = 0,
                b = 0,
                _ = 0,
                y = 0,
                x = 0,
                C = (f + 0.5) * o,
                S = P(f * o);
              S < (f + 1) * o;
              S++
            )
              for (
                var w = M(C - (S + 0.5)) / h,
                  T = (d + 0.5) * s,
                  O = w * w,
                  k = P(d * s);
                k < (d + 1) * s;
                k++
              ) {
                var D = M(T - (k + 0.5)) / a,
                  E = F(O + D * D);
                (1 < E && E < -1) ||
                  (0 < (p = 2 * E * E * E - 3 * E * E + 1) &&
                    ((x += p * c[(D = 4 * (k + S * e)) + 3]),
                    (m += p),
                    c[D + 3] < 255 && (p = p * c[D + 3] / 250),
                    (b += p * c[D]),
                    (_ += p * c[D + 1]),
                    (y += p * c[D + 2]),
                    (v += p)));
              }
            (u[g] = b / v),
              (u[g + 1] = _ / v),
              (u[g + 2] = y / v),
              (u[g + 3] = x / m);
          }
        return l;
      },
      toObject: function() {
        return {
          type: this.type,
          scaleX: this.scaleX,
          scaleY: this.scaleY,
          resizeType: this.resizeType,
          lanczosLobes: this.lanczosLobes
        };
      }
    })),
      (m.Image.filters.Resize.fromObject =
        m.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Contrast = r(i.BaseFilter, {
      type: "Contrast",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",
      contrast: 0,
      mainParameter: "contrast",
      applyTo2d: function(t) {
        if (0 !== this.contrast) {
          var e,
            i = t.imageData.data,
            r = i.length,
            n = Math.floor(255 * this.contrast),
            s = 259 * (n + 255) / (255 * (259 - n));
          for (e = 0; e < r; e += 4)
            (i[e] = s * (i[e] - 128) + 128),
              (i[e + 1] = s * (i[e + 1] - 128) + 128),
              (i[e + 2] = s * (i[e + 2] - 128) + 128);
        }
      },
      getUniformLocations: function(t, e) {
        return { uContrast: t.getUniformLocation(e, "uContrast") };
      },
      sendUniformData: function(t, e) {
        t.uniform1f(e.uContrast, this.contrast);
      }
    })),
      (e.Image.filters.Contrast.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Saturation = r(i.BaseFilter, {
      type: "Saturation",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",
      saturation: 0,
      mainParameter: "saturation",
      applyTo2d: function(t) {
        if (0 !== this.saturation) {
          var e,
            i,
            r = t.imageData.data,
            n = r.length,
            s = -this.saturation;
          for (e = 0; e < n; e += 4)
            (i = Math.max(r[e], r[e + 1], r[e + 2])),
              (r[e] += i !== r[e] ? (i - r[e]) * s : 0),
              (r[e + 1] += i !== r[e + 1] ? (i - r[e + 1]) * s : 0),
              (r[e + 2] += i !== r[e + 2] ? (i - r[e + 2]) * s : 0);
        }
      },
      getUniformLocations: function(t, e) {
        return { uSaturation: t.getUniformLocation(e, "uSaturation") };
      },
      sendUniformData: function(t, e) {
        t.uniform1f(e.uSaturation, -this.saturation);
      }
    })),
      (e.Image.filters.Saturation.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var g = t.fabric || (t.fabric = {}),
      e = g.Image.filters,
      i = g.util.createClass;
    (e.Blur = i(e.BaseFilter, {
      type: "Blur",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",
      blur: 0,
      mainParameter: "blur",
      applyTo: function(t) {
        t.webgl
          ? ((this.aspectRatio = t.sourceWidth / t.sourceHeight),
            t.passes++,
            this._setupFrameBuffer(t),
            (this.horizontal = !0),
            this.applyToWebGL(t),
            this._swapTextures(t),
            this._setupFrameBuffer(t),
            (this.horizontal = !1),
            this.applyToWebGL(t),
            this._swapTextures(t))
          : this.applyTo2d(t);
      },
      applyTo2d: function(t) {
        t.imageData = this.simpleBlur(t);
      },
      simpleBlur: function(t) {
        var e,
          i,
          r = t.filterBackend.resources,
          n = t.imageData.width,
          s = t.imageData.height;
        r.blurLayer1 ||
          ((r.blurLayer1 = g.util.createCanvasElement()),
          (r.blurLayer2 = g.util.createCanvasElement())),
          (e = r.blurLayer1),
          (i = r.blurLayer2),
          (e.width === n && e.height === s) ||
            ((i.width = e.width = n), (i.height = e.height = s));
        var o,
          a,
          h,
          c,
          l = e.getContext("2d"),
          u = i.getContext("2d"),
          f = 0.06 * this.blur * 0.5;
        for (
          l.putImageData(t.imageData, 0, 0), u.clearRect(0, 0, n, s), c = -15;
          c <= 15;
          c++
        )
          (h = f * (a = c / 15) * n + (o = (Math.random() - 0.5) / 4)),
            (u.globalAlpha = 1 - Math.abs(a)),
            u.drawImage(e, h, o),
            l.drawImage(i, 0, 0),
            (u.globalAlpha = 1),
            u.clearRect(0, 0, i.width, i.height);
        for (c = -15; c <= 15; c++)
          (h = f * (a = c / 15) * s + (o = (Math.random() - 0.5) / 4)),
            (u.globalAlpha = 1 - Math.abs(a)),
            u.drawImage(e, o, h),
            l.drawImage(i, 0, 0),
            (u.globalAlpha = 1),
            u.clearRect(0, 0, i.width, i.height);
        t.ctx.drawImage(e, 0, 0);
        var d = t.ctx.getImageData(0, 0, e.width, e.height);
        return (l.globalAlpha = 1), l.clearRect(0, 0, e.width, e.height), d;
      },
      getUniformLocations: function(t, e) {
        return { delta: t.getUniformLocation(e, "uDelta") };
      },
      sendUniformData: function(t, e) {
        var i = this.chooseRightDelta();
        t.uniform2fv(e.delta, i);
      },
      chooseRightDelta: function() {
        var t,
          e = 1,
          i = [0, 0];
        return (
          this.horizontal
            ? 1 < this.aspectRatio && (e = 1 / this.aspectRatio)
            : this.aspectRatio < 1 && (e = this.aspectRatio),
          (t = e * this.blur * 0.12),
          this.horizontal ? (i[0] = t) : (i[1] = t),
          i
        );
      }
    })),
      (e.Blur.fromObject = g.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var e = t.fabric || (t.fabric = {}),
      i = e.Image.filters,
      r = e.util.createClass;
    (i.Gamma = r(i.BaseFilter, {
      type: "Gamma",
      fragmentSource:
        "precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",
      gamma: [1, 1, 1],
      mainParameter: "gamma",
      applyTo2d: function(t) {
        var e,
          i = t.imageData.data,
          r = this.gamma,
          n = i.length,
          s = 1 / r[0],
          o = 1 / r[1],
          a = 1 / r[2];
        for (
          this.rVals ||
            ((this.rVals = new Uint8Array(256)),
            (this.gVals = new Uint8Array(256)),
            (this.bVals = new Uint8Array(256))),
            e = 0,
            n = 256;
          e < n;
          e++
        )
          (this.rVals[e] = 255 * Math.pow(e / 255, s)),
            (this.gVals[e] = 255 * Math.pow(e / 255, o)),
            (this.bVals[e] = 255 * Math.pow(e / 255, a));
        for (e = 0, n = i.length; e < n; e += 4)
          (i[e] = this.rVals[i[e]]),
            (i[e + 1] = this.gVals[i[e + 1]]),
            (i[e + 2] = this.bVals[i[e + 2]]);
      },
      getUniformLocations: function(t, e) {
        return { uGamma: t.getUniformLocation(e, "uGamma") };
      },
      sendUniformData: function(t, e) {
        t.uniform3fv(e.uGamma, this.gamma);
      }
    })),
      (e.Image.filters.Gamma.fromObject =
        e.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var n = t.fabric || (t.fabric = {}),
      e = n.Image.filters,
      i = n.util.createClass;
    (e.Composed = i(e.BaseFilter, {
      type: "Composed",
      subFilters: [],
      initialize: function(t) {
        this.callSuper("initialize", t),
          (this.subFilters = this.subFilters.slice(0));
      },
      applyTo: function(e) {
        (e.passes += this.subFilters.length - 1),
          this.subFilters.forEach(function(t) {
            t.applyTo(e);
          });
      },
      toObject: function() {
        return n.util.object.extend(this.callSuper("toObject"), {
          subFilters: this.subFilters.map(function(t) {
            return t.toObject();
          })
        });
      }
    })),
      (n.Image.filters.Composed.fromObject = function(t, e) {
        var i = (t.subFilters || []).map(function(t) {
            return new n.Image.filters[t.type](t);
          }),
          r = new n.Image.filters.Composed({ subFilters: i });
        return e && e(r), r;
      });
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var s = t.fabric || (t.fabric = {}),
      e = s.Image.filters,
      i = s.util.createClass;
    (e.HueRotation = i(e.ColorMatrix, {
      type: "HueRotation",
      rotation: 0,
      mainParameter: "rotation",
      calculateMatrix: function() {
        var t = this.rotation * Math.PI,
          e = s.util.cos(t),
          i = s.util.sin(t),
          r = Math.sqrt(1 / 3) * i,
          n = 1 - e;
        (this.matrix = [
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0
        ]),
          (this.matrix[0] = e + n / 3),
          (this.matrix[1] = 1 / 3 * n - r),
          (this.matrix[2] = 1 / 3 * n + r),
          (this.matrix[5] = 1 / 3 * n + r),
          (this.matrix[6] = e + 1 / 3 * n),
          (this.matrix[7] = 1 / 3 * n - r),
          (this.matrix[10] = 1 / 3 * n - r),
          (this.matrix[11] = 1 / 3 * n + r),
          (this.matrix[12] = e + 1 / 3 * n);
      },
      applyTo: function(t) {
        this.calculateMatrix(),
          s.Image.filters.BaseFilter.prototype.applyTo.call(this, t);
      }
    })),
      (s.Image.filters.HueRotation.fromObject =
        s.Image.filters.BaseFilter.fromObject);
  })("undefined" != typeof exports ? exports : this),
  (function(t) {
    "use strict";
    var d = t.fabric || (t.fabric = {}),
      g = d.util.object.clone;
    d.Text
      ? d.warn("fabric.Text is already defined")
      : ((d.Text = d.util.createClass(d.Object, {
          _dimensionAffectingProps: [
            "fontSize",
            "fontWeight",
            "fontFamily",
            "fontStyle",
            "lineHeight",
            "text",
            "charSpacing",
            "textAlign",
            "styles"
          ],
          _reNewline: /\r?\n/,
          _reSpacesAndTabs: /[ \t\r]/g,
          _reSpaceAndTab: /[ \t\r]/,
          _reWords: /\S+/g,
          type: "text",
          fontSize: 40,
          fontWeight: "normal",
          fontFamily: "Times New Roman",
          underline: !1,
          overline: !1,
          linethrough: !1,
          textAlign: "left",
          fontStyle: "normal",
          lineHeight: 1.16,
          superscript: { size: 0.6, baseline: -0.35 },
          subscript: { size: 0.6, baseline: 0.11 },
          textBackgroundColor: "",
          stateProperties: d.Object.prototype.stateProperties.concat(
            "fontFamily",
            "fontWeight",
            "fontSize",
            "text",
            "underline",
            "overline",
            "linethrough",
            "textAlign",
            "fontStyle",
            "lineHeight",
            "textBackgroundColor",
            "charSpacing",
            "styles"
          ),
          cacheProperties: d.Object.prototype.cacheProperties.concat(
            "fontFamily",
            "fontWeight",
            "fontSize",
            "text",
            "underline",
            "overline",
            "linethrough",
            "textAlign",
            "fontStyle",
            "lineHeight",
            "textBackgroundColor",
            "charSpacing",
            "styles"
          ),
          stroke: null,
          shadow: null,
          _fontSizeFraction: 0.222,
          offsets: { underline: 0.1, linethrough: -0.315, overline: -0.88 },
          _fontSizeMult: 1.13,
          charSpacing: 0,
          styles: null,
          _measuringContext: null,
          deltaY: 0,
          _styleProperties: [
            "stroke",
            "strokeWidth",
            "fill",
            "fontFamily",
            "fontSize",
            "fontWeight",
            "fontStyle",
            "underline",
            "overline",
            "linethrough",
            "deltaY",
            "textBackgroundColor"
          ],
          __charBounds: [],
          CACHE_FONT_SIZE: 400,
          MIN_TEXT_WIDTH: 2,
          initialize: function(t, e) {
            (this.styles = (e && e.styles) || {}),
              (this.text = t),
              (this.__skipDimension = !0),
              this.callSuper("initialize", e),
              (this.__skipDimension = !1),
              this.initDimensions(),
              this.setCoords(),
              this.setupState({ propertySet: "_dimensionAffectingProps" });
          },
          getMeasuringContext: function() {
            return (
              d._measuringContext ||
                (d._measuringContext =
                  (this.canvas && this.canvas.contextCache) ||
                  d.util.createCanvasElement().getContext("2d")),
              d._measuringContext
            );
          },
          _splitText: function() {
            var t = this._splitTextIntoLines(this.text);
            return (
              (this.textLines = t.lines),
              (this._textLines = t.graphemeLines),
              (this._unwrappedTextLines = t._unwrappedLines),
              (this._text = t.graphemeText),
              t
            );
          },
          initDimensions: function() {
            this.__skipDimension ||
              (this._splitText(),
              this._clearCache(),
              (this.width =
                this.calcTextWidth() ||
                this.cursorWidth ||
                this.MIN_TEXT_WIDTH),
              -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(),
              (this.height = this.calcTextHeight()),
              this.saveState({ propertySet: "_dimensionAffectingProps" }));
          },
          enlargeSpaces: function() {
            for (
              var t, e, i, r, n, s, o, a = 0, h = this._textLines.length;
              a < h;
              a++
            )
              if (
                ("justify" === this.textAlign ||
                  (a !== h - 1 && !this.isEndOfWrapping(a))) &&
                ((r = 0),
                (n = this._textLines[a]),
                (e = this.getLineWidth(a)) < this.width &&
                  (o = this.textLines[a].match(this._reSpacesAndTabs)))
              ) {
                (i = o.length), (t = (this.width - e) / i);
                for (var c = 0, l = n.length; c <= l; c++)
                  (s = this.__charBounds[a][c]),
                    this._reSpaceAndTab.test(n[c])
                      ? ((s.width += t),
                        (s.kernedWidth += t),
                        (s.left += r),
                        (r += t))
                      : (s.left += r);
              }
          },
          isEndOfWrapping: function(t) {
            return t === this._textLines.length - 1;
          },
          toString: function() {
            return (
              "#<fabric.Text (" +
              this.complexity() +
              '): { "text": "' +
              this.text +
              '", "fontFamily": "' +
              this.fontFamily +
              '" }>'
            );
          },
          _getCacheCanvasDimensions: function() {
            var t = this.callSuper("_getCacheCanvasDimensions"),
              e = this.fontSize;
            return (t.width += e * t.zoomX), (t.height += e * t.zoomY), t;
          },
          _render: function(t) {
            this._setTextStyles(t),
              this._renderTextLinesBackground(t),
              this._renderTextDecoration(t, "underline"),
              this._renderText(t),
              this._renderTextDecoration(t, "overline"),
              this._renderTextDecoration(t, "linethrough");
          },
          _renderText: function(t) {
            "stroke" === this.paintFirst
              ? (this._renderTextStroke(t), this._renderTextFill(t))
              : (this._renderTextFill(t), this._renderTextStroke(t));
          },
          _setTextStyles: function(t, e, i) {
            (t.textBaseline = "alphabetic"),
              (t.font = this._getFontDeclaration(e, i));
          },
          calcTextWidth: function() {
            for (
              var t = this.getLineWidth(0), e = 1, i = this._textLines.length;
              e < i;
              e++
            ) {
              var r = this.getLineWidth(e);
              t < r && (t = r);
            }
            return t;
          },
          _renderTextLine: function(t, e, i, r, n, s) {
            this._renderChars(t, e, i, r, n, s);
          },
          _renderTextLinesBackground: function(t) {
            if (
              this.textBackgroundColor ||
              this.styleHas("textBackgroundColor")
            ) {
              for (
                var e,
                  i,
                  r,
                  n,
                  s,
                  o,
                  a = 0,
                  h = t.fillStyle,
                  c = this._getLeftOffset(),
                  l = this._getTopOffset(),
                  u = 0,
                  f = 0,
                  d = 0,
                  g = this._textLines.length;
                d < g;
                d++
              )
                if (
                  ((e = this.getHeightOfLine(d)),
                  this.textBackgroundColor ||
                    this.styleHas("textBackgroundColor", d))
                ) {
                  (r = this._textLines[d]),
                    (i = this._getLineLeftOffset(d)),
                    (u = f = 0),
                    (n = this.getValueOfPropertyAt(
                      d,
                      0,
                      "textBackgroundColor"
                    ));
                  for (var p = 0, v = r.length; p < v; p++)
                    (s = this.__charBounds[d][p]),
                      (o = this.getValueOfPropertyAt(
                        d,
                        p,
                        "textBackgroundColor"
                      )) !== n
                        ? ((t.fillStyle = n) &&
                            t.fillRect(
                              c + i + u,
                              l + a,
                              f,
                              e / this.lineHeight
                            ),
                          (u = s.left),
                          (f = s.width),
                          (n = o))
                        : (f += s.kernedWidth);
                  o &&
                    ((t.fillStyle = o),
                    t.fillRect(c + i + u, l + a, f, e / this.lineHeight)),
                    (a += e);
                } else a += e;
              (t.fillStyle = h), this._removeShadow(t);
            }
          },
          getFontCache: function(t) {
            var e = t.fontFamily.toLowerCase();
            d.charWidthsCache[e] || (d.charWidthsCache[e] = {});
            var i = d.charWidthsCache[e],
              r =
                t.fontStyle.toLowerCase() +
                "_" +
                (t.fontWeight + "").toLowerCase();
            return i[r] || (i[r] = {}), i[r];
          },
          _applyCharStyles: function(t, e, i, r, n) {
            this._setFillStyles(e, n),
              this._setStrokeStyles(e, n),
              (e.font = this._getFontDeclaration(n));
          },
          _measureChar: function(t, e, i, r) {
            var n,
              s,
              o,
              a,
              h = this.getFontCache(e),
              c = i + t,
              l = this._getFontDeclaration(e) === this._getFontDeclaration(r),
              u = e.fontSize / this.CACHE_FONT_SIZE;
            if (
              (i && h[i] && (o = h[i]),
              h[t] && (a = n = h[t]),
              l && h[c] && (a = (s = h[c]) - o),
              !n || !o || !s)
            ) {
              var f = this.getMeasuringContext();
              this._setTextStyles(f, e, !0);
            }
            return (
              n || ((a = n = f.measureText(t).width), (h[t] = n)),
              !o && l && i && ((o = f.measureText(i).width), (h[i] = o)),
              l && !s && ((s = f.measureText(c).width), (a = (h[c] = s) - o)),
              { width: n * u, kernedWidth: a * u }
            );
          },
          getHeightOfChar: function(t, e) {
            return this.getValueOfPropertyAt(t, e, "fontSize");
          },
          measureLine: function(t) {
            var e = this._measureLine(t);
            return (
              0 !== this.charSpacing &&
                (e.width -= this._getWidthOfCharSpacing()),
              e.width < 0 && (e.width = 0),
              e
            );
          },
          _measureLine: function(t) {
            var e,
              i,
              r,
              n,
              s = 0,
              o = this._textLines[t],
              a = new Array(o.length);
            for (this.__charBounds[t] = a, e = 0; e < o.length; e++)
              (i = o[e]),
                (n = this._getGraphemeBox(i, t, e, r)),
                (s += (a[e] = n).kernedWidth),
                (r = i);
            return (
              (a[e] = {
                left: n ? n.left + n.width : 0,
                width: 0,
                kernedWidth: 0,
                height: this.fontSize
              }),
              { width: s, numOfSpaces: 0 }
            );
          },
          _getGraphemeBox: function(t, e, i, r, n) {
            var s,
              o = this.getCompleteStyleDeclaration(e, i),
              a = r ? this.getCompleteStyleDeclaration(e, i - 1) : {},
              h = this._measureChar(t, o, r, a),
              c = h.kernedWidth,
              l = h.width;
            0 !== this.charSpacing &&
              ((l += s = this._getWidthOfCharSpacing()), (c += s));
            var u = {
              width: l,
              left: 0,
              height: o.fontSize,
              kernedWidth: c,
              deltaY: o.deltaY
            };
            if (0 < i && !n) {
              var f = this.__charBounds[e][i - 1];
              u.left = f.left + f.width + h.kernedWidth - h.width;
            }
            return u;
          },
          getHeightOfLine: function(t) {
            if (this.__lineHeights[t]) return this.__lineHeights[t];
            for (
              var e = this._textLines[t],
                i = this.getHeightOfChar(t, 0),
                r = 1,
                n = e.length;
              r < n;
              r++
            )
              i = Math.max(this.getHeightOfChar(t, r), i);
            return (this.__lineHeights[t] =
              i * this.lineHeight * this._fontSizeMult);
          },
          calcTextHeight: function() {
            for (var t, e = 0, i = 0, r = this._textLines.length; i < r; i++)
              (t = this.getHeightOfLine(i)),
                (e += i === r - 1 ? t / this.lineHeight : t);
            return e;
          },
          _getLeftOffset: function() {
            return -this.width / 2;
          },
          _getTopOffset: function() {
            return -this.height / 2;
          },
          _renderTextCommon: function(t, e) {
            t.save();
            for (
              var i = 0,
                r = this._getLeftOffset(),
                n = this._getTopOffset(),
                s = this._applyPatternGradientTransform(
                  t,
                  "fillText" === e ? this.fill : this.stroke
                ),
                o = 0,
                a = this._textLines.length;
              o < a;
              o++
            ) {
              var h = this.getHeightOfLine(o),
                c = h / this.lineHeight,
                l = this._getLineLeftOffset(o);
              this._renderTextLine(
                e,
                t,
                this._textLines[o],
                r + l - s.offsetX,
                n + i + c - s.offsetY,
                o
              ),
                (i += h);
            }
            t.restore();
          },
          _renderTextFill: function(t) {
            (this.fill || this.styleHas("fill")) &&
              this._renderTextCommon(t, "fillText");
          },
          _renderTextStroke: function(t) {
            ((this.stroke && 0 !== this.strokeWidth) ||
              !this.isEmptyStyles()) &&
              (this.shadow &&
                !this.shadow.affectStroke &&
                this._removeShadow(t),
              t.save(),
              this._setLineDash(t, this.strokeDashArray),
              t.beginPath(),
              this._renderTextCommon(t, "strokeText"),
              t.closePath(),
              t.restore());
          },
          _renderChars: function(t, e, i, r, n, s) {
            var o,
              a,
              h,
              c,
              l = this.getHeightOfLine(s),
              u = -1 !== this.textAlign.indexOf("justify"),
              f = "",
              d = 0,
              g = !u && 0 === this.charSpacing && this.isEmptyStyles(s);
            if (
              (e.save(), (n -= l * this._fontSizeFraction / this.lineHeight), g)
            )
              return (
                this._renderChar(t, e, s, 0, this.textLines[s], r, n, l),
                void e.restore()
              );
            for (var p = 0, v = i.length - 1; p <= v; p++)
              (c = p === v || this.charSpacing),
                (f += i[p]),
                (h = this.__charBounds[s][p]),
                0 === d
                  ? ((r += h.kernedWidth - h.width), (d += h.width))
                  : (d += h.kernedWidth),
                u && !c && this._reSpaceAndTab.test(i[p]) && (c = !0),
                c ||
                  ((o = o || this.getCompleteStyleDeclaration(s, p)),
                  (a = this.getCompleteStyleDeclaration(s, p + 1)),
                  (c = this._hasStyleChanged(o, a))),
                c &&
                  (this._renderChar(t, e, s, p, f, r, n, l),
                  (f = ""),
                  (o = a),
                  (r += d),
                  (d = 0));
            e.restore();
          },
          _renderChar: function(t, e, i, r, n, s, o) {
            var a = this._getStyleDeclaration(i, r),
              h = this.getCompleteStyleDeclaration(i, r),
              c = "fillText" === t && h.fill,
              l = "strokeText" === t && h.stroke && h.strokeWidth;
            (l || c) &&
              (a && e.save(),
              this._applyCharStyles(t, e, i, r, h),
              a && a.textBackgroundColor && this._removeShadow(e),
              a && a.deltaY && (o += a.deltaY),
              c && e.fillText(n, s, o),
              l && e.strokeText(n, s, o),
              a && e.restore());
          },
          setSuperscript: function(t, e) {
            return this._setScript(t, e, this.superscript);
          },
          setSubscript: function(t, e) {
            return this._setScript(t, e, this.subscript);
          },
          _setScript: function(t, e, i) {
            var r = this.get2DCursorLocation(t, !0),
              n = this.getValueOfPropertyAt(
                r.lineIndex,
                r.charIndex,
                "fontSize"
              ),
              s = this.getValueOfPropertyAt(r.lineIndex, r.charIndex, "deltaY"),
              o = { fontSize: n * i.size, deltaY: s + n * i.baseline };
            return this.setSelectionStyles(o, t, e), this;
          },
          _hasStyleChanged: function(t, e) {
            return (
              t.fill !== e.fill ||
              t.stroke !== e.stroke ||
              t.strokeWidth !== e.strokeWidth ||
              t.fontSize !== e.fontSize ||
              t.fontFamily !== e.fontFamily ||
              t.fontWeight !== e.fontWeight ||
              t.fontStyle !== e.fontStyle ||
              t.deltaY !== e.deltaY
            );
          },
          _hasStyleChangedForSvg: function(t, e) {
            return (
              this._hasStyleChanged(t, e) ||
              t.overline !== e.overline ||
              t.underline !== e.underline ||
              t.linethrough !== e.linethrough
            );
          },
          _getLineLeftOffset: function(t) {
            var e = this.getLineWidth(t);
            return "center" === this.textAlign
              ? (this.width - e) / 2
              : "right" === this.textAlign
                ? this.width - e
                : "justify-center" === this.textAlign && this.isEndOfWrapping(t)
                  ? (this.width - e) / 2
                  : "justify-right" === this.textAlign &&
                    this.isEndOfWrapping(t)
                    ? this.width - e
                    : 0;
          },
          _clearCache: function() {
            (this.__lineWidths = []),
              (this.__lineHeights = []),
              (this.__charBounds = []);
          },
          _shouldClearDimensionCache: function() {
            var t = this._forceClearCache;
            return (
              t || (t = this.hasStateChanged("_dimensionAffectingProps")),
              t && ((this.dirty = !0), (this._forceClearCache = !1)),
              t
            );
          },
          getLineWidth: function(t) {
            return this.__lineWidths[t]
              ? this.__lineWidths[t]
              : ((e =
                  "" === this._textLines[t] ? 0 : this.measureLine(t).width),
                (this.__lineWidths[t] = e));
            var e;
          },
          _getWidthOfCharSpacing: function() {
            return 0 !== this.charSpacing
              ? this.fontSize * this.charSpacing / 1e3
              : 0;
          },
          getValueOfPropertyAt: function(t, e, i) {
            var r = this._getStyleDeclaration(t, e);
            return r && void 0 !== r[i] ? r[i] : this[i];
          },
          _renderTextDecoration: function(t, e) {
            if (this[e] || this.styleHas(e)) {
              for (
                var i,
                  r,
                  n,
                  s,
                  o,
                  a,
                  h,
                  c,
                  l,
                  u,
                  f,
                  d,
                  g,
                  p,
                  v,
                  m,
                  b = this._getLeftOffset(),
                  _ = this._getTopOffset(),
                  y = this._getWidthOfCharSpacing(),
                  x = 0,
                  C = this._textLines.length;
                x < C;
                x++
              )
                if (
                  ((i = this.getHeightOfLine(x)),
                  this[e] || this.styleHas(e, x))
                ) {
                  (h = this._textLines[x]),
                    (p = i / this.lineHeight),
                    (s = this._getLineLeftOffset(x)),
                    (f = u = 0),
                    (c = this.getValueOfPropertyAt(x, 0, e)),
                    (m = this.getValueOfPropertyAt(x, 0, "fill")),
                    (l = _ + p * (1 - this._fontSizeFraction)),
                    (r = this.getHeightOfChar(x, 0)),
                    (o = this.getValueOfPropertyAt(x, 0, "deltaY"));
                  for (var S = 0, w = h.length; S < w; S++)
                    (d = this.__charBounds[x][S]),
                      (g = this.getValueOfPropertyAt(x, S, e)),
                      (v = this.getValueOfPropertyAt(x, S, "fill")),
                      (n = this.getHeightOfChar(x, S)),
                      (a = this.getValueOfPropertyAt(x, S, "deltaY")),
                      (g !== c || v !== m || n !== r || a !== o) && 0 < f
                        ? ((t.fillStyle = m),
                          c &&
                            m &&
                            t.fillRect(
                              b + s + u,
                              l + this.offsets[e] * r + o,
                              f,
                              this.fontSize / 15
                            ),
                          (u = d.left),
                          (f = d.width),
                          (c = g),
                          (m = v),
                          (r = n),
                          (o = a))
                        : (f += d.kernedWidth);
                  (t.fillStyle = v),
                    g &&
                      v &&
                      t.fillRect(
                        b + s + u,
                        l + this.offsets[e] * r + o,
                        f - y,
                        this.fontSize / 15
                      ),
                    (_ += i);
                } else _ += i;
              this._removeShadow(t);
            }
          },
          _getFontDeclaration: function(t, e) {
            var i = t || this,
              r =
                void 0 === i.fontFamily ||
                -1 < i.fontFamily.indexOf("'") ||
                -1 < i.fontFamily.indexOf('"')
                  ? i.fontFamily
                  : '"' + i.fontFamily + '"';
            return [
              d.isLikelyNode ? i.fontWeight : i.fontStyle,
              d.isLikelyNode ? i.fontStyle : i.fontWeight,
              e ? this.CACHE_FONT_SIZE + "px" : i.fontSize + "px",
              r
            ].join(" ");
          },
          render: function(t) {
            this.visible &&
              ((this.canvas &&
                this.canvas.skipOffscreen &&
                !this.group &&
                !this.isOnScreen()) ||
                (this._shouldClearDimensionCache() && this.initDimensions(),
                this.callSuper("render", t)));
          },
          _splitTextIntoLines: function(t) {
            for (
              var e = t.split(this._reNewline),
                i = new Array(e.length),
                r = ["\n"],
                n = [],
                s = 0;
              s < e.length;
              s++
            )
              (i[s] = d.util.string.graphemeSplit(e[s])),
                (n = n.concat(i[s], r));
            return (
              n.pop(),
              {
                _unwrappedLines: i,
                lines: e,
                graphemeText: n,
                graphemeLines: i
              }
            );
          },
          toObject: function(t) {
            var e = [
                "text",
                "fontSize",
                "fontWeight",
                "fontFamily",
                "fontStyle",
                "lineHeight",
                "underline",
                "overline",
                "linethrough",
                "textAlign",
                "textBackgroundColor",
                "charSpacing"
              ].concat(t),
              i = this.callSuper("toObject", e);
            return (i.styles = g(this.styles, !0)), i;
          },
          set: function(t, e) {
            this.callSuper("set", t, e);
            var i = !1;
            if ("object" == typeof t)
              for (var r in t)
                i = i || -1 !== this._dimensionAffectingProps.indexOf(r);
            else i = -1 !== this._dimensionAffectingProps.indexOf(t);
            return i && (this.initDimensions(), this.setCoords()), this;
          },
          complexity: function() {
            return 1;
          }
        })),
        (d.Text.ATTRIBUTE_NAMES = d.SHARED_ATTRIBUTES.concat(
          "x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(
            " "
          )
        )),
        (d.Text.DEFAULT_SVG_FONT_SIZE = 16),
        (d.Text.fromElement = function(t, e, i) {
          if (!t) return e(null);
          var r = d.parseAttributes(t, d.Text.ATTRIBUTE_NAMES),
            n = r.textAnchor || "left";
          if (
            (((i = d.util.object.extend(i ? g(i) : {}, r)).top = i.top || 0),
            (i.left = i.left || 0),
            r.textDecoration)
          ) {
            var s = r.textDecoration;
            -1 !== s.indexOf("underline") && (i.underline = !0),
              -1 !== s.indexOf("overline") && (i.overline = !0),
              -1 !== s.indexOf("line-through") && (i.linethrough = !0),
              delete i.textDecoration;
          }
          "dx" in r && (i.left += r.dx),
            "dy" in r && (i.top += r.dy),
            "fontSize" in i || (i.fontSize = d.Text.DEFAULT_SVG_FONT_SIZE);
          var o = "";
          "textContent" in t
            ? (o = t.textContent)
            : "firstChild" in t &&
              null !== t.firstChild &&
              "data" in t.firstChild &&
              null !== t.firstChild.data &&
              (o = t.firstChild.data),
            (o = o.replace(/^\s+|\s+$|\n+/g, "").replace(/\s+/g, " "));
          var a = i.strokeWidth;
          i.strokeWidth = 0;
          var h = new d.Text(o, i),
            c = h.getScaledHeight() / h.height,
            l = ((h.height + h.strokeWidth) * h.lineHeight - h.height) * c,
            u = h.getScaledHeight() + l,
            f = 0;
          "center" === n && (f = h.getScaledWidth() / 2),
            "right" === n && (f = h.getScaledWidth()),
            h.set({
              left: h.left - f,
              top:
                h.top -
                (u - h.fontSize * (0.07 + h._fontSizeFraction)) / h.lineHeight,
              strokeWidth: void 0 !== a ? a : 1
            }),
            e(h);
        }),
        (d.Text.fromObject = function(t, e) {
          return d.Object._fromObject("Text", t, e, "text");
        }),
        d.util.createAccessors && d.util.createAccessors(d.Text));
  })("undefined" != typeof exports ? exports : this),
  fabric.util.object.extend(fabric.Text.prototype, {
    isEmptyStyles: function(t) {
      if (!this.styles) return !0;
      if (void 0 !== t && !this.styles[t]) return !0;
      var e = void 0 === t ? this.styles : { line: this.styles[t] };
      for (var i in e) for (var r in e[i]) for (var n in e[i][r]) return !1;
      return !0;
    },
    styleHas: function(t, e) {
      if (!this.styles || !t || "" === t) return !1;
      if (void 0 !== e && !this.styles[e]) return !1;
      var i = void 0 === e ? this.styles : { line: this.styles[e] };
      for (var r in i) for (var n in i[r]) if (void 0 !== i[r][n][t]) return !0;
      return !1;
    },
    cleanStyle: function(t) {
      if (!this.styles || !t || "" === t) return !1;
      var e,
        i,
        r = this.styles,
        n = 0,
        s = !0,
        o = 0;
      for (var a in r) {
        for (var h in ((e = 0), r[a])) {
          var c;
          n++,
            (c = r[a][h]).hasOwnProperty(t)
              ? (i ? c[t] !== i && (s = !1) : (i = c[t]),
                c[t] === this[t] && delete c[t])
              : (s = !1),
            0 !== Object.keys(c).length ? e++ : delete r[a][h];
        }
        0 === e && delete r[a];
      }
      for (var l = 0; l < this._textLines.length; l++)
        o += this._textLines[l].length;
      s && n === o && ((this[t] = i), this.removeStyle(t));
    },
    removeStyle: function(t) {
      if (this.styles && t && "" !== t) {
        var e,
          i,
          r,
          n = this.styles;
        for (i in n) {
          for (r in (e = n[i]))
            delete e[r][t], 0 === Object.keys(e[r]).length && delete e[r];
          0 === Object.keys(e).length && delete n[i];
        }
      }
    },
    _extendStyles: function(t, e) {
      var i = this.get2DCursorLocation(t);
      this._getLineStyle(i.lineIndex) || this._setLineStyle(i.lineIndex, {}),
        this._getStyleDeclaration(i.lineIndex, i.charIndex) ||
          this._setStyleDeclaration(i.lineIndex, i.charIndex, {}),
        fabric.util.object.extend(
          this._getStyleDeclaration(i.lineIndex, i.charIndex),
          e
        );
    },
    get2DCursorLocation: function(t, e) {
      void 0 === t && (t = this.selectionStart);
      for (
        var i = e ? this._unwrappedTextLines : this._textLines,
          r = i.length,
          n = 0;
        n < r;
        n++
      ) {
        if (t <= i[n].length) return { lineIndex: n, charIndex: t };
        t -= i[n].length + 1;
      }
      return {
        lineIndex: n - 1,
        charIndex: i[n - 1].length < t ? i[n - 1].length : t
      };
    },
    getSelectionStyles: function(t, e, i) {
      void 0 === t && (t = this.selectionStart || 0),
        void 0 === e && (e = this.selectionEnd || t);
      for (var r = [], n = t; n < e; n++) r.push(this.getStyleAtPosition(n, i));
      return r;
    },
    getStyleAtPosition: function(t, e) {
      var i = this.get2DCursorLocation(t);
      return (
        (e
          ? this.getCompleteStyleDeclaration(i.lineIndex, i.charIndex)
          : this._getStyleDeclaration(i.lineIndex, i.charIndex)) || {}
      );
    },
    setSelectionStyles: function(t, e, i) {
      void 0 === e && (e = this.selectionStart || 0),
        void 0 === i && (i = this.selectionEnd || e);
      for (var r = e; r < i; r++) this._extendStyles(r, t);
      return (this._forceClearCache = !0), this;
    },
    _getStyleDeclaration: function(t, e) {
      var i = this.styles && this.styles[t];
      return i ? i[e] : null;
    },
    getCompleteStyleDeclaration: function(t, e) {
      for (
        var i, r = this._getStyleDeclaration(t, e) || {}, n = {}, s = 0;
        s < this._styleProperties.length;
        s++
      )
        n[(i = this._styleProperties[s])] = void 0 === r[i] ? this[i] : r[i];
      return n;
    },
    _setStyleDeclaration: function(t, e, i) {
      this.styles[t][e] = i;
    },
    _deleteStyleDeclaration: function(t, e) {
      delete this.styles[t][e];
    },
    _getLineStyle: function(t) {
      return this.styles[t];
    },
    _setLineStyle: function(t, e) {
      this.styles[t] = e;
    },
    _deleteLineStyle: function(t) {
      delete this.styles[t];
    }
  }),
  (function() {
    function n(t) {
      t.textDecoration &&
        (-1 < t.textDecoration.indexOf("underline") && (t.underline = !0),
        -1 < t.textDecoration.indexOf("line-through") && (t.linethrough = !0),
        -1 < t.textDecoration.indexOf("overline") && (t.overline = !0),
        delete t.textDecoration);
    }
    (fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, {
      type: "i-text",
      selectionStart: 0,
      selectionEnd: 0,
      selectionColor: "rgba(17,119,255,0.3)",
      isEditing: !1,
      editable: !0,
      editingBorderColor: "rgba(102,153,255,0.25)",
      cursorWidth: 2,
      cursorColor: "#333",
      cursorDelay: 1e3,
      cursorDuration: 600,
      caching: !0,
      _reSpace: /\s|\n/,
      _currentCursorOpacity: 0,
      _selectionDirection: null,
      _abortCursorAnimation: !1,
      __widthOfSpace: [],
      inCompositionMode: !1,
      initialize: function(t, e) {
        this.callSuper("initialize", t, e), this.initBehavior();
      },
      setSelectionStart: function(t) {
        (t = Math.max(t, 0)), this._updateAndFire("selectionStart", t);
      },
      setSelectionEnd: function(t) {
        (t = Math.min(t, this.text.length)),
          this._updateAndFire("selectionEnd", t);
      },
      _updateAndFire: function(t, e) {
        this[t] !== e && (this._fireSelectionChanged(), (this[t] = e)),
          this._updateTextarea();
      },
      _fireSelectionChanged: function() {
        this.fire("selection:changed"),
          this.canvas &&
            this.canvas.fire("text:selection:changed", { target: this });
      },
      initDimensions: function() {
        this.isEditing && this.initDelayedCursor(),
          this.clearContextTop(),
          this.callSuper("initDimensions");
      },
      render: function(t) {
        this.clearContextTop(),
          this.callSuper("render", t),
          (this.cursorOffsetCache = {}),
          this.renderCursorOrSelection();
      },
      _render: function(t) {
        this.callSuper("_render", t);
      },
      clearContextTop: function(t) {
        if (this.isEditing && this.canvas && this.canvas.contextTop) {
          var e = this.canvas.contextTop,
            i = this.canvas.viewportTransform;
          e.save(),
            e.transform(i[0], i[1], i[2], i[3], i[4], i[5]),
            this.transform(e),
            this.transformMatrix && e.transform.apply(e, this.transformMatrix),
            this._clearTextArea(e),
            t || e.restore();
        }
      },
      renderCursorOrSelection: function() {
        if (this.isEditing && this.canvas) {
          var t,
            e = this._getCursorBoundaries();
          this.canvas && this.canvas.contextTop
            ? ((t = this.canvas.contextTop), this.clearContextTop(!0))
            : (t = this.canvas.contextContainer).save(),
            this.selectionStart === this.selectionEnd
              ? this.renderCursor(e, t)
              : this.renderSelection(e, t),
            t.restore();
        }
      },
      _clearTextArea: function(t) {
        var e = this.width + 4,
          i = this.height + 4;
        t.clearRect(-e / 2, -i / 2, e, i);
      },
      _getCursorBoundaries: function(t) {
        void 0 === t && (t = this.selectionStart);
        var e = this._getLeftOffset(),
          i = this._getTopOffset(),
          r = this._getCursorBoundariesOffsets(t);
        return { left: e, top: i, leftOffset: r.left, topOffset: r.top };
      },
      _getCursorBoundariesOffsets: function(t) {
        if (this.cursorOffsetCache && "top" in this.cursorOffsetCache)
          return this.cursorOffsetCache;
        var e,
          i,
          r,
          n,
          s = 0,
          o = 0,
          a = this.get2DCursorLocation(t);
        (r = a.charIndex), (i = a.lineIndex);
        for (var h = 0; h < i; h++) s += this.getHeightOfLine(h);
        e = this._getLineLeftOffset(i);
        var c = this.__charBounds[i][r];
        return (
          c && (o = c.left),
          0 !== this.charSpacing &&
            r === this._textLines[i].length &&
            (o -= this._getWidthOfCharSpacing()),
          (n = { top: s, left: e + (0 < o ? o : 0) }),
          (this.cursorOffsetCache = n),
          this.cursorOffsetCache
        );
      },
      renderCursor: function(t, e) {
        var i = this.get2DCursorLocation(),
          r = i.lineIndex,
          n = 0 < i.charIndex ? i.charIndex - 1 : 0,
          s = this.getValueOfPropertyAt(r, n, "fontSize"),
          o = this.scaleX * this.canvas.getZoom(),
          a = this.cursorWidth / o,
          h = t.topOffset,
          c = this.getValueOfPropertyAt(r, n, "deltaY");
        (h +=
          (1 - this._fontSizeFraction) *
            this.getHeightOfLine(r) /
            this.lineHeight -
          s * (1 - this._fontSizeFraction)),
          this.inCompositionMode && this.renderSelection(t, e),
          (e.fillStyle = this.getValueOfPropertyAt(r, n, "fill")),
          (e.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity),
          e.fillRect(t.left + t.leftOffset - a / 2, h + t.top + c, a, s);
      },
      renderSelection: function(t, e) {
        for (
          var i = this.inCompositionMode
              ? this.hiddenTextarea.selectionStart
              : this.selectionStart,
            r = this.inCompositionMode
              ? this.hiddenTextarea.selectionEnd
              : this.selectionEnd,
            n = -1 !== this.textAlign.indexOf("justify"),
            s = this.get2DCursorLocation(i),
            o = this.get2DCursorLocation(r),
            a = s.lineIndex,
            h = o.lineIndex,
            c = s.charIndex < 0 ? 0 : s.charIndex,
            l = o.charIndex < 0 ? 0 : o.charIndex,
            u = a;
          u <= h;
          u++
        ) {
          var f,
            d = this._getLineLeftOffset(u) || 0,
            g = this.getHeightOfLine(u),
            p = 0,
            v = 0;
          if ((u === a && (p = this.__charBounds[a][c].left), a <= u && u < h))
            v =
              n && !this.isEndOfWrapping(u)
                ? this.width
                : this.getLineWidth(u) || 5;
          else if (u === h)
            if (0 === l) v = this.__charBounds[h][l].left;
            else {
              var m = this._getWidthOfCharSpacing();
              v =
                this.__charBounds[h][l - 1].left +
                this.__charBounds[h][l - 1].width -
                m;
            }
          (f = g),
            (this.lineHeight < 1 || (u === h && 1 < this.lineHeight)) &&
              (g /= this.lineHeight),
            this.inCompositionMode
              ? ((e.fillStyle = this.compositionColor || "black"),
                e.fillRect(t.left + d + p, t.top + t.topOffset + g, v - p, 1))
              : ((e.fillStyle = this.selectionColor),
                e.fillRect(t.left + d + p, t.top + t.topOffset, v - p, g)),
            (t.topOffset += f);
        }
      },
      getCurrentCharFontSize: function() {
        var t = this._getCurrentCharIndex();
        return this.getValueOfPropertyAt(t.l, t.c, "fontSize");
      },
      getCurrentCharColor: function() {
        var t = this._getCurrentCharIndex();
        return this.getValueOfPropertyAt(t.l, t.c, "fill");
      },
      _getCurrentCharIndex: function() {
        var t = this.get2DCursorLocation(this.selectionStart, !0),
          e = 0 < t.charIndex ? t.charIndex - 1 : 0;
        return { l: t.lineIndex, c: e };
      }
    })),
      (fabric.IText.fromObject = function(t, e) {
        if ((n(t), t.styles))
          for (var i in t.styles) for (var r in t.styles[i]) n(t.styles[i][r]);
        fabric.Object._fromObject("IText", t, e, "text");
      });
  })(),
  (function() {
    var c = fabric.util.object.clone;
    fabric.util.object.extend(fabric.IText.prototype, {
      initBehavior: function() {
        this.initAddedHandler(),
          this.initRemovedHandler(),
          this.initCursorSelectionHandlers(),
          this.initDoubleClickSimulation(),
          (this.mouseMoveHandler = this.mouseMoveHandler.bind(this));
      },
      onDeselect: function() {
        this.isEditing && this.exitEditing(), (this.selected = !1);
      },
      initAddedHandler: function() {
        var e = this;
        this.on("added", function() {
          var t = e.canvas;
          t &&
            (t._hasITextHandlers ||
              ((t._hasITextHandlers = !0), e._initCanvasHandlers(t)),
            (t._iTextInstances = t._iTextInstances || []),
            t._iTextInstances.push(e));
        });
      },
      initRemovedHandler: function() {
        var e = this;
        this.on("removed", function() {
          var t = e.canvas;
          t &&
            ((t._iTextInstances = t._iTextInstances || []),
            fabric.util.removeFromArray(t._iTextInstances, e),
            0 === t._iTextInstances.length &&
              ((t._hasITextHandlers = !1), e._removeCanvasHandlers(t)));
        });
      },
      _initCanvasHandlers: function(t) {
        (t._mouseUpITextHandler = function() {
          t._iTextInstances &&
            t._iTextInstances.forEach(function(t) {
              t.__isMousedown = !1;
            });
        }),
          t.on("mouse:up", t._mouseUpITextHandler);
      },
      _removeCanvasHandlers: function(t) {
        t.off("mouse:up", t._mouseUpITextHandler);
      },
      _tick: function() {
        this._currentTickState = this._animateCursor(
          this,
          1,
          this.cursorDuration,
          "_onTickComplete"
        );
      },
      _animateCursor: function(t, e, i, r) {
        var n;
        return (
          (n = {
            isAborted: !1,
            abort: function() {
              this.isAborted = !0;
            }
          }),
          t.animate("_currentCursorOpacity", e, {
            duration: i,
            onComplete: function() {
              n.isAborted || t[r]();
            },
            onChange: function() {
              t.canvas &&
                t.selectionStart === t.selectionEnd &&
                t.renderCursorOrSelection();
            },
            abort: function() {
              return n.isAborted;
            }
          }),
          n
        );
      },
      _onTickComplete: function() {
        var t = this;
        this._cursorTimeout1 && clearTimeout(this._cursorTimeout1),
          (this._cursorTimeout1 = setTimeout(function() {
            t._currentTickCompleteState = t._animateCursor(
              t,
              0,
              this.cursorDuration / 2,
              "_tick"
            );
          }, 100));
      },
      initDelayedCursor: function(t) {
        var e = this,
          i = t ? 0 : this.cursorDelay;
        this.abortCursorAnimation(),
          (this._currentCursorOpacity = 1),
          (this._cursorTimeout2 = setTimeout(function() {
            e._tick();
          }, i));
      },
      abortCursorAnimation: function() {
        var t = this._currentTickState || this._currentTickCompleteState,
          e = this.canvas;
        this._currentTickState && this._currentTickState.abort(),
          this._currentTickCompleteState &&
            this._currentTickCompleteState.abort(),
          clearTimeout(this._cursorTimeout1),
          clearTimeout(this._cursorTimeout2),
          (this._currentCursorOpacity = 0),
          t && e && e.clearContext(e.contextTop || e.contextContainer);
      },
      selectAll: function() {
        return (
          (this.selectionStart = 0),
          (this.selectionEnd = this._text.length),
          this._fireSelectionChanged(),
          this._updateTextarea(),
          this
        );
      },
      getSelectedText: function() {
        return this._text
          .slice(this.selectionStart, this.selectionEnd)
          .join("");
      },
      findWordBoundaryLeft: function(t) {
        var e = 0,
          i = t - 1;
        if (this._reSpace.test(this._text[i]))
          for (; this._reSpace.test(this._text[i]); ) e++, i--;
        for (; /\S/.test(this._text[i]) && -1 < i; ) e++, i--;
        return t - e;
      },
      findWordBoundaryRight: function(t) {
        var e = 0,
          i = t;
        if (this._reSpace.test(this._text[i]))
          for (; this._reSpace.test(this._text[i]); ) e++, i++;
        for (; /\S/.test(this._text[i]) && i < this.text.length; ) e++, i++;
        return t + e;
      },
      findLineBoundaryLeft: function(t) {
        for (var e = 0, i = t - 1; !/\n/.test(this._text[i]) && -1 < i; )
          e++, i--;
        return t - e;
      },
      findLineBoundaryRight: function(t) {
        for (
          var e = 0, i = t;
          !/\n/.test(this._text[i]) && i < this.text.length;

        )
          e++, i++;
        return t + e;
      },
      searchWordBoundary: function(t, e) {
        for (
          var i = this._reSpace.test(this.text.charAt(t)) ? t - 1 : t,
            r = this.text.charAt(i),
            n = /[ \n\.,;!\?\-]/;
          !n.test(r) && 0 < i && i < this.text.length;

        )
          (i += e), (r = this.text.charAt(i));
        return n.test(r) && "\n" !== r && (i += 1 === e ? 0 : 1), i;
      },
      selectWord: function(t) {
        t = t || this.selectionStart;
        var e = this.searchWordBoundary(t, -1),
          i = this.searchWordBoundary(t, 1);
        (this.selectionStart = e),
          (this.selectionEnd = i),
          this._fireSelectionChanged(),
          this._updateTextarea(),
          this.renderCursorOrSelection();
      },
      selectLine: function(t) {
        t = t || this.selectionStart;
        var e = this.findLineBoundaryLeft(t),
          i = this.findLineBoundaryRight(t);
        return (
          (this.selectionStart = e),
          (this.selectionEnd = i),
          this._fireSelectionChanged(),
          this._updateTextarea(),
          this
        );
      },
      enterEditing: function(t) {
        if (!this.isEditing && this.editable)
          return (
            this.canvas &&
              (this.canvas.calcOffset(), this.exitEditingOnOthers(this.canvas)),
            (this.isEditing = !0),
            this.initHiddenTextarea(t),
            this.hiddenTextarea.focus(),
            (this.hiddenTextarea.value = this.text),
            this._updateTextarea(),
            this._saveEditingProps(),
            this._setEditingProps(),
            (this._textBeforeEdit = this.text),
            this._tick(),
            this.fire("editing:entered"),
            this._fireSelectionChanged(),
            this.canvas &&
              (this.canvas.fire("text:editing:entered", { target: this }),
              this.initMouseMoveHandler(),
              this.canvas.requestRenderAll()),
            this
          );
      },
      exitEditingOnOthers: function(t) {
        t._iTextInstances &&
          t._iTextInstances.forEach(function(t) {
            (t.selected = !1), t.isEditing && t.exitEditing();
          });
      },
      initMouseMoveHandler: function() {
        this.canvas.on("mouse:move", this.mouseMoveHandler);
      },
      mouseMoveHandler: function(t) {
        if (this.__isMousedown && this.isEditing) {
          var e = this.getSelectionStartFromPointer(t.e),
            i = this.selectionStart,
            r = this.selectionEnd;
          ((e === this.__selectionStartOnMouseDown && i !== r) ||
            (i !== e && r !== e)) &&
            (e > this.__selectionStartOnMouseDown
              ? ((this.selectionStart = this.__selectionStartOnMouseDown),
                (this.selectionEnd = e))
              : ((this.selectionStart = e),
                (this.selectionEnd = this.__selectionStartOnMouseDown)),
            (this.selectionStart === i && this.selectionEnd === r) ||
              (this.restartCursorIfNeeded(),
              this._fireSelectionChanged(),
              this._updateTextarea(),
              this.renderCursorOrSelection()));
        }
      },
      _setEditingProps: function() {
        (this.hoverCursor = "text"),
          this.canvas &&
            (this.canvas.defaultCursor = this.canvas.moveCursor = "text"),
          (this.borderColor = this.editingBorderColor),
          (this.hasControls = this.selectable = !1),
          (this.lockMovementX = this.lockMovementY = !0);
      },
      fromStringToGraphemeSelection: function(t, e, i) {
        var r = i.slice(0, t),
          n = fabric.util.string.graphemeSplit(r).length;
        if (t === e) return { selectionStart: n, selectionEnd: n };
        var s = i.slice(t, e);
        return {
          selectionStart: n,
          selectionEnd: n + fabric.util.string.graphemeSplit(s).length
        };
      },
      fromGraphemeToStringSelection: function(t, e, i) {
        var r = i.slice(0, t).join("").length;
        return t === e
          ? { selectionStart: r, selectionEnd: r }
          : {
              selectionStart: r,
              selectionEnd: r + i.slice(t, e).join("").length
            };
      },
      _updateTextarea: function() {
        if (((this.cursorOffsetCache = {}), this.hiddenTextarea)) {
          if (!this.inCompositionMode) {
            var t = this.fromGraphemeToStringSelection(
              this.selectionStart,
              this.selectionEnd,
              this._text
            );
            (this.hiddenTextarea.selectionStart = t.selectionStart),
              (this.hiddenTextarea.selectionEnd = t.selectionEnd);
          }
          this.updateTextareaPosition();
        }
      },
      updateFromTextArea: function() {
        if (this.hiddenTextarea) {
          (this.cursorOffsetCache = {}),
            (this.text = this.hiddenTextarea.value),
            this._shouldClearDimensionCache() &&
              (this.initDimensions(), this.setCoords());
          var t = this.fromStringToGraphemeSelection(
            this.hiddenTextarea.selectionStart,
            this.hiddenTextarea.selectionEnd,
            this.hiddenTextarea.value
          );
          (this.selectionEnd = this.selectionStart = t.selectionEnd),
            this.inCompositionMode || (this.selectionStart = t.selectionStart),
            this.updateTextareaPosition();
        }
      },
      updateTextareaPosition: function() {
        if (this.selectionStart === this.selectionEnd) {
          var t = this._calcTextareaPosition();
          (this.hiddenTextarea.style.left = t.left),
            (this.hiddenTextarea.style.top = t.top);
        }
      },
      _calcTextareaPosition: function() {
        if (!this.canvas) return { x: 1, y: 1 };
        var t = this.inCompositionMode
            ? this.compositionStart
            : this.selectionStart,
          e = this._getCursorBoundaries(t),
          i = this.get2DCursorLocation(t),
          r = i.lineIndex,
          n = i.charIndex,
          s = this.getValueOfPropertyAt(r, n, "fontSize") * this.lineHeight,
          o = e.leftOffset,
          a = this.calcTransformMatrix(),
          h = { x: e.left + o, y: e.top + e.topOffset + s },
          c = this.canvas.upperCanvasEl,
          l = c.width,
          u = c.height,
          f = l - s,
          d = u - s,
          g = c.clientWidth / l,
          p = c.clientHeight / u;
        return (
          (h = fabric.util.transformPoint(h, a)),
          ((h = fabric.util.transformPoint(
            h,
            this.canvas.viewportTransform
          )).x *= g),
          (h.y *= p),
          h.x < 0 && (h.x = 0),
          h.x > f && (h.x = f),
          h.y < 0 && (h.y = 0),
          h.y > d && (h.y = d),
          (h.x += this.canvas._offset.left),
          (h.y += this.canvas._offset.top),
          {
            left: h.x + "px",
            top: h.y + "px",
            fontSize: s + "px",
            charHeight: s
          }
        );
      },
      _saveEditingProps: function() {
        this._savedProps = {
          hasControls: this.hasControls,
          borderColor: this.borderColor,
          lockMovementX: this.lockMovementX,
          lockMovementY: this.lockMovementY,
          hoverCursor: this.hoverCursor,
          defaultCursor: this.canvas && this.canvas.defaultCursor,
          moveCursor: this.canvas && this.canvas.moveCursor
        };
      },
      _restoreEditingProps: function() {
        this._savedProps &&
          ((this.hoverCursor = this._savedProps.hoverCursor),
          (this.hasControls = this._savedProps.hasControls),
          (this.borderColor = this._savedProps.borderColor),
          (this.lockMovementX = this._savedProps.lockMovementX),
          (this.lockMovementY = this._savedProps.lockMovementY),
          this.canvas &&
            ((this.canvas.defaultCursor = this._savedProps.defaultCursor),
            (this.canvas.moveCursor = this._savedProps.moveCursor)));
      },
      exitEditing: function() {
        var t = this._textBeforeEdit !== this.text;
        return (
          (this.selected = !1),
          (this.isEditing = !1),
          (this.selectable = !0),
          (this.selectionEnd = this.selectionStart),
          this.hiddenTextarea &&
            (this.hiddenTextarea.blur && this.hiddenTextarea.blur(),
            this.canvas &&
              this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),
            (this.hiddenTextarea = null)),
          this.abortCursorAnimation(),
          this._restoreEditingProps(),
          (this._currentCursorOpacity = 0),
          this._shouldClearDimensionCache() &&
            (this.initDimensions(), this.setCoords()),
          this.fire("editing:exited"),
          t && this.fire("modified"),
          this.canvas &&
            (this.canvas.off("mouse:move", this.mouseMoveHandler),
            this.canvas.fire("text:editing:exited", { target: this }),
            t && this.canvas.fire("object:modified", { target: this })),
          this
        );
      },
      _removeExtraneousStyles: function() {
        for (var t in this.styles) this._textLines[t] || delete this.styles[t];
      },
      removeStyleFromTo: function(t, e) {
        var i,
          r,
          n = this.get2DCursorLocation(t, !0),
          s = this.get2DCursorLocation(e, !0),
          o = n.lineIndex,
          a = n.charIndex,
          h = s.lineIndex,
          c = s.charIndex;
        if (o !== h) {
          if (this.styles[o])
            for (i = a; i < this._unwrappedTextLines[o].length; i++)
              delete this.styles[o][i];
          if (this.styles[h])
            for (i = c; i < this._unwrappedTextLines[h].length; i++)
              (r = this.styles[h][i]) &&
                (this.styles[o] || (this.styles[o] = {}),
                (this.styles[o][a + i - c] = r));
          for (i = o + 1; i <= h; i++) delete this.styles[i];
          this.shiftLineStyles(h, o - h);
        } else if (this.styles[o]) {
          r = this.styles[o];
          var l,
            u,
            f = c - a;
          for (i = a; i < c; i++) delete r[i];
          for (u in this.styles[o])
            c <= (l = parseInt(u, 10)) && ((r[l - f] = r[u]), delete r[u]);
        }
      },
      shiftLineStyles: function(t, e) {
        var i = c(this.styles);
        for (var r in this.styles) {
          var n = parseInt(r, 10);
          t < n &&
            ((this.styles[n + e] = i[n]), i[n - e] || delete this.styles[n]);
        }
      },
      restartCursorIfNeeded: function() {
        (this._currentTickState &&
          !this._currentTickState.isAborted &&
          this._currentTickCompleteState &&
          !this._currentTickCompleteState.isAborted) ||
          this.initDelayedCursor();
      },
      insertNewlineStyleObject: function(t, e, i, r) {
        var n,
          s = {},
          o = !1;
        for (var a in (i || (i = 1),
        this.shiftLineStyles(t, i),
        this.styles[t] && (n = this.styles[t][0 === e ? e : e - 1]),
        this.styles[t])) {
          var h = parseInt(a, 10);
          e <= h &&
            ((o = !0),
            (s[h - e] = this.styles[t][a]),
            delete this.styles[t][a]);
        }
        for (o ? (this.styles[t + i] = s) : delete this.styles[t + i]; 1 < i; )
          i--,
            r && r[i]
              ? (this.styles[t + i] = { 0: c(r[i]) })
              : n
                ? (this.styles[t + i] = { 0: c(n) })
                : delete this.styles[t + i];
        this._forceClearCache = !0;
      },
      insertCharStyleObject: function(t, e, i, r) {
        this.styles || (this.styles = {});
        var n = this.styles[t],
          s = n ? c(n) : {};
        for (var o in (i || (i = 1), s)) {
          var a = parseInt(o, 10);
          e <= a && ((n[a + i] = s[a]), s[a - i] || delete n[a]);
        }
        if (((this._forceClearCache = !0), r))
          for (; i--; )
            Object.keys(r[i]).length &&
              (this.styles[t] || (this.styles[t] = {}),
              (this.styles[t][e + i] = c(r[i])));
        else if (n)
          for (var h = n[e ? e - 1 : 1]; h && i--; )
            this.styles[t][e + i] = c(h);
      },
      insertNewStyleBlock: function(t, e, i) {
        for (
          var r = this.get2DCursorLocation(e, !0), n = [0], s = 0, o = 0;
          o < t.length;
          o++
        )
          "\n" === t[o] ? (n[++s] = 0) : n[s]++;
        0 < n[0] &&
          (this.insertCharStyleObject(r.lineIndex, r.charIndex, n[0], i),
          (i = i && i.slice(n[0] + 1))),
          s &&
            this.insertNewlineStyleObject(r.lineIndex, r.charIndex + n[0], s);
        for (o = 1; o < s; o++)
          0 < n[o]
            ? this.insertCharStyleObject(r.lineIndex + o, 0, n[o], i)
            : i && (this.styles[r.lineIndex + o][0] = i[0]),
            (i = i && i.slice(n[o] + 1));
        0 < n[o] && this.insertCharStyleObject(r.lineIndex + o, 0, n[o], i);
      },
      setSelectionStartEndWithShift: function(t, e, i) {
        i <= t
          ? (e === t
              ? (this._selectionDirection = "left")
              : "right" === this._selectionDirection &&
                ((this._selectionDirection = "left"), (this.selectionEnd = t)),
            (this.selectionStart = i))
          : t < i && i < e
            ? "right" === this._selectionDirection
              ? (this.selectionEnd = i)
              : (this.selectionStart = i)
            : (e === t
                ? (this._selectionDirection = "right")
                : "left" === this._selectionDirection &&
                  ((this._selectionDirection = "right"),
                  (this.selectionStart = e)),
              (this.selectionEnd = i));
      },
      setSelectionInBoundaries: function() {
        var t = this.text.length;
        this.selectionStart > t
          ? (this.selectionStart = t)
          : this.selectionStart < 0 && (this.selectionStart = 0),
          this.selectionEnd > t
            ? (this.selectionEnd = t)
            : this.selectionEnd < 0 && (this.selectionEnd = 0);
      }
    });
  })(),
  fabric.util.object.extend(fabric.IText.prototype, {
    initDoubleClickSimulation: function() {
      (this.__lastClickTime = +new Date()),
        (this.__lastLastClickTime = +new Date()),
        (this.__lastPointer = {}),
        this.on("mousedown", this.onMouseDown);
    },
    onMouseDown: function(t) {
      if (this.canvas) {
        this.__newClickTime = +new Date();
        var e = t.pointer;
        this.isTripleClick(e) &&
          (this.fire("tripleclick", t), this._stopEvent(t.e)),
          (this.__lastLastClickTime = this.__lastClickTime),
          (this.__lastClickTime = this.__newClickTime),
          (this.__lastPointer = e),
          (this.__lastIsEditing = this.isEditing),
          (this.__lastSelected = this.selected);
      }
    },
    isTripleClick: function(t) {
      return (
        this.__newClickTime - this.__lastClickTime < 500 &&
        this.__lastClickTime - this.__lastLastClickTime < 500 &&
        this.__lastPointer.x === t.x &&
        this.__lastPointer.y === t.y
      );
    },
    _stopEvent: function(t) {
      t.preventDefault && t.preventDefault(),
        t.stopPropagation && t.stopPropagation();
    },
    initCursorSelectionHandlers: function() {
      this.initMousedownHandler(), this.initMouseupHandler(), this.initClicks();
    },
    initClicks: function() {
      this.on("mousedblclick", function(t) {
        this.selectWord(this.getSelectionStartFromPointer(t.e));
      }),
        this.on("tripleclick", function(t) {
          this.selectLine(this.getSelectionStartFromPointer(t.e));
        });
    },
    _mouseDownHandler: function(t) {
      !this.canvas ||
        !this.editable ||
        (t.e.button && 1 !== t.e.button) ||
        ((this.__isMousedown = !0),
        this.selected && this.setCursorByClick(t.e),
        this.isEditing &&
          ((this.__selectionStartOnMouseDown = this.selectionStart),
          this.selectionStart === this.selectionEnd &&
            this.abortCursorAnimation(),
          this.renderCursorOrSelection()));
    },
    _mouseDownHandlerBefore: function(t) {
      !this.canvas ||
        !this.editable ||
        (t.e.button && 1 !== t.e.button) ||
        (this === this.canvas._activeObject && (this.selected = !0));
    },
    initMousedownHandler: function() {
      this.on("mousedown", this._mouseDownHandler),
        this.on("mousedown:before", this._mouseDownHandlerBefore);
    },
    initMouseupHandler: function() {
      this.on("mouseup", this.mouseUpHandler);
    },
    mouseUpHandler: function(t) {
      (this.__isMousedown = !1),
        !this.editable ||
          (t.transform && t.transform.actionPerformed) ||
          (t.e.button && 1 !== t.e.button) ||
          (this.__lastSelected &&
            !this.__corner &&
            (this.enterEditing(t.e),
            this.selectionStart === this.selectionEnd
              ? this.initDelayedCursor(!0)
              : this.renderCursorOrSelection()),
          (this.selected = !0));
    },
    setCursorByClick: function(t) {
      var e = this.getSelectionStartFromPointer(t),
        i = this.selectionStart,
        r = this.selectionEnd;
      t.shiftKey
        ? this.setSelectionStartEndWithShift(i, r, e)
        : ((this.selectionStart = e), (this.selectionEnd = e)),
        this.isEditing &&
          (this._fireSelectionChanged(), this._updateTextarea());
    },
    getSelectionStartFromPointer: function(t) {
      for (
        var e = this.getLocalPointer(t),
          i = 0,
          r = 0,
          n = 0,
          s = 0,
          o = 0,
          a = 0,
          h = this._textLines.length;
        a < h && n <= e.y;
        a++
      )
        (n += this.getHeightOfLine(a) * this.scaleY),
          0 < (o = a) && (s += this._textLines[a - 1].length + 1);
      r = this._getLineLeftOffset(o) * this.scaleX;
      for (
        var c = 0, l = this._textLines[o].length;
        c < l &&
        ((i = r),
        (r += this.__charBounds[o][c].kernedWidth * this.scaleX) <= e.x);
        c++
      )
        s++;
      return this._getNewSelectionStartFromOffset(e, i, r, s, l);
    },
    _getNewSelectionStartFromOffset: function(t, e, i, r, n) {
      var s = t.x - e,
        o = i - t.x,
        a = r + (s < o || o < 0 ? 0 : 1);
      return (
        this.flipX && (a = n - a),
        a > this._text.length && (a = this._text.length),
        a
      );
    }
  }),
  fabric.util.object.extend(fabric.IText.prototype, {
    initHiddenTextarea: function() {
      (this.hiddenTextarea = fabric.document.createElement("textarea")),
        this.hiddenTextarea.setAttribute("autocapitalize", "off"),
        this.hiddenTextarea.setAttribute("autocorrect", "off"),
        this.hiddenTextarea.setAttribute("autocomplete", "off"),
        this.hiddenTextarea.setAttribute("spellcheck", "false"),
        this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea", ""),
        this.hiddenTextarea.setAttribute("wrap", "off");
      var t = this._calcTextareaPosition();
      (this.hiddenTextarea.style.cssText =
        "position: absolute; top: " +
        t.top +
        "; left: " +
        t.left +
        "; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; paddingｰtop: " +
        t.fontSize +
        ";"),
        fabric.document.body.appendChild(this.hiddenTextarea),
        fabric.util.addListener(
          this.hiddenTextarea,
          "keydown",
          this.onKeyDown.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "keyup",
          this.onKeyUp.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "input",
          this.onInput.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "copy",
          this.copy.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "cut",
          this.copy.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "paste",
          this.paste.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "compositionstart",
          this.onCompositionStart.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "compositionupdate",
          this.onCompositionUpdate.bind(this)
        ),
        fabric.util.addListener(
          this.hiddenTextarea,
          "compositionend",
          this.onCompositionEnd.bind(this)
        ),
        !this._clickHandlerInitialized &&
          this.canvas &&
          (fabric.util.addListener(
            this.canvas.upperCanvasEl,
            "click",
            this.onClick.bind(this)
          ),
          (this._clickHandlerInitialized = !0));
    },
    keysMap: {
      9: "exitEditing",
      27: "exitEditing",
      33: "moveCursorUp",
      34: "moveCursorDown",
      35: "moveCursorRight",
      36: "moveCursorLeft",
      37: "moveCursorLeft",
      38: "moveCursorUp",
      39: "moveCursorRight",
      40: "moveCursorDown"
    },
    ctrlKeysMapUp: { 67: "copy", 88: "cut" },
    ctrlKeysMapDown: { 65: "selectAll" },
    onClick: function() {
      this.hiddenTextarea && this.hiddenTextarea.focus();
    },
    onKeyDown: function(t) {
      if (this.isEditing && !this.inCompositionMode) {
        if (t.keyCode in this.keysMap) this[this.keysMap[t.keyCode]](t);
        else {
          if (!(t.keyCode in this.ctrlKeysMapDown && (t.ctrlKey || t.metaKey)))
            return;
          this[this.ctrlKeysMapDown[t.keyCode]](t);
        }
        t.stopImmediatePropagation(),
          t.preventDefault(),
          33 <= t.keyCode && t.keyCode <= 40
            ? (this.clearContextTop(), this.renderCursorOrSelection())
            : this.canvas && this.canvas.requestRenderAll();
      }
    },
    onKeyUp: function(t) {
      !this.isEditing || this._copyDone || this.inCompositionMode
        ? (this._copyDone = !1)
        : t.keyCode in this.ctrlKeysMapUp &&
          (t.ctrlKey || t.metaKey) &&
          (this[this.ctrlKeysMapUp[t.keyCode]](t),
          t.stopImmediatePropagation(),
          t.preventDefault(),
          this.canvas && this.canvas.requestRenderAll());
    },
    onInput: function(t) {
      var e = this.fromPaste;
      if (((this.fromPaste = !1), t && t.stopPropagation(), this.isEditing)) {
        var i,
          r,
          n = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,
          s = this._text.length,
          o = n.length,
          a = o - s;
        if ("" === this.hiddenTextarea.value)
          return (
            (this.styles = {}),
            this.updateFromTextArea(),
            this.fire("changed"),
            void (
              this.canvas &&
              (this.canvas.fire("text:changed", { target: this }),
              this.canvas.requestRenderAll())
            )
          );
        var h = this.fromStringToGraphemeSelection(
            this.hiddenTextarea.selectionStart,
            this.hiddenTextarea.selectionEnd,
            this.hiddenTextarea.value
          ),
          c = this.selectionStart > h.selectionStart;
        this.selectionStart !== this.selectionEnd
          ? ((i = this._text.slice(this.selectionStart, this.selectionEnd)),
            (a += this.selectionEnd - this.selectionStart))
          : o < s &&
            (i = c
              ? this._text.slice(this.selectionEnd + a, this.selectionEnd)
              : this._text.slice(this.selectionStart, this.selectionStart - a)),
          (r = n.slice(h.selectionEnd - a, h.selectionEnd)),
          i &&
            i.length &&
            (this.selectionStart !== this.selectionEnd
              ? this.removeStyleFromTo(this.selectionStart, this.selectionEnd)
              : c
                ? this.removeStyleFromTo(
                    this.selectionEnd - i.length,
                    this.selectionEnd
                  )
                : this.removeStyleFromTo(
                    this.selectionEnd,
                    this.selectionEnd + i.length
                  )),
          r.length &&
            (e && r.join("") === fabric.copiedText
              ? this.insertNewStyleBlock(
                  r,
                  this.selectionStart,
                  fabric.copiedTextStyle
                )
              : this.insertNewStyleBlock(r, this.selectionStart)),
          this.updateFromTextArea(),
          this.fire("changed"),
          this.canvas &&
            (this.canvas.fire("text:changed", { target: this }),
            this.canvas.requestRenderAll());
      }
    },
    onCompositionStart: function() {
      this.inCompositionMode = !0;
    },
    onCompositionEnd: function() {
      this.inCompositionMode = !1;
    },
    onCompositionUpdate: function(t) {
      (this.compositionStart = t.target.selectionStart),
        (this.compositionEnd = t.target.selectionEnd),
        this.updateTextareaPosition();
    },
    copy: function() {
      this.selectionStart !== this.selectionEnd &&
        ((fabric.copiedText = this.getSelectedText()),
        (fabric.copiedTextStyle = this.getSelectionStyles(
          this.selectionStart,
          this.selectionEnd,
          !0
        )),
        (this._copyDone = !0));
    },
    paste: function() {
      this.fromPaste = !0;
    },
    _getClipboardData: function(t) {
      return (t && t.clipboardData) || fabric.window.clipboardData;
    },
    _getWidthBeforeCursor: function(t, e) {
      var i,
        r = this._getLineLeftOffset(t);
      return (
        0 < e && (r += (i = this.__charBounds[t][e - 1]).left + i.width), r
      );
    },
    getDownCursorOffset: function(t, e) {
      var i = this._getSelectionForOffset(t, e),
        r = this.get2DCursorLocation(i),
        n = r.lineIndex;
      if (n === this._textLines.length - 1 || t.metaKey || 34 === t.keyCode)
        return this._text.length - i;
      var s = r.charIndex,
        o = this._getWidthBeforeCursor(n, s),
        a = this._getIndexOnLine(n + 1, o);
      return this._textLines[n].slice(s).length + a + 2;
    },
    _getSelectionForOffset: function(t, e) {
      return t.shiftKey && this.selectionStart !== this.selectionEnd && e
        ? this.selectionEnd
        : this.selectionStart;
    },
    getUpCursorOffset: function(t, e) {
      var i = this._getSelectionForOffset(t, e),
        r = this.get2DCursorLocation(i),
        n = r.lineIndex;
      if (0 === n || t.metaKey || 33 === t.keyCode) return -i;
      var s = r.charIndex,
        o = this._getWidthBeforeCursor(n, s),
        a = this._getIndexOnLine(n - 1, o),
        h = this._textLines[n].slice(0, s);
      return -this._textLines[n - 1].length + a - h.length;
    },
    _getIndexOnLine: function(t, e) {
      for (
        var i,
          r,
          n = this._textLines[t],
          s = this._getLineLeftOffset(t),
          o = 0,
          a = 0,
          h = n.length;
        a < h;
        a++
      )
        if (e < (s += i = this.__charBounds[t][a].width)) {
          r = !0;
          var c = s - i,
            l = s,
            u = Math.abs(c - e);
          o = Math.abs(l - e) < u ? a : a - 1;
          break;
        }
      return r || (o = n.length - 1), o;
    },
    moveCursorDown: function(t) {
      (this.selectionStart >= this._text.length &&
        this.selectionEnd >= this._text.length) ||
        this._moveCursorUpOrDown("Down", t);
    },
    moveCursorUp: function(t) {
      (0 === this.selectionStart && 0 === this.selectionEnd) ||
        this._moveCursorUpOrDown("Up", t);
    },
    _moveCursorUpOrDown: function(t, e) {
      var i = this["get" + t + "CursorOffset"](
        e,
        "right" === this._selectionDirection
      );
      e.shiftKey ? this.moveCursorWithShift(i) : this.moveCursorWithoutShift(i),
        0 !== i &&
          (this.setSelectionInBoundaries(),
          this.abortCursorAnimation(),
          (this._currentCursorOpacity = 1),
          this.initDelayedCursor(),
          this._fireSelectionChanged(),
          this._updateTextarea());
    },
    moveCursorWithShift: function(t) {
      var e =
        "left" === this._selectionDirection
          ? this.selectionStart + t
          : this.selectionEnd + t;
      return (
        this.setSelectionStartEndWithShift(
          this.selectionStart,
          this.selectionEnd,
          e
        ),
        0 !== t
      );
    },
    moveCursorWithoutShift: function(t) {
      return (
        t < 0
          ? ((this.selectionStart += t),
            (this.selectionEnd = this.selectionStart))
          : ((this.selectionEnd += t),
            (this.selectionStart = this.selectionEnd)),
        0 !== t
      );
    },
    moveCursorLeft: function(t) {
      (0 === this.selectionStart && 0 === this.selectionEnd) ||
        this._moveCursorLeftOrRight("Left", t);
    },
    _move: function(t, e, i) {
      var r;
      if (t.altKey) r = this["findWordBoundary" + i](this[e]);
      else {
        if (!t.metaKey && 35 !== t.keyCode && 36 !== t.keyCode)
          return (this[e] += "Left" === i ? -1 : 1), !0;
        r = this["findLineBoundary" + i](this[e]);
      }
      if (void 0 !== typeof r && this[e] !== r) return (this[e] = r), !0;
    },
    _moveLeft: function(t, e) {
      return this._move(t, e, "Left");
    },
    _moveRight: function(t, e) {
      return this._move(t, e, "Right");
    },
    moveCursorLeftWithoutShift: function(t) {
      var e = !0;
      return (
        (this._selectionDirection = "left"),
        this.selectionEnd === this.selectionStart &&
          0 !== this.selectionStart &&
          (e = this._moveLeft(t, "selectionStart")),
        (this.selectionEnd = this.selectionStart),
        e
      );
    },
    moveCursorLeftWithShift: function(t) {
      return "right" === this._selectionDirection &&
        this.selectionStart !== this.selectionEnd
        ? this._moveLeft(t, "selectionEnd")
        : 0 !== this.selectionStart
          ? ((this._selectionDirection = "left"),
            this._moveLeft(t, "selectionStart"))
          : void 0;
    },
    moveCursorRight: function(t) {
      (this.selectionStart >= this._text.length &&
        this.selectionEnd >= this._text.length) ||
        this._moveCursorLeftOrRight("Right", t);
    },
    _moveCursorLeftOrRight: function(t, e) {
      var i = "moveCursor" + t + "With";
      (this._currentCursorOpacity = 1),
        e.shiftKey ? (i += "Shift") : (i += "outShift"),
        this[i](e) &&
          (this.abortCursorAnimation(),
          this.initDelayedCursor(),
          this._fireSelectionChanged(),
          this._updateTextarea());
    },
    moveCursorRightWithShift: function(t) {
      return "left" === this._selectionDirection &&
        this.selectionStart !== this.selectionEnd
        ? this._moveRight(t, "selectionStart")
        : this.selectionEnd !== this._text.length
          ? ((this._selectionDirection = "right"),
            this._moveRight(t, "selectionEnd"))
          : void 0;
    },
    moveCursorRightWithoutShift: function(t) {
      var e = !0;
      return (
        (this._selectionDirection = "right"),
        this.selectionStart === this.selectionEnd
          ? ((e = this._moveRight(t, "selectionStart")),
            (this.selectionEnd = this.selectionStart))
          : (this.selectionStart = this.selectionEnd),
        e
      );
    },
    removeChars: function(t, e) {
      void 0 === e && (e = t + 1),
        this.removeStyleFromTo(t, e),
        this._text.splice(t, e - t),
        (this.text = this._text.join("")),
        this.set("dirty", !0),
        this._shouldClearDimensionCache() &&
          (this.initDimensions(), this.setCoords()),
        this._removeExtraneousStyles();
    },
    insertChars: function(t, e, i, r) {
      void 0 === r && (r = i), i < r && this.removeStyleFromTo(i, r);
      var n = fabric.util.string.graphemeSplit(t);
      this.insertNewStyleBlock(n, i, e),
        (this._text = [].concat(
          this._text.slice(0, i),
          n,
          this._text.slice(r)
        )),
        (this.text = this._text.join("")),
        this.set("dirty", !0),
        this._shouldClearDimensionCache() &&
          (this.initDimensions(), this.setCoords()),
        this._removeExtraneousStyles();
    }
  }),
  (function() {
    var l = fabric.util.toFixed,
      u = /  +/g;
    fabric.util.object.extend(fabric.Text.prototype, {
      toSVG: function(t) {
        var e = this._createBaseSVGMarkup(),
          i = this._getSVGLeftTopOffsets(),
          r = this._getSVGTextAndBg(i.textTop, i.textLeft);
        return this._wrapSVGTextAndBg(e, r), t ? t(e.join("")) : e.join("");
      },
      _getSVGLeftTopOffsets: function() {
        return {
          textLeft: -this.width / 2,
          textTop: -this.height / 2,
          lineTop: this.getHeightOfLine(0)
        };
      },
      _wrapSVGTextAndBg: function(t, e) {
        var i = this.getSvgFilter(),
          r = "" === i ? "" : ' style="' + i + '"',
          n = this.getSvgTextDecoration(this);
        t.push(
          "\t<g ",
          this.getSvgId(),
          'transform="',
          this.getSvgTransform(),
          this.getSvgTransformMatrix(),
          '"',
          r,
          ">\n",
          e.textBgRects.join(""),
          '\t\t<text xml:space="preserve" ',
          this.fontFamily
            ? 'font-family="' + this.fontFamily.replace(/"/g, "'") + '" '
            : "",
          this.fontSize ? 'font-size="' + this.fontSize + '" ' : "",
          this.fontStyle ? 'font-style="' + this.fontStyle + '" ' : "",
          this.fontWeight ? 'font-weight="' + this.fontWeight + '" ' : "",
          n ? 'text-decoration="' + n + '" ' : "",
          'style="',
          this.getSvgStyles(!0),
          '"',
          this.addPaintOrder(),
          " >",
          e.textSpans.join(""),
          "</text>\n",
          "\t</g>\n"
        );
      },
      _getSVGTextAndBg: function(t, e) {
        var i,
          r = [],
          n = [],
          s = t;
        this._setSVGBg(n);
        for (var o = 0, a = this._textLines.length; o < a; o++)
          (i = this._getLineLeftOffset(o)),
            (this.textBackgroundColor ||
              this.styleHas("textBackgroundColor", o)) &&
              this._setSVGTextLineBg(n, o, e + i, s),
            this._setSVGTextLineText(r, o, e + i, s),
            (s += this.getHeightOfLine(o));
        return { textSpans: r, textBgRects: n };
      },
      _createTextCharSpan: function(t, e, i, r) {
        var n = t !== t.trim() || t.match(u),
          s = this.getSvgSpanStyles(e, n),
          o = s ? 'style="' + s + '"' : "",
          a = e.deltaY,
          h = "",
          c = fabric.Object.NUM_FRACTION_DIGITS;
        return (
          a && (h = ' dy="' + l(a, c) + '" '),
          [
            '<tspan x="',
            l(i, c),
            '" y="',
            l(r, c),
            '" ',
            h,
            o,
            ">",
            fabric.util.string.escapeXml(t),
            "</tspan>"
          ].join("")
        );
      },
      _setSVGTextLineText: function(t, e, i, r) {
        var n,
          s,
          o,
          a,
          h,
          c = this.getHeightOfLine(e),
          l = -1 !== this.textAlign.indexOf("justify"),
          u = "",
          f = 0,
          d = this._textLines[e];
        r += c * (1 - this._fontSizeFraction) / this.lineHeight;
        for (var g = 0, p = d.length - 1; g <= p; g++)
          (h = g === p || this.charSpacing),
            (u += d[g]),
            (o = this.__charBounds[e][g]),
            0 === f
              ? ((i += o.kernedWidth - o.width), (f += o.width))
              : (f += o.kernedWidth),
            l && !h && this._reSpaceAndTab.test(d[g]) && (h = !0),
            h ||
              ((n = n || this.getCompleteStyleDeclaration(e, g)),
              (s = this.getCompleteStyleDeclaration(e, g + 1)),
              (h = this._hasStyleChangedForSvg(n, s))),
            h &&
              ((a = this._getStyleDeclaration(e, g) || {}),
              t.push(this._createTextCharSpan(u, a, i, r)),
              (u = ""),
              (n = s),
              (i += f),
              (f = 0));
      },
      _pushTextBgRect: function(t, e, i, r, n, s) {
        var o = fabric.Object.NUM_FRACTION_DIGITS;
        t.push(
          "\t\t<rect ",
          this._getFillAttributes(e),
          ' x="',
          l(i, o),
          '" y="',
          l(r, o),
          '" width="',
          l(n, o),
          '" height="',
          l(s, o),
          '"></rect>\n'
        );
      },
      _setSVGTextLineBg: function(t, e, i, r) {
        for (
          var n,
            s,
            o = this._textLines[e],
            a = this.getHeightOfLine(e) / this.lineHeight,
            h = 0,
            c = 0,
            l = this.getValueOfPropertyAt(e, 0, "textBackgroundColor"),
            u = 0,
            f = o.length;
          u < f;
          u++
        )
          (n = this.__charBounds[e][u]),
            (s = this.getValueOfPropertyAt(e, u, "textBackgroundColor")) !== l
              ? (l && this._pushTextBgRect(t, l, i + c, r, h, a),
                (c = n.left),
                (h = n.width),
                (l = s))
              : (h += n.kernedWidth);
        s && this._pushTextBgRect(t, s, i + c, r, h, a);
      },
      _getFillAttributes: function(t) {
        var e = t && "string" == typeof t ? new fabric.Color(t) : "";
        return e && e.getSource() && 1 !== e.getAlpha()
          ? 'opacity="' +
              e.getAlpha() +
              '" fill="' +
              e.setAlpha(1).toRgb() +
              '"'
          : 'fill="' + t + '"';
      },
      _getSVGLineTopOffset: function(t) {
        for (var e, i = 0, r = 0; r < t; r++) i += this.getHeightOfLine(r);
        return (
          (e = this.getHeightOfLine(r)),
          {
            lineTop: i,
            offset:
              (this._fontSizeMult - this._fontSizeFraction) *
              e /
              (this.lineHeight * this._fontSizeMult)
          }
        );
      },
      getSvgStyles: function(t) {
        return (
          fabric.Object.prototype.getSvgStyles.call(this, t) +
          " white-space: pre;"
        );
      }
    });
  })(),
  (function(t) {
    "use strict";
    var v = t.fabric || (t.fabric = {});
    (v.Textbox = v.util.createClass(v.IText, v.Observable, {
      type: "textbox",
      minWidth: 20,
      dynamicMinWidth: 2,
      __cachedLines: null,
      lockScalingFlip: !0,
      noScaleCache: !1,
      _dimensionAffectingProps: v.Text.prototype._dimensionAffectingProps.concat(
        "width"
      ),
      initDimensions: function() {
        this.__skipDimension ||
          (this.isEditing && this.initDelayedCursor(),
          this.clearContextTop(),
          this._clearCache(),
          (this.dynamicMinWidth = 0),
          (this._styleMap = this._generateStyleMap(this._splitText())),
          this.dynamicMinWidth > this.width &&
            this._set("width", this.dynamicMinWidth),
          -1 !== this.textAlign.indexOf("justify") && this.enlargeSpaces(),
          (this.height = this.calcTextHeight()),
          this.saveState({ propertySet: "_dimensionAffectingProps" }));
      },
      _generateStyleMap: function(t) {
        for (
          var e = 0, i = 0, r = 0, n = {}, s = 0;
          s < t.graphemeLines.length;
          s++
        )
          "\n" === t.graphemeText[r] && 0 < s
            ? ((i = 0), r++, e++)
            : this._reSpaceAndTab.test(t.graphemeText[r]) &&
              0 < s &&
              (i++, r++),
            (n[s] = { line: e, offset: i }),
            (r += t.graphemeLines[s].length),
            (i += t.graphemeLines[s].length);
        return n;
      },
      styleHas: function(t, e) {
        if (this._styleMap && !this.isWrapping) {
          var i = this._styleMap[e];
          i && (e = i.line);
        }
        return v.Text.prototype.styleHas.call(this, t, e);
      },
      isEmptyStyles: function(t) {
        var e,
          i,
          r = 0,
          n = !1,
          s = this._styleMap[t],
          o = this._styleMap[t + 1];
        for (var a in (s && ((t = s.line), (r = s.offset)),
        o && ((n = o.line === t), (e = o.offset)),
        (i = void 0 === t ? this.styles : { line: this.styles[t] })))
          for (var h in i[a])
            if (r <= h && (!n || h < e)) for (var c in i[a][h]) return !1;
        return !0;
      },
      _getStyleDeclaration: function(t, e) {
        if (this._styleMap && !this.isWrapping) {
          var i = this._styleMap[t];
          if (!i) return null;
          (t = i.line), (e = i.offset + e);
        }
        return this.callSuper("_getStyleDeclaration", t, e);
      },
      _setStyleDeclaration: function(t, e, i) {
        var r = this._styleMap[t];
        (t = r.line), (e = r.offset + e), (this.styles[t][e] = i);
      },
      _deleteStyleDeclaration: function(t, e) {
        var i = this._styleMap[t];
        (t = i.line), (e = i.offset + e), delete this.styles[t][e];
      },
      _getLineStyle: function(t) {
        var e = this._styleMap[t];
        return this.styles[e.line];
      },
      _setLineStyle: function(t, e) {
        var i = this._styleMap[t];
        this.styles[i.line] = e;
      },
      _deleteLineStyle: function(t) {
        var e = this._styleMap[t];
        delete this.styles[e.line];
      },
      _wrapText: function(t, e) {
        var i,
          r = [];
        for (this.isWrapping = !0, i = 0; i < t.length; i++)
          r = r.concat(this._wrapLine(t[i], i, e));
        return (this.isWrapping = !1), r;
      },
      _measureWord: function(t, e, i) {
        var r,
          n = 0;
        i = i || 0;
        for (var s = 0, o = t.length; s < o; s++) {
          (n += this._getGraphemeBox(t[s], e, s + i, r, !0).kernedWidth),
            (r = t[s]);
        }
        return n;
      },
      _wrapLine: function(t, e, i, r) {
        var n = 0,
          s = [],
          o = [],
          a = t.split(this._reSpaceAndTab),
          h = "",
          c = 0,
          l = 0,
          u = 0,
          f = 0,
          d = !0,
          g = this._getWidthOfCharSpacing();
        i -= r = r || 0;
        for (var p = 0; p < a.length; p++)
          (h = v.util.string.graphemeSplit(a[p])),
            (l = this._measureWord(h, e, c)),
            (c += h.length),
            i <= (n += u + l - g) && !d
              ? (s.push(o), (o = []), (n = l), (d = !0))
              : (n += g),
            d || o.push(" "),
            (o = o.concat(h)),
            (u = this._measureWord([" "], e, c)),
            c++,
            (d = !1),
            f < l && (f = l);
        return (
          p && s.push(o),
          f + r > this.dynamicMinWidth && (this.dynamicMinWidth = f - g + r),
          s
        );
      },
      isEndOfWrapping: function(t) {
        return (
          !this._styleMap[t + 1] ||
          this._styleMap[t + 1].line !== this._styleMap[t].line
        );
      },
      _splitTextIntoLines: function(t) {
        for (
          var e = v.Text.prototype._splitTextIntoLines.call(this, t),
            i = this._wrapText(e.lines, this.width),
            r = new Array(i.length),
            n = 0;
          n < i.length;
          n++
        )
          r[n] = i[n].join("");
        return (e.lines = r), (e.graphemeLines = i), e;
      },
      getMinWidth: function() {
        return Math.max(this.minWidth, this.dynamicMinWidth);
      },
      toObject: function(t) {
        return this.callSuper("toObject", ["minWidth"].concat(t));
      }
    })),
      (v.Textbox.fromObject = function(t, e) {
        return v.Object._fromObject("Textbox", t, e, "text");
      });
  })("undefined" != typeof exports ? exports : this),
  (function() {
    var l = fabric.Canvas.prototype._setObjectScale;
    (fabric.Canvas.prototype._setObjectScale = function(t, e, i, r, n, s, o) {
      var a = e.target;
      if (!("x" === n && a instanceof fabric.Textbox))
        return l.call(fabric.Canvas.prototype, t, e, i, r, n, s, o);
      var h = a._getTransformedDimensions().x,
        c = a.width * (t.x / h);
      return c >= a.getMinWidth() ? (a.set("width", c), !0) : void 0;
    }),
      fabric.util.object.extend(fabric.Textbox.prototype, {
        _removeExtraneousStyles: function() {
          for (var t in this._styleMap)
            this._textLines[t] || delete this.styles[this._styleMap[t].line];
        }
      });
  })();
function Tree() {
  var a = this;
  a.build_tree = function(b) {
    var c,
      d,
      e = a.dyn_tree,
      f = a.stat_desc.static_tree,
      g = a.stat_desc.elems,
      h = -1;
    for (b.heap_len = 0, b.heap_max = HEAP_SIZE, c = 0; g > c; c++)
      0 !== e[2 * c]
        ? ((b.heap[++b.heap_len] = h = c), (b.depth[c] = 0))
        : (e[2 * c + 1] = 0);
    for (; 2 > b.heap_len; )
      (d = b.heap[++b.heap_len] = 2 > h ? ++h : 0),
        (e[2 * d] = 1),
        (b.depth[d] = 0),
        b.opt_len--,
        f && (b.static_len -= f[2 * d + 1]);
    for (a.max_code = h, c = Math.floor(b.heap_len / 2); c >= 1; c--)
      b.pqdownheap(e, c);
    d = g;
    do
      (c = b.heap[1]),
        (b.heap[1] = b.heap[b.heap_len--]),
        b.pqdownheap(e, 1),
        (f = b.heap[1]),
        (b.heap[--b.heap_max] = c),
        (b.heap[--b.heap_max] = f),
        (e[2 * d] = e[2 * c] + e[2 * f]),
        (b.depth[d] = Math.max(b.depth[c], b.depth[f]) + 1),
        (e[2 * c + 1] = e[2 * f + 1] = d),
        (b.heap[1] = d++),
        b.pqdownheap(e, 1);
    while (2 <= b.heap_len);
    (b.heap[--b.heap_max] = b.heap[1]), (c = a.dyn_tree);
    for (
      var i,
        j,
        h = a.stat_desc.static_tree,
        k = a.stat_desc.extra_bits,
        l = a.stat_desc.extra_base,
        m = a.stat_desc.max_length,
        n = 0,
        g = 0;
      MAX_BITS >= g;
      g++
    )
      b.bl_count[g] = 0;
    for (
      c[2 * b.heap[b.heap_max] + 1] = 0, d = b.heap_max + 1;
      HEAP_SIZE > d;
      d++
    )
      (f = b.heap[d]),
        (g = c[2 * c[2 * f + 1] + 1] + 1),
        g > m && ((g = m), n++),
        (c[2 * f + 1] = g),
        f > a.max_code ||
          (b.bl_count[g]++,
          (i = 0),
          f >= l && (i = k[f - l]),
          (j = c[2 * f]),
          (b.opt_len += j * (g + i)),
          h && (b.static_len += j * (h[2 * f + 1] + i)));
    if (0 !== n) {
      do {
        for (g = m - 1; 0 === b.bl_count[g]; ) g--;
        b.bl_count[g]--, (b.bl_count[g + 1] += 2), b.bl_count[m]--, (n -= 2);
      } while (n > 0);
      for (g = m; 0 !== g; g--)
        for (f = b.bl_count[g]; 0 !== f; )
          (h = b.heap[--d]),
            h > a.max_code ||
              (c[2 * h + 1] != g &&
                ((b.opt_len += (g - c[2 * h + 1]) * c[2 * h]),
                (c[2 * h + 1] = g)),
              f--);
    }
    for (
      c = a.max_code, d = b.bl_count, b = [], f = 0, g = 1;
      MAX_BITS >= g;
      g++
    )
      b[g] = f = (f + d[g - 1]) << 1;
    for (d = 0; c >= d; d++)
      if (((k = e[2 * d + 1]), 0 !== k)) {
        (f = e), (g = 2 * d), (h = b[k]++), (l = 0);
        do (l |= 1 & h), (h >>>= 1), (l <<= 1);
        while (0 < --k);
        f[g] = l >>> 1;
      }
  };
}
function StaticTree(a, b, c, d, e) {
  (this.static_tree = a),
    (this.extra_bits = b),
    (this.extra_base = c),
    (this.elems = d),
    (this.max_length = e);
}
function Config(a, b, c, d, e) {
  (this.good_length = a),
    (this.max_lazy = b),
    (this.nice_length = c),
    (this.max_chain = d),
    (this.func = e);
}
function smaller(a, b, c, d) {
  var e = a[2 * b];
  return (a = a[2 * c]), a > e || (e == a && d[b] <= d[c]);
}
function Deflate() {
  function a() {
    var a;
    for (a = 0; L_CODES > a; a++) V[2 * a] = 0;
    for (a = 0; D_CODES > a; a++) W[2 * a] = 0;
    for (a = 0; BL_CODES > a; a++) X[2 * a] = 0;
    (V[2 * END_BLOCK] = 1), (ca = ea = Y.opt_len = Y.static_len = 0);
  }
  function b(a, b) {
    var c,
      d,
      e = -1,
      f = a[1],
      g = 0,
      h = 7,
      i = 4;
    for (
      0 === f && ((h = 138), (i = 3)), a[2 * (b + 1) + 1] = 65535, c = 0;
      b >= c;
      c++
    )
      (d = f),
        (f = a[2 * (c + 1) + 1]),
        (++g < h && d == f) ||
          (i > g
            ? (X[2 * d] += g)
            : 0 !== d
              ? (d != e && X[2 * d]++, X[2 * REP_3_6]++)
              : 10 >= g
                ? X[2 * REPZ_3_10]++
                : X[2 * REPZ_11_138]++,
          (g = 0),
          (e = d),
          0 === f
            ? ((h = 138), (i = 3))
            : d == f
              ? ((h = 6), (i = 3))
              : ((h = 7), (i = 4)));
  }
  function c(a) {
    Y.pending_buf[Y.pending++] = a;
  }
  function d(a) {
    c(255 & a), c((a >>> 8) & 255);
  }
  function e(a, b) {
    ha > Buf_size - b
      ? ((ga |= (a << ha) & 65535),
        d(ga),
        (ga = a >>> (Buf_size - ha)),
        (ha += b - Buf_size))
      : ((ga |= (a << ha) & 65535), (ha += b));
  }
  function f(a, b) {
    var c = 2 * a;
    e(65535 & b[c], 65535 & b[c + 1]);
  }
  function g(a, b) {
    var c,
      d,
      g = -1,
      h = a[1],
      i = 0,
      j = 7,
      k = 4;
    for (0 === h && ((j = 138), (k = 3)), c = 0; b >= c; c++)
      if (((d = h), (h = a[2 * (c + 1) + 1]), !(++i < j && d == h))) {
        if (k > i) {
          do f(d, X);
          while (0 !== --i);
        } else
          0 !== d
            ? (d != g && (f(d, X), i--), f(REP_3_6, X), e(i - 3, 2))
            : 10 >= i
              ? (f(REPZ_3_10, X), e(i - 3, 3))
              : (f(REPZ_11_138, X), e(i - 11, 7));
        (i = 0),
          (g = d),
          0 === h
            ? ((j = 138), (k = 3))
            : d == h
              ? ((j = 6), (k = 3))
              : ((j = 7), (k = 4));
      }
  }
  function h() {
    16 == ha
      ? (d(ga), (ha = ga = 0))
      : ha >= 8 && (c(255 & ga), (ga >>>= 8), (ha -= 8));
  }
  function i(a, b) {
    var c, d, e;
    if (
      ((Y.pending_buf[da + 2 * ca] = (a >>> 8) & 255),
      (Y.pending_buf[da + 2 * ca + 1] = 255 & a),
      (Y.pending_buf[aa + ca] = 255 & b),
      ca++,
      0 === a
        ? V[2 * b]++
        : (ea++,
          a--,
          V[2 * (Tree._length_code[b] + LITERALS + 1)]++,
          W[2 * Tree.d_code(a)]++),
      0 === (8191 & ca) && R > 2)
    ) {
      for (c = 8 * ca, d = L - H, e = 0; D_CODES > e; e++)
        c += W[2 * e] * (5 + Tree.extra_dbits[e]);
      if (ea < Math.floor(ca / 2) && c >>> 3 < Math.floor(d / 2)) return !0;
    }
    return ca == ba - 1;
  }
  function j(a, b) {
    var c,
      d,
      g,
      h,
      i = 0;
    if (0 !== ca)
      do
        (c =
          ((Y.pending_buf[da + 2 * i] << 8) & 65280) |
          (255 & Y.pending_buf[da + 2 * i + 1])),
          (d = 255 & Y.pending_buf[aa + i]),
          i++,
          0 === c
            ? f(d, a)
            : ((g = Tree._length_code[d]),
              f(g + LITERALS + 1, a),
              (h = Tree.extra_lbits[g]),
              0 !== h && ((d -= Tree.base_length[g]), e(d, h)),
              c--,
              (g = Tree.d_code(c)),
              f(g, b),
              (h = Tree.extra_dbits[g]),
              0 !== h && ((c -= Tree.base_dist[g]), e(c, h)));
      while (ca > i);
    f(END_BLOCK, a), (fa = a[2 * END_BLOCK + 1]);
  }
  function k() {
    ha > 8 ? d(ga) : ha > 0 && c(255 & ga), (ha = ga = 0);
  }
  function l(a, b, c) {
    e((STORED_BLOCK << 1) + (c ? 1 : 0), 3),
      k(),
      (fa = 8),
      d(b),
      d(~b),
      Y.pending_buf.set(y.subarray(a, a + b), Y.pending),
      (Y.pending += b);
  }
  function m(c) {
    var d,
      f,
      h = H >= 0 ? H : -1,
      i = L - H,
      m = 0;
    if (R > 0) {
      for (
        Z.build_tree(Y),
          $.build_tree(Y),
          b(V, Z.max_code),
          b(W, $.max_code),
          _.build_tree(Y),
          m = BL_CODES - 1;
        m >= 3 && 0 === X[2 * Tree.bl_order[m] + 1];
        m--
      );
      (Y.opt_len += 3 * (m + 1) + 14),
        (d = (Y.opt_len + 3 + 7) >>> 3),
        (f = (Y.static_len + 3 + 7) >>> 3),
        d >= f && (d = f);
    } else d = f = i + 5;
    if (d >= i + 4 && -1 != h) l(h, i, c);
    else if (f == d)
      e((STATIC_TREES << 1) + (c ? 1 : 0), 3),
        j(StaticTree.static_ltree, StaticTree.static_dtree);
    else {
      for (
        e((DYN_TREES << 1) + (c ? 1 : 0), 3),
          h = Z.max_code + 1,
          i = $.max_code + 1,
          m += 1,
          e(h - 257, 5),
          e(i - 1, 5),
          e(m - 4, 4),
          d = 0;
        m > d;
        d++
      )
        e(X[2 * Tree.bl_order[d] + 1], 3);
      g(V, h - 1), g(W, i - 1), j(V, W);
    }
    a(), c && k(), (H = L), r.flush_pending();
  }
  function n() {
    var a, b, c, d;
    do {
      if (((d = z - N - L), 0 === d && 0 === L && 0 === N)) d = v;
      else if (-1 == d) d--;
      else if (L >= v + v - MIN_LOOKAHEAD) {
        y.set(y.subarray(v, v + v), 0),
          (M -= v),
          (L -= v),
          (H -= v),
          (c = a = D);
        do (b = 65535 & B[--c]), (B[c] = b >= v ? b - v : 0);
        while (0 !== --a);
        c = a = v;
        do (b = 65535 & A[--c]), (A[c] = b >= v ? b - v : 0);
        while (0 !== --a);
        d += v;
      }
      if (0 === r.avail_in) break;
      (a = r.read_buf(y, L + N, d)),
        (N += a),
        N >= MIN_MATCH &&
          ((C = 255 & y[L]), (C = ((C << G) ^ (255 & y[L + 1])) & F));
    } while (MIN_LOOKAHEAD > N && 0 !== r.avail_in);
  }
  function o(a) {
    var b,
      c = 65535;
    for (c > t - 5 && (c = t - 5); ; ) {
      if (1 >= N) {
        if ((n(), 0 === N && a == Z_NO_FLUSH)) return NeedMore;
        if (0 === N) break;
      }
      if (
        ((L += N),
        (N = 0),
        (b = H + c),
        (0 === L || L >= b) && ((N = L - b), (L = b), m(!1), 0 === r.avail_out))
      )
        return NeedMore;
      if (L - H >= v - MIN_LOOKAHEAD && (m(!1), 0 === r.avail_out))
        return NeedMore;
    }
    return (
      m(a == Z_FINISH),
      0 === r.avail_out
        ? a == Z_FINISH
          ? FinishStarted
          : NeedMore
        : a == Z_FINISH
          ? FinishDone
          : BlockDone
    );
  }
  function p(a) {
    var b,
      c = P,
      d = L,
      e = O,
      f = L > v - MIN_LOOKAHEAD ? L - (v - MIN_LOOKAHEAD) : 0,
      g = U,
      h = x,
      i = L + MAX_MATCH,
      j = y[d + e - 1],
      k = y[d + e];
    O >= T && (c >>= 2), g > N && (g = N);
    do
      if (
        ((b = a),
        y[b + e] == k &&
          y[b + e - 1] == j &&
          y[b] == y[d] &&
          y[++b] == y[d + 1])
      ) {
        (d += 2), b++;
        do;
        while (
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          y[++d] == y[++b] &&
          i > d
        );
        if (((b = MAX_MATCH - (i - d)), (d = i - MAX_MATCH), b > e)) {
          if (((M = a), (e = b), b >= g)) break;
          (j = y[d + e - 1]), (k = y[d + e]);
        }
      }
    while ((a = 65535 & A[a & h]) > f && 0 !== --c);
    return N >= e ? e : N;
  }
  function q(a) {
    for (var b, c, d = 0; ; ) {
      if (MIN_LOOKAHEAD > N) {
        if ((n(), MIN_LOOKAHEAD > N && a == Z_NO_FLUSH)) return NeedMore;
        if (0 === N) break;
      }
      if (
        (N >= MIN_MATCH &&
          ((C = ((C << G) ^ (255 & y[L + (MIN_MATCH - 1)])) & F),
          (d = 65535 & B[C]),
          (A[L & x] = B[C]),
          (B[C] = L)),
        (O = I),
        (J = M),
        (I = MIN_MATCH - 1),
        0 !== d &&
          Q > O &&
          v - MIN_LOOKAHEAD >= ((L - d) & 65535) &&
          (S != Z_HUFFMAN_ONLY && (I = p(d)),
          5 >= I &&
            (S == Z_FILTERED || (I == MIN_MATCH && L - M > 4096)) &&
            (I = MIN_MATCH - 1)),
        O >= MIN_MATCH && O >= I)
      ) {
        (c = L + N - MIN_MATCH),
          (b = i(L - 1 - J, O - MIN_MATCH)),
          (N -= O - 1),
          (O -= 2);
        do
          ++L <= c &&
            ((C = ((C << G) ^ (255 & y[L + (MIN_MATCH - 1)])) & F),
            (d = 65535 & B[C]),
            (A[L & x] = B[C]),
            (B[C] = L));
        while (0 !== --O);
        if (
          ((K = 0), (I = MIN_MATCH - 1), L++, b && (m(!1), 0 === r.avail_out))
        )
          return NeedMore;
      } else if (0 !== K) {
        if (((b = i(0, 255 & y[L - 1])) && m(!1), L++, N--, 0 === r.avail_out))
          return NeedMore;
      } else (K = 1), L++, N--;
    }
    return (
      0 !== K && (i(0, 255 & y[L - 1]), (K = 0)),
      m(a == Z_FINISH),
      0 === r.avail_out
        ? a == Z_FINISH
          ? FinishStarted
          : NeedMore
        : a == Z_FINISH
          ? FinishDone
          : BlockDone
    );
  }
  var r,
    s,
    t,
    u,
    v,
    w,
    x,
    y,
    z,
    A,
    B,
    C,
    D,
    E,
    F,
    G,
    H,
    I,
    J,
    K,
    L,
    M,
    N,
    O,
    P,
    Q,
    R,
    S,
    T,
    U,
    V,
    W,
    X,
    Y = this,
    Z = new Tree(),
    $ = new Tree(),
    _ = new Tree();
  Y.depth = [];
  var aa, ba, ca, da, ea, fa, ga, ha;
  (Y.bl_count = []),
    (Y.heap = []),
    (V = []),
    (W = []),
    (X = []),
    (Y.pqdownheap = function(a, b) {
      for (
        var c = Y.heap, d = c[b], e = b << 1;
        e <= Y.heap_len &&
        (e < Y.heap_len && smaller(a, c[e + 1], c[e], Y.depth) && e++,
        !smaller(a, d, c[e], Y.depth));

      )
        (c[b] = c[e]), (b = e), (e <<= 1);
      c[b] = d;
    }),
    (Y.deflateInit = function(b, c, d, e, f, g) {
      if (
        (e || (e = Z_DEFLATED),
        f || (f = DEF_MEM_LEVEL),
        g || (g = Z_DEFAULT_STRATEGY),
        (b.msg = null),
        c == Z_DEFAULT_COMPRESSION && (c = 6),
        1 > f ||
          f > MAX_MEM_LEVEL ||
          e != Z_DEFLATED ||
          9 > d ||
          d > 15 ||
          0 > c ||
          c > 9 ||
          0 > g ||
          g > Z_HUFFMAN_ONLY)
      )
        return Z_STREAM_ERROR;
      for (
        b.dstate = Y,
          w = d,
          v = 1 << w,
          x = v - 1,
          E = f + 7,
          D = 1 << E,
          F = D - 1,
          G = Math.floor((E + MIN_MATCH - 1) / MIN_MATCH),
          y = new Uint8Array(2 * v),
          A = [],
          B = [],
          ba = 1 << (f + 6),
          Y.pending_buf = new Uint8Array(4 * ba),
          t = 4 * ba,
          da = Math.floor(ba / 2),
          aa = 3 * ba,
          R = c,
          S = g,
          b.total_in = b.total_out = 0,
          b.msg = null,
          Y.pending = 0,
          Y.pending_out = 0,
          s = BUSY_STATE,
          u = Z_NO_FLUSH,
          Z.dyn_tree = V,
          Z.stat_desc = StaticTree.static_l_desc,
          $.dyn_tree = W,
          $.stat_desc = StaticTree.static_d_desc,
          _.dyn_tree = X,
          _.stat_desc = StaticTree.static_bl_desc,
          ha = ga = 0,
          fa = 8,
          a(),
          z = 2 * v,
          b = B[D - 1] = 0;
        D - 1 > b;
        b++
      )
        B[b] = 0;
      return (
        (Q = config_table[R].max_lazy),
        (T = config_table[R].good_length),
        (U = config_table[R].nice_length),
        (P = config_table[R].max_chain),
        (N = H = L = 0),
        (I = O = MIN_MATCH - 1),
        (C = K = 0),
        Z_OK
      );
    }),
    (Y.deflateEnd = function() {
      return s != INIT_STATE && s != BUSY_STATE && s != FINISH_STATE
        ? Z_STREAM_ERROR
        : ((y = A = B = Y.pending_buf = null),
          (Y.dstate = null),
          s == BUSY_STATE ? Z_DATA_ERROR : Z_OK);
    }),
    (Y.deflateParams = function(a, b, c) {
      var d = Z_OK;
      return (
        b == Z_DEFAULT_COMPRESSION && (b = 6),
        0 > b || b > 9 || 0 > c || c > Z_HUFFMAN_ONLY
          ? Z_STREAM_ERROR
          : (config_table[R].func != config_table[b].func &&
              0 !== a.total_in &&
              (d = a.deflate(Z_PARTIAL_FLUSH)),
            R != b &&
              ((R = b),
              (Q = config_table[R].max_lazy),
              (T = config_table[R].good_length),
              (U = config_table[R].nice_length),
              (P = config_table[R].max_chain)),
            (S = c),
            d)
      );
    }),
    (Y.deflateSetDictionary = function(a, b, c) {
      a = c;
      var d = 0;
      if (!b || s != INIT_STATE) return Z_STREAM_ERROR;
      if (MIN_MATCH > a) return Z_OK;
      for (
        a > v - MIN_LOOKAHEAD && ((a = v - MIN_LOOKAHEAD), (d = c - a)),
          y.set(b.subarray(d, d + a), 0),
          H = L = a,
          C = 255 & y[0],
          C = ((C << G) ^ (255 & y[1])) & F,
          b = 0;
        a - MIN_MATCH >= b;
        b++
      )
        (C = ((C << G) ^ (255 & y[b + (MIN_MATCH - 1)])) & F),
          (A[b & x] = B[C]),
          (B[C] = b);
      return Z_OK;
    }),
    (Y.deflate = function(a, b) {
      var d, g, j;
      if (b > Z_FINISH || 0 > b) return Z_STREAM_ERROR;
      if (
        !a.next_out ||
        (!a.next_in && 0 !== a.avail_in) ||
        (s == FINISH_STATE && b != Z_FINISH)
      )
        return (a.msg = z_errmsg[Z_NEED_DICT - Z_STREAM_ERROR]), Z_STREAM_ERROR;
      if (0 === a.avail_out)
        return (a.msg = z_errmsg[Z_NEED_DICT - Z_BUF_ERROR]), Z_BUF_ERROR;
      if (
        ((r = a),
        (d = u),
        (u = b),
        s == INIT_STATE &&
          ((g = (Z_DEFLATED + ((w - 8) << 4)) << 8),
          (j = ((R - 1) & 255) >> 1),
          j > 3 && (j = 3),
          (g |= j << 6),
          0 !== L && (g |= PRESET_DICT),
          (s = BUSY_STATE),
          (g += 31 - g % 31),
          c((g >> 8) & 255),
          c(255 & g)),
        0 !== Y.pending)
      ) {
        if ((r.flush_pending(), 0 === r.avail_out)) return (u = -1), Z_OK;
      } else if (0 === r.avail_in && d >= b && b != Z_FINISH)
        return (r.msg = z_errmsg[Z_NEED_DICT - Z_BUF_ERROR]), Z_BUF_ERROR;
      if (s == FINISH_STATE && 0 !== r.avail_in)
        return (a.msg = z_errmsg[Z_NEED_DICT - Z_BUF_ERROR]), Z_BUF_ERROR;
      if (
        0 !== r.avail_in ||
        0 !== N ||
        (b != Z_NO_FLUSH && s != FINISH_STATE)
      ) {
        switch (((d = -1), config_table[R].func)) {
          case STORED:
            d = o(b);
            break;
          case FAST:
            a: {
              for (d = 0; ; ) {
                if (MIN_LOOKAHEAD > N) {
                  if ((n(), MIN_LOOKAHEAD > N && b == Z_NO_FLUSH)) {
                    d = NeedMore;
                    break a;
                  }
                  if (0 === N) break;
                }
                if (
                  (N >= MIN_MATCH &&
                    ((C = ((C << G) ^ (255 & y[L + (MIN_MATCH - 1)])) & F),
                    (d = 65535 & B[C]),
                    (A[L & x] = B[C]),
                    (B[C] = L)),
                  0 !== d &&
                    v - MIN_LOOKAHEAD >= ((L - d) & 65535) &&
                    S != Z_HUFFMAN_ONLY &&
                    (I = p(d)),
                  I >= MIN_MATCH)
                )
                  if (
                    ((g = i(L - M, I - MIN_MATCH)),
                    (N -= I),
                    Q >= I && N >= MIN_MATCH)
                  ) {
                    I--;
                    do
                      L++,
                        (C = ((C << G) ^ (255 & y[L + (MIN_MATCH - 1)])) & F),
                        (d = 65535 & B[C]),
                        (A[L & x] = B[C]),
                        (B[C] = L);
                    while (0 !== --I);
                    L++;
                  } else
                    (L += I),
                      (I = 0),
                      (C = 255 & y[L]),
                      (C = ((C << G) ^ (255 & y[L + 1])) & F);
                else (g = i(0, 255 & y[L])), N--, L++;
                if (g && (m(!1), 0 === r.avail_out)) {
                  d = NeedMore;
                  break a;
                }
              }
              m(b == Z_FINISH),
                (d =
                  0 === r.avail_out
                    ? b == Z_FINISH
                      ? FinishStarted
                      : NeedMore
                    : b == Z_FINISH
                      ? FinishDone
                      : BlockDone);
            }
            break;
          case SLOW:
            d = q(b);
        }
        if (
          ((d == FinishStarted || d == FinishDone) && (s = FINISH_STATE),
          d == NeedMore || d == FinishStarted)
        )
          return 0 === r.avail_out && (u = -1), Z_OK;
        if (d == BlockDone) {
          if (b == Z_PARTIAL_FLUSH)
            e(STATIC_TREES << 1, 3),
              f(END_BLOCK, StaticTree.static_ltree),
              h(),
              9 > 1 + fa + 10 - ha &&
                (e(STATIC_TREES << 1, 3),
                f(END_BLOCK, StaticTree.static_ltree),
                h()),
              (fa = 7);
          else if ((l(0, 0, !1), b == Z_FULL_FLUSH))
            for (d = 0; D > d; d++) B[d] = 0;
          if ((r.flush_pending(), 0 === r.avail_out)) return (u = -1), Z_OK;
        }
      }
      return b != Z_FINISH ? Z_OK : Z_STREAM_END;
    });
}
function ZStream() {
  this.total_out = this.avail_out = this.total_in = this.avail_in = this.next_out_index = this.next_in_index = 0;
}
function Deflater(a) {
  var b = new ZStream(),
    c = Z_NO_FLUSH,
    d = new Uint8Array(512);
  "undefined" == typeof a && (a = Z_DEFAULT_COMPRESSION),
    b.deflateInit(a),
    (b.next_out = d),
    (this.append = function(a, e) {
      var f,
        g,
        h = [],
        i = 0,
        j = 0,
        k = 0;
      if (a.length) {
        (b.next_in_index = 0), (b.next_in = a), (b.avail_in = a.length);
        do {
          if (
            ((b.next_out_index = 0),
            (b.avail_out = 512),
            (f = b.deflate(c)),
            f != Z_OK)
          )
            throw "deflating: " + b.msg;
          b.next_out_index &&
            h.push(
              512 == b.next_out_index
                ? new Uint8Array(d)
                : new Uint8Array(d.subarray(0, b.next_out_index))
            ),
            (k += b.next_out_index),
            e &&
              0 < b.next_in_index &&
              b.next_in_index != i &&
              (e(b.next_in_index), (i = b.next_in_index));
        } while (0 < b.avail_in || 0 === b.avail_out);
        return (
          (g = new Uint8Array(k)),
          h.forEach(function(a) {
            g.set(a, j), (j += a.length);
          }),
          g
        );
      }
    }),
    (this.flush = function() {
      var a,
        c,
        e = [],
        f = 0,
        g = 0;
      do {
        if (
          ((b.next_out_index = 0),
          (b.avail_out = 512),
          (a = b.deflate(Z_FINISH)),
          a != Z_STREAM_END && a != Z_OK)
        )
          throw "deflating: " + b.msg;
        0 < 512 - b.avail_out &&
          e.push(new Uint8Array(d.subarray(0, b.next_out_index))),
          (g += b.next_out_index);
      } while (0 < b.avail_in || 0 === b.avail_out);
      return (
        b.deflateEnd(),
        (c = new Uint8Array(g)),
        e.forEach(function(a) {
          c.set(a, f), (f += a.length);
        }),
        c
      );
    });
}
"1.6.7" === fabric.version
  ? ((fabric.Object.prototype.setCoords = function() {
      var a = fabric.util.degreesToRadians(this.angle),
        b = this.getViewportTransform(),
        c = this._calculateCurrentDimensions(),
        d = c.x,
        e = c.y;
      0 > d && (d = Math.abs(d));
      var f = Math.sin(a),
        g = Math.cos(a),
        h = d > 0 ? Math.atan(e / d) : 0,
        i = d / Math.cos(h) / 2,
        j = Math.cos(h + a) * i,
        k = Math.sin(h + a) * i,
        l = fabric.util.transformPoint(this.getCenterPoint(), b),
        m = new fabric.Point(l.x - j, l.y - k),
        n = new fabric.Point(m.x + d * g, m.y + d * f),
        o = new fabric.Point(m.x - e * f, m.y + e * g),
        p = new fabric.Point(l.x + j, l.y + k),
        q = new fabric.Point((m.x + o.x) / 2, (m.y + o.y) / 2),
        r = new fabric.Point((n.x + m.x) / 2, (n.y + m.y) / 2),
        s = new fabric.Point((p.x + n.x) / 2, (p.y + n.y) / 2),
        t = new fabric.Point((p.x + o.x) / 2, (p.y + o.y) / 2),
        u = this.__imageEditor ? r.x : n.x,
        v = this.__imageEditor ? r.y : n.y,
        w = new fabric.Point(
          u + f * this.rotatingPointOffset,
          v - g * this.rotatingPointOffset
        );
      return (
        (this.oCoords = {
          tl: m,
          tr: n,
          br: p,
          bl: o,
          ml: q,
          mt: r,
          mr: s,
          mb: t,
          mtr: w
        }),
        this._setCornerCoords && this._setCornerCoords(),
        this
      );
    }),
    (fabric.Textbox.prototype._wrapLine = function(a, b, c) {
      for (
        var d = 0,
          e = [],
          f = "",
          g = b.split(" "),
          h = "",
          i = 0,
          j = " ",
          k = 0,
          l = 0,
          m = 0,
          n = 0,
          o = 0;
        o < g.length;
        o++
      ) {
        if (
          ((h = g[o]),
          (k = this._measureText(a, h, c, i)),
          (d += l),
          k > this.width)
        ) {
          f += j;
          for (var p = h.split(""); p.length; )
            (m = this._getWidthOfChar(a, p[0], c, i)),
              d + m > this.width && (e.push(f), (f = ""), (d = 0)),
              (f += p.shift()),
              i++,
              (d += m);
          h = "";
        } else d += k;
        d >= this.width && "" !== f && (e.push(f), (f = ""), (d = k)),
          ("" !== f || 1 === o) && (f += j),
          (f += h),
          (i += h.length),
          (l = this._measureText(a, j, c, i)),
          i++;
      }
      return (
        o && e.push(f),
        n > this.dynamicMinWidth && (this.dynamicMinWidth = n),
        e
      );
    }))
  : (fabric.util.object.extend(fabric.Textbox.prototype, {
      maxWidth: 0,
      fixedWidth: !0,
      hyphenation: !1,
      get2DCursorLocation: function(a, b) {
        "undefined" == typeof a && (a = this.selectionStart);
        for (
          var c = b ? this._unwrappedTextLines : this._textLines,
            d = c.length,
            e = 0;
          d > e;
          e++
        ) {
          if (a <= c[e].length) return { lineIndex: e, charIndex: a };
          this._longLines[e] && a++, (a -= c[e].length + 1);
        }
        return {
          lineIndex: e - 1,
          charIndex: c[e - 1].length < a ? c[e - 1].length : a
        };
      },
      _renderText: function(a) {
        "stroke" === this.paintFirst
          ? (this._renderTextStroke(a), this._renderTextFill(a))
          : (this._renderTextFill(a), this._renderTextStroke(a)),
          this.hyphenation && this._renderTextOversize(a);
      },
      _renderTextOversize: function(a) {
        for (var b = 0, c = 0, d = this._textLines.length; d > c; c++) {
          var e = this.measureLine(c).width,
            f = this._getLineLeftOffset(c),
            g = this.getHeightOfLine(c);
          this._longLines[c] &&
            a.fillRect(
              this._getLeftOffset() + f + e + 2,
              this._getTopOffset() + b + g / 2 - 1,
              5,
              this.fontSize / 15
            ),
            (b += g);
        }
      },
      _getNewSelectionStartFromOffset: function(a, b, c, d, e) {
        var f = a.x - b,
          g = c - a.x,
          h = g > f || 0 > g ? 0 : 1,
          i = d + h;
        this.flipX && (i = e - i);
        for (
          var j = 0, k = 0, l = 0, m = 0;
          m < this._textLines.length &&
          ((j += this._textLines[m].length), !(j + k >= i));
          m++
        )
          this._longLines[m] && (i--, l++),
            ("\n" === this.text[j + k] || " " === this.text[j + k]) && k++;
        return i > this.text.length && (i = this.text.length), i - m + k + l;
      },
      _wrapLine: function(a, b) {
        var c = 0,
          d = [],
          e = [],
          f = a.split(this._reSpaceAndTab),
          g = "",
          h = 0,
          i = " ",
          j = 0,
          k = 0,
          l = 0,
          m = !0,
          n = this._getWidthOfCharSpacing();
        this._longLines = [];
        for (
          var o = this.maxWidth || (this.fixedWidth && this.width),
            p = !1,
            q = 0;
          q < f.length;
          q++
        ) {
          if (
            ((g = fabric.util.string.graphemeSplit(f[q])),
            (j = this._measureWord(g, b, h)),
            !this.breakWords)
          ) {
            var r = o && j > o;
            if (r) {
              0 != e.length &&
                (d.push(e),
                this._longLines.push(p),
                (p = !1),
                (c = 0),
                (e = []));
              for (
                var s = 0, t = 0, u = 0, v = g.length;
                v > u && o - s >= t;
                u++
              )
                t += this._measureWord(g[u], b, u + h);
              var w = g.splice(0, u - 1);
              (p = !0), f.splice(q, 1, w.join(""), g.join("")), q--, (m = !0);
              continue;
            }
          }
          if (((c += k + j - n), c >= this.width))
            if (this.breakWords) {
              (c -= j), e.push(i);
              for (var x = g.splice(0); x.length; ) {
                var y = this._measureWord(x[0], b, h);
                c + y > this.width &&
                  (d.push(e), this._longLines.push(!0), (e = []), (c = 0)),
                  e.push(x.shift()),
                  h++,
                  (c += y);
              }
            } else
              m ||
                (d.push(e),
                this._longLines.push(p),
                (p = !1),
                (e = []),
                (c = j),
                (m = !0));
          else c += n;
          (h += g.length),
            m || e.push(i),
            (e = e.concat(g)),
            (k = this._measureWord(i, b, h)),
            h++,
            j > l && (l = j),
            (m = !1);
        }
        return (
          q && d.push(e),
          this._longLines.push(!1),
          this.breakWords
            ? (this.dynamicMinWidth = 0)
            : l > this.dynamicMinWidth && (this.dynamicMinWidth = l - n),
          d
        );
      }
    }),
    (fabric.Object.prototype.calcCoords = function(a) {
      var b = fabric.util.multiplyTransformMatrices,
        c = fabric.util.transformPoint,
        d = fabric.util.degreesToRadians,
        e = this._calcRotateMatrix(),
        f = this._calcTranslateMatrix(),
        g = b(f, e),
        h = this.getViewportTransform(),
        i = a ? g : b(h, g),
        j = this._getTransformedDimensions(),
        k = j.x / 2,
        l = j.y / 2,
        m = c({ x: -k, y: -l }, i),
        n = c({ x: k, y: -l }, i),
        o = c({ x: -k, y: l }, i),
        p = c({ x: k, y: l }, i);
      if (!a) {
        var q = this.padding,
          r = d(this.angle),
          s = fabric.util.cos(r),
          t = fabric.util.sin(r),
          u = s * q,
          v = t * q,
          w = u + v,
          x = u - v;
        q &&
          ((m.x -= x),
          (m.y -= w),
          (n.x += w),
          (n.y -= x),
          (o.x -= w),
          (o.y += x),
          (p.x += x),
          (p.y += w));
        var y = new fabric.Point((m.x + o.x) / 2, (m.y + o.y) / 2),
          z = new fabric.Point((n.x + m.x) / 2, (n.y + m.y) / 2),
          A = new fabric.Point((p.x + n.x) / 2, (p.y + n.y) / 2),
          B = new fabric.Point((p.x + o.x) / 2, (p.y + o.y) / 2),
          C = this.__imageEditor ? z.x : n.x,
          D = this.__imageEditor ? z.y : n.y,
          E = new fabric.Point(
            C + t * this.rotatingPointOffset,
            D - s * this.rotatingPointOffset
          );
      }
      var F = { tl: m, tr: n, br: p, bl: o };
      return (
        a || ((F.ml = y), (F.mt = z), (F.mr = A), (F.mb = B), (F.mtr = E)), F
      );
    })),
  (fabric.Canvas.prototype._getRotatedCornerCursor = function(a, b) {
    var c = Math.round((b.angle % 360) / 45),
      d = { mt: 0, tr: 1, mr: 2, br: 3, mb: 4, bl: 5, ml: 6, tl: 7 };
    switch ((0 > c && (c += 8), (c += d[a]), (c %= 8), a)) {
      case "tl":
        return b.copyable ? "copy" : "default";
      case "bl":
        return "pointer";
    }
    return this.cursorMap[c];
  }),
  (fabric.Text.prototype._constrainScale = function(a) {
    if (Math.abs(a) < this.minScaleLimit)
      return 0 > a ? -this.minScaleLimit : this.minScaleLimit;
    if (void 0 !== this.minFontSize) {
      var b = parseFloat(Number(a * this.fontSize).toFixed(0));
      if (b < this.minFontSize) return this.minFontSize / this.fontSize;
    }
    if (void 0 !== this.maxFontSize) {
      var b = parseFloat(Number(a * this.fontSize).toFixed(0));
      if (b > this.maxFontSize) return this.maxFontSize / this.fontSize;
    }
    return a;
  }),
  (fabric.Object.prototype._drawControl = function(a, b, c, d, e) {
    var f = this.cornerSize,
      g = 4,
      h = f - 2 * g,
      i = 0.5 * f,
      j = 10,
      k = 4;
    if (((i = j = 0), this.isControlVisible(a))) {
      {
        var l = this._calculateCurrentDimensions(),
          m = l.x;
        l.y;
      }
      if (
        "br" == a ||
        "mtr" == a ||
        "tl" == a ||
        "bl" == a ||
        "ml" == a ||
        "mr" == a ||
        "mb" == a ||
        "mt" == a
      )
        switch (a) {
          case "tl":
            (d = d - i + j),
              (e = e - i + j),
              (icon =
                this.__editorMode || this.copyable
                  ? String.fromCharCode("0xe942")
                  : !1);
            break;
          case "mtr":
            var n = this.__imageEditor ? 0 : m / 2;
            (d = d + n + i - j),
              (e = e - i + j),
              (icon =
                (!this.__editorMode && !this.rotatable) || this.uploadZone
                  ? !1
                  : String.fromCharCode("0xe923"));
            break;
          case "br":
            (d = d + i - j),
              (e = e + i - j),
              (icon =
                (this.__editorMode || this.resizable) && "textbox" !== this.type
                  ? String.fromCharCode("0xe922")
                  : !1);
            break;
          case "bl":
            (d = d - i + j),
              (e = e + i - j),
              (icon =
                this.__editorMode || this.removable
                  ? String.fromCharCode("0xe926")
                  : !1);
        }
      if ((this.transparentCorners || b.clearRect(d, e, f, f), icon !== !1)) {
        var o = "mt" == a || "mb" == a ? 5 : 0;
        (b.fillStyle = this.cornerColor),
          this.__imageEditor
            ? b.fillRect(d, e, f, f)
            : "ml" == a || "mr" == a || "mt" == a || "mb" == a
              ? (b.beginPath(),
                (d += 3 * k),
                (e += 3 * k),
                b.arc(d, e, k, 0, 2 * Math.PI),
                (b.fillStyle = this.cornerIconColor),
                b.fill())
              : (b.fillRect(d, e, f, f),
                (b.font = h + "px FontFPD"),
                (b.fillStyle = this.cornerIconColor),
                (b.textAlign = "left"),
                (b.textBaseline = "top"),
                b.fillText(icon, d + g + o, e + g));
      }
    }
  });
var FPDPathGroupName = "1.6.7" === fabric.version ? "path-group" : "group",
  FPDUtil = {
    isIE: function() {
      var a = navigator.userAgent.toLowerCase();
      return -1 !== a.indexOf("msie") ? parseInt(a.split("msie")[1]) : !1;
    },
    rekeyDeprecatedKeys: function(a) {
      for (
        var b = [
            { old: "x", replace: "left" },
            { old: "y", replace: "top" },
            { old: "degree", replace: "angle" },
            { old: "currentColor", replace: "fill" },
            { old: "filters", replace: "availableFilters" },
            { old: "textSize", replace: "fontSize" },
            { old: "font", replace: "fontFamily" },
            { old: "scale", replace: ["scaleX", "scaleY"] },
            { old: "uploadZoneScaleMode", replace: "scaleMode" }
          ],
          c = 0;
        c < b.length;
        ++c
      )
        if (a.hasOwnProperty(b[c].old) && !a.hasOwnProperty(b[c].replace)) {
          var d = b[c].replace;
          if ("object" == typeof d)
            for (var e = 0; e < d.length; ++e) a[d[e]] = a[b[c].old];
          else a[b[c].replace] = a[b[c].old];
          delete a[b[c].old];
        }
      return a;
    },
    log: function(a, b) {
      return "undefined" == typeof console
        ? !1
        : void ("info" === b
            ? console.info(a)
            : "error" === b
              ? console.error(a)
              : "warn" === b
                ? console.warn(a)
                : console.log(a));
    },
    isUrl: function(a) {
      var b = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
      return b.test(a);
    },
    removeFromArray: function(a, b) {
      var c = a.indexOf(b);
      return c > -1 && a.splice(c, 1), a;
    },
    isXML: function(a) {
      try {
        return (xmlDoc = jQuery.parseXML(a)), !0;
      } catch (b) {
        return !1;
      }
    },
    elementIsColorizable: function(a) {
      if ("text" === this.getType(a.type)) return "text";
      if (!a.source) return !1;
      var b = a.source.split(".");
      if (1 == b.length)
        return -1 == b[0].search("data:image/png;")
          ? ((a.fill = a.colors = !1), !1)
          : "dataurl";
      var c = a.source;
      return (
        (c = c.split("?")[0]),
        (b = c.split(".")),
        -1 == $.inArray("png", b) && -1 == $.inArray("svg", b)
          ? ((a.fill = a.colors = !1), !1)
          : -1 == $.inArray("svg", b)
            ? "png"
            : "svg"
      );
    },
    getType: function(a) {
      return "text" === a ||
        "i-text" === a ||
        "curvedText" === a ||
        "textbox" === a
        ? "text"
        : "image";
    },
    updateTooltip: function(a) {
      ($tooltips = a ? a.find(".fpd-tooltip") : $(".fpd-tooltip")),
        $tooltips.each(function(a, b) {
          var c = $(b);
          c.tooltipster(
            c.hasClass("tooltipstered")
              ? "reposition"
              : {
                  offsetY: 0,
                  position: "bottom",
                  theme: ".fpd-tooltip-theme",
                  touchDevices: !1
                }
          );
        });
    },
    arrayUnique: function(a) {
      for (var b = a.concat(), c = 0; c < b.length; ++c)
        for (var d = c + 1; d < b.length; ++d)
          b[c] === b[d] && b.splice(d--, 1);
      return b;
    },
    createScrollbar: function(a, b) {
      (b = void 0 === b ? "y" : b),
        a.hasClass("mCustomScrollbar")
          ? a.mCustomScrollbar("scrollTo", 0)
          : a.mCustomScrollbar({
              scrollbarPosition: "outside",
              autoExpandScrollbar: !0,
              autoHideScrollbar: !0,
              scrollInertia: 200,
              axis: b,
              callbacks: {
                onTotalScrollOffset: 100,
                onTotalScroll: function() {
                  $(this).trigger("_sbOnTotalScroll"),
                    FPDUtil.refreshLazyLoad($(this).find(".fpd-grid"), !0);
                }
              }
            });
    },
    notEmpty: function(a) {
      return void 0 === a || a === !1 || 0 === a.length ? !1 : !0;
    },
    showModal: function(a, b, c, d) {
      (c = void 0 === c ? "" : c),
        (d = void 0 === d ? $("body") : d),
        d.is("body") && d.addClass("fpd-overflow-hidden");
      var e = b ? "fpd-fullscreen" : "";
      return (
        (html =
          '<div class="fpd-modal-internal fpd-modal-overlay"><div class="fpd-modal-wrapper fpd-shadow-3"><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div><div class="fpd-modal-content"></div></div></div>'),
        0 === $(".fpd-modal-internal").length &&
          d
            .append(html)
            .children(".fpd-modal-internal:first")
            .click(function(a) {
              ($target = $(a.target)),
                $target.hasClass("fpd-modal-overlay") &&
                  $target.find(".fpd-modal-close").click();
            }),
        "prompt" === c
          ? (a =
              '<input type="text" placeholder="' +
              a +
              '" /><span class="fpd-btn"></span>')
          : "confirm" === c &&
            (a =
              '<div class="fpd-confirm-msg">' +
              a +
              '</div><span class="fpd-btn fpd-confirm"></span>'),
        d
          .children(".fpd-modal-internal")
          .attr("data-type", c)
          .removeClass("fpd-fullscreen")
          .addClass(e)
          .fadeIn(300)
          .find(".fpd-modal-content")
          .html(a),
        d.children(".fpd-modal-internal")
      );
    },
    showMessage: function(a) {
      var b,
        c = $("body");
      b =
        c.children(".fpd-snackbar-wrapper").length > 0
          ? c.children(".fpd-snackbar-wrapper")
          : c
              .append('<div class="fpd-snackbar-wrapper"></div>')
              .children(".fpd-snackbar-wrapper");
      var d = $('<div class="fpd-snackbar fpd-shadow-1"><p></p></div>');
      d.children("p").html(a),
        d.appendTo(b),
        setTimeout(function() {
          d.addClass("fpd-show-up"),
            setTimeout(function() {
              d.remove();
            }, 5e3);
        }, 10);
    },
    loadGridImage: function(a, b) {
      if (a.length > 0 && b) {
        a.addClass("fpd-on-loading");
        var c = new Image();
        (c.src = b),
          (c.onload = function() {
            a
              .data("originWidth", this.width)
              .data("originHeight", this.height)
              .removeClass("fpd-on-loading")
              .fadeOut(0)
              .stop()
              .fadeIn(200)
              .css("background-image", 'url("' + this.src + '")');
          });
      }
    },
    refreshLazyLoad: function(a, b) {
      if (a && a.length > 0 && a.is(":visible"))
        for (
          var c = a.children(".fpd-item.fpd-hidden:first"),
            d = 0,
            e = b ? 15 : 0;
          (e > d ||
            a.parent(".mCSB_container").height() - 150 <
              a.parents(".fpd-scroll-area:first").height()) &&
          c.length > 0;

        ) {
          var f = c.children("picture");
          c.removeClass("fpd-hidden"),
            FPDUtil.loadGridImage(f, f.data("img")),
            (c = c.next(".fpd-item.fpd-hidden")),
            d++;
        }
    },
    parseFabricObjectToFPDElement: function(a) {
      if (!a) return {};
      var b = new FancyProductDesignerOptions(),
        c = Object.keys(b.defaults.elementParameters),
        d = Object.keys(
          "text" === FPDUtil.getType(a.type)
            ? b.defaults.textParameters
            : b.defaults.imageParameters
        );
      c = $.merge(c, d);
      for (var e = {}, f = 0; f < c.length; ++f) {
        var g = c[f];
        void 0 !== a[g] && (e[g] = a[g]);
      }
      return {
        type: FPDUtil.getType(a.type),
        source: a.source,
        title: a.title,
        parameters: e
      };
    },
    popupBlockerAlert: function(a, b) {
      (null == a || "undefined" == typeof a) &&
        FPDUtil.showModal(b.getTranslation("misc", "popup_blocker_alert"));
    },
    getScalingByDimesions: function(a, b, c, d, e) {
      (e = "undefined" == typeof e ? "fit" : e),
        (c = "number" != typeof c ? 0 : c),
        (d = "number" != typeof d ? 0 : d);
      var f = 1,
        g = 0 !== c,
        h = 0 !== d;
      if ("cover" === e) {
        var i = c - a,
          j = d - b;
        f =
          j > i
            ? g
              ? Math.max(c / a, d / b)
              : 1
            : h
              ? Math.max(c / a, d / b)
              : 1;
      } else
        f =
          a > b
            ? g
              ? Math.min(c / a, d / b)
              : 1
            : h
              ? Math.min(c / a, d / b)
              : 1;
      return parseFloat(f.toFixed(10));
    },
    localStorageAvailable: function() {
      localStorageAvailable = !0;
      try {
        window.localStorage.length,
          window.localStorage.setItem("fpd-storage", "just-testing");
      } catch (a) {
        localStorageAvailable = !1;
      }
      return localStorageAvailable;
    },
    checkImageDimensions: function(a, b, c) {
      var d = a.currentViewInstance.options.customImageParameters;
      if (b > d.maxW || b < d.minW || c > d.maxH || c < d.minH) {
        a.mainBar && a.mainBar.toggleDialog(!1);
        var e = a
          .getTranslation("misc", "uploaded_image_size_alert")
          .replace("%minW", d.minW)
          .replace("%minH", d.minH)
          .replace("%maxW", d.maxW)
          .replace("%maxH", d.maxH);
        return FPDUtil.showModal(e), !1;
      }
      return !0;
    },
    elementHasColorSelection: function(a) {
      return (
        (Array.isArray(a.colors) || Boolean(a.colors) || a.colorLinkGroup) &&
        FPDUtil.elementIsColorizable(a) !== !1
      );
    },
    elementAvailableColors: function(a, b) {
      var c = [];
      if (a.type == FPDPathGroupName) {
        var d = a.getObjects();
        if (1 === d.length) c = a.colors;
        else {
          c = [];
          for (var e = 0; e < d.length; ++e) {
            var f = d[e],
              g = tinycolor(f.fill);
            c.push(g.toHexString());
          }
        }
      } else
        c = a.colorLinkGroup
          ? b.colorLinkGroups[a.colorLinkGroup].colors
          : a.colors;
      return c;
    },
    changePathColor: function(a, b, c) {
      for (var d = [], e = a.getObjects(), f = 0; f < e.length; ++f) {
        var g = e[f],
          h = tinycolor(g.fill);
        d.push(h.toHexString());
      }
      return (d[b] = "string" == typeof c ? c : c.toHexString()), d;
    },
    isHex: function(a) {
      return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);
    },
    addThousandSep: function(a) {
      var b = /(\d+)(\d{3})/;
      return String(a).replace(/^\d+/, function(a) {
        for (; b.test(a); ) a = a.replace(b, "$1" + thousandSeparator + "$2");
        return a;
      });
    },
    getFilter: function(a, b) {
      if ("string" != typeof a) return null;
      if (
        ((b = void 0 === b ? {} : b),
        (a = a.toLowerCase()),
        FPDFilters[a] && FPDFilters[a].array)
      )
        return new fabric.Image.filters.ColorMatrix({
          matrix: FPDFilters[a].array
        });
      switch (a) {
        case "grayscale":
          return new fabric.Image.filters.Grayscale();
        case "sepia":
          return new fabric.Image.filters.Sepia();
        case "sepia2":
          return new fabric.Image.filters.Sepia2();
        case "brightness":
          return new fabric.Image.filters.Brightness(b);
        case "contrast":
          return new fabric.Image.filters.Contrast(b);
        case "removewhite":
          return "1.6.7" === fabric.version
            ? new fabric.Image.filters.RemoveWhite(b)
            : new fabric.Image.filters.RemoveColor(b);
      }
      return null;
    },
    spectrumColorNames: function(a, b) {
      a.find(".sp-palette-container .sp-thumb-el").each(function(c, d) {
        var e = d.title,
          f = b.mainOptions.hexNames[e.replace("#", "").toLowerCase()];
        $(d)
          .attr("title", f ? f : e)
          .addClass("fpd-tooltip"),
          FPDUtil.updateTooltip(a);
      });
    },
    getDeviceByScreenSize: function() {
      var a = jQuery(window).width();
      return 568 > a
        ? "smartphone"
        : a > 568 && 768 >= a
          ? "tablet"
          : "desktop";
    },
    elementIsEditable: function(a) {
      return (
        a &&
        ("object" == typeof a.colors ||
          a.colors === !0 ||
          1 == a.colors ||
          a.removable ||
          a.draggable ||
          a.resizable ||
          a.rotatable ||
          a.zChangeable ||
          a.advancedEditing ||
          a.editable ||
          a.uploadZone ||
          (a.colorLinkGroup && a.colorLinkGroup.length > 0))
      );
    },
    hexToRgb: function(a) {
      var b = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
      return b
        ? {
            r: parseInt(b[1], 16),
            g: parseInt(b[2], 16),
            b: parseInt(b[3], 16)
          }
        : null;
    },
    unitToPixel: function(a, b, c) {
      c = void 0 === c ? 72 : c;
      var d = a * c;
      return Math.round("cm" == b ? d / 2.54 : "mm" == b ? d / 25.4 : d);
    },
    pixelToUnit: function(a, b, c) {
      c = void 0 === c ? 72 : c;
      var d = a / c;
      return Math.round("cm" == b ? 2.54 * d : "mm" == b ? 25.4 * d : d);
    },
    isSVG: function(a) {
      return (
        null !== a &&
        (a.type === FPDPathGroupName ||
          void 0 !== a.d ||
          -1 !== $.inArray("svg", a.source.split(".")))
      );
    }
  },
  FancyProductDesignerOptions = function() {
    (this.defaults = {
      imageLoadTimestamp: !1,
      stageWidth: 900,
      stageHeight: 600,
      editorMode: !1,
      editorBoxParameters: [
        "left",
        "top",
        "angle",
        "fill",
        "width",
        "height",
        "fontSize",
        "price"
      ],
      fonts: [{ name: "Arial" }, { name: "Lobster", url: "google" }],
      templatesDirectory: "html/",
      facebookAppId: "",
      instagramClientId: "",
      instagramRedirectUri: "",
      zoomStep: 0.2,
      maxZoom: 3,
      hexNames: {},
      selectedColor: "#f5f5f5",
      boundingBoxColor: "#005ede",
      outOfBoundaryColor: "#990000",
      replaceInitialElements: !1,
      lazyLoad: !0,
      templatesType: "html",
      customImageAjaxSettings: {
        url: "php/custom-image-handler.php",
        method: "POST",
        dataType: "json",
        data: {
          saveOnServer: 0,
          uploadsDir: "./uploads",
          uploadsDirURL: "http://yourdomain.com/uploads"
        }
      },
      improvedResizeQuality: !1,
      responsive: !0,
      cornerIconColor: "#000000",
      langJSON: "lang/default.json",
      colorPickerPalette: [],
      actions: { top: [], right: [], bottom: [], left: [] },
      mainBarModules: [
        "products",
        "images",
        "text",
        "designs",
        "manage-layers"
      ],
      initialActiveModule: "",
      maxValues: {},
      watermark: !1,
      gridColumns: 2,
      priceFormat: { currency: "&#36;%d", decimalSep: ".", thousandSep: "," },
      mainBarContainer: !1,
      modalMode: !1,
      keyboardControl: !0,
      deselectActiveOnOutside: !0,
      uploadZonesTopped: !0,
      loadFirstProductInStage: !0,
      unsavedProductAlert: !1,
      hideDialogOnAdd: !1,
      toolbarPlacement: "smart",
      snapGridSize: [50, 50],
      fabricCanvasOptions: {},
      namesNumbersDropdown: [],
      namesNumbersEntryPrice: 0,
      colorSelectionPlacement: "",
      bulkVariationsPlacement: "",
      bulkVariations: {},
      toolbarDynamicContext: "body",
      boundingBoxProps: { strokeWidth: 1 },
      fitImagesInCanvas: !1,
      maxPrice: -1,
      inCanvasTextEditing: !0,
      openTextInputOnSelect: !1,
      designCategories: [],
      optionalView: !1,
      saveActionBrowserStorage: !0,
      pricingRules: [],
      uploadAgreementModal: !1,
      imageEditorSettings: { masks: [] },
      printingBox: null,
      autoOpenInfo: !1,
      guidedTour: null,
      replaceColorsInColorGroup: !1,
      allowedImageTypes: ["jpeg", "png", "svg"],
      pixabayApiKey: "",
      pixabayHighResImages: !1,
      openModalInDesigner: !1,
      imageSizeTooltip: !1,
      depositphotosApiKey: "",
      depositphotosLang: "en",
      depositphotosPrice: 0,
      highlightEditableObjects: "",
      applyFillWhenReplacing: !0,
      layouts: [],
      dynamicViewsOptions: { unit: "mm", formats: [] },
      elementParameters: {
        objectCaching: !1,
        z: -1,
        price: 0,
        colors: !1,
        removable: !1,
        draggable: !1,
        rotatable: !1,
        resizable: !1,
        copyable: !1,
        zChangeable: !1,
        boundingBox: !1,
        boundingBoxMode: "inside",
        autoCenter: !1,
        replace: "",
        replaceInAllViews: !1,
        autoSelect: !1,
        topped: !1,
        colorPrices: {},
        colorLinkGroup: !1,
        patterns: [],
        sku: "",
        excludeFromExport: !1,
        showInColorSelection: !1,
        locked: !1,
        originX: "center",
        originY: "center",
        cornerSize: 24,
        fill: !1,
        lockUniScaling: !0,
        pattern: !1,
        top: 0,
        left: 0,
        angle: 0,
        flipX: !1,
        flipY: !1,
        opacity: 1,
        scaleX: 1,
        scaleY: 1
      },
      textParameters: {
        maxLength: 0,
        curved: !1,
        curvable: !1,
        curveSpacing: 10,
        curveRadius: 80,
        curveReverse: !1,
        maxLines: 0,
        textBox: !1,
        textPlaceholder: !1,
        numberPlaceholder: !1,
        letterSpacing: 0,
        chargeAfterEditing: !1,
        minFontSize: 1,
        textTransform: "none",
        widthFontSize: 0,
        maxFontSize: 1e3,
        shadowColor: "",
        shadowBlur: 0,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        editable: !0,
        fontFamily: "Arial",
        fontSize: 18,
        lineHeight: 1,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "normal",
        padding: 10,
        textAlign: "left",
        stroke: null,
        strokeWidth: 0,
        charSpacing: 0
      },
      imageParameters: {
        uploadZone: !1,
        filter: null,
        uniScalingUnlockable: !1,
        scaleMode: "fit",
        resizeToW: 0,
        resizeToH: 0,
        advancedEditing: !1,
        padding: 0,
        minScaleLimit: 0.01
      },
      customImageParameters: {
        minW: 100,
        minH: 100,
        maxW: 1500,
        maxH: 1500,
        minDPI: 72,
        maxSize: 10
      },
      customTextParameters: {},
      customAdds: { designs: !0, uploads: !0, texts: !0, drawing: !0 },
      qrCodeProps: {
        autoCenter: !0,
        draggable: !0,
        removable: !0,
        resizable: !0
      }
    }),
      (this.merge = function(a, b) {
        var c = $.extend({}, a, b);
        return (
          (c.elementParameters = $.extend(
            {},
            a.elementParameters,
            c.elementParameters
          )),
          (c.textParameters = $.extend({}, a.textParameters, c.textParameters)),
          (c.imageParameters = $.extend(
            {},
            a.imageParameters,
            c.imageParameters
          )),
          (c.customTextParameters = $.extend(
            {},
            a.customTextParameters,
            c.customTextParameters
          )),
          (c.customImageParameters = $.extend(
            {},
            a.customImageParameters,
            c.customImageParameters
          )),
          (c.customAdds = $.extend({}, a.customAdds, c.customAdds)),
          (c.customImageAjaxSettings = $.extend(
            {},
            a.customImageAjaxSettings,
            c.customImageAjaxSettings
          )),
          (c.qrCodeProps = $.extend({}, a.qrCodeProps, c.qrCodeProps)),
          (c.imageEditorSettings = $.extend(
            {},
            a.imageEditorSettings,
            c.imageEditorSettings
          )),
          (c.dynamicViewsOptions = $.extend(
            {},
            a.dynamicViewsOptions,
            c.dynamicViewsOptions
          )),
          c
        );
      }),
      (this.getParameterKeys = function() {
        var a = Object.keys(this.defaults.elementParameters),
          b = Object.keys(this.defaults.imageParameters),
          c = Object.keys(this.defaults.textParameters);
        return (a = a.concat(b)), (a = a.concat(c));
      });
  },
  FancyProductDesignerView = function(a, b, c, d) {
    "use strict";
    d = "undefined" == typeof d ? {} : d;
    var e = $(this),
      f = this,
      g = !1,
      h = !1,
      i = null,
      j = null,
      k = {},
      l = new FancyProductDesignerOptions(),
      m = function() {
        (f.title = b.title),
          (f.thumbnail = b.thumbnail),
          (f.elements = b.elements),
          (f.options = b.options),
          (f.undos = []),
          (f.redos = []),
          (f.totalPrice = 0),
          (f.truePrice = 0),
          (f.zoom = 1),
          (f.responsiveScale = 1),
          (f.currentElement = null),
          (f.currentBoundingObject = null),
          (f.currentUploadZone = null),
          (f.stage = null),
          (f.propertiesToInclude = [
            "_isInitial",
            "lockMovementX",
            "lockMovementY",
            "lockRotation",
            "lockScalingX",
            "lockScalingY",
            "lockScalingFlip",
            "lockUniScaling",
            "resizeType",
            "clipTo",
            "clippingRect",
            "boundingBox",
            "boundingBoxMode",
            "selectable",
            "evented",
            "title",
            "editable",
            "cornerColor",
            "cornerIconColor",
            "borderColor",
            "isEditable",
            "hasUploadZone"
          ]),
          (f.mask = b.mask ? b.mask : null),
          (f.maskObject = null),
          (f.printingBoxObject = null),
          (f.locked = void 0 !== b.locked ? b.locked : b.options.optionalView),
          (f.dragStage = !1),
          (f.textPlaceholder = null),
          (f.numberPlaceholder = null),
          (f.names_numbers = b.names_numbers ? b.names_numbers : null),
          f.options.width &&
            ((f.options.stageWidth = f.options.width), delete f.options.width),
          a.append("<canvas></canvas>"),
          e.on("elementAdd", function(a, b) {
            b &&
              (q(),
              !b.isCustom ||
                b.hasUploadZone ||
                b.replace ||
                ((b.copyable = b.originParams.copyable = !0),
                f.stage.renderAll()));
          });
        var c = a.children("canvas:last").get(0),
          g = $.extend(
            {},
            {
              containerClass: "fpd-view-stage fpd-hidden",
              selection: !1,
              hoverCursor: "pointer",
              controlsAboveOverlay: !0,
              centeredScaling: !0,
              allowTouchScrolling: !0,
              preserveObjectStacking: !0
            },
            d
          );
        (f.stage = new fabric.Canvas(c, g).on({
          "object:added": function(a) {
            var b = a.target,
              c = b.price;
            if (f.currentUploadZone && "" != f.currentUploadZone) {
              var d = f.getElementByTitle(f.currentUploadZone);
              c = d.price ? d.price : c;
            }
            void 0 === c ||
              0 === c ||
              b.uploadZone ||
              "rect" === b.type ||
              (b.chargeAfterEditing && !b._isPriced) ||
              (b.setCoords(), f.changePrice(c, "+")),
              e.trigger("fabricObject:added", [b]);
          },
          "object:removed": function(a) {
            var b = a.target;
            void 0 === b.price ||
              0 === b.price ||
              b.uploadZone ||
              (b.chargeAfterEditing && !b._isPriced) ||
              f.changePrice(b.price, "-"),
              e.trigger("fabricObject:removed", [b]);
          }
        })),
          f.stage.setDimensions({
            width: f.options.stageWidth,
            height: f.options.stageHeight
          }),
          f.mask && f.setMask(f.mask),
          f.options.printingBox &&
            f.options.printingBox.hasOwnProperty("left") &&
            ((f.printingBoxObject = new fabric.Rect({
              left: f.options.printingBox.left,
              top: f.options.printingBox.top,
              width: f.options.printingBox.width,
              height: f.options.printingBox.height,
              stroke:
                f.options.printingBox.visibility || f.options.editorMode
                  ? f.options.boundingBoxColor
                  : "transparent",
              strokeWidth: 1.5,
              strokeLineCap: "square",
              strokeDashArray: [10, 10],
              fill: !1,
              selectable: !1,
              evented: !1,
              originX: "left",
              originY: "top",
              name: "printing-box",
              excludeFromExport: !0
            })),
            f.stage.add(f.printingBoxObject));
      },
      n = function() {
        c.call(c, f),
          (h = !0),
          f.options.keyboardControl &&
            $(document).on("keydown", function(a) {
              var b = $(a.target);
              if (
                f.currentElement &&
                !b.is('textarea,input[type="text"],input[type="number"]')
              ) {
                switch (a.which) {
                  case 8:
                    f.currentElement.removable &&
                      f.removeElement(f.currentElement);
                    break;
                  case 37:
                    f.currentElement.draggable &&
                      f.setElementParameters({
                        left: f.currentElement.left - 1
                      });
                    break;
                  case 38:
                    f.currentElement.draggable &&
                      f.setElementParameters({ top: f.currentElement.top - 1 });
                    break;
                  case 39:
                    f.currentElement.draggable &&
                      f.setElementParameters({
                        left: f.currentElement.left + 1
                      });
                    break;
                  case 40:
                    f.currentElement.draggable &&
                      f.setElementParameters({ top: f.currentElement.top + 1 });
                    break;
                  default:
                    return;
                }
                a.preventDefault();
              }
            }),
          e.on("elementChange", function() {
            d.allowTouchScrolling && (f.stage.allowTouchScrolling = !1);
          });
        var a, b;
        f.stage.on({
          "after:render": function() {
            f.options.highlightEditableObjects.length > 3 &&
              ((f.stage.contextContainer.strokeStyle =
                f.options.highlightEditableObjects),
              f.stage.forEachObject(function(a) {
                if (
                  a !== f.stage.getActiveObject() &&
                  !a.isMoving &&
                  (("text" === FPDUtil.getType(a.type) && a.editable) ||
                    a.uploadZone)
                ) {
                  var b = a.getBoundingRect();
                  f.stage.contextContainer.setLineDash([5, 15]),
                    f.stage.contextContainer.strokeRect(
                      b.left,
                      b.top,
                      b.width,
                      b.height
                    );
                } else f.stage.contextContainer.setLineDash([]);
              }));
          },
          "mouse:over": function(a) {
            f.stage.hoverCursor =
              f.currentElement &&
              f.currentElement.draggable &&
              a.target === f.currentElement
                ? "move"
                : "pointer";
          },
          "mouse:down": function(c) {
            c.e.touches &&
              ((a = c.e.touches[0].clientX), (b = c.e.touches[0].clientY)),
              (g = !0),
              c.target &&
                c.target.__corner &&
                "function" == typeof c.target.exitEditing &&
                c.target.exitEditing(),
              void 0 == c.target
                ? f.deselectElement()
                : (i = f.getElementJSON());
          },
          "mouse:up": function(a) {
            d.allowTouchScrolling && (f.stage.allowTouchScrolling = !0);
            var b = !1;
            if (
              (a.target && (b = a.target.__corner),
              "bl" == b && a.target.removable && f.removeElement(a.target),
              "tl" == b && a.target.copyable && !a.target.hasUploadZone)
            ) {
              var c = f.getElementJSON();
              f.options.editorMode ||
                ((c.top = c.top + 30),
                (c.left = c.left + 30),
                (c.autoSelect = !0)),
                f.addElement(
                  FPDUtil.getType(a.target.type),
                  a.target.source,
                  "Copy " + a.target.title,
                  c
                );
            }
            g = !1;
          },
          "mouse:move": function(c) {
            if (g && f.dragStage) {
              if (c.e.touches)
                var d = c.e.touches[0].clientX,
                  e = c.e.touches[0].clientY;
              f.stage.relativePan(
                new fabric.Point(
                  c.e.touches ? d - a : c.e.movementX,
                  c.e.touches ? e - b : c.e.movementY
                )
              ),
                c.e.touches && ((a = d), (b = e));
            }
          },
          "text:editing:entered": function() {},
          "text:changed": function(a) {
            f.setElementParameters({ text: a.target.text });
          },
          "text:editing:exited": function() {},
          "object:moving": function(a) {
            (j = "moving"),
              (a.target.lockMovementX && a.target.lockMovementY) ||
                (r(a.target), s(a.target)),
              (f.stage.contextContainer.strokeStyle = "#990000"),
              t(a.target),
              e.trigger("elementChange", [j, a.target]);
          },
          "object:scaling": function(a) {
            (j = "scaling"),
              t(a.target),
              e.trigger("elementChange", [j, a.target]);
          },
          "object:rotating": function(a) {
            (j = "rotating"),
              t(a.target),
              e.trigger("elementChange", [j, a.target]);
          },
          "object:modified": function(a) {
            if (
              (i &&
                (p({ element: a.target, parameters: i, interaction: "modify" }),
                (i = null)),
              "text" === FPDUtil.getType(a.target.type) &&
                "curvedText" !== a.target.type)
            ) {
              var b = a.target.fontSize * a.target.scaleX;
              (b = parseFloat(Number(b).toFixed(0))),
                (a.target.scaleX = 1),
                (a.target.scaleY = 1),
                a.target._clearCache(),
                a.target.set("fontSize", b),
                (a.target.fontSize = b);
            }
            if (null !== j) {
              var c = {};
              switch (j) {
                case "moving":
                  (c.left = Number(a.target.left)),
                    (c.top = Number(a.target.top));
                  break;
                case "scaling":
                  "text" === FPDUtil.getType(a.target.type) &&
                  "curvedText" !== a.target.type
                    ? (c.fontSize = parseInt(a.target.fontSize))
                    : ((c.scaleX = parseFloat(a.target.scaleX)),
                      (c.scaleY = parseFloat(a.target.scaleY)));
                  break;
                case "rotating":
                  c.angle = a.target.angle;
              }
              e.trigger("elementModify", [a.target, c]);
            }
            j = null;
          },
          "selection:updated": o,
          "object:selected": o
        }),
          f.stage.renderAll(),
          e.trigger("priceChange", [0, f.truePrice]);
      },
      o = function(a) {
        var b = a.target;
        if ((f.deselectElement(!1), f.dragStage))
          return f.deselectElement(), !1;
        if (
          ((f.currentElement = b),
          e.trigger("elementSelect", [b]),
          b.setControlVisible("tr", !1),
          "rect" !== b.type &&
            b.set({
              borderColor: f.options.selectedColor,
              rotatingPointOffset: 0
            }),
          (f.stage.hoverCursor = b.draggable ? "move" : "pointer"),
          b.boundingBox && !b.uploadZone && !f.options.editorMode)
        ) {
          var c = f.getBoundingBoxCoords(a.target);
          if (c) {
            var d = {
              left: c.left,
              top: c.top,
              width: c.width,
              height: c.height,
              stroke: f.options.boundingBoxColor,
              strokeWidth: 1,
              strokeLineCap: "square",
              strokeDashArray: [5, 5],
              fill: !1,
              selectable: !1,
              evented: !1,
              originX: "left",
              originY: "top",
              name: "bounding-box",
              excludeFromExport: !0
            };
            (d = $.extend({}, d, f.options.boundingBoxProps)),
              (f.currentBoundingObject = new fabric.Rect(d)),
              f.stage.add(f.currentBoundingObject),
              f.currentBoundingObject.bringToFront(),
              e.trigger("boundingBoxToggle", [f.currentBoundingObject, !0]);
          }
          t(a.target);
        }
      },
      p = function(a, b, c) {
        (c = "undefined" == typeof c ? !0 : c),
          a && (f.undos.push(a), f.undos.length > 20 && f.undos.shift()),
          b && f.redos.push(b),
          c && e.trigger("undoRedoSet", [f.undos, f.redos]);
      },
      q = function() {
        for (var a = f.stage.getObjects(), b = [], c = 0; c < a.length; ++c) {
          var d = a[c];
          (d.topped || (d.uploadZone && f.options.uploadZonesTopped)) &&
            b.push(d);
        }
        for (var c = 0; c < b.length; ++c) b[c].bringToFront();
        f.currentBoundingObject && f.currentBoundingObject.bringToFront(),
          f.printingBoxObject && f.printingBoxObject.bringToFront();
        var e = f.getElementByID("_snap_lines_group");
        e && e.bringToFront(), f.stage.renderAll();
      },
      r = function(a) {
        if (f._snapElements) {
          var b = f.options.snapGridSize[0] ? f.options.snapGridSize[0] : 50,
            c = f.options.snapGridSize[1] ? f.options.snapGridSize[1] : 50,
            d = a.getPointByOrigin("left", "top"),
            e = new fabric.Point(
              a.padding + Math.round(d.x / b) * b,
              a.padding + Math.round(d.y / c) * c
            );
          a.setPositionByOrigin(e, "left", "top");
        }
      },
      s = function(b) {
        if (f._snapElements) {
          var c = f.options.snapGridSize[0] ? f.options.snapGridSize[0] : 50,
            d = f.options.snapGridSize[1] ? f.options.snapGridSize[1] : 50,
            e = b.getCenterPoint(),
            g = {
              x: 0.5 * f.options.stageWidth,
              y: 0.5 * f.options.stageHeight
            };
          Math.abs(e.x - g.x) < c
            ? (b.setPositionByOrigin(
                new fabric.Point(g.x, e.y),
                "center",
                "center"
              ),
              a
                .siblings(".fpd-snap-line-v")
                .css("left", "50%")
                .show())
            : a.siblings(".fpd-snap-line-v").hide(),
            Math.abs(e.y - g.y) < d
              ? ((e = b.getCenterPoint()),
                b.setPositionByOrigin(
                  new fabric.Point(e.x, g.y),
                  "center",
                  "center"
                ),
                a
                  .siblings(".fpd-snap-line-h")
                  .css("top", "50%")
                  .show())
              : a.siblings(".fpd-snap-line-h").hide();
        }
      },
      t = function(a) {
        if (f.currentBoundingObject && !a.hasUploadZone)
          if ((a.setCoords(), "limitModify" === a.boundingBoxMode)) {
            var b = a.getBoundingRect(),
              c = f.currentBoundingObject.getBoundingRect(),
              d = c.left,
              g = c.left + c.width - b.width,
              h = c.top,
              i = c.top + c.height - b.height;
            a.isContainedWithinObject(f.currentBoundingObject)
              ? (k = {
                  left: a.left,
                  top: a.top,
                  angle: a.angle,
                  scaleX: a.scaleX,
                  scaleY: a.scaleY
                })
              : (0 === a.__corner &&
                  (b.left > d && b.left < g && (k.left = a.left),
                  b.top > h && b.top < i && (k.top = a.top)),
                a.setOptions(k)),
              e.trigger("elementCheckContainemt", [a, "limitModify"]);
          } else if (
            "inside" === a.boundingBoxMode ||
            "clipping" === a.boundingBoxMode
          ) {
            var j = !1,
              l = a.isOut;
            (j = !a.isContainedWithinObject(f.currentBoundingObject)),
              j
                ? ("inside" === a.boundingBoxMode &&
                    (a.borderColor = f.options.outOfBoundaryColor),
                  (a.isOut = !0))
                : ("inside" === a.boundingBoxMode &&
                    (a.borderColor = f.options.selectedColor),
                  (a.isOut = !1)),
              l != a.isOut &&
                void 0 != l &&
                (j
                  ? e.trigger("elementOut", [a])
                  : e.trigger("elementIn", [a])),
              e.trigger("elementCheckContainemt", [a, a.boundingBoxMode]);
          }
        f.stage.renderAll();
      },
      u = function(a, b, c, d) {
        var e = a.getCenterPoint(),
          g = e.x,
          h = e.y;
        b && (g = d ? d.left + 0.5 * d.width : 0.5 * f.options.stageWidth),
          c && (h = d ? d.top + 0.5 * d.height : 0.5 * f.options.stageHeight),
          a.setPositionByOrigin(new fabric.Point(g, h), "center", "center"),
          f.stage.renderAll(),
          a.setCoords(),
          t(a);
      },
      v = function(a, b) {
        WebFont.load({
          custom: { families: [a] },
          fontactive: function(a) {
            f.stage.renderAll(),
              FontFaceOnload(a, {
                success: function() {
                  if (b) {
                    if (null !== b._tempFontSize)
                      b.set("fontSize", b._tempFontSize);
                    else {
                      var a = b.fontSize;
                      b.set("fontSize", a - 1), b.set("fontSize", a);
                    }
                    (b._tempFontSize = null), b.setCoords();
                  }
                  f.stage.renderAll();
                }
              });
          }
        });
      },
      w = function(a, b) {
        if (
          h &&
          a.colorPrices &&
          "object" == typeof a.colors &&
          a.colors.length > 1
        )
          if (
            (void 0 !== a.currentColorPrice &&
              ((a.price -= a.currentColorPrice),
              f.changePrice(a.currentColorPrice, "-")),
            "string" == typeof b)
          ) {
            var c = b.replace("#", "");
            if (
              a.colorPrices.hasOwnProperty(c) ||
              a.colorPrices.hasOwnProperty(c.toUpperCase())
            ) {
              var d =
                void 0 === a.colorPrices[c]
                  ? a.colorPrices[c.toUpperCase()]
                  : a.colorPrices[c];
              (a.currentColorPrice = d),
                (a.price += a.currentColorPrice),
                f.changePrice(a.currentColorPrice, "+");
            } else a.currentColorPrice = 0;
          } else a.currentColorPrice = 0;
      },
      x = function(a, b) {
        var c = f.options._loadFromScript ? f.options._loadFromScript : "";
        if ((b && (b = c + b), FPDUtil.isSVG(a)))
          b &&
            fabric.util.loadImage(b, function(b) {
              for (var c = a.getObjects(), d = 0; d < c.length; ++d)
                c[d].set(
                  "fill",
                  new fabric.Pattern({ source: b, repeat: "repeat" })
                );
              f.stage.renderAll();
            });
        else if ("text" === FPDUtil.getType(a.type))
          if (b)
            fabric.util.loadImage(b, function(b) {
              a.set(
                "fill",
                new fabric.Pattern({ source: b, repeat: "repeat" })
              ),
                f.stage.renderAll();
            });
          else {
            var d = a.fill ? a.fill : a.colors[0];
            (d = d ? d : "#000000"), a.set("fill", d);
          }
      },
      y = function(a) {
        var b = f.getBoundingBoxCoords(a) || a.clippingRect;
        b &&
          ((a.clippingRect = b),
          (a.clipTo = function(a) {
            z(a, this);
          }));
      },
      z = function(a, b, c) {
        c = void 0 === c ? 1 : c;
        var d = b.clippingRect;
        a.save();
        var e = b.calcTransformMatrix(),
          f = fabric.util.invertTransform(e);
        a.transform.apply(a, f),
          a.beginPath(),
          a.rect(d.left, d.top, d.width * c, d.height * c),
          (a.fillStyle = "transparent"),
          a.fill(),
          a.closePath(),
          a.restore();
      },
      A = function(a) {
        if (a && a.hasUploadZone) {
          for (var b = f.stage.getObjects(), c = !0, d = 0; d < b.length; ++d) {
            var e = b[d];
            if (e.replace == a.replace) {
              c = !1;
              break;
            }
          }
          var g = f.getUploadZone(a.replace);
          g && (g.set("opacity", c ? 1 : 0), (g.evented = c)),
            f.stage.renderAll();
        }
      },
      B = function(a, b) {
        for (a.set("text", b); a.__lineHeights.length > a.maxLines; )
          (b = a.text),
            (b = b.slice(0, -1)),
            a.set("text", b),
            a.__lineHeights.length <= a.maxLines && a.exitEditing();
        return b;
      };
    (this.getElementByID = function(a) {
      for (var b = f.stage.getObjects(), c = 0; c < b.length; ++c)
        if (b[c].id == a) return b[c];
      return !1;
    }),
      (this.addElement = function(a, b, c, d) {
        if (void 0 !== a && void 0 !== b && void 0 !== c) {
          if (
            (e.trigger("beforeElementAdd", [a, b, c, d]),
            (d = "undefined" != typeof d ? d : {}),
            "text" === a &&
              ((b = b.replace(/(<([^>]+)>)/gi, "")),
              (c = c.replace(/(<([^>]+)>)/gi, ""))),
            "object" != typeof d)
          )
            return (
              FPDUtil.showModal(
                "The element " +
                  c +
                  " does not have a valid JSON object as parameters! Please check the syntax, maybe you set quotes wrong."
              ),
              !1
            );
          "string" == typeof d.fill || $.isArray(d.fill) || (d.fill = !1),
            (d = FPDUtil.rekeyDeprecatedKeys(d)),
            (d =
              "text" === FPDUtil.getType(a)
                ? $.extend(
                    {},
                    f.options.elementParameters,
                    f.options.textParameters,
                    d
                  )
                : $.extend(
                    {},
                    f.options.elementParameters,
                    f.options.imageParameters,
                    d
                  ));
          if (
            d.colors &&
            "string" == typeof d.colors &&
            0 == d.colors.indexOf("#")
          ) {
            var g = d.colors.replace(/\s+/g, "").split(",");
            d.colors = g;
          }
          if (((d._isInitial = !h), "text" === FPDUtil.getType(a))) {
            var i = d.colors[0] ? d.colors[0] : "#000000";
            d.fill = d.fill ? d.fill : i;
          }
          var j = {
            source: b,
            title: c,
            id: String(new Date().getTime()),
            cornerColor: f.options.cornerColor
              ? f.options.cornerColor
              : f.options.selectedColor,
            cornerIconColor: f.options.cornerIconColor
          };
          if (
            ((d.__editorMode = f.options.editorMode),
            f.options.editorMode
              ? (j.selectable = j.evented = j.draggable = j.removable = j.resizable = j.rotatable = j.zChangeable = j.copyable = j.lockUniScaling = !0)
              : $.extend(j, {
                  selectable: !1,
                  lockRotation: !0,
                  hasRotatingPoint: !1,
                  lockScalingX: !0,
                  lockScalingY: !0,
                  lockMovementX: !0,
                  lockMovementY: !0,
                  hasControls: !1,
                  evented: !1
                }),
            (j = $.extend({}, d, j)),
            "image" == a || "path" == a || a == FPDPathGroupName)
          ) {
            if (
              ((j.crossOrigin = ""),
              (j.lockUniScaling = f.options.editorMode
                ? !1
                : !j.uniScalingUnlockable),
              !FPDUtil.isXML(b))
            ) {
              var k = b.split("?");
              b = j.source = k[0];
            }
            var l = function(a, b, c, d) {
              a
                ? ((d = void 0 === d ? {} : d),
                  $.extend(b, { originParams: $.extend({}, b, d) }),
                  a.setOptions(b),
                  f.stage.add(a),
                  f.setElementParameters(b, a, !1),
                  (a.originParams.angle = a.angle),
                  (a.originParams.z = f.getZIndex(a)),
                  f.options.improvedResizeQuality &&
                    !c &&
                    ("1.6.7" === fabric.version
                      ? a.resizeFilters.push(
                          new fabric.Image.filters.Resize({
                            resizeType: "hermite"
                          })
                        )
                      : (a.resizeFilter = new fabric.Image.filters.Resize({
                          type: "hermite"
                        }))),
                  a._isInitial ||
                    p({ element: a, parameters: b, interaction: "add" }))
                : FPDUtil.showModal(
                    "The image with the URL<br /><i style='font-size: 10px;'>" +
                      b.source +
                      "</i><br />can not be loaded into the canvas. <p><br />Troubleshooting<br/><ul><li>The URL is not correct!</li><li>The image has been blocked by <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS' target='_blank'>CORS policy</a>. You need to host the image under the same protocol and domain or enable 'Access-Control-Allow-Origin' on the server where you host the image. <a href='http://enable-cors.org/' target='_blank'>Read more about it here.</a></li></ul></p>"
                  ),
                e.trigger("elementAdd", [a]);
            };
            if (void 0 === b || 0 === b.length)
              return void FPDUtil.log("No image source set for: " + c);
            if (FPDUtil.isXML(b))
              fabric.loadSVGFromString(b, function(a, b) {
                var c = fabric.util.groupSVGElements(a, b);
                l(c, j, !0);
              });
            else if (-1 != $.inArray("svg", b.split("."))) {
              var m = Date.now().toString(),
                n = f.options._loadFromScript ? f.options._loadFromScript : "",
                o = n + b;
              f.options.imageLoadTimestamp &&
                !f.options._loadFromScript &&
                (o += "?" + m),
                fabric.loadSVGFromURL(o, function(a, b) {
                  var c = a ? fabric.util.groupSVGElements(a, b) : null;
                  if (a && !d.fill) {
                    d.colors = [];
                    for (var e = 0; e < a.length; ++e) {
                      var f =
                        a[e].fill.length > 0
                          ? tinycolor(a[e].fill).toHexString()
                          : "transparent";
                      d.colors.push(f);
                    }
                    d.svgFill = d.colors;
                  }
                  j.fill || delete j.fill, l(c, j, !0, { svgFill: d.svgFill });
                });
            } else {
              var o,
                m = Date.now().toString(),
                n = f.options._loadFromScript ? f.options._loadFromScript : "";
              -1 == b.indexOf("data:image/")
                ? ((o = n + b),
                  f.options.imageLoadTimestamp &&
                    !f.options._loadFromScript &&
                    (o += "?" + m))
                : (o = b),
                new fabric.Image.fromURL(
                  o,
                  function(a) {
                    (a = "" === a.getSrc() ? null : a), l(a, j, !1);
                  },
                  { crossOrigin: "anonymous" }
                );
            }
          } else if ("text" === FPDUtil.getType(a)) {
            (b = b.replace(/\\n/g, "\n")),
              (d.text = d.text ? d.text : b),
              $.extend(j, {
                spacing: d.curveSpacing,
                radius: d.curveRadius,
                reverse: d.curveReverse,
                originParams: $.extend({}, d)
              }),
              f.options.editorMode && (j.editable = !0),
              d.originParams &&
                d.originParams.text &&
                (j.originParams.text = d.originParams.text);
            var q = j.fontSize;
            (j._tempFontSize = q), (j.fontSize = q + 0.01);
            var r;
            if (d.curved && "undefined" != typeof fabric.CurvedText) {
              var s = j.text;
              (r = new fabric.CurvedText(b, j)), (j.text = s);
            } else
              d.textBox
                ? ((j.lockUniScaling = !f.options.editorMode),
                  (j.resizable = f.options.editorMode !== !1),
                  (r = new fabric.Textbox(b, j)),
                  r.setControlVisible("bl", !0))
                : ((r = new fabric.IText(b, j)),
                  f.options.inCanvasTextEditing ||
                    r.on({
                      "editing:entered": function() {
                        this.exitEditing();
                      }
                    }));
            (j.textPlaceholder || j.numberPlaceholder) &&
              (j.textPlaceholder &&
                ((f.textPlaceholder = r), (j.removable = !1)),
              j.numberPlaceholder &&
                ((f.numberPlaceholder = r), (j.removable = !1))),
              f.stage.add(r),
              f.setElementParameters(j, r, !1),
              (r.originParams = $.extend({}, r.toJSON(), r.originParams)),
              delete r.originParams.clipTo,
              (r.originParams.z = f.getZIndex(r)),
              r._isInitial ||
                p({ element: r, parameters: j, interaction: "add" }),
              e.trigger("elementAdd", [r]);
          } else
            FPDUtil.showModal("Sorry. This type of element is not allowed!");
        }
      }),
      (this.getElementByTitle = function(a) {
        for (var b = f.stage.getObjects(), c = 0; c < b.length; ++c)
          if (b[c].title == a) return b[c];
      }),
      (this.deselectElement = function(a) {
        (a = "undefined" == typeof a ? !0 : a),
          f.currentBoundingObject &&
            (f.stage.remove(f.currentBoundingObject),
            e.trigger("boundingBoxToggle", [f.currentBoundingObject, !1]),
            (f.currentBoundingObject = null)),
          a && f.stage.discardActiveObject(),
          (f.currentElement = null),
          f.stage.renderAll().calcOffset(),
          e.trigger("elementSelect", [null]);
      }),
      (this.removeElement = function(a) {
        "string" == typeof a && (a = f.getElementByTitle(a)),
          p({
            element: a,
            parameters: f.getElementJSON(a),
            interaction: "remove"
          }),
          this.deselectElement(),
          setTimeout(function() {
            f.stage.remove(a), A(a), e.trigger("elementRemove", [a]);
          }, 1);
      }),
      (this.setElementParameters = function(a, b, c) {
        if (
          ((b = "undefined" == typeof b ? f.stage.getActiveObject() : b),
          (c = "undefined" == typeof c ? !0 : c),
          !b || void 0 === a)
        )
          return !1;
        "string" == typeof b && (b = f.getElementByTitle(b));
        var d = FPDUtil.getType(b.type);
        if (c && h) {
          var g = f.getElementJSON();
          b._tempFill && ((g.fill = b._tempFill), (b._tempFill = void 0)),
            p({ element: b, parameters: g, interaction: "modify" });
        }
        if (f.currentUploadZone && "" != f.currentUploadZone) {
          a.z = -1;
          var i = f.getElementByTitle(f.currentUploadZone),
            j = FPDUtil.getScalingByDimesions(
              b.width,
              b.height,
              i.width * i.scaleX,
              i.height * i.scaleY,
              i.scaleMode
            );
          $.extend(a, {
            boundingBox: f.currentUploadZone,
            boundingBoxMode: "clipping",
            scaleX: j,
            scaleY: j,
            autoCenter: !0,
            removable: !0,
            zChangeable: !1,
            autoSelect: !1,
            copyable: !1,
            hasUploadZone: !0,
            z: f.getZIndex(f.getElementByTitle(f.currentUploadZone)),
            rotatable: i.rotatable,
            draggable: i.draggable,
            resizable: i.resizable,
            price: i.price ? i.price : a.price,
            replace: f.currentUploadZone,
            lockUniScaling: !i.uniScalingUnlockable
          }),
            $.extend(a.originParams, {
              boundingBox: a.boundingBox,
              replace: a.replace,
              rotatable: a.rotatable,
              draggable: a.draggable,
              resizable: a.resizable,
              lockUniScaling: a.uniScalingUnlockable,
              price: a.price,
              scaleX: a.scaleX,
              scaleY: a.scaleY,
              hasUploadZone: !0,
              autoCenter: !0
            });
        }
        if (
          (a.topped && (a.zChangeable = !1),
          FPDUtil.elementIsEditable(a) &&
            (a.isEditable = a.evented = a.selectable = !0),
          (!a.uploadZone || f.options.editorMode) &&
            (a.draggable && (a.lockMovementX = a.lockMovementY = !1),
            a.rotatable && ((a.lockRotation = !1), (a.hasRotatingPoint = !0)),
            a.resizable && (a.lockScalingX = a.lockScalingY = !1),
            (a.resizable || a.rotatable || a.removable) &&
              (a.hasControls = !0)),
          a.uploadZone && ((a.lockRotation = !0), (a.hasRotatingPoint = !1)),
          a.replace && "" != a.replace)
        ) {
          var k = f.getElementByReplace(a.replace);
          null !== k &&
            k !== b &&
            ((a.z = f.getZIndex(k)),
            (a.left = b.originParams.left = k.left),
            (a.top = b.originParams.top = k.top),
            (a.autoCenter = !1),
            f.options.applyFillWhenReplacing && (a.fill = k.fill),
            f.removeElement(k));
        }
        if ("string" == typeof a.text) {
          var l = a.text;
          if (
            (0 != b.maxLength &&
              l.length > b.maxLength &&
              ((l = l.substr(0, b.maxLength)),
              (b.selectionStart = b.maxLength)),
            0 != b.maxLines &&
              ("textbox" == b.type && b.__lineHeights
                ? (l = B(b, l))
                : l.split("\n").length > b.maxLines &&
                  ((l = l.replace(/([\s\S]*)\n/, "$1")), b.exitEditing())),
            b.set("text", l),
            (a.text = l),
            "i-text" == b.type && b.widthFontSize && l.length > 0)
          ) {
            var m;
            (m =
              b.width > b.widthFontSize
                ? b.fontSize * (b.widthFontSize / (b.width + 1))
                : b.fontSize * (b.widthFontSize / (b.width - 1))),
              (m = parseInt(m)),
              (b.fontSize = a.fontSize = m);
          }
          b.chargeAfterEditing &&
            (b._isPriced || (f.changePrice(b.price, "+"), (b._isPriced = !0)),
            b.originParams.text === l &&
              b._isPriced &&
              (f.changePrice(b.price, "-"), (b._isPriced = !1)));
        }
        if ("text" === d) {
          if (
            ("1.6.7" !== fabric.version &&
              a.hasOwnProperty("textDecoration") &&
              (a.underline = "underline" === a.textDecoration),
            void 0 !== a.letterSpacing &&
              (a.charSpacing = 100 * a.letterSpacing),
            a.fontSize && a.fontSize < b.minFontSize
              ? (a.fontSize = b.minFontSize)
              : a.fontSize &&
                a.fontSize > b.maxFontSize &&
                (a.fontSize = b.maxFontSize),
            a.text &&
              ("uppercase" === b.textTransform
                ? (l = l.toUpperCase())
                : "lowercase" === b.textTransform && (l = l.toLowerCase()),
              b.set("text", l),
              (a.text = l)),
            a.textTransform)
          ) {
            var l = b.text;
            "uppercase" === a.textTransform
              ? (l = l.toUpperCase())
              : "lowercase" === a.textTransform && (l = l.toLowerCase()),
              b.set("text", l),
              (a.text = l);
          }
          (a.shadowColor ||
            a.shadowBlur ||
            a.shadowOffsetX ||
            a.shadowOffsetY) &&
            !b.shadow &&
            b.setShadow({ color: "rgba(0,0,0,0)" }),
            a.shadowColor && (b.shadow.color = a.shadowColor),
            a.shadowBlur && (b.shadow.blur = a.shadowBlur),
            a.shadowOffsetX && (b.shadow.offsetX = a.shadowOffsetX),
            a.shadowOffsetY && (b.shadow.offsetY = a.shadowOffsetY);
        }
        if (
          (delete a.paths,
          b.setOptions(a),
          a.autoCenter && f.centerElement(!0, !0, b),
          void 0 !== a.fill || void 0 !== a.svgFill)
        ) {
          var n = void 0 !== a.svgFill ? a.svgFill : a.fill;
          f.changeColor(b, n), (b.pattern = void 0);
        }
        if (
          (void 0 !== a.pattern && (x(b, a.pattern), w(b, a.pattern)), a.filter)
        ) {
          b.filters = [];
          var o = FPDUtil.getFilter(a.filter);
          null != o && b.filters.push(o),
            "undefined" != typeof b.applyFilters && b.applyFilters();
        }
        ((a.boundingBox && "clipping" === a.boundingBoxMode) ||
          a.hasUploadZone) &&
          y(b),
          a.z >= 0 && (b.moveTo(a.z), q()),
          void 0 !== a.fontFamily && v(a.fontFamily, b),
          b.curved &&
            (a.curveRadius && b.set("radius", a.curveRadius),
            a.curveSpacing && b.set("spacing", a.curveSpacing),
            void 0 !== a.curveReverse && b.set("reverse", a.curveReverse)),
          b.uploadZone
            ? (b.evented = 0 !== b.opacity)
            : b.isEditable && !f.options.editorMode && (b.evented = !a.locked);
        for (var r = f.stage.getObjects(), s = 0; s < r.length; ++s) {
          var u = r[s];
          u.uploadZone &&
            u.title == a.replace &&
            ((u.opacity = 0), (u.evented = !1));
        }
        b.setCoords(),
          f.stage.renderAll().calcOffset(),
          e.trigger("elementModify", [b, a]),
          t(b),
          a.autoSelect &&
            b.isEditable &&
            !f.options.editorMode &&
            $(f.stage.getElement()).is(":visible") &&
            setTimeout(function() {
              f.stage.setActiveObject(b), f.stage.renderAll();
            }, 1);
      }),
      (this.getBoundingBoxCoords = function(a) {
        if (a.boundingBox || a.uploadZone) {
          if ("object" == typeof a.boundingBox)
            return {
              left: a.boundingBox.x,
              top: a.boundingBox.y,
              width: a.boundingBox.width,
              height: a.boundingBox.height
            };
          for (var b = f.stage.getObjects(), c = 0; c < b.length; ++c) {
            var d = b[c];
            if (a.boundingBox == d.title) {
              var e = d.getPointByOrigin("left", "top");
              return {
                left: e.x,
                top: e.y,
                width: d.width * d.scaleX,
                height: d.height * d.scaleY
              };
            }
          }
        }
        return !1;
      }),
      (this.toDataURL = function(a, b, c, d) {
        (a = void 0 === a ? function() {} : a),
          (b = void 0 === b ? "transparent" : b),
          (c = void 0 === c ? {} : c),
          (c.onlyExportable =
            void 0 === c.onlyExportable ? !1 : c.onlyExportable),
          (c.multiplier = void 0 === c.multiplier ? 1 : c.multiplier),
          (d = void 0 === d ? !1 : d),
          (f.stage.enableRetinaScaling = !1);
        var e = ["_snap_lines_group", "_ruler_hor", "_ruler_ver"],
          g = [];
        f.stage.getObjects().forEach(function(a) {
          (-1 !== e.indexOf(a.id) ||
            (a.excludeFromExport && c.onlyExportable)) &&
            ((a.visible = !1), g.push(a));
        }),
          f.deselectElement(),
          f.stage
            .setDimensions({
              width: f.options.stageWidth,
              height: f.options.stageHeight
            })
            .setZoom(1),
          f.maskObject &&
            f.maskObject._originParams &&
            ((f.maskObject.left =
              f.maskObject._originParams.left * c.multiplier),
            (f.maskObject.top = f.maskObject._originParams.top * c.multiplier),
            (f.maskObject.scaleX =
              f.maskObject._originParams.scaleX * c.multiplier),
            (f.maskObject.scaleY =
              f.maskObject._originParams.scaleY * c.multiplier),
            f.maskObject.setCoords()),
          f.stage.setBackgroundColor(b, function() {
            d && (f.stage.add(d), d.center(), d.bringToFront()),
              a(f.stage.toDataURL(c)),
              (f.stage.enableRetinaScaling = !0),
              d && f.stage.remove(d),
              $(f.stage.wrapperEl).is(":visible") && f.resetCanvasSize(),
              f.stage.setBackgroundColor("transparent", function() {
                f.stage.renderAll();
              });
            for (var b = 0; b < g.length; ++b) g[b].visible = !0;
          });
      }),
      (this.toSVG = function(a, b) {
        var c;
        f.deselectElement(),
          f.stage
            .setDimensions({
              width: f.options.stageWidth,
              height: f.options.stageHeight
            })
            .setZoom(1),
          (c = f.stage.toSVG(a, b)),
          $(f.stage.wrapperEl).is(":visible") && f.resetCanvasSize();
        var d = $(c);
        return (
          d.children("rect").remove(),
          d
            .children("g")
            .children('[style*="visibility: hidden"]')
            .parent("g")
            .remove(),
          (c = $("<div>")
            .append(d.clone())
            .html()
            .replace(/(?:\r\n|\r|\n)/g, ""))
        );
      }),
      (this.reset = function(a) {
        (a = void 0 === a ? !0 : a),
          (f.undos = []),
          (f.redos = []),
          (f.elements = null),
          (f.totalPrice = f.truePrice = 0),
          f.stage.clear(),
          a && f.stage.wrapperEl.remove(),
          e.trigger("clear"),
          e.trigger("priceChange", [0, 0]);
      }),
      (this.undo = function() {
        if (f.undos.length > 0) {
          var a = f.undos.pop();
          "remove" === a.interaction
            ? (f.stage.add(a.element), (a.interaction = "add"))
            : "add" === a.interaction &&
              (f.stage.remove(a.element), (a.interaction = "remove")),
            p(!1, {
              element: a.element,
              parameters: f.getElementJSON(a.element),
              interaction: a.interaction
            }),
            f.setElementParameters(a.parameters, a.element, !1),
            this.deselectElement(),
            A(a.element);
        }
        return f.undos;
      }),
      (this.redo = function() {
        if (f.redos.length > 0) {
          var a = f.redos.pop();
          "remove" === a.interaction
            ? (f.stage.add(a.element), (a.interaction = "add"))
            : "add" === a.interaction &&
              (f.stage.remove(a.element), (a.interaction = "remove")),
            p({
              element: a.element,
              parameters: f.getElementJSON(a.element),
              interaction: a.interaction
            }),
            f.setElementParameters(a.parameters, a.element, !1),
            this.deselectElement(),
            A(a.element);
        }
        return f.redos;
      }),
      (this.getJSON = function() {
        var a = l.getParameterKeys();
        return (a = a.concat(f.propertiesToInclude)), f.stage.toJSON(a);
      }),
      (this.resetCanvasSize = function() {
        (f.responsiveScale =
          a.outerWidth() < f.options.stageWidth
            ? a.outerWidth() / f.options.stageWidth
            : 1),
          (f.responsiveScale = parseFloat(
            Number(f.responsiveScale.toFixed(7))
          )),
          (f.responsiveScale = f.responsiveScale > 1 ? 1 : f.responsiveScale),
          f.options.responsive || (f.responsiveScale = 1),
          f.maskObject &&
            f.maskObject._originParams &&
            ((f.maskObject.left =
              f.maskObject._originParams.left * f.responsiveScale),
            (f.maskObject.top =
              f.maskObject._originParams.top * f.responsiveScale),
            (f.maskObject.scaleX =
              f.maskObject._originParams.scaleX * f.responsiveScale),
            (f.maskObject.scaleY =
              f.maskObject._originParams.scaleY * f.responsiveScale),
            f.maskObject.setCoords()),
          f.stage
            .setDimensions({
              width: a.width(),
              height: f.options.stageHeight * f.responsiveScale
            })
            .setZoom(f.responsiveScale)
            .calcOffset()
            .renderAll(),
          a.height(f.stage.height);
        var b = a.parents(".fpd-container:first");
        return (
          b.length > 0 &&
            (b.height(b.hasClass("fpd-sidebar") ? f.stage.height : "auto"),
            b.width(b.hasClass("fpd-topbar") ? f.options.stageWidth : "auto")),
          f.responsiveScale
        );
      }),
      (this.getElementByReplace = function(a) {
        for (var b = f.stage.getObjects(), c = 0; c < b.length; ++c) {
          var d = b[c];
          if (d.replace === a) return d;
        }
        return null;
      }),
      (this.getElementJSON = function(a, b) {
        if (
          ((a = void 0 === a ? f.stage.getActiveObject() : a),
          (b = void 0 === b ? !1 : b),
          !a)
        )
          return {};
        var c = Object.keys(f.options.elementParameters),
          d = Object.keys(
            "text" === FPDUtil.getType(a.type)
              ? f.options.textParameters
              : f.options.imageParameters
          );
        (c = $.merge(c, d)),
          b && (c = $.merge(c, f.propertiesToInclude)),
          a.uploadZone &&
            (c.push("customAdds"),
            c.push("designCategories"),
            c.push("designCategories[]")),
          "text" === FPDUtil.getType(a.type) && c.push("text"),
          a.type === FPDPathGroupName && c.push("svgFill"),
          c.push("width"),
          c.push("height"),
          c.push("isEditable"),
          c.push("hasUploadZone"),
          c.push("clippingRect"),
          c.push("evented"),
          c.push("isCustom"),
          c.push("currentColorPrice"),
          c.push("_isPriced"),
          c.push("originParams"),
          c.push("originSource"),
          c.push("depositphotos"),
          (c = c.sort());
        var e = a.getPointByOrigin("left", "top");
        if (b) {
          var g = a.toJSON(c);
          return (g.topLeftX = e.x), (g.topLeftY = e.y), g;
        }
        for (var g = {}, h = 0; h < c.length; ++h) {
          var i = c[h];
          void 0 !== a[i] && (g[i] = a[i]);
        }
        return (g.topLeftX = e.x), (g.topLeftY = e.y), g;
      }),
      (this.centerElement = function(a, b, c) {
        (c = "undefined" == typeof c ? f.stage.getActiveObject() : c),
          u(c, a, b, f.getBoundingBoxCoords(c)),
          (c.autoCenter = !1);
      }),
      (this.alignElement = function(a, b) {
        b = "undefined" == typeof b ? f.stage.getActiveObject() : b;
        var c = b.getPointByOrigin("left", "top"),
          d = f.getBoundingBoxCoords(b),
          e = "left",
          g = "top";
        "left" === a
          ? ((c.x = d ? d.left : 0), (c.x += b.padding + 1))
          : "top" === a
            ? ((c.y = d ? d.top : 0), (c.y += b.padding + 1))
            : "right" === a
              ? ((c.x = d
                  ? d.left + d.width - b.padding
                  : f.options.stageWidth - b.padding),
                (c.x -= "text" == FPDUtil.getType(b.type) ? 4 : 0),
                (e = "right"))
              : ((c.y = d
                  ? d.top + d.height - b.padding
                  : f.options.stageHeight),
                (c.y -= "text" == FPDUtil.getType(b.type) ? 4 : 0),
                (g = "bottom")),
          b.setPositionByOrigin(c, e, g),
          f.stage.renderAll(),
          b.setCoords(),
          t(b);
      }),
      (this.getZIndex = function(a) {
        a = "undefined" == typeof a ? f.stage.getActiveObject() : a;
        var b = f.stage.getObjects();
        return b.indexOf(a);
      }),
      (this.changeColor = function(a, b, c, d) {
        if (
          ((c = "undefined" == typeof c ? !1 : c),
          (d = "undefined" == typeof d ? !0 : d),
          "string" == typeof b && 4 == b.length && (b += b.substr(1, b.length)),
          "text" === FPDUtil.getType(a.type))
        )
          (b = b === !1 ? "#000000" : b),
            a.set("fill", b),
            f.stage.renderAll(),
            0 == c && ((a.pattern = null), (a.fill = b));
        else if (a.type == FPDPathGroupName && "object" == typeof b) {
          for (var g = 0; g < b.length; ++g)
            a.getObjects()[g].set("fill", b[g]);
          f.stage.renderAll(), (a.svgFill = b), delete a.fill;
        } else {
          var h = FPDUtil.elementIsColorizable(a);
          "png" == h || "dataurl" == h
            ? ((a.filters = []),
              b !== !1 &&
                ("undefined" != typeof fabric.Image.filters.BlendColor
                  ? setTimeout(function() {
                      a.filters.push(
                        new fabric.Image.filters.BlendColor({
                          mode: "tint",
                          color: b
                        })
                      ),
                        a.applyFilters(),
                        f.stage.renderAll(),
                        e.trigger("elementColorChange", [a, b, d]);
                    }, 1)
                  : (a.filters.push(
                      new fabric.Image.filters.Tint({ color: b })
                    ),
                    a.applyFilters(function() {
                      f.stage.renderAll(),
                        e.trigger("elementColorChange", [a, b, d]);
                    }))))
            : "svg" == h && a.set("fill", b),
            0 == c && (a.fill = b);
        }
        w(a, b), e.trigger("elementColorChange", [a, b, d]);
      }),
      (this.getIndex = function() {
        return a.children(".fpd-view-stage").index(f.stage.wrapperEl);
      }),
      (this.getUploadZone = function(a) {
        for (var b = f.stage.getObjects(), c = 0; c < b.length; ++c)
          if (b[c].uploadZone && b[c].title == a) return b[c];
      }),
      (this.changePrice = function(a, b) {
        return (
          "+" === b ? (f.totalPrice += a) : (f.totalPrice -= a),
          (f.truePrice = f.totalPrice),
          "number" == typeof f.options.maxPrice &&
            -1 !== f.options.maxPrice &&
            f.truePrice > f.options.maxPrice &&
            (f.truePrice = f.options.maxPrice),
          f.truePrice % 1 != 0 &&
            (f.truePrice = Number(f.truePrice.toFixed(2))),
          e.trigger("priceChange", [a, f.truePrice]),
          f.truePrice
        );
      }),
      (this.setMask = function(a, b) {
        if (
          ((b = "undefined" != typeof b ? b : function() {}),
          a && a.url && -1 != $.inArray("svg", a.url.split(".")))
        ) {
          var c = Date.now().toString(),
            d = f.options._loadFromScript ? f.options._loadFromScript : "",
            e = d + a.url;
          f.options.imageLoadTimestamp &&
            !f.options._loadFromScript &&
            (e += "?" + c),
            $.get(e)
              .done(function() {
                fabric.loadSVGFromURL(e, function(c, d) {
                  var e = null;
                  c &&
                    ((e = c ? fabric.util.groupSVGElements(c, d) : null),
                    (e.excludeFromExport = !0),
                    (e.objectCaching = !1),
                    e.set("fill", "rgba(0,0,0,0)"),
                    e.set("scaleX", a.scaleX ? Number(a.scaleX) : 1),
                    e.set("scaleY", a.scaleY ? Number(a.scaleY) : 1),
                    e.set("left", a.left ? Number(a.left) : 0),
                    e.set("top", a.top ? Number(a.top) : 0),
                    (e._originParams = {
                      scaleX: e.scaleX,
                      scaleY: e.scaleX,
                      left: e.left,
                      top: e.top
                    }),
                    (f.stage.clipTo = function(a) {
                      e.render(a);
                    }),
                    f.stage.renderAll(),
                    (f.maskObject = e),
                    f.resetCanvasSize()),
                    b(e);
                });
              })
              .fail(b);
        } else
          (f.stage.clipTo = f.maskObject = f.mask = null), f.stage.renderAll();
      }),
      (this.getOptions = function() {
        var a = {};
        return (
          "object" == typeof FancyProductDesignerView.relevantOptions &&
            FancyProductDesignerView.relevantOptions.forEach(function(b) {
              a[b] = f.options[b];
            }),
          a
        );
      }),
      (this.toggleLock = function(a) {
        return (
          (a = void 0 === a ? !0 : a),
          (f.locked = a),
          e.trigger("priceChange", [0, f.truePrice]),
          a
        );
      }),
      (this.loadElements = function(a, b) {
        function c(a) {
          if (void 0 === a.type || void 0 === a.source || void 0 === a.title) {
            var b = f.elements.indexOf(a);
            if (-1 !== b)
              return (
                f.elements.splice(b, 1),
                FPDUtil.log(
                  "Element index " +
                    b +
                    " from instance.elements removed, its not a valid element object!",
                  "info"
                ),
                d(),
                !0
              );
          }
          return !1;
        }
        function d() {
          if ((i++, i < f.elements.length)) {
            var a = f.elements[i];
            c(a) || f.addElement(a.type, a.source, a.title, a.parameters);
          } else e.off("elementAdd", d), "undefined" != typeof b && b.call(b);
        }
        h && f.reset(!1), (f.elements = a);
        var g = f.elements[0];
        if (g) {
          var i = 0;
          e.on("elementAdd", d),
            c(g) || f.addElement(g.type, g.source, g.title, g.parameters);
        } else "undefined" != typeof b && b.call(b);
      }),
      (this.setup = function() {
        this.loadElements(f.elements, n);
      }),
      m();
  };
FancyProductDesignerView.relevantOptions = [
  "stageWidth",
  "stageHeight",
  "customAdds",
  "customImageParameters",
  "customTextParameters",
  "maxPrice",
  "optionalView",
  "designCategories",
  "printingBox",
  "output",
  "layouts"
];
var FPDFilters = {
    none: {
      name: "None",
      preview:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABGhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNDlGNUFEOERDNDhFNDExOThFMDgyRUM1NERENjU5QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NDJBOTU5NjZBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDJBOTU5NjVBQTVFMTFFNDg3MTc5QzUzNEZBREI5NjI8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+QzA2NTAzMzhGRDBGRjNDNTQ2NjQ5MTdERjU4RTZBOUY8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4Ky13thAAAF/9JREFUaAVNmluMXedVx9e+nvvcx57x2LFdx7HTJk3TpAmNmoqC+lAEEpeiCiEhodIHRJEQUnlCyG888YJQVQmJhyJKJSSkPlRAoRJq1ULkNsR1Exzf0szYY8/lzJlzP2df+f2/7Qk9M/vsvb/9Xdb1v9b69vHmD/65DILIPN8zK3MrzbM892w+nViv27cf/aRr2w9mPC9snmQ2y3PLitLKku709TzPakFgjTCwOAqtXY+sUQ85IotrodV0jmsWxb5FYWhRFJgfhBZwrbG+F7i1de15vv38hxZ3y1J8tCDr6tIPOPtWMKZkTMl96DGRuUOD1LlgQvpyRCFE1nyIh2SIn8BEwlEW6quF3bdlXGdM7HNOCrOw9CykT8A5zZmLaSGX2UvjMVfVUu7C3VQCcczomT5P2j+45KJkPtFnZcad1oMJ/eWFhW6EzwmuDGJPOolIBI1k4Ryu8tK33AstLwquxWglTd/3YSJwjIRMnOu6DCylfwAzHkfIAPi3nPl81vDgLIeggH6O0J9jRgy4W/eg+tK9LMDzIJp5HTOOBSaVFUGL9EsPTk5dcFvMqyaID3hUryHLAAJFPSbI6oyVmEVVdfg8NxjSHDrULrXnkIR+OTOtDsmJAxrcxy3NVWVWOj85XFvVR10dIydfMFO1cPpgsrJiRBNJa1DBl9bR8lght3HEF/Y/ywrHeaouSKEivLJPmVbMHB4q9LF9n7OYdzYvH9Az5q+0KE0ypQTFISH4OtNB8lC/k/7yQYNwRkMN147wk7NuXatrD6uHFfmV3OBYduiJmcL5STMOHaFLjdg6KKXJghHPMTpnUv25WW9e2LTAzCQRJxDZr7ymIkT8S8MBZuVDnJgJRDxnCezkqJig8YOPrnVAl7jUlZTy5FNKzTSHZT5CwJiWHAcnKou0GsM1rmrNqLAX10EiJNvpNKzRjK0e5EgUb0BTkkqS5DaclnYwKm13bNYH9QLZMovLQR0pEKEWMeY0ofsnDIgZMSCtnGijIlkzVPoQ7Tqqdn0zt+4QjP5CS7rAFw1lDSZmKGWCV+aWz2Y27/XNezSyTUDCS6YWzkqLGnBfzyxqt7C4Ja471m7FtrxstpmGdmEa2/ZRYfePgWoYjJlbKOehLWm8whrOTuNirmLwhGTdV8RWYq+uRXdlRrqX8E76l0JZjrCY7zJ/H9tuWjab2/SoZ5PuyKaP+xxjK6dj0AtkSCdogXiykFgA1X7SNm/aMq9zxgIOxaEY31hb2bBOO7aVTmq3HmFu07nFGKDgWc6fC5YLaTK2UhrVtfxJ6nGq4eyodyRD8JOPiOeoWPj/NnfPV1hMt23exTQezW3wsLDZQWp5/xCtKAiyKM7uhblTe5ERDDGdsj0B3FKcf2Z5htYwz3D5kjN0r+xZs71sF5stW2wEdvvxxI7HcwQBEQRVh16YaYFJEMagSIe0xToCBtodMHFfkc0jeKraRDafnz89YTDcu3HLju5g570YpKmZpVCaTcyHgQCnLTCxsoG6cfiSaCczmQ+wtTzBzOpIkdgyeWh+rWHB4gXaJ45ov7Fhaxttq7ciu7c7tP4As5UPOEp0FnV8q8G1P2nTc4GF68jXE6IrTjBTB69PNINJVXwAHjvf7eMLEYSgasSdzyAEZy1mOD4a8IgxQls4wDkBZpwYPi0ZSCNAba2OAFqWHd+B0a5zPi+M6Y9AgsTaq0v2zPl1W1uKcT2hoaNU1OrC0Vk16btiRrR/4BHi1HErDamPmOAPDgqZWqFMQ77HKA8zyo/3LR8eQ3zCOBCLMdm8Qq5SMQQACInyDu40CMuf9+hfKpiCyTKaAk2lA2eWxgImBLSZNRfbdu7MqsvBHDNu/Aeidnd0dJ+T1pP7JyJ3hCuiigHRIOKNo9ChFKVMEpwOAhW56ST4y7F/nzxL/GdYREgSWKTcNQMsCaedkpRghfkMf5pBcDi1aPGiE0I5O0Zz8ivgTQ4MY2Utss7yom3lmT0+7MG4TIf5RDVrVscT0k84Ubseq1P1z51MS5qQiecwwbVjBvgVA/mciObI5ptFKibkgJpGdlzFC8Lgk8kSxsBIrWYJmmxuXqAfJjiBiVoTScFcrQMjcmQ+xZR7nH913eb0m5BJAlgVSEla4snxVRFfObaj3xEunylzTBnkVGjwmaNgbll8LmthPZdriRkJyeUI0oqkodgiCdBRHy+sQ59jC59wDSAYGqlhfvV1FoJYnKf0WGzxDAMYh+MTcOjMtZda0KjZ0uICWsbkIE6oWK3Cc9ZEvu7MZPzLkTWOjHp2ZOnwIS6QkGEEiDPmHFsUNGziN22MVsIAE1KuoxkFFnkiYuEjkhOBWkyYjDAd5iwww/piwxAO7oBslxqomUx32HXmF7Y2zOYPmAhNSHos5EzIzcgENNdBwPpsbGMAxQJiEX1DP67gXUJ0f8gaM9RCs8mezUbvEctqFsZLaIFnqK/giJOeLaZDNNsRIyf2WhmiNFOpWZwxMdIv0Eo2GVptqQl9LKD8BuYzkM2nUJofPLLw/GU5E+3n0EwCESzIM5cxK2NA2spavCCzxuxdO9x+x4KFSwjmvM3CFthBphB3SCIj0hulTJgx18lAPqUktFHRxSQyqzLo4NswMO9bez4gILKegpD7ECNUhAgV8rRKGgW5UnmOXatXnvENGgV1IJYJs0lqaTxDWxC7tAkuD7GofZSxgCnAGBKzCEIhxlf+hgVE5dzGb30D2tu29tLvWlbbsm7vgRXhstWWL9jYGtZqr2BAmO78CItvsbYQk5DgRKK0BIHKd+I24zJViHSRVkSf7BQ/ECN4hxuUkS8xB9Ji2tHcakBpooBI3RJ16qQc0D6aAMU9Czs4eDZFS0gzOYYBHN/I4bRGObFs7771fnbX9u/eN6/2urXXaiivZ3HztC22TtnRzht27+Y37Qfjj9mnPvGKbTYHJKvMJXh3tKWgVIIroBEhl1+HRgRPehV88fmVay6pExzqcA4nJMB3VETJcRQUmYhGh2hhvYZSQA/lSER25Wiq6Yv5kOsZvAysGHXpS8CM6hUKH961R9f/yY67JJxLa9baPGXhwjJmgjAAioDMwDpn7b+3A/vzv79p4fE9e+HSOWt3NhyxFSwoLiFk6FSiCIxxL5HjZ+mUBmiVw3toxlfiJjVKAtIS0V3MVUGIxH5/ZPUFHK9eJ30vqekjS4Hv8mBkWc4mQ5v7HokoCNbY27fGxhXzmis2GBxaufKaLZCD5dmQxSVpVZLEAy00IXFN+3axNrZLIF6fpDU0TNKrOfd3SObGRE4rHhZhTlsVU+F0mDpFKDlU/AhxUDm4fMRpwWkKB8PhFYCcdvqpxRTgUZNJJvgGqDMdzK0IJhZhisWcfHfu2fFPSShv3rDGlecsOn/KfPyGtNNJsPSJqJhegL8gR9CRIIsQr5wN7PWnHloPm31iH5WZC649HJ7xTrAyIJkcTs62iIXjw8ziBfJQpOKRoRZycs18YmpqD3UgPZBIeVcBdCbzqcWgVtxUigKjQF0yO3Qa9evAMtB9/GBg/voVO7N+joxAvid/g3lBKfMXpA1D5h8TE3KkDYRaazGzTz63b//5PeYibpRsQVUxTWaOiWNAClHOxBQHiE9EYSzkQtOOrw+tdTFGG6QfmEso3+LPQ0ICA+fRnHM0Ugi1eKa8K6W8LUCwEPMK8BtwwpIxSD8cObPrHc7t1AunzVoNy1g9BAFV26cw9BiIPq6dtqyxyXj8gzmTdISGzthTv/FR++xr+/a4kdhyfgTEAjIQH0enoAmhkSl4CM75L+bJrBY+87mmbZ+u2d5/HFgQU9Gtgs+CY2kCor1IOmQQqlZ8kfR55MwsFXjROMfZfaJ8QF9f6IZmuwcTm3rL1lhbob/MBw0AILto9Tg6awtnX7B6MrDB8IH1D2/h8LnNMdcm6f/m2nm70OjYcLxnXQivo/W6kpvZI6zAt4bfhkZoIqLL1AX5YTEa2sVXWnb6hVds+4f71v3Wj6327FmL6hCFFKU5FxgxN1mGtCNtpTApmz7BdiFYwNaRnyYGcNnjhyNbfvGqxYvyg8xG40N73HramqeftxV2JAOStf3uLetBrB8tAg7ECwKcQsHe4f/aePiI9razqmlYs0VK6qWVV9ksHNm4964tJmhBiAcToiGc7ftUiLvWfHrNrv7Wx2zv6qLd/rsf2LS2aM01cDoTGFApAgDyHfiQFTiJpJghl8QYTBJpz8aZM6/eoLS9PbPzZ9dANbOjWd/6G58kzzpto8GuHQ62MZMm0LpFXT+AuLnlPo6MadXLVQvJEEIlnfhOid9MITadHrBSZDU0ZkvP2ePhHeuM9q3tLYGpZOVf+eNPXZv1zEb3rltAh+WPf9paz5y2o1t3bfjurpWLYL0ivQIlf3PMJiGlz+AoxenlF9IRGGGzOfgBWm33M+uzmfHiLz5v8XJpg7Ov2NLSGdvb/aENYaoIFy2hiAtBnXp91fqjB4wn0CkxBVYVxQXJeanaCAfH6duUCdqu3d9702UXjfYlSxstmw7vEnIXLfjT32xdq2PH7ChYOd+xonHZ6puXbP3Fy5axO3L0X29Z3lh0qCVzUljJp5S/MckjzGhDW/u71GA2xQx7mNW9I7LU1WV74aULVpy7SJx70Q4evWHT+TGECUkoA8inZgm1PlpuNtZtSoZbI93AK9kzAwGB46wYw5KPVpdopz95lRBPTA57t21l6XmrrV223ugdeqVrlnUPrLYA9F38mNWiIXZOarBcs2d/9WW78oe/xvMHdnh9x0bH5FQKSpsbNri1YxPMaUBhdTwr7Bht7BFcd0Ct7WPizAKmEQwtxnEVVAfTI8bCMHsCybwLhPYxHXxnSg2DNlap9wOQMXIFGSgI3DdAtFod1IOJlNRHqY5SlBBmFlafs4Oj2zZlY6O5+Rn2l0fk+Z1nLbz4GlJnS2iE07FF5I9vkGU/ZU+9/pp1Lp63Bze2beeNe/b40tv40lesdfOz9s5f/LWFLyB1XkFMQIJDkt4ux/uk+J8Ejn0ws0ZNr33gxfYGEgbhsgyzmgPPAzCErSUAZYY6G9Q0Xm0VZoUogv2CfefKT2Yz9t7IoH2cNG6Q2kQLWAEJJYFY/tbJgPBpt2vtqy/jH+ct33vDyv3vkq4QC1BjgfN5y6dtYfOsfWTjjL3rj+37o7vWe/A9+8yrn7eNL/2OXf/bf7TGM2dtiv0eUiIf4Tc7ZK0r66sWLWyhldiO+++hFWqaCFQC91uNJSS8xsEupzCdaJ2Qb9VBqQwkqpPSTwiuk+m+tZrEDswvIoMOSDl8/CohxcnnPQe/EWOGk23gF8dVkeQTsjNbsWLhs6TfkJKwt5WSve7/GDRZsze2h/b1995iN+S83Xj3NtL9qr3+K79nr6592b79l39jdyAnDnC61QjXo0hcwa8ajFeqj7POVIiRN6UpO5bU+DIPy9n8Q6qAONImPYLpM8tP287ej2y5dRqguIzE37NYlkIWkAMEibaq1B/nKkDULD12PhZ88aXla/kYFZ/6ELkSZjDpUr4+BdzVIWABJjq2s/vAvv7OTTKaRcwksyZOOZtT5cUH9sxHX7OXXn3FVuupTckf3n7/2I7RyBd++XVrrU8sXr8IdHdsNNlxcJqB+XO0LQT0SC1KIFYAELsYQqUI49v3vm9tiqyN1Wdc8JrMSVdQXMgzz6vDPG/HQLiIgqxWX3B+FfzBK+vXos2rVtROmbUXcKaMugPII46YN7Dxzo79+52uXSfnaRDVqxJeG9hIOznCN960pXO/YM9dfs4+9eHIfunTV+1D6wt2fvMp3hKRzC21rLP4tA3GPfIwzAa7j+NFZyohju0reXKeoSSVeoMKMKit4wuL7l5tqWAYewkpFWJAIMB6VO9LMxH5lAJ38OXPf/ya0uwMrRRUYlnZsen7922+fx86p0Tonn2rv+dSEUKIMm+IIG2gpq8jFal7nN21mb9uHXxkay2zK1fPEuxSOz5+aAN/17bOvo7ZdBDSxJpE6Ml436GVci6NnxMQA8wqRMIZWUCt2cTliT/4SKpKELj12QTU+xbVLuT8sF7lXPn8gDkA58n7uwTQA4vYd5q9/5ZNHj6waOsjlteXLbn3lt1mq3MHP+qoiGHbVFKpYde1kCiNH2WDOkGwb5Ol7xBbXrIUxmvlA6udOs9G49Du3P9X+9Clz1m7/WEbjhI76D4khpDesK0vp8/wHb2CUOY7pywOKcYmYzYUIDzFt+pxEz6UMQCHwHAUtmFGuR+WAwMCAI8k0s8Qc575Nt3X1mkPJME54wWcKiM1KO1un+pNC5OjhKq33VtZ3mCxS5JmHpLNrTeIqblHdnd+w27XFnjWtNkR1eJx3bqPN+3WrX8Aaim0mlus1bUG2W6T5NI5OSikt1cTIBYHQepkC0BrRO4mAEhBTu2mFMS2HAiWj/mARkSKU4NJL2iiHcztS6+fvpZNEvauKYiA8ATCJj+7adP7N21O29uYy16Mc5EQkrSTUlSv16Ka0I5Iz1FTrUGgVNA6LA+pMdbM32OjoXto7HHYrf5/2UqjbWfOvEyORs2PJlvU6T6aVRkwJaaE7BcvtNYwYVy1sQbRKZCsrX+MDDCQo5dCOTSWJmPGYRmYdqPWtmZry4Lff9mu5TmpAY6XaacE5ysJOInpfUlut9n+eQBS1rUbL4jk9VvKxJHAnUV8CIgJfoJHVwMhveNwaDuJZ83DwNr0uVN07LD3b9ZGE1tbn7B2k5gFdA7Ys8rQtojJJUURDQNiaDjt0zbBqSPokm9pT0v10pHTlPKy3MWgwj3zmx//bXbejy3pd1FbRH296Gw4S9hQABGW6TyFISWHGQ45TiMgGe0hOg/VBvRJcJ8kr84j3mqlY3ZV6o/t3a2AV9oLtsiGyr3eZfuXH37V3vyfr1nkU1livik7LTlBcUJmGyDxeTLBhHVW2yHXDaSOjyC0BMePiT3EfLSvNHzM27AKtRpscAR/du2ProVbz9pk78iSBxQ4vEEqGKDSUwMmEPYToYKKpiZxBo6wJnIy+iHNJOcHBWIaCJQ2UyK8NKM92SQi0uOgk6O67Q76lsSnbXvv+zYb3rDNdTLt5SvEF5hBGzFxQ3WF4sOMDbcccFFMEeF6t5+y/Rrj6NrAVjVPvcnbsENA5ALmDiN/8oWr12qrK9Z+5mmC4qbN+7x6u/MmNco+25UHNu0e23tMMqZcFbroJxexqkTOgTJZPnNAQdvIbv9JSSVBTnX0nERyQAbbpbbfu0sJoDdcwYa9j+88evQNNvc37NzpK7xk3XAaEdFKGhUhMkwsQ2Mx4CEBYdVohF9ixCv4i897y01rtZ6iPbWbP/umeT+9/h3I0w4GFhhjHrwy6L//yAb33rPR4z0b7B7a27u79ldGylI8xobI0xdQKfGQkOKqQeovW2KvukVjRKAJYUKphxj30HCWhHb0MLXD94a2drnBKwZMhAq09O/by2cv2AvP/rqdxSo6mHW7uY7Z5tYd7rjsoRZjBUIA2FO9v7x0Ae2U1p/27HC4Zz/Zvs7eAenQt7/xtbLWblPa1lEvlRnnCOdVKufqdPxhTv3xaDq1wRyHToUyc2LH1EYzjskE0xrThl/g8LLzGW+AU14eZRwJiDhgJ7I/Jh49ZGP7HlXc5RpvsuqkF23rqu6OduylUySmWx+2i6cu2Pmt83b21DkApoOGJBRKY8xd7Gh/LaUOmrN5oR8DNQGKDjSHj969hf0Db+yERNSlAb/kCTlHbOloR1HnAE1tUGSdWSS6KrS7upczEnL2ygoKcvIZV03KjpFqCpFaOKEeURGmfTLimINY+Zzih34loWCorDggdqgtIiFUKhIDtRFnRXT9uEDC1aH39AHmxckhHS9myH6ZQKoq9PYJ6XseWy0ayGSKsr42Cji0nysM95k4BKnEnH6upLRafXQdMpf7+QZn/ZzDUx/mcj/lYFUFO73N0sdte7qzu3MEVu3EJBh2HxzeYzPDMcCXtqbcNQ9dkcWNmHGZc8RDDat+PyLuxbmcGWnrGonq/aF6uVdeoFRJ1C9SUn+Y1Rarn0iaYkoM0MYM2jZyv02BEW7cvMpaSzEihlz7CUNaU/lUpWWx6l4CSeoiXf+OLl1W1FcCqsZJOwhdhb4MhEiMJNwPwUQMBHJyZ0lUmhCRjij3nDZJWYuJMPUF15WR6rcmfHFfoY2kRhfXx9HviFIaT2NFGmcNqRh213yJOTHgBuvejavuT67d3Cz+f8IKBjT1t4CLAAAAAElFTkSuQmCC"
    },
    grayscale: {
      name: "Grayscale",
      preview:
        "data:image/png;base64,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"
    },
    sepia: {
      name: "Sepia",
      preview:
        "data:image/png;base64,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"
    },
    sepia2: {
      name: "Sepia Second",
      preview:
        "data:image/png;base64,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"
    },
    cold: {
      name: "Cold",
      array: [
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        -0.2,
        0.2,
        0.1,
        0.4,
        0,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    black_white: {
      name: "Black & White",
      array: [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0],
      preview:
        "data:image/png;base64,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"
    },
    old: {
      name: "Old",
      array: [
        1,
        0,
        0,
        0,
        0,
        -0.4,
        1.3,
        -0.4,
        0.2,
        -0.1,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    milk: {
      name: "Milk",
      array: [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0.6, 1, 0, 0, 0, 0, 0, 1, 0],
      preview:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABVOSURBVGgFfZlJjBzXece/7qrurt6mZ+VwOFyG4iaKpExSEiPEyEWBZdlyEh8SJECcU+AcfEmcWw4BJgiQ3HLMJUCA5BAgC2DAQmwj+ymxFcsmQS1cNFyHszRn7727ujq//6t+xFhw9AY1tb163/7/vu915tP7o1EYmmWz9mKMRmatltlW3ezmT9dsZeWBjUaxxXHX4uHAkuHQEuaYjXietTDMWS4sWD4fcZStVK5YMapYFJXcfRQFViiYMY17ztDTdSZjFkA3o4NrHZ83xJfmZMdz/XduPfeChYIgXUKT4TMlAsE8HCTJkGdDG8QDzgiSSsEH2TFxcZBBKETjYDrzRm6dkR58ZnyWYd17Bv3Uw3O0hO6HiX+b0jHutfqAf84OsoZfLBlPlqYkaRTlsVboGERcJ4QsMnLzJAiTeJ4upeUyzPHnzAuBtK4XVAyl3zP90PA8ZFlO2vbnABK6Fz/iyw+/ntYKvZn0kV/cLcgHOkdRzrnOYDCwMCjAWMxEqTBAwBxmTs8SKJPhPjsW3AkDSVxP68qIhwnr2g/RcXyMaereD3+ts76B3FipnFnXj9BJzgJaSIqVW3mrSLh8PrRcrmDtTo9VQlxQcdGD6SzXec5jgbCa7l8cBIHeZeDA0WB9z5TcWGtLu9K2jxPvGf7smfTnw8I7HlnDP5NfuOEl1o1/qesAqvlCZIV87AI3CGAsM3JMpYyFgEBsspgYx8icdegaThma5w/P5AvmeSeh9FwC+nnuw//nn/jTfJ09ryE8ON/z33hf9ve5XMYmJyetVKxZrTZr5UrokEcEg2zqH71eYs1W3xoHfet2BnwqKqkQnpDW827smRUzEkL37jr9xFnQ0/+557FL6TsvTNjrpqZNsI0WUwjIn1GwtRpD295e53kD32xZs/2E8ChYhPuVy9MWFWesWCrBSMCCRYQoWrNptr0VO6FiUC5EzcmQOEll/rl8ecH00rvh4YkeJBUTeu+HX1PnsNfrQyTvtBzD4P5ew7a2duzZ2hNbW3tqu7trfBcTOyQW61qlGmKhaayzQNzMWG1w3iYmTiFsiFAjq1YzVpsMrb4Z2OZGkzkHEEdYQEAC+6AXMzkYcBoVGHAIlTK6RtOHh5vjFQGPGj6Ode0EaXdXrNEcOeYfP9q0zfoWVnhk3e4uuD3AfUh4JK8sbpRwPyIGisXYOt2YBXZJkHXmbdvkxFUCF9TCVWZmzAlUqVRt7VmHtfpj/8/xDROAaFnh8FCwDnnm3ezwO11/lnH/XkJohJ988i9k7g1bX9snaHO4VM/6gx0Yz4BWOSyhLJ6F+YjFEuYk1mi0ITiyfE7kSyjiLhatIsxFlwzlluWy2dJpCVS0J49z1nGxI5Jp4tTV5w0vqGdUbq8hgfTOW8mdeRYArcu7u30CsYwQHTS9k5YgSez8UTCrRcIwXUkopsU0d3p6waqVeb4NcaGnML/AvBIKyDgLqCypThhKyLIuyRHfDfEfuZBLbhhHSKVDQCA63iJeEJ39tQT5GQHkmvCiBJttNFpoeQDqrHNswKC0PUSIjPX7ip9xeYKa83m5RrpYkgRYZgfXimGgjOUaXLf4vuHmaHEdYnhu3uz4CfIROWnoI1dcfc4QHQ1PT9dSoL9XGaRDcS2AyoqRQb/FTRdmBJ1oO+5zLSFi6/XaLKBgTxAwS/EXwSxf4iKtdhP/HzB/zyZrl5g3xM3uW7vddpqSlsESl/DmEeboAjkpn0lhGO0fZtYRHv/zzOos5nUoUfvnYlxK8kLoHI7QUK/fRKshHyTO9IoPMaoPlZlhZbyIMrWs0sFaPYsHRdvfX8N1zuMeNSz6jMRZg+gBSbTkAt/GDFAQ2+JiKpQjjDsJSuVOjhxURE9DTHt38sxL+4MYwOEs3vRewuhe80M9SKvZIczI/1PNe2F0P8IRw7Dq5kk7QrBMJk+p30aIHZhfdEwM+nswJRc8Qv5IiYAXboiO4kUJGIO5uPDMpjN+VhAvgN512uSl5j5MJwAPJRG0pfiQxUe4uHgKs6gkGJeUuo5Rl2ImJaLqNXGIoxzQ7w/JGZO8T3jesUqlMmbsOeSqViqdRGurfJtjLnli3HNI81pP8SLLdEnCYvRFncW7w0PvJLA03WzGWFoeQ6+TAzldpZiF+QEKaSCc8lPRsoLYINCBCskSIqhYSM2HPyOceotOZ9e963Q6Lkb6/diBQb8/IPfcg7EClpmxUnSG+SXHiNYSs34ox8hSrfaG3b3/b7a6+tj29kauiRNki6xDM77Jjxuxfr8DXSrwIK0gAlkCXqMoskq55nJckjQslFtllE4ZaoKkeQ1ZJi0O5bgJzKcuJlcTEOShJAKdThcl1BGqjQWqfJcBihU3p/FhWTHtChULUmaODnEw2LUPPvgbm6jN2fWrv2f5cNH29j+BuQJVw2kmTvDO+HbE3B7KxCddzLoAgU9SAsWrCtgyJdIgB6yLMcGqglpVrASTQIoLWSgBuXQu0KO2Ybo2QU3VFSS3cK1JzkOEaVHKPICJo3zfoe2NHNoVClXnXjK23GR9fYfk+5HdufM+9ObR6BHmrdIWH0OzVVt5+M9UGNuWxOftjTe+Bl9thKg6hQm1h0OhYYIQCjxZSN4jRQUWnD17dlk+SQjzUC4lIegAeSgtcktwqUPkgudytQKIJKG1SAjTMv+IeiweHCDsPr674XJSkK0wV4wgxMam/ehH37F6vU62P2GLC5ep11SjFVi7g2bnEei0ffTRT+zf/+Mf7fnWXTt75gZV93HWZgGxQhowwMRbZ0SDh/O7d65oFHPZ7IAjgDE5teBWlhAEe5dSrZVF8zsEdRHXmUCA2KJCiEUOqM/qvM+R6Wdt/+ARgrZt7cgdO7bwJs+O2+7eI5uoXrf5I9PMO4BW0SkukwWJUHe7vQ5Q1NGugVB7trH5GOpyKbiBVyXSDJV3xvLMb3Mvl+Md1hhSZYZN6m65VVo6SBAFvtBLBORemJIvUqQSNKsnV5LMIFAVC4ipPFme+n20hXB9J2CXorJev2UffbhiF85/yU6efAWtL7Ae7weURFTEiqkE9FMVIcYChDp16hKu+V1cTpp3rsJZA92DHAnAo8JT3qMYlcvKg8JGo4MW1Cxp14OdEuAjRTA+lU+MFwtYRP16ujsixNonVnoIU4GpNHl2Ok0Ld7VWxc2rb24A12epyS7CdIV4w11hIAiiVCFaL8EEQKkYDYKKLSycswsvn7delwJVVYfQLPUsd3Ye7uQTv7j0SN1owcLFxXl7+nTd+XyKRPJ7IZaypxYX/MoSqYUkrOJFACGhW2B8Hn+I2MeSO7ZaHazTQqM9O6BjPHvmAjExh7ApDgsVpdE47kEnIQYm+XbCQa/yVAXX/J3f/iNiagPaVBCDdawvtCpYLphFKrakABQJ7mIad5biw6989XU24R7brVv38NMWmlMJok2EVA3yX7lWkoCj+tyZVBYQNFLi815Mq76SexYKRazVs52dfb6bsCNHzjO3yyFBSs71ClGGuuuUy9gHBz3y0ArKksVD4mgGq9ygp4lZc4s1y/BEHzQ6IBb3rN+bcKil0krYhKPBx7aF9fqaXb4yb5cuXQfb79rt2//NC4IYTJekCnbFSupmeIHTDhgFFshaEijNN4FTgtBMheTBfsOOHz9nszPH+KbrlKT2+NixBZJkYINeBoBo8Xyf2JhAiOfEhiyXs+f1BklzjfVLCA+T8FEqRzY/fxRhGihJFTYe4DYB2Q5lhI0DSoDGus3ODe3dr/4mgfmqfe/7f0fG3cb/hdWyTNpfyDJiPGU+TZrSSY4GSwiimGm3O869ur2hHT16zgrsi8mNFhZO0K9MkPgoOxoHWC7rklm/t0csyNq4akw9lUyicfKC3CUoQkvVdY/itAuNGm5cspnpCuusQksiFDmIu29964+X5efPVh+5WLjx2rft9OlXbPXZHTS26RKQpot5DWk8xqUEhymq6Z0OZX+BAIppikJo16+9gxaP2dLSGeKkRkJ8jmsIBQus04HZqttqalE1K76EfgmthHKDgEV9kUsFlNATVbli03a2N/g2Yl9gjiTa5hmaGdUs+NLbl5ZrtRlcqYbkqmRn7ej8F+3KlV9m8TYC3SUGpDHBrqzBWQHPn54JCPRc8KxDtZcCPiIRXrv2ti2dOmcnl47Y2uo+SLTLNwKLHod8W1oGKAoTtBL70J7mueIQQcniCbElofM55Z4sgU91DWjIgs3mATlpCQVlXfINh/EMJqozIWNnTv8SKELtgkDlUmjvvvtN3GPJvv+Dv8I6G46o+vTJqaP46brLtKk4uB8uKKEU+LJaSKWqJmp2jvoLCO31OjAGOAybTpAAtwkyJVfu5BG6Wn2JeQKMMnSyME+eyc+h7RLr9hGEkpkhyxejKdYuskvToTqYthPHI+WRVXx82l55+XexyqyLl1bnU2vGt4mRyN78hd+ykyeu2fv/+127ees/bWoqtt/49T+0+/e27R/+6U/c4qoIZBVBs1xriCAFfl4oABjlsgJW5fsMQlRREjUdluj1d51AmYwaNGq5wqwFdJ++TBKQKDkLrrs9uXMXMCjxrMIBWCjBUIHs79N2DCMLLl8+t3z2zFfIvJdwiU3bqL9nvcEn+N4zhxC5XBkNnLfz576IVh+geWA1eG6vv/ar1mqW7NOV/3FCKF4UIyIgaDy99Ia9fv0dO3FykbKmj1upToMgriQQyeemuBa0ClDyOGoCo/zOkuO3lCjti4ZDVdaRs4KrBEKsSMEoeO8P6ihFVYnilojsdju41p5jZjSaop94m0Ufo4E72LFsW9s/QcMf2sOHT+3hox9jtQhgkJv9pb3zzjdteuqUvfe9P0MzzxFAphe+B1TCi+xElmGWZ5TzMfsA8n1VBBjOXauazbLxrbgI4EhC1CZje/Jk1eZmF7FSDXRiJy3Mu+/13ZDyRszrh6XhULFGtZ2bsODq1avLu3ubMHQDZKhilT1g7zgEq5gf6BxUyfyfovkfogEhjlpdoQp+a6sg06/ZhXO/gq/v8z7t5bXt8+qVr9mJE0dIiDOOaKvNZoZ8DGn7/QYCqGkjV1E8grQwi5+HirO+PXp8G5ecsqnpotsh6ffT9lsJV7Asq6SJsopiURauFly6dGl5bvYyFeoXeKgAw+/2gMbsDJP7CPG+rTy4RYISzCEFSKVCUrWXAjAe3gEQrtjlV75hFy6cIrG+CROTIMp5tlczBHHfZmfZXm2rIA1wUxWLEy5H6PcWrZH2PGoVVHbkcL2jzKsilIpJUFK/x6AGxaIUoCJR1ylkE59YJnjrrS8vV6snscQumgqdj688/C9bXfuhbazfp4Jdd8lHW0Jp7aVePM8h7YhID0s8hExAJdwDRcwuvnzdpmbKfHcbQev20ktvwDh+PwCNXJm+gwVVQav0UZmjNamZEFSjUEir2naL1oJgRzyUkP7Ml5BfLKNikfWGO/C7zzUl1alTi8vKkoOYfd/Nm/bTW99Bwph9qnNsZN+0+vNPERCtIYiQRH4sgqWIhoesq40KdYjD5Bn5YIaKYM+eb39E+1qjr3hC7DywxWNfQMBJlDUCxreJITIxCFSh7FCgy1IqSmO2e6QsQbjmqBoSPcWdrCVvkGtLCG0+DF25JPSCt4sXLy4rxbdaDRhqgy5q9iPut0AbMbLtNJ9aQL/OsnPPL1iZrBJbilLq73Wdye6g+TmydxbIbJNrtkhWW/wUsW3HF9907tAgkRXYJ1Y7rKBVLzKCIcG2qmjXaJGPAgJc4KG+R4gW07urWpAQ+k7v1bkKng13DF577dVlQabqJJUFSlwHB3Xb3nkCE7vctxBEO4Rsa7BkgQ1d/bwm9FLe0JF2lfgz1hkmdRgo4pINrLOJ62mX5CnEuuSjq2g43UIql7ACQih5Co1c/PBMcaifLlTSu30sNC/30m6MYkGWUuI0WoEcSVfV9gT7CNRnah0VvAQeP8i4jS+gTc+GoJQ6NeE2qkAQaUNBnu5x6T6XKyIkiY76SwWjyvlk9BQCB1hlSK5JcKeu3bz5nr3/478Gkod2bFGbByOSL1keOioglQhxBkdGoTJw20BpgPcHNGzC8YwSI6AjVyJm1OTJ7TQ/+PYf/O1yvf6IZv+J04zMrk0wWUI/fg7AbQVkAQsI1WxEv6LkRbBLIxJclpTgmqf9Y+WMIOw5CO0PIoTTBncPC61gnXWbn3sZ4UvWbg2BeDa+2XfWvSyqHZEBVmo1G1yTH+BS/X9CPApyh1TCQjbVgULOKAop8SXI7/8Fmf0t4qPHVswKGV0/8GjDQSWHmiZtbscwrfhAEPxTDAvLpVXNUfGnGNFIBdJz5Rz9GJQA5wNijYIPre7tPbGtnY8J/gWbmzsOk8IklR4qc1SWZHBzVcJqGehUsboEhSViq8h8teJFvEc0us6t1LgFX//6N5ajwlFywA0C8jqSx65AbDToE9BsmxK/h5lT9NB2qpKT5MEuqoRdoKZw6AIPGAZrOOTnabGnuFtf20Epysr8HHGwzc96HxCDdfLNCZuanHIbd4oZ/aZC9+MEHMQtdmtKMM1qMK/3pTItbz5LftJODk3Y1m378OO/t8y//oAOmkCSnymexeTGxpbdu3eP/uEhxwMg+CkMKzNjHcxOSYR2cCWE1s8OgsRiUe2x/BiqDNcSS1jqrnRHZYd1N2hha5QvFZKefrfk90aq16WlG/bS0i+SOE+5e22YszPL2unmoQQh/8HjkI1wikjeNRp9yqeHIOtdrDhvmT//0/sj7YRUKhP8mCmfI7OWM2TWVCj1xdr21Mdddp9lZgWiBFBgd0C7brfJnANM3eLcxNXaxETqkqrltGvfAQh2d3ftAEvXalXolVEIOWScm6ps1U9OLtAan6O0uUa1oOyeKlcljA504qwjN5PCtUkuC+ocrq1/jEZVdUYcKh+K4xJc5wKaLmMpBbYgOGLxiJpM7WhqRZ1liM8OERXQ6ZBG/b2u9UxeIGa0HyiLag2tpWt/6L0E0HBzRYd7KdcPUhhKYx35rAJVfTXknDa18x40JVwRQurQVNAJZinDVbCBWHlXUpCh8Vu5mlzTCTUmJMY8s7p27zkz3TElRsSQGPRD1xJSeUVa19C1ht75ue5a63NoOKVKen2sDlGFmATTIVhNFxakpqWzfjEaKlaobZSs9HN0CLdCHpnXa1SLS9PS5mGiouWZ90x47Wqenvn57swzCeS+OySIX1d0/LxQWk5/O1Txpq1MlcjaFVGSAj/gTs880xIwvZc1lECBT88AxDTE0AviXHum/Ts3iX9eiBf34+/9vT+LWSlbZz/8M2cNlPZ/Ozyc6nGGA7gAAAAASUVORK5CYII="
    },
    purple: {
      name: "Purple",
      array: [
        1,
        -0.2,
        0,
        0,
        0,
        0,
        1,
        0,
        -0.1,
        0,
        0,
        1.2,
        1,
        0.1,
        0,
        0,
        0,
        1.7,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    yellow: {
      name: "Yellow",
      array: [
        1,
        0,
        0,
        0,
        0,
        -0.2,
        1,
        0.3,
        0.1,
        0,
        -0.1,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    vintage: {
      name: "Vintage",
      array: [
        0.6279345635605994,
        0.3202183420819367,
        -0.03965408211312453,
        0,
        9.651285835294123,
        0.02578397704808868,
        0.6441188644374771,
        0.03259127616149294,
        0,
        7.462829176470591,
        0.0466055556782719,
        -0.0851232987247891,
        0.5241648018700465,
        0,
        5.159190588235296,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAAAJcEhZcwAACxMAAAsTAQCanBgAABUNSURBVGgFjZpLjyRXVsdPxjMjH/Xuh9ttj7vNYpBnPEay0SDBhg0IIfgGiD1fwuITsOKjsGY2wAyix2DMLLA9ZXe37a6uqqzKR0TGm9//RKbdRjPSRFdkRNy499zz/J9zb/To/B//rA+DwMKR+dHxq7Pcdna9Ku0/v9zapxctbb01bWd11/vZ06fnR8PiMLAUGglEJklgGec4pi0eWRKHXENLopFF9OOVBVyjKGAs/4LRbm7uRzsmoKlj/6S5mM3/6MSLkZ6s83sIjqA36ncEIDh07m2EJOoDLxbDTAPHLQJUHYK0vXG7OzTWjCZradHZMNZP2iLOjrE6B7Z66zXglWN4Gug4X9++2/eDH9qGX11FS08jC/y2Q6DeIp/AicO1bLFTs+QKQ7MMQUSp4aexAKGwjgiIEO0B2ui4H86hX6tnFNRyNh0a9yt9maJnCppcuJB5nZRTE2uDQKLuB/2Q/JVbBPDnQRwJpDPkEsEbPIVYR7NokNjYMcnTGFEDXKaV2l1lAbL2LoRzpjYkcoYQys1OW8NYWUTD3CrQlAJktYE1bhj1LfM0OnmR0yunqEZ/8B90MDx/TxjaoBvt+NiNRgDUNbgCkkIkwZcjCULvDkZ7n0UkYUHCayb9IUzAc8QZcB/KXM7ZIBxPzpOaNSrgXcSDj+NeXTXfftjQm46vHKgbLuBax85S/ji41qtDhk7SuGsLJ4w5JcyYYM24pnCRMCGPMDQIt0X9OaqX/4v+ELTcMLH66FdPkhtvheHBouon5on97wsiSX/DMXDHgEGPg8JFmCPqu5pAFmrRDQE6ObF7/CCMBHlzGthDJDgchzbPQuMPQToYg3m6bZvebrdmV2Vv1zVxQptiRhR2cw6C8CzNO1JxL+27IGrjRQBd8aX7nbO6GtQmtnSVgnUjhUkpmkA8RG1VOMHWYu/dd5XHQAv0VNvKmk1jdzSAEXHV2xgqSdTaOIssjmJQLWbiwB4cmBX1yG6q0J6ue3sJfDdYSXDrM0kCDv2KeT0O1hLTukcxcKf7kZS6O1wgaeN7h4KeBs7B1UCtvinQYGMhTPXAa55Xtl7VtrxpbLForECQgVgLOrRWZ0BxBndVZH0a2WiSWTye4O9mM3xuOpnYEe+frUZ2fttaWaMiZkVchxEPfthuOQMCTk4njXaYR4JI02JQxyu3gy5o28eIxuwPhULUbDdutuWqt8trXGSJv5MIm6Yx+Hb/jQK0xSgFfMipeGkrhOrlR7X19E1nMw+CyCo7nqY2G8d2gDv+eiHXwzr4WwNngsoBsPklOERZ4OC28KvYkwjfyuP37vn7VmjshRQSSqbom+dLu7g0u74RxIbW8aav68F/gd6OQG6ZPUTlHYK17ci2xIP0G+GkRJXVKCNUJp8iDNbtoTHGSj+IIwQK7POr0oryO+AVEwPrgys5fzvm90IMba/87jlXP/5khb0Qsk700cdoNcDX4apT5q7gnBfuvwpAHwRBeuteg0uGyA1n89giyg8RqtYri5KI5xQfjxC65j6xu0cJtAM7vyysVMr/fwdD6Q/h3+VQNwZoPo3zc/cTlGi3p4ZSYFdFjQUElzrxGsEP9xooaxDXfuhZWTsvWhAPRoCbTh04e1zNfZVOPc8B6HY8T+3h6RiQ4BVjRfU3H79dIB+jsRDwBCu0kvdwqv6LlLE7TpGQW0k7rQRwbMOvK8xGEKuskE1Ve9U1rsb7usL34VtulkynzmS9LSgilRBJX9DqQMEAi5wijJDwcr1FOIjxNwg0BPtgFLX4RLurON/1211hEZpqG+q/vWDoSPEqze0IEg+esAUf/CkfCEoGp1AbTgcKEN/A68iKorI4AZRhvOY+SLBOA1JNVds4Ae8fp7GdHmfWQLxCcYovzyFiWUjCAY/8iGPN40/eqCblt66V1SUCPDBGildTyzsXRMmmJ7m5VqR6OlF+0VNONhzSsCrgfWUsbZckwCQGd6LUJ+9aoLrmeSLBJAR1Wyh/hMqotTQN7QTLLAh8KU4KY1qPR2fctUUDnO+DWbNX9dbKvGBuAAapI5gL4CcKIpBThawUI77FtAhC2ItDEXSNIAj3JS4kIRUzGXkEet4eZdIKEwkgYCdOU2JEkKZxtEFYoCGj+pV5Jsi1oX+J1gUKLIY02fBPVabuNCmEAwIw365tW4CKMBdErncHnBFeEZSNjXuARUKFSCIm96b0ex51qFk/YrZGiymJTvEh3mjCJYkXJl8tt3ZyNgOiIRpKOlyReAhxJ8+U2F/9xXNIVRBvr+ziemnJZG7jyYFbLQRJlJTF8Eh+gyIJY6tQzGC9IebU2mORFqQNAoQhVcxx5Uj+NxxwzL0EUejLMnIsPetK/rOEjkIpIYVWg3KvimAPi4b+WA03ChGiBgqDRJUCJkDYIGS1IMVDxyteEOTFZy9tMlnYo0f3rMG0i3xjI6A7nc6tpA6YyT3r0pNtMIo9Vkc7ZqUU1Xla8wQJXKEcBFGyG4RwNHglLlxGBFLsRfSpys4mVIzKbcojY5KdxlS4Xr4uLcNvHHIRsne4ozAJ6SDXJX7y60u7uFjas6/WtGfQYt3SlJYkqY3x98sXF/ar9Vd23s/tp49P7SjkHdrfx34rOJc+EEtL75G/Q6FS4J8/nH7ogsLsUGy78WCIZ9pkD/3zPkgm94jI4m4xLCLX3OcbBXuj0gUzCcFGaE1JUmQ2Nwv7/NOvbLFsLM5SOzweW0Yp40UP/p6miXVJZv/yrLR//mRpN6vcfv/exMbpmNG7IBYTnPIEcekO7i7D2kY+P9zDLhMrP+B6bkq5gpKPhjiyYa3VprMk7S0FZrV+j/rQg71bAcn49ph5ywKXwFQzavvDo9LCbGxL8kc0O7QjL07xR/c15ScigQmaqqLwq+we82+Kzq5uqQxGuA2A4AzKn4BMxYcqEKUAWUTxI5eLoM8DAqBpCSEYG0oRhBAY6aCz4zX9ZLWWgcL1lBo9UPAAiRuguANiK5CtbQZQuF5SUD5b2ulrVMZnKdbxKIMJJhMTmhA6UqTiTrnlh3dam0Vrz1Oaeu9WvZINsSJfHlRLZ3jx9RM0og3rBmXiBPRp0bjWEDzSR3bwG59IdHoFMs0qTypQqWJ9UqVoBE6QjWd8GE1HZH+BwuKWCSahnc0maAlB3bb0R2v8Mqa3LbS2CCGFKy/MjxN7/0FsS0BCVh1KJr3lgAnNo7Fw48KPKFLVHh0fB3ZxRSlCh4TJpB2tLXSVMB4numcw8zmDohYr+OWCWELwHhM3otECCC1WLnm4LUb2xv0xMRFZ69bE+lCSIm5hcgOadcmUPbAhaRYtcdVn9kd/PLWLxdYWWHja5CCh1jPkqUjxgjqUyPxwJpEDQd5/lzL7qdnnX3S2hgltpPXuXnDF4clSGoeYWlxArtJuTYki4UrMFABlcg2hW4lVr9dU0kFi80MCWskL4Vtc6hoBCmD2+PiuddRlq+3KrgAChnCGNqH8Pzs6tvl0S+lfWo5WU/jp+opKYmVxS8Utptw0rmHrFV9rUOStB4G9/mBsn533dv60cD8f4x6KR9ZUsuJgTI2TNByNmEfLoqfDd04QIoSjLbF8mRtJMrYpNZcy9RIkW8Pk/PiOncCY1jw3myXKK9EoEEvZH6AJzXm5vEGILe2MLfEU2ubj1I6OT0gBuW03a8v6xL2/0+IOHqKiCHx7NJtv7d0/OLV7DxL75S/XdpuzLqfqFQgwra8MpQgUijUUF4NSJCdLEteoShlZ6AbXYqVsjw4TtkvNbrXahIkDSph1vmI9X+BOkU3SjISKphnUQnAEfLv1kEbu4gIy25aA6/KcwNe6aWzBLLTbza2lVOYxbdJl9PDtuV1+s7VrVnGt5fb62w9tcrC2f//FS1aOmEzuQqAoVlTpUA14kbZ3MV09FLGO3iGLvSRu2NKww4OY5S0ud3oKLKf24volY1ELwZljkSmJbDqeWbHCtWBHe2JFRV6n/BA+DhArpQFG2QFuWAIot7hfZvPJKeXRigXdll2dDM8pN3ZyMrI7d1nZdSxJlxubnR7bn/zpm/bOO4deLhe4UUk85GgZoNoJwxWmleXVvsHC7FPYgusVFbA2EzJyTYsAB/NDu769tlrrewJVW1AauypywKO2Q8oSbZ9GoMbgqlgIUTrwX9pOWGnWaKnE/XogOy8r6C2oJM4shddlt7Go68esuWt3oeldCAKnRCGY39l77x3Z0VFsTz5a2IKdFe0eqsbK5pEteVato6DvEJJbI4/hUp2xeWJj+sVRZ9ODCUwT4FhAcFsrOXEVTHfkkgLXyqLEDrIp4IEWQDJBvayTCKV40DpEoilQCTfLcNGIfhco55DCc3b2mkVa4o7QxNGDhxRgKcvdAkjdoO4VCc/s8duv2dHJxD79fGmffbG2clraow8w60Vqv/i3Z5CHOm6l/LLC15fcbLjqc4JgOQVamZtNiIw4wrIIWiNYhWAjrtJ4TZmYsjgLRqxroCWt4F3EHn6NIFtZhjMm+EOSqvbRalmWsYt8bdOU7agl6rvzFiY6OLJ6fWXN8gUWQds1ddMWrR7e2pTS4r2f3LXnYWVfUBzay0t7//Eb9nhxx/7jvy88UNGlb5uuQC3lk8MZga4KFmlu1jfuViFaHIMeGRpqYVwWEDOyUIPWE8oXlRcSIC/ZbyP4Y8ZjHE5lEiGP+rJdJQujIW2a5Cg+8v0moFGBxTLFuuwOgZMjMShBeNe32vfa2keXjT25oHQAlrubzp6cf2nv/vh11upv2s+ePLeXBIrHj9TPfMfTxAK5qVwIbrWKG5amfJxAm3JTX1HyXqtErUNSmD7I5vbs6rmdzU98fbIoVrgzfCCUlrRyMwGPitVOtRd8RwgZ/tXj2YfaTUwpIwKq0hZc7wJgsUkZHMFAbM+vS/vZi5XdyE3FG+6kYjJH2EePDu1Hr59ZCMRqNyMHKrVg/OAHx3b3pAcBQRQSYw7+Uzf4uFoLfghpuSqI9WUrCCbIVe304uW1zal6TwCJFgEqSn0Vh7EkoL9QNEa4CAtmuBqrQwv/4q3Zh5psNJmyyYYWkTQvSHQQDoLGVlcb+/lFYU+pRyi1BleQ0iEWMmlDLE2PxvbDN+7ZB/dD+/EbJD02ux8csZWaoq0UVDq850gT4ONjJo61fhAjMCWNylLoWj7GiWshREICkhASTJbQO5VOEeZTleCfI7jCLn0aizKSS0Byyhe4DQlmxPrh5gJ8BuJUQN5Stj9lbQyiOjK5UuSzzFmzB3q90Resr22d1XbEivD+vLPXfzKFCW39rO2rlyu7d+eRnRGDq3zpLnQNoFS8Dz2YoQutRFmcIG6IT21SCGo3WFFxQyahrzY4JDQgIXCGn5Y++q45IilGK1LwZr303fX14tZueU5nrNjmM1td3Nqv2QcWpOIMEJNGpDOuEN5CqANzt2wn5fWl1WMAYwX08pMdIAzZ8Rm1yuPb59RcD8nqrDNWdMCFImV2rFMpi8pf0XiJJhXoJUpMQgBBmternb3oyPzDslebirKTQI4IVB5xQW1JzaWMq8VSr8zcrHGxxi627CbCuYRgfi8iFZgVZtczrz0p4v1odmFFeGB3iKtuzU7+ms8M0P/k/Nw+eOfEsvHUlsClvgL7YN7Jv4VONUGsKlh8KwZleQnRkER1r40+1V6DcMpRxAVFqMbKI4kX1hRgp/ZzR6CAVowF0KcSvcWfCrStXfQEtPL1vahzOmqghZrA0VcGvA+pKBjDpd32E1aHkWVYq8c1Pvk6p676lb3zez+yk4NTh0vlDZRqOSWJb7AhnHKOYPiAGmwND5qvYg5ZSYCgXCJAaOmj1aEUMo4mjCMHSVwR1GJHdZC07OhBm8oIrVu01Sk/5o+AZx3CjWJGh76dq2pVX60StywF1qDZV2FhX6OctAzII4E9+fLK/ut/P7YZ/n//+D46D6mdNsrXMDIsZ7fsmmiWBJ4GZONJ82GVCIBw1NOaBesLbLRhqH+C8uDNd96wMTFR8iGwgjslMJUb/kEUqaa4m4RR4EvKrdYgEgIigk7PsryXZZQIC35yhFG2Lo7YiIBetw3t+XJkPz+/tn/9n4+Za0kmp8yAyRrm5QEqSQQQYnCDlRriL0TryiFitq4om7gXcxKoR6AQxJG1BMHh3/3l2x8e3SNICcw1G21aropRlerScoWrfUODtqi0GS0EUbvW9rKQ5PO4cl3yjIBaMnPBJTtb0Wudh5QSg4sucirt5aWdTCI7xs2kIClDCCaGZWGVL0yjqEMwxYECm2UzVmmAK8G4vt9rrnk2Yy5WkX/zh6cfxkDu2WuHdng2YSg7JevaClkITZcItoDzgmWw3EtuCG1nu0c7ygH+vyEkIhp2DtCqQlYbEaqrcq6XN8OXqxamr6kCnl8vQKe13T+Ye/XrCY7xCfvIbmXiQJl/zGpSc0jAmPcZdVWMJ0wRQHH2YnlhT56e2+if/v6ve32hlZnUWRlmycro6muC9qbgS1aJW2ztE+obDI52YJWqNmbjTUJpE0K7fmwsQkPsS8P04ZS8HZqTgm/5tLegNNAXutkUhrVByLiTaWhv3Znbo7undvdgZocwKJ8vcDlBs1DNQQbtuQAgX04deLPN7WLF17ZVwX4yCf0f/vanfcJHzTGZVEHn/wmGZ32Jcg3DUY9GVwxeQbgGxbRiK+FuDVQVtG8pOSqVKGhR3x51L38XGmkXcstZEn8bvvZuwOuMHcYxdZhcXhJrI2NGNaD67O48szdP53b/cA7SpShMFYBAaNhBUezKteV6qeIDVEzQYHS1YLseYvL5CPSRVbSdI5zWzkiMcPqfPAqqA96FLJYCBofUYyJOxPt4AYRcT4cuOlUoDu44LJTUpvjT1RdSzKvglicOq1C5586yfh3e+SY2z/z5qYSsTOhRymLQXU8j95PJb6RJ5ZVgRLZEgCgAHbSpIAGZUTCtHCKBHfYQRv9tSfdSiGo1/Ucb3ScS1Bkd3tHMI/fig6sk8m/q3iY1D4zuNYHHI+jQ5hl8d4+3iixjh3eiiSGkHzUygTOjl8MIvfGTYFPJrP8dpC/kw+ci2ujm6KVkgDDKP/vKUrT6nRDqJwv4/yTSHHSXJYZjd+XiQnq/HT90GIlr/UHjOyXovRDUXw3W1T7Urrj0FZtXlSCUNIxyd5LDhJjSuRPYlU2H7xQw9HfiTEo3H+sa5V5uIO17uyRAQ6I1qErvRUsvXjlebZDB3Kf0Xr3lWgNP4vn/AMLONRo1AfMuAAAAAElFTkSuQmCC"
    },
    kodachrome: {
      name: "Kodachrome",
      array: [
        1.1285582396593525,
        -0.3967382283601348,
        -0.03992559172921793,
        0,
        63.72958762196502,
        -0.16404339962244616,
        1.0835251566291304,
        -0.05498805115633132,
        0,
        24.732407896706203,
        -0.16786010706155763,
        -0.5603416277695248,
        1.6014850761964943,
        0,
        35.62982807460946,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    technicolor: {
      name: "Technicolor",
      array: [
        1.9125277891456083,
        -0.8545344976951645,
        -0.09155508482755585,
        0,
        11.793603434377337,
        -0.3087833385928097,
        1.7658908555458428,
        -0.10601743074722245,
        0,
        -70.35205161461398,
        -0.231103377548616,
        -0.7501899197440212,
        1.847597816108189,
        0,
        30.950940869491138,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    },
    monochrome: {
      name: "Monochrome",
      array: [
        0.95,
        0,
        0,
        0,
        0.05,
        0.85,
        0,
        0,
        0,
        0.15,
        0.5,
        0,
        0,
        0,
        0.5,
        0,
        0,
        0,
        1,
        0
      ],
      preview:
        "data:image/png;base64,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"
    }
  },
  FPDToolbar = function(a, b) {
    var c = this,
      d = $("body"),
      e = a.children(".fpd-sub-panel"),
      f = a.find(".fpd-color-wrapper"),
      g = a.find(".fpd-tool-font-family"),
      h = !1;
    (this.isTransforming = !1),
      (this.placement = b.mainOptions.toolbarPlacement);
    var i = function() {
        a.data("instance", c),
          c.setPlacement(c.placement),
          d
            .on("mousedown touchstart", function(a) {
              $(a.target).parents(".fpd-range-slider").length > 0 &&
                ($(a.target)
                  .parents(".fpd-range-slider")
                  .prev("input")
                  .change(),
                (c.isTransforming = !0));
            })
            .on("mouseup touchend", function() {
              c.isTransforming = !1;
            });
        for (
          var i = Object.keys(b.mainOptions.maxValues), j = 0;
          j < i.length;
          ++j
        ) {
          var k = i[j];
          a
            .find('[data-control="' + k + '"]')
            .attr("max", b.mainOptions.maxValues[k]);
        }
        if (
          (a.find(".fpd-row > div").click(function() {
            var d = $(this);
            if (
              (a
                .find(".fpd-row > div")
                .not(d)
                .removeClass("fpd-active"),
              d.data("panel"))
            ) {
              d.tooltipster("hide"),
                d.toggleClass("fpd-active"),
                e
                  .toggle(d.hasClass("fpd-active"))
                  .children()
                  .removeClass("fpd-active")
                  .filter(".fpd-panel-" + d.data("panel"))
                  .addClass("fpd-active");
              var g = b.currentElement;
              if ("fill" == d.data("panel")) {
                if (FPDUtil.elementHasColorSelection(g)) {
                  var i;
                  if (
                    ((i = g.colorLinkGroup
                      ? b.colorLinkGroups[g.colorLinkGroup].colors
                      : g.colors),
                    f.children("input").spectrum("destroy"),
                    f.empty().removeClass("fpd-colorpicker-group"),
                    g.type == FPDPathGroupName &&
                      (g.getObjects().length > 1 || 1 == i))
                  ) {
                    for (var j = g.getObjects(), k = 0; k < j.length; ++k) {
                      var l = j[k],
                        n = tinycolor(l.fill);
                      f.append(
                        '<input type="text" value="' + n.toHexString() + '" />'
                      );
                    }
                    f
                      .addClass("fpd-colorpicker-group")
                      .children("input")
                      .spectrum("destroy")
                      .spectrum({
                        showPaletteOnly: $.isArray(g.colors),
                        preferredFormat: "hex",
                        showInput: !0,
                        showInitial: !0,
                        showButtons: !1,
                        showPalette:
                          b.mainOptions.colorPickerPalette &&
                          b.mainOptions.colorPickerPalette.length > 0,
                        palette: $.isArray(g.colors)
                          ? g.colors
                          : b.mainOptions.colorPickerPalette,
                        show: function(a) {
                          var c = FPDUtil.changePathColor(
                            b.currentElement,
                            f.children("input").index(this),
                            a
                          );
                          FPDUtil.spectrumColorNames(
                            $(this).spectrum("container"),
                            b
                          ),
                            (g._tempFill = c);
                        },
                        move: function(a) {
                          var c = FPDUtil.changePathColor(
                            g,
                            f.children("input").index(this),
                            a
                          );
                          b.currentViewInstance.setElementParameters(
                            { fill: c },
                            g
                          );
                        },
                        change: function(a) {
                          var c = FPDUtil.changePathColor(
                            g,
                            f.children("input").index(this),
                            a
                          );
                          $(document).unbind("click.spectrum"),
                            b.currentViewInstance.setElementParameters(
                              { fill: c },
                              g
                            );
                        }
                      });
                  } else if (
                    i.length > 1 ||
                    (g.type == FPDPathGroupName && 1 === g.getObjects().length)
                  ) {
                    f.html('<div class="fpd-color-palette fpd-grid"></div>');
                    for (var k = 0; k < i.length; ++k) {
                      var n = i[k];
                      (colorName =
                        b.mainOptions.hexNames[
                          n.replace("#", "").toLowerCase()
                        ]),
                        (colorName = colorName ? colorName : n),
                        f
                          .children(".fpd-grid")
                          .append(
                            '<div class="fpd-item fpd-tooltip" title="' +
                              colorName +
                              '" style="background-color: ' +
                              n +
                              ';"></div>'
                          )
                          .children(".fpd-item:last")
                          .click(function() {
                            var c = tinycolor($(this).css("backgroundColor"));
                            a
                              .find(".fpd-current-fill")
                              .css("background", c.toHexString());
                            var d = c.toHexString();
                            b.currentElement.type == FPDPathGroupName &&
                              (d = FPDUtil.changePathColor(g, 0, c)),
                              b.currentViewInstance.setElementParameters({
                                fill: d
                              });
                          });
                    }
                    FPDUtil.updateTooltip();
                  } else
                    f.html(
                      '<input type="text" value="' +
                        (g.fill ? g.fill : i[0]) +
                        '" />'
                    ),
                      f
                        .children("input")
                        .spectrum({
                          flat: !0,
                          preferredFormat: "hex",
                          showInput: !0,
                          showInitial: !0,
                          showPalette:
                            b.mainOptions.colorPickerPalette &&
                            b.mainOptions.colorPickerPalette.length > 0,
                          palette: b.mainOptions.colorPickerPalette,
                          show: function(a) {
                            FPDUtil.spectrumColorNames(
                              $(this)
                                .spectrum("container")
                                .next(".sp-container"),
                              b
                            ),
                              (g._tempFill = a.toHexString());
                          },
                          move: function(a) {
                            (h === !1 ||
                              "png" !== FPDUtil.elementIsColorizable(g)) &&
                              m(a.toHexString());
                          },
                          change: function(a) {
                            $(document).unbind("click.spectrum"),
                              b.currentViewInstance.setElementParameters(
                                { fill: a.toHexString() },
                                g
                              );
                          }
                        })
                        .on("dragstart.spectrum", function() {
                          h = !0;
                        })
                        .on("dragstop.spectrum", function(a, b) {
                          (h = !1), m(b.toHexString());
                        });
                }
                if (
                  (FPDUtil.isSVG(g) || "text" === FPDUtil.getType(g.type)) &&
                  g.patterns &&
                  g.patterns.length
                ) {
                  e.find(".fpd-patterns > .fpd-grid").empty();
                  for (var k = 0; k < g.patterns.length; ++k) {
                    var o = g.patterns[k];
                    e
                      .find(".fpd-patterns > .fpd-grid")
                      .append(
                        '<div class="fpd-item" data-pattern="' +
                          o +
                          '"><picture style="background-image: url(' +
                          o +
                          ');"></picture></div>'
                      )
                      .children(":last")
                      .click(function() {
                        var c = $(this).data("pattern");
                        a
                          .find(".fpd-current-fill")
                          .css("background", "url(" + c + ")"),
                          b.currentViewInstance.setElementParameters({
                            pattern: c
                          });
                      });
                  }
                }
              } else if ("stroke" == d.data("panel")) {
                var p = b.currentElement.stroke
                  ? b.currentElement.stroke
                  : "#000";
                e
                  .find(".fpd-stroke-color-picker input")
                  .spectrum("destroy")
                  .spectrum({
                    color: p,
                    flat: !0,
                    preferredFormat: "hex",
                    showInput: !0,
                    showInitial: !0,
                    showPalette:
                      b.mainOptions.colorPickerPalette &&
                      b.mainOptions.colorPickerPalette.length > 0,
                    palette: b.mainOptions.colorPickerPalette,
                    move: function(a) {
                      (c.isTransforming = !0),
                        b.currentViewInstance.setElementParameters({
                          stroke: a.toHexString()
                        });
                    },
                    change: function(a) {
                      b.currentViewInstance.setElementParameters({
                        stroke: a.toHexString()
                      });
                    }
                  });
              }
              e.css({
                top:
                  d.parent(".fpd-row").position().top +
                  d.position().top +
                  d.outerHeight(!0),
                left: d.parent().position().left - 5
              }),
                c.updatePosition(b.currentElement);
            } else e.hide();
          }),
          e.find(".fpd-slider-range").rangeslider({
            polyfill: !1,
            rangeClass: "fpd-range-slider",
            disabledClass: "fpd-range-slider--disabled",
            horizontalClass: "fpd-range-slider--horizontal",
            verticalClass: "fpd-range-slider--vertical",
            fillClass: "fpd-range-slider__fill",
            handleClass: "fpd-range-slider__handle",
            onSlide: function(a, d) {
              c.isTransforming &&
                (this.$element
                  .parent()
                  .prev(".fpd-slider-number")
                  .val(d)
                  .change(),
                "scaleX" === this.$element.data("control") &&
                  b.currentElement &&
                  b.currentElement.lockUniScaling &&
                  e
                    .find('.fpd-slider-number[data-control="scaleY"]')
                    .val(d)
                    .change());
            },
            onSlideEnd: function() {
              (c.isTransforming = !1), c.updatePosition(b.currentElement);
            }
          }),
          e
            .find(".fpd-panel-position .fpd-icon-button-group > span")
            .click(function() {
              var a = $(this);
              a.hasClass("fpd-align-left")
                ? b.currentViewInstance.alignElement("left")
                : a.hasClass("fpd-align-top")
                  ? b.currentViewInstance.alignElement("top")
                  : a.hasClass("fpd-align-right")
                    ? b.currentViewInstance.alignElement("right")
                    : a.hasClass("fpd-align-bottom")
                      ? b.currentViewInstance.alignElement("bottom")
                      : a.hasClass("fpd-align-center-h")
                        ? b.currentViewInstance.centerElement(!0, !1)
                        : a.hasClass("fpd-align-center-v")
                          ? b.currentViewInstance.centerElement(!1, !0)
                          : a.hasClass("fpd-flip-h")
                            ? b.currentViewInstance.setElementParameters({
                                flipX: !b.currentElement.get("flipX")
                              })
                            : a.hasClass("fpd-flip-v") &&
                              b.currentViewInstance.setElementParameters({
                                flipY: !b.currentElement.get("flipY")
                              }),
                c.updatePosition(b.currentElement);
            }),
          a.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function() {
            var a = b.currentViewInstance.getZIndex();
            (a = $(this).hasClass("fpd-tool-move-up") ? a + 1 : a - 1),
              (a = 0 > a ? 0 : a),
              b.currentViewInstance.setElementParameters({ z: a });
          }),
          a.find(".fpd-tool-reset").click(function() {
            $(document).unbind("click.spectrum"),
              a.find(".tooltipstered").tooltipster("destroy"),
              b.currentViewInstance.setElementParameters(
                b.currentElement.originParams
              ),
              b.currentViewInstance.deselectElement(),
              FPDUtil.updateTooltip();
          }),
          b.mainOptions.fonts && b.mainOptions.fonts.length > 0)
        ) {
          "object" == typeof b.mainOptions.fonts[0]
            ? b.mainOptions.fonts.sort(function(a, b) {
                var c = a.name.toUpperCase(),
                  d = b.name.toUpperCase();
                return d > c ? -1 : c > d ? 1 : 0;
              })
            : b.mainOptions.fonts.sort();
          for (var j = 0; j < b.mainOptions.fonts.length; ++j) {
            var l = b.mainOptions.fonts[j],
              o = l;
            "object" == typeof l && (o = l.name),
              g
                .children(".fpd-dropdown-list")
                .append(
                  '<span class="fpd-item" data-value="' +
                    o +
                    '">' +
                    o +
                    "</span>"
                )
                .children(":last")
                .css("font-family", o);
          }
        } else g.hide();
        var p = null;
        e
          .find(".fpd-panel-edit-text textarea")
          .keyup(function(a) {
            a.stopPropagation, a.preventDefault();
            var c = this.selectionStart,
              d = this.selectionEnd;
            (b.currentViewInstance.currentElement.isEditing = !0),
              b.currentViewInstance.setElementParameters({ text: this.value }),
              (this.selectionStart = c),
              (this.selectionEnd = d);
          })
          .focus(function() {
            (p = b.currentViewInstance.currentElement), (p.isEditing = !0);
          })
          .focusout(function() {
            (p.isEditing = !1), (p = null);
          }),
          e.find(".fpd-panel-tabs > span").click(function() {
            var a = $(this);
            a
              .addClass("fpd-active")
              .siblings()
              .removeClass("fpd-active"),
              a
                .parent()
                .nextAll(".fpd-panel-tabs-content")
                .children('[data-id="' + this.id + '"]')
                .addClass("fpd-active")
                .siblings()
                .removeClass("fpd-active"),
              f.children("input").spectrum("hide");
          }),
          a.find(".fpd-number").change(function() {
            var d = $(this),
              e = {};
            this.value > Number(d.attr("max")) &&
              (this.value = Number(d.attr("max"))),
              this.value < Number(d.attr("min")) &&
                (this.value = Number(d.attr("min")));
            var f = Number(this.value);
            d.hasClass("fpd-slider-number") &&
              (d
                .next(".fpd-range-wrapper")
                .children("input")
                .val(this.value)
                .rangeslider("update", !0, !1),
              "scaleX" === d.data("control") &&
                b.currentElement &&
                b.currentElement.lockUniScaling &&
                a
                  .find('[data-control="scaleY"]')
                  .val(f)
                  .change()),
              (e[d.data("control")] = f),
              b.currentViewInstance &&
                b.currentViewInstance.setElementParameters(
                  e,
                  b.currentViewInstance.currentElement,
                  !c.isTransforming
                );
          }),
          a.find(".fpd-toggle").click(function() {
            var a = $(this).toggleClass("fpd-enabled"),
              c = {};
            a.hasClass("fpd-curved-text-switcher") ||
              ((c[a.data("control")] = a.data(
                a.hasClass("fpd-enabled") ? "enabled" : "disabled"
              )),
              a.hasClass("fpd-tool-uniscaling-locker") &&
                n(a.hasClass("fpd-enabled")),
              b.currentViewInstance.setElementParameters(c));
          }),
          a.find(".fpd-dropdown .fpd-item").click(function(a) {
            a.stopPropagation();
            {
              var c = $(this),
                d = c.parent().prevAll(".fpd-dropdown-current:first"),
                e = c.data("value"),
                f = {};
              d.is("input") ? d.val(e) : d.html(c.clone()).data("value", e);
            }
            (f[d.data("control")] = e),
              "fontFamily" === d.data("control") && d.css("font-family", e),
              b.currentViewInstance.setElementParameters(f),
              c.siblings(".fpd-item").show();
          }),
          a.find(".fpd-dropdown.fpd-search > input").keyup(function() {
            var a = $(this)
              .css("font-family", "Helvetica")
              .nextAll(".fpd-dropdown-list:first")
              .children(".fpd-item")
              .hide();
            0 === this.value.length
              ? a.show()
              : a
                  .filter(':containsCaseInsensitive("' + this.value + '")')
                  .show();
          }),
          a.find(".fpd-tool-advanced-editing").click(function() {
            if (
              b.currentViewInstance &&
              b.currentViewInstance.currentElement &&
              b.currentViewInstance.currentElement.source
            ) {
              var a = b.currentViewInstance.currentElement.source,
                c = FPDUtil.showModal(
                  $(b.translatedUI)
                    .children(".fpd-image-editor-container")
                    .clone(),
                  !0
                ),
                d = new FPDImageEditor(
                  c.find(".fpd-image-editor-container"),
                  b.currentViewInstance.currentElement,
                  b
                );
              d.loadImage(a);
            }
          });
      },
      j = function(b, c) {
        c = void 0 === c ? !0 : c;
        var d = a.find(".fpd-tool-" + b).toggle(c);
        return c && d.parent(".fpd-row").show(), d;
      },
      k = function(a, b, c) {
        return (
          (c = Boolean(c)),
          e
            .children(".fpd-panel-" + a)
            .children(".fpd-tool-" + b)
            .toggle(c)
        );
      },
      l = function(a, b, c) {
        e
          .children(".fpd-panel-" + a)
          .find(".fpd-panel-tabs #" + b)
          .toggleClass("fpd-disabled", !c);
      },
      m = function(c) {
        a.find(".fpd-current-fill").css("background", c),
          b.currentViewInstance.changeColor(
            b.currentViewInstance.currentElement,
            c
          );
      },
      n = function(a) {
        e
          .find(".fpd-tool-uniscaling-locker > span")
          .removeClass()
          .addClass(a ? "fpd-icon-locked" : "fpd-icon-unlocked"),
          e.find(".fpd-tool-scaleY").toggleClass("fpd-disabled", a);
      };
    (this.update = function(b) {
      this.hideTools(), j("reset");
      var d = b.source,
        f = ["png", "jpg", "jpeg"];
      if (d) {
        d = d.split("?")[0];
        var g = d.split("."),
          h = g.pop().toLowerCase();
      }
      b.advancedEditing &&
        d &&
        (-1 !== $.inArray(h, f) ||
          -1 !== h.search(/data:image\/(jpeg|png);/)) &&
        j("advanced-editing"),
        FPDUtil.elementHasColorSelection(b) &&
          (j("fill"), l("fill", "color", !0)),
        ((b.resizable && "image" === FPDUtil.getType(b.type)) || b.rotatable) &&
          (j("transform"),
          k(
            "transform",
            "scale",
            b.resizable && "image" === FPDUtil.getType(b.type)
          ),
          n(b.lockUniScaling),
          k(
            "transform",
            "uniscaling-locker",
            b.resizable && b.uniScalingUnlockable
          ),
          k("transform", "angle", b.rotatable)),
        b.draggable && j("position"),
        b.zChangeable && j("move"),
        (FPDUtil.isSVG(b) || "text" === FPDUtil.getType(b.type)) &&
          b.patterns &&
          b.patterns.length &&
          (j("fill"), l("fill", "pattern", !0)),
        "text" === FPDUtil.getType(b.type) &&
          b.editable &&
          (j("font-family"),
          j("text-size", b.resizable),
          j("text-line-height"),
          j("text-letter-spacing"),
          j("text-bold"),
          j("text-italic"),
          j("text-underline"),
          j("text-transform"),
          j("text-align"),
          j("text-stroke"),
          b.curvable && j("curved-text"),
          e.find(".fpd-panel-edit-text textarea").val(b.get("text")),
          j("edit-text", !b.textPlaceholder && !b.numberPlaceholder)),
        e.find(".fpd-panel-tabs").each(function(a, b) {
          var c = $(b);
          c.toggle(c.children(":not(.fpd-disabled)").length > 1),
            c
              .children(":not(.fpd-disabled):first")
              .addClass("fpd-active")
              .click();
        }),
        a.find("[data-control]").each(function(a, c) {
          var d = $(c),
            e = d.data("control");
          if (d.hasClass("fpd-number")) {
            if (void 0 !== b[e]) {
              var f =
                d.attr("step") && d.attr("step").length > 1
                  ? parseFloat(b[e]).toFixed(2)
                  : parseInt(b[e]);
              d.val(f),
                d.prev(".fpd-range-wrapper") &&
                  d
                    .prev(".fpd-range-wrapper")
                    .children("input")
                    .val(f)
                    .rangeslider("update", !0, !1);
            }
          } else if (d.hasClass("fpd-toggle"))
            d.toggleClass("fpd-enabled", b[e] === d.data("enabled"));
          else if (d.hasClass("fpd-current-fill")) {
            var g = b[e];
            "string" == typeof g
              ? d.css("background", g)
              : "object" == typeof g
                ? g.source
                  ? ((g = g.source.src), d.css("background", "url(" + g + ")"))
                  : ((g = g[0]), d.css("background", g))
                : b.colors === !0 && b.type === FPDPathGroupName
                  ? ((g = tinycolor(b.getObjects()[0].fill)),
                    d.css("background", g))
                  : g === !1 &&
                    b.colors &&
                    b.colors[0] &&
                    ((g = b.colors[0]), d.css("background", g));
          } else if (d.hasClass("fpd-dropdown-current") && void 0 !== b[e]) {
            var h = d
              .nextAll(".fpd-dropdown-list:first")
              .children('[data-value="' + b[e] + '"]')
              .html();
            d.is("input") ? d.val(h) : d.html(h).data("value"),
              "fontFamily" === e && d.css("font-family", h);
          }
        }),
        c.updatePosition(b);
    }),
      (this.hideTools = function() {
        a
          .children(".fpd-row")
          .hide()
          .children("div")
          .hide()
          .removeClass("fpd-active"),
          e
            .hide()
            .children()
            .removeClass("fpd-active")
            .find(".fpd-panel-tabs > span")
            .addClass("fpd-disabled");
      }),
      (this.updatePosition = function(d, e) {
        if (((e = "undefined" == typeof e ? !0 : e), !d))
          return void this.toggle(!1);
        var f = d.oCoords,
          g = f.mb.y,
          h = b.$productStage.offset(),
          i = b.$mainWrapper.offset();
        if ("inside-bottom" == c.placement || "inside-top" == c.placement) {
          var j =
            b.$container.parents(".fpd-modal-wrapper").length > 0
              ? b.$container.parents(".fpd-modal-wrapper").scrollTop()
              : document.body.scrollTop;
          (g =
            "inside-top" == c.placement
              ? b.$container.parents(".fpd-modal-wrapper").length > 0
                ? j
                  ? Math.abs(i.top)
                  : 0
                : j > i.top
                  ? j - i.top
                  : 0
              : b.$container.parents(".fpd-modal-wrapper").length > 0
                ? j
                  ? Math.abs(i.top)
                  : 0
                : j > i.top
                  ? j - i.top
                  : 0),
            a.css({ top: g });
        } else {
          a.width(320);
          var k = Math.max.apply(
            null,
            $(a.children(".fpd-row"))
              .map(function() {
                return $(this).outerWidth(!0);
              })
              .get()
          );
          a.width(k + 2);
          var l = d.getBoundingRect(),
            m = b.mainOptions.modalMode
              ? parseInt(
                  b.$container
                    .parents(
                      ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
                    )
                    .css("padding-top")
                )
              : h.top,
            n = l.top + l.height,
            o = d.padding + d.cornerSize + m;
          (g = n + o),
            (g =
              g > b.$productStage.height() + m
                ? b.$productStage.height() + m + 5
                : g);
          var p = b.mainOptions.modalMode
            ? b.$container.parents(
                ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
              )[0].scrollHeight
            : document.body.scrollHeight;
          g =
            g + a.height() > p
              ? m + l.top - (a.height() + d.padding + d.cornerSize)
              : g;
          var q = h.left + f.mb.x,
            r = 0.5 * a.outerWidth();
          (q = r > q ? r : q),
            (q = q > $(window).width() - r ? $(window).width() - r : q),
            a.css({ left: q, top: g });
        }
        a.toggleClass("fpd-show", e);
      }),
      (this.updateUIValue = function(b, c) {
        var d = a.find('[data-control="' + b + '"]');
        d.val(c), d.filter(".fpd-slider-range").rangeslider("update", !0, !1);
      }),
      (this.toggle = function(b, c) {
        (c = void 0 === c ? !0 : c),
          !b && c && f.spectrum("destroy"),
          a.toggleClass("fpd-show", b);
      }),
      (this.setPlacement = function(d) {
        (c.placement = d),
          a.removeClass(function(a, b) {
            return (b.match(/(^|\s)fpd-toolbar-placement-\S+/g) || []).join(
              " "
            );
          }),
          a.addClass("fpd-toolbar-placement-" + d),
          a.appendTo(
            "inside-bottom" == c.placement || "inside-top" == c.placement
              ? b.$mainWrapper
              : b.$container.parents(".fpd-modal-product-designer").length > 0
                ? b.$container.parents(
                    ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
                  )
                : b.mainOptions.toolbarDynamicContext
          );
      }),
      i();
  },
  FPDToolbarSmart = function(a, b) {
    var c = this,
      d = $("body"),
      e = a.children(".fpd-sub-panel"),
      f = a.find(".fpd-color-wrapper"),
      g = !1;
    (this.isTransforming = !1),
      (this.placement = b.mainOptions.toolbarPlacement);
    var h = function() {
        a.data("instance", c),
          c.setPlacement(c.placement),
          a.get(0).addEventListener(
            "touchmove",
            function(a) {
              a.preventDefault();
            },
            !1
          ),
          a
            .children(".fpd-scroll-area")
            .mCustomScrollbar({
              axis: "x",
              scrollInertia: 200,
              mouseWheel: { enable: !0 },
              advanced: { autoExpandHorizontalScroll: !0 }
            }),
          d
            .on("mousedown touchstart", function(a) {
              $(a.target).parents(".fpd-range-slider").length > 0 &&
                ($(a.target)
                  .parents(".fpd-range-slider")
                  .siblings("input")
                  .change(),
                (c.isTransforming = !0));
            })
            .on("mouseup touchend", function() {
              c.isTransforming = !1;
            }),
          a.on("click", ".fpd-close-panel", function() {
            a
              .find(".fpd-panel-font-family input")
              .val("")
              .keyup(),
              f.children("input").spectrum("hide"),
              e.hide(),
              b.currentElement &&
                "function" === b.currentElement.exitEditing &&
                b.currentElement.exitEditing();
          });
        for (
          var h = Object.keys(b.mainOptions.maxValues), i = 0;
          i < h.length;
          ++i
        ) {
          var j = h[i];
          a
            .find('[data-control="' + j + '"]')
            .attr("max", b.mainOptions.maxValues[j]);
        }
        if (
          (a.find('[class^="fpd-tool-"]').click(function() {
            var d = $(this);
            if (d.data("panel")) {
              d.tooltipster("hide"),
                e
                  .show()
                  .children()
                  .removeClass("fpd-active")
                  .filter(".fpd-panel-" + d.data("panel"))
                  .addClass("fpd-active"),
                e.find(".fpd-slider-range").rangeslider("update", !1, !1);
              var h = b.currentElement;
              if ("color" == d.data("panel")) {
                if (FPDUtil.elementHasColorSelection(h)) {
                  var i;
                  if (
                    ((i = h.colorLinkGroup
                      ? b.colorLinkGroups[h.colorLinkGroup].colors
                      : h.colors),
                    f.children("input").spectrum("destroy"),
                    f.empty().removeClass("fpd-colorpicker-group"),
                    h.type == FPDPathGroupName &&
                      (h.getObjects().length > 1 || 1 == i))
                  ) {
                    for (var j = h.getObjects(), k = 0; k < j.length; ++k) {
                      var m = j[k],
                        n = tinycolor(m.fill);
                      f.append(
                        '<input type="text" value="' + n.toHexString() + '" />'
                      );
                    }
                    f
                      .addClass("fpd-colorpicker-group")
                      .children("input")
                      .spectrum("destroy")
                      .spectrum({
                        showPaletteOnly: $.isArray(h.colors),
                        preferredFormat: "hex",
                        showInput: !0,
                        showInitial: !0,
                        showButtons: !1,
                        showPalette:
                          b.mainOptions.colorPickerPalette &&
                          b.mainOptions.colorPickerPalette.length > 0,
                        palette: $.isArray(h.colors)
                          ? h.colors
                          : b.mainOptions.colorPickerPalette,
                        show: function(a) {
                          var c = FPDUtil.changePathColor(
                            b.currentElement,
                            f.children("input").index(this),
                            a
                          );
                          FPDUtil.spectrumColorNames(
                            $(this).spectrum("container"),
                            b
                          ),
                            (h._tempFill = c);
                        },
                        move: function(a) {
                          var c = FPDUtil.changePathColor(
                            h,
                            f.children("input").index(this),
                            a
                          );
                          b.currentViewInstance.setElementParameters(
                            { fill: c },
                            h
                          );
                        },
                        change: function(a) {
                          var c = FPDUtil.changePathColor(
                            h,
                            f.children("input").index(this),
                            a
                          );
                          $(document).unbind("click.spectrum"),
                            b.currentViewInstance.setElementParameters(
                              { fill: c },
                              h
                            );
                        }
                      });
                  } else if (
                    i.length > 1 ||
                    (h.type == FPDPathGroupName && 1 === h.getObjects().length)
                  ) {
                    f.html(
                      '<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>'
                    );
                    for (var k = 0; k < i.length; ++k) {
                      var n = i[k];
                      (colorName =
                        b.mainOptions.hexNames[
                          n.replace("#", "").toLowerCase()
                        ]),
                        (colorName = colorName ? colorName : n),
                        f
                          .find(".fpd-grid")
                          .append(
                            '<div class="fpd-item fpd-tooltip" title="' +
                              colorName +
                              '" style="background-color: ' +
                              n +
                              ';"></div>'
                          )
                          .children(".fpd-item:last")
                          .click(function() {
                            var c = tinycolor($(this).css("backgroundColor"));
                            a
                              .find(".fpd-tool-color")
                              .css("background", c.toHexString());
                            var d = c.toHexString();
                            b.currentElement.type == FPDPathGroupName &&
                              (d = FPDUtil.changePathColor(h, 0, c)),
                              b.currentViewInstance.setElementParameters({
                                fill: d
                              });
                          });
                    }
                    FPDUtil.updateTooltip(),
                      f
                        .children(".fpd-scroll-area")
                        .mCustomScrollbar({
                          scrollInertia: 200,
                          documentTouchScroll: !1,
                          contentTouchScroll: !0,
                          mouseWheel: { enable: !0, preventDefault: !0 }
                        });
                  } else
                    f.html(
                      '<input type="text" value="' +
                        (h.fill ? h.fill : i[0]) +
                        '" />'
                    ),
                      f
                        .children("input")
                        .spectrum({
                          flat: !0,
                          preferredFormat: "hex",
                          showInput: !0,
                          showInitial: !0,
                          showPalette:
                            b.mainOptions.colorPickerPalette &&
                            b.mainOptions.colorPickerPalette.length > 0,
                          palette: b.mainOptions.colorPickerPalette,
                          show: function(a) {
                            FPDUtil.spectrumColorNames(
                              $(this)
                                .spectrum("container")
                                .next(".sp-container"),
                              b
                            ),
                              (h._tempFill = a.toHexString());
                          },
                          move: function(a) {
                            (g === !1 ||
                              "png" !== FPDUtil.elementIsColorizable(h)) &&
                              l(a.toHexString());
                          },
                          change: function(a) {
                            $(document).unbind("click.spectrum"),
                              b.currentViewInstance.setElementParameters(
                                { fill: a.toHexString() },
                                h
                              );
                          }
                        })
                        .on("dragstart.spectrum", function() {
                          g = !0;
                        })
                        .on("dragstop.spectrum", function(a, b) {
                          (g = !1), l(b.toHexString());
                        });
                }
                if (
                  (FPDUtil.isSVG(h) || "text" === FPDUtil.getType(h.type)) &&
                  h.patterns &&
                  h.patterns.length
                ) {
                  e.find(".fpd-tool-patterns .fpd-grid").empty();
                  for (var k = 0; k < h.patterns.length; ++k) {
                    var o = h.patterns[k];
                    ($lastItem = $("<div/>", {
                      class: "fpd-item",
                      "data-pattern": o,
                      html:
                        '<picture style="background-image: url(' +
                        o +
                        ');"></picture>'
                    }).appendTo(e.find(".fpd-tool-patterns .fpd-grid"))),
                      $lastItem.click(function() {
                        var c = $(this).data("pattern");
                        a
                          .find(".fpd-tool-color")
                          .css("background", "url(" + c + ")"),
                          b.currentViewInstance.setElementParameters({
                            pattern: c
                          });
                      });
                  }
                  e
                    .find(".fpd-tool-patterns .fpd-scroll-area")
                    .mCustomScrollbar({
                      scrollInertia: 200,
                      documentTouchScroll: !1,
                      contentTouchScroll: !0,
                      mouseWheel: { enable: !0, preventDefault: !0 }
                    });
                }
                e
                  .find(".fpd-stroke-color-picker input")
                  .spectrum("destroy")
                  .spectrum({
                    color: h.stroke ? h.stroke : "#000",
                    flat: !0,
                    preferredFormat: "hex",
                    showInput: !0,
                    showInitial: !0,
                    showPalette:
                      b.mainOptions.colorPickerPalette &&
                      b.mainOptions.colorPickerPalette.length > 0,
                    palette: b.mainOptions.colorPickerPalette,
                    move: function(a) {
                      (c.isTransforming = !0),
                        b.currentViewInstance.setElementParameters({
                          stroke: a.toHexString()
                        });
                    },
                    change: function(a) {
                      b.currentViewInstance.setElementParameters({
                        stroke: a.toHexString()
                      });
                    }
                  }),
                  e
                    .find(".fpd-shadow-color-picker input")
                    .spectrum("destroy")
                    .spectrum({
                      color: h.stroke ? h.stroke : "#000",
                      flat: !0,
                      preferredFormat: "hex",
                      showInput: !0,
                      showInitial: !0,
                      showPalette:
                        b.mainOptions.colorPickerPalette &&
                        b.mainOptions.colorPickerPalette.length > 0,
                      palette: b.mainOptions.colorPickerPalette,
                      move: function(a) {
                        (c.isTransforming = !0),
                          b.currentViewInstance.setElementParameters({
                            shadowColor: a.toHexString()
                          });
                      },
                      change: function(a) {
                        b.currentViewInstance.setElementParameters({
                          shadowColor: a.toHexString()
                        });
                      }
                    });
              }
              a
                .find(".fpd-panel-font-family .fpd-fonts-list")
                .mCustomScrollbar({
                  axis: "y",
                  scrollInertia: 200,
                  documentTouchScroll: !1,
                  contentTouchScroll: !0,
                  mouseWheel: { enable: !0, preventDefault: !0 },
                  advanced: { autoExpandHorizontalScroll: !0 }
                }),
                c.updatePosition(b.currentElement);
            }
          }),
          e.find(".fpd-panel-tabs > span").click(function() {
            var a = $(this);
            a
              .addClass("fpd-active")
              .siblings()
              .removeClass("fpd-active"),
              a
                .parent()
                .nextAll(".fpd-panel-tabs-content")
                .children('[data-id="' + this.dataset.tab + '"]')
                .addClass("fpd-active")
                .siblings()
                .removeClass("fpd-active"),
              c.updatePosition(b.currentElement);
          }),
          e.find(".fpd-slider-range").rangeslider({
            polyfill: !1,
            rangeClass: "fpd-range-slider",
            disabledClass: "fpd-range-slider--disabled",
            horizontalClass: "fpd-range-slider--horizontal",
            verticalClass: "fpd-range-slider--vertical",
            fillClass: "fpd-range-slider__fill",
            handleClass: "fpd-range-slider__handle",
            onSlide: function(a, d) {
              this.$element
                .parent()
                .siblings(".fpd-slider-number")
                .val(d)
                .change(),
                c.isTransforming &&
                  "scaleX" === this.$element.data("control") &&
                  b.currentElement &&
                  b.currentElement.lockUniScaling &&
                  e
                    .find('.fpd-slider-number[data-control="scaleY"]')
                    .val(d)
                    .change();
            },
            onSlideEnd: function() {
              c.isTransforming = !1;
            }
          }),
          a.on("click", ".fpd-btn-options", function(a) {
            a.preventDefault();
            var c = $(this),
              d = c.data("options"),
              e = Object.keys(d),
              f = b.currentElement
                ? b.currentElement[this.dataset.control]
                : e[0],
              g = e.indexOf(f) == e.length - 1 ? e[0] : e[e.indexOf(f) + 1],
              h = {};
            (h[this.dataset.control] = g),
              c
                .children("span")
                .removeClass()
                .addClass(d[g]),
              b.currentViewInstance.setElementParameters(h);
          }),
          a.find(".fpd-toggle").click(function() {
            var a = $(this).toggleClass("fpd-enabled"),
              c = {};
            a.hasClass("fpd-curved-text-switcher") ||
              ((c[a.data("control")] = a.data(
                a.hasClass("fpd-enabled") ? "enabled" : "disabled"
              )),
              a.hasClass("fpd-tool-uniscaling-locker") &&
                m(a.hasClass("fpd-enabled")),
              b.currentViewInstance.setElementParameters(c));
          }),
          a.find(".fpd-number").change(function() {
            var d = $(this),
              e = {};
            this.value > Number(d.attr("max")) &&
              (this.value = Number(d.attr("max"))),
              this.value < Number(d.attr("min")) &&
                (this.value = Number(d.attr("min")));
            var f = Number(this.value);
            d.hasClass("fpd-slider-number") &&
              (d
                .siblings(".fpd-range-wrapper")
                .children("input")
                .val(this.value)
                .rangeslider("update", !0, !1),
              "scaleX" === d.data("control") &&
                b.currentElement &&
                b.currentElement.lockUniScaling &&
                a
                  .find('[data-control="scaleY"]')
                  .val(f)
                  .change()),
              (e[d.data("control")] = f),
              b.currentViewInstance &&
                b.currentViewInstance.setElementParameters(
                  e,
                  b.currentViewInstance.currentElement,
                  !c.isTransforming
                );
          }),
          b.mainOptions.fonts && b.mainOptions.fonts.length > 0)
        ) {
          "object" == typeof b.mainOptions.fonts[0]
            ? b.mainOptions.fonts.sort(function(a, b) {
                var c = a.name.toUpperCase(),
                  d = b.name.toUpperCase();
                return d > c ? -1 : c > d ? 1 : 0;
              })
            : b.mainOptions.fonts.sort();
          for (
            var k = e.find(".fpd-fonts-list"), i = 0;
            i < b.mainOptions.fonts.length;
            ++i
          ) {
            var n = b.mainOptions.fonts[i],
              o = n;
            "object" == typeof n && (o = n.name),
              $("<span/>", {
                class: "fpd-item",
                "data-value": o,
                html: o,
                css: { fontFamily: o }
              }).appendTo(k);
          }
          a
            .on("keyup", ".fpd-panel-font-family input", function() {
              var a = $(this)
                .css("font-family", "Helvetica")
                .nextAll(".fpd-fonts-list")
                .find(".fpd-item")
                .hide();
              0 === this.value.length
                ? a.show()
                : a
                    .filter(':containsCaseInsensitive("' + this.value + '")')
                    .show();
            })
            .on("click", ".fpd-fonts-list .fpd-item", function() {
              var c = this.dataset.value;
              a
                .find(".fpd-tool-font-family .fpd-current-val")
                .text(c)
                .css("fontFamily", c),
                b.currentViewInstance.setElementParameters({ fontFamily: c });
            });
        }
        a.on("click", ".fpd-tool-edit-text", function() {
          var a = e.find(".fpd-panel-edit-text textarea").val();
          e
            .find(".fpd-panel-edit-text textarea")
            .focus()
            .val("")
            .val(a);
        }),
          e.find(".fpd-panel-edit-text textarea").keyup(function(a) {
            a.stopPropagation, a.preventDefault();
            var c = this.selectionStart,
              d = this.selectionEnd;
            (b.currentViewInstance.currentElement.isEditing = !0),
              b.currentViewInstance.setElementParameters({ text: this.value }),
              (this.selectionStart = c),
              (this.selectionEnd = d);
          }),
          a.find(".fpd-tool-advanced-editing").click(function() {
            if (
              b.currentViewInstance &&
              b.currentViewInstance.currentElement &&
              b.currentViewInstance.currentElement.source
            ) {
              var a = b.currentViewInstance.currentElement.source,
                c = FPDUtil.showModal(
                  $(b.translatedUI)
                    .children(".fpd-image-editor-container")
                    .clone(),
                  !0
                ),
                d = new FPDImageEditor(
                  c.find(".fpd-image-editor-container"),
                  b.currentViewInstance.currentElement,
                  b
                );
              d.loadImage(a);
            }
          }),
          e.on(
            "click",
            ".fpd-panel-position.fpd-icon-button-group > span",
            function() {
              var a = $(this);
              a.hasClass("fpd-align-left")
                ? b.currentViewInstance.alignElement("left")
                : a.hasClass("fpd-align-top")
                  ? b.currentViewInstance.alignElement("top")
                  : a.hasClass("fpd-align-right")
                    ? b.currentViewInstance.alignElement("right")
                    : a.hasClass("fpd-align-bottom")
                      ? b.currentViewInstance.alignElement("bottom")
                      : a.hasClass("fpd-align-center-h")
                        ? b.currentViewInstance.centerElement(!0, !1)
                        : a.hasClass("fpd-align-center-v")
                          ? b.currentViewInstance.centerElement(!1, !0)
                          : a.hasClass("fpd-flip-h")
                            ? b.currentViewInstance.setElementParameters({
                                flipX: !b.currentElement.get("flipX")
                              })
                            : a.hasClass("fpd-flip-v") &&
                              b.currentViewInstance.setElementParameters({
                                flipY: !b.currentElement.get("flipY")
                              }),
                c.updatePosition(b.currentElement);
            }
          ),
          a.find(".fpd-tool-move-up, .fpd-tool-move-down").click(function() {
            var a = b.currentViewInstance.getZIndex();
            (a = $(this).hasClass("fpd-tool-move-up") ? a + 1 : a - 1),
              (a = 0 > a ? 0 : a),
              b.currentViewInstance.setElementParameters({ z: a });
          }),
          a.find(".fpd-tool-reset").click(function() {
            $(document).unbind("click.spectrum"),
              a.find(".tooltipstered").tooltipster("destroy"),
              b.currentViewInstance.setElementParameters(
                b.currentElement.originParams
              ),
              b.currentViewInstance.deselectElement(),
              FPDUtil.updateTooltip();
          }),
          b.$container.on("elementModify", function(b, c, d) {
            d.fontSize &&
              a
                .find(".fpd-tool-text-size > .fpd-current-val")
                .text(parseInt(d.fontSize));
          });
      },
      i = function(b, c) {
        return (c = void 0 === c ? !0 : c), a.find(".fpd-tool-" + b).toggle(c);
      },
      j = function(a, b, c) {
        return (
          (c = Boolean(c)),
          e
            .children(".fpd-panel-" + a)
            .children(".fpd-tool-" + b)
            .toggle(c)
        );
      },
      k = function(a, b, c) {
        e
          .children(".fpd-panel-" + a)
          .find('.fpd-panel-tabs [data-tab="' + b + '"]')
          .toggleClass("fpd-disabled", !c);
      },
      l = function(c) {
        a.find(".fpd-tool-color").css("background", c),
          b.currentViewInstance.changeColor(
            b.currentViewInstance.currentElement,
            c
          );
      },
      m = function(a) {
        e
          .find(".fpd-tool-uniscaling-locker > span")
          .removeClass()
          .addClass(a ? "fpd-icon-locked" : "fpd-icon-unlocked"),
          e.find(".fpd-tool-scaleY").toggleClass("fpd-disabled", a);
      };
    (this.update = function(b) {
      this.hideTools(), a.removeClass("fpd-type-image"), i("reset");
      var d = b.source,
        f = ["png", "jpg", "jpeg", "svg"];
      if (d) {
        d = d.split("?")[0];
        var g = d.split("."),
          h = g.pop().toLowerCase();
      }
      b.advancedEditing &&
        d &&
        (-1 !== $.inArray(h, f) ||
          -1 !== h.search(/data:image\/(jpeg|png);/)) &&
        i("advanced-editing"),
        FPDUtil.elementHasColorSelection(b) &&
          (i("color"), k("color", "fill", !0)),
        ((b.resizable && "image" === FPDUtil.getType(b.type)) || b.rotatable) &&
          (i("transform"),
          j(
            "transform",
            "scale",
            b.resizable && "image" === FPDUtil.getType(b.type)
          ),
          m(b.lockUniScaling),
          j(
            "transform",
            "uniscaling-locker",
            b.resizable && b.uniScalingUnlockable
          ),
          j("transform", "angle", b.rotatable)),
        b.draggable && i("position"),
        b.zChangeable && i("move"),
        (FPDUtil.isSVG(b) || "text" === FPDUtil.getType(b.type)) &&
        b.patterns &&
        b.patterns.length
          ? (i("color"), i("patterns", !0))
          : i("patterns", !1),
        "text" === FPDUtil.getType(b.type) && b.editable
          ? (i("font-family"),
            i("text-size", b.resizable),
            i("text-line-height"),
            i("text-letter-spacing"),
            i("text-styles"),
            i("text-transform"),
            i("text-align"),
            k("color", "stroke", !0),
            k("color", "shadow", !0),
            b.curvable && !b.textBox && i("curved-text"),
            e.find(".fpd-panel-edit-text textarea").val(b.get("text")),
            i("edit-text", !b.textPlaceholder && !b.numberPlaceholder))
          : a.addClass("fpd-type-image");
      a
        .find(".fpd-top-tools, .fpd-bottom-tools")
        .children("div")
        .removeClass("fpd-no-margin")
        .filter(":visible:last")
        .addClass("fpd-no-margin");
      e.find(".fpd-panel-tabs").each(function(a, b) {
        var c = $(b);
        c.toggle(c.children(":not(.fpd-disabled)").length > 1),
          c
            .children(":not(.fpd-disabled):first")
            .addClass("fpd-active")
            .click();
      }),
        a.find("[data-control]").each(function(c, d) {
          var e = $(d),
            f = e.data("control");
          if (e.hasClass("fpd-number")) {
            if (void 0 !== b[f]) {
              var g =
                e.attr("step") && e.attr("step").length > 1
                  ? parseFloat(b[f]).toFixed(2)
                  : parseInt(b[f]);
              e.val(g),
                e.prev(".fpd-range-wrapper") &&
                  ("fontSize" == f
                    ? e
                        .prev(".fpd-range-wrapper")
                        .children("input")
                        .attr("min", b.minFontSize)
                        .attr("max", b.maxFontSize)
                    : ("scaleX" == f || "scaleY" == f) &&
                      e
                        .prev(".fpd-range-wrapper")
                        .children("input")
                        .attr("min", b.minScaleLimit),
                  e
                    .prev(".fpd-range-wrapper")
                    .children("input")
                    .val(g)
                    .rangeslider("update", !0, !1));
            }
          } else if (e.hasClass("fpd-toggle"))
            e.toggleClass("fpd-enabled", b[f] === e.data("enabled"));
          else if (e.hasClass("fpd-btn-options"))
            e
              .children("span")
              .removeClass()
              .addClass(e.data("options")[b[f]]);
          else if (e.hasClass("fpd-tool-color")) {
            var h = b[f];
            "string" == typeof h
              ? e.css("background", h)
              : "object" == typeof h
                ? h.source
                  ? ((h = h.source.src), e.css("background", "url(" + h + ")"))
                  : ((h = h[0]), e.css("background", h))
                : b.colors === !0 && b.type === FPDPathGroupName
                  ? ((h = tinycolor(b.getObjects()[0].fill)),
                    e.css("background", h))
                  : h === !1 &&
                    b.colors &&
                    b.colors[0] &&
                    ((h = b.colors[0]), e.css("background", h));
          } else
            "fontSize" == f
              ? a
                  .find(".fpd-tool-text-size > .fpd-current-val")
                  .text(parseInt(b[f]))
              : "fontFamily" == f &&
                void 0 !== b[f] &&
                a
                  .find(".fpd-tool-font-family > .fpd-current-val")
                  .text(b[f])
                  .css("font-family", b[f]);
        }),
        a.children(".fpd-scroll-area").mCustomScrollbar("update"),
        c.updatePosition(b);
    }),
      (this.updateUIValue = function(b, c) {
        var d = a.find('[data-control="' + b + '"]');
        d.val(c), d.filter(".fpd-slider-range").rangeslider("update", !0, !1);
      }),
      (this.hideTools = function() {
        a
          .find(".fpd-top-tools > div, .fpd-bottom-tools > div")
          .hide()
          .removeClass("fpd-active"),
          e
            .hide()
            .children()
            .removeClass("fpd-active")
            .find(".fpd-panel-tabs > span")
            .addClass("fpd-disabled");
      }),
      (this.updatePosition = function(c, d) {
        if (((d = "undefined" == typeof d ? !0 : d), !c))
          return void this.toggle(!1);
        var e = c.oCoords,
          f = e.mb.y,
          g = b.$productStage.offset(),
          h = c.getBoundingRect(),
          i = b.mainOptions.modalMode
            ? parseInt(
                b.$container
                  .parents(
                    ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
                  )
                  .css("padding-top")
              )
            : g.top,
          j = h.top + h.height,
          k = c.padding + c.cornerSize + i;
        (f = j + k),
          (f =
            f > b.$productStage.height() + i
              ? b.$productStage.height() + i + 5
              : f);
        var l = b.mainOptions.modalMode
          ? b.$container.parents(
              ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
            )[0].scrollHeight
          : document.body.scrollHeight;
        f =
          f + a.height() > l
            ? i + h.top - (a.height() + c.padding + c.cornerSize)
            : f;
        var m = g.left + e.mb.x,
          n = 0.5 * a.outerWidth();
        (m = n > m ? n : m),
          (m = m > $(window).width() - n ? $(window).width() - n : m),
          a.css({ left: m, top: f }),
          a.toggleClass("fpd-show", d);
      }),
      (this.toggle = function(b, c) {
        (c = void 0 === c ? !0 : c),
          !b && c && f.spectrum("destroy"),
          a.toggleClass("fpd-show", b);
      }),
      (this.setPlacement = function() {
        a.appendTo(
          b.$container.parents(".fpd-modal-product-designer").length > 0
            ? b.$container.parents(
                ".fpd-modal-product-designer:first > .fpd-modal-wrapper"
              )
            : b.mainOptions.toolbarDynamicContext
        );
      }),
      h();
  },
  FPDMainBar = function(a, b, c, d) {
    var e,
      f = this,
      g = $("body"),
      h = b.children(".fpd-navigation");
    (this.currentModules = a.mainOptions.mainBarModules),
      (this.$selectedModule = null),
      (this.$container = b),
      (this.mainBarShowing = !0);
    var i = function() {
      if (
        (d.toggleClass(
          "fpd-hidden",
          a.$container.hasClass("fpd-main-bar-container-enabled")
        ),
        (e =
          a.$container.hasClass("fpd-topbar") &&
          !a.$container.hasClass("fpd-main-bar-container-enabled") &&
          0 === a.$container.filter('[class*="fpd-off-canvas-"]').length
            ? d
                .addClass("fpd-grid-columns-" + a.mainOptions.gridColumns)
                .append('<div class="fpd-content"></div>')
                .children(".fpd-content")
            : b
                .append('<div class="fpd-content"></div>')
                .children(".fpd-content")),
        (f.$content = e),
        a.$container.filter('[class*="fpd-off-canvas-"]').length > 0)
      ) {
        var c = 0,
          i = 0,
          j = 0,
          k = b.children(".fpd-close-off-canvas");
        e
          .on("touchstart", function(b) {
            (c = b.originalEvent.touches[0].pageX),
              (j = parseInt(
                k.css(
                  a.$container.hasClass("fpd-off-canvas-left")
                    ? "left"
                    : "right"
                )
              ));
          })
          .on("touchmove", function(b) {
            b.preventDefault();
            var d = b.originalEvent.touches[0].pageX;
            (i = c - d),
              (targetPos = a.$container.hasClass("fpd-off-canvas-left")
                ? "left"
                : "right"),
              (i = Math.abs(i) < 0 ? 0 : Math.abs(i)),
              e.css(targetPos, -i),
              k.css(targetPos, j - i);
          })
          .on("touchend", function() {
            var b = a.$container.hasClass("fpd-off-canvas-left")
              ? "left"
              : "right";
            Math.abs(i) > 100 ? f.toggleDialog(!1) : (e.css(b, 0), k.css(b, j)),
              (i = 0);
          });
      }
      b.on("click", ".fpd-close-off-canvas", function(a) {
        a.stopPropagation(),
          h.children("div").removeClass("fpd-active"),
          f.toggleDialog(!1);
      }),
        g.append(d),
        d.draggable({ handle: d.find(".fpd-dialog-head"), containment: g }),
        h.on("click", "> div", function(b) {
          b.stopPropagation();
          var c = $(this);
          a.deselectElement(),
            a.currentViewInstance &&
              (a.currentViewInstance.currentUploadZone = null),
            e
              .find(".fpd-manage-layers-panel")
              .find(".fpd-current-color, .fpd-path-colorpicker")
              .spectrum("destroy"),
            a.$container.hasClass("fpd-topbar") && c.hasClass("fpd-active")
              ? (c.removeClass("fpd-active"), f.toggleDialog(!1))
              : f.callModule(c.data("module"));
        }),
        g.on({
          mousewheel: function(a) {
            var b = $(a.target);
            (b.hasClass("fpd-draggable-dialog") ||
              b.parents(".fpd-draggable-dialog").length > 0) &&
              (a.preventDefault(), a.stopPropagation());
          }
        }),
        e.on("click", ".fpd-bottom-nav > div", function() {
          var a = $(this);
          a
            .addClass("fpd-active")
            .siblings()
            .removeClass("fpd-active");
          var b = a
            .parent()
            .next()
            .children('[data-module="' + a.data("module") + '"]')
            .addClass("fpd-active");
          b.siblings().removeClass("fpd-active"),
            setTimeout(function() {
              FPDUtil.refreshLazyLoad(b.find(".fpd-grid"), !1);
            }, 10);
        }),
        g.on("click touchend", ".fpd-close-dialog", function() {
          a.currentViewInstance &&
            a.currentViewInstance.currentUploadZone &&
            a.currentViewInstance.deselectElement(),
            f.toggleDialog(!1);
        }),
        a.$container.on("viewSelect", function() {
          f.$selectedModule &&
            (f.$selectedModule.filter('[data-module="manage-layers"]').length >
            0
              ? FPDLayersModule.createList(a, f.$selectedModule)
              : f.$selectedModule.filter('[data-module="text-layers"]').length >
                0
                ? FPDTextLayersModule.createList(a, f.$selectedModule)
                : "undefined" != typeof FPDNamesNumbersModule &&
                  f.$selectedModule.filter('[data-module="names-numbers"]')
                    .length > 0 &&
                  FPDNamesNumbersModule.setup(a, f.$selectedModule)),
            a.$container.trigger("layersListUpdate");
        }),
        a.$container.on("fabricObject:added fabricObject:removed", function(
          b,
          c
        ) {
          a.productCreated &&
            "rect" !== c.type &&
            (f.$selectedModule &&
              (f.$selectedModule.filter('[data-module="manage-layers"]')
                .length > 0
                ? FPDLayersModule.createList(a, f.$selectedModule)
                : f.$selectedModule.filter('[data-module="text-layers"]')
                    .length > 0 &&
                  FPDTextLayersModule.createList(a, f.$selectedModule)),
            a.$container.trigger("layersListUpdate"));
        }),
        f.setup(f.currentModules);
    };
    (this.callModule = function(c) {
      var g = h
        .children("div")
        .removeClass("fpd-active")
        .filter('[data-module="' + c + '"]')
        .addClass("fpd-active");
      (f.$selectedModule = e
        .children("div")
        .removeClass("fpd-active")
        .filter('[data-module="' + c + '"]')
        .addClass("fpd-active")),
        e.parent(".fpd-draggable-dialog").length > 0 &&
          ((void 0 === d.attr("style") || "" === d.attr("style")) &&
            d.css("top", b.offset().top + b.height()),
          d
            .addClass("fpd-active")
            .find(".fpd-dialog-title")
            .text(g.find(".fpd-label").text())),
        "text" === c
          ? f.$selectedModule.find("textarea").focus()
          : "manage-layers" === c
            ? a.productCreated &&
              FPDLayersModule.createList(a, f.$selectedModule)
            : "text-layers" === c
              ? a.productCreated &&
                FPDTextLayersModule.createList(a, f.$selectedModule)
              : "undefined" != typeof FPDNamesNumbersModule &&
                "names-numbers" === c &&
                a.productCreated &&
                FPDNamesNumbersModule.setup(a, f.$selectedModule),
        f.toggleDialog(!0),
        FPDUtil.refreshLazyLoad(f.$selectedModule.find(".fpd-grid"), !1);
    }),
      (this.callSecondary = function(b) {
        f.callModule("secondary"),
          e
            .children(".fpd-secondary-module")
            .children("." + b)
            .addClass("fpd-active")
            .siblings()
            .removeClass("fpd-active"),
          "fpd-upload-zone-adds-panel" === b &&
            e
              .find(
                ".fpd-upload-zone-adds-panel .fpd-bottom-nav > :not(.fpd-hidden)"
              )
              .first()
              .click(),
          a.$container.trigger("secondaryModuleCalled", [
            b,
            e.children(".fpd-secondary-module").children(".fpd-active")
          ]);
      }),
      (this.setContentWrapper = function(c) {
        d.removeClass("fpd-active"),
          "sidebar" === c
            ? (0 === h.children(".fpd-active").length &&
                h
                  .children()
                  .first()
                  .addClass("fpd-active"),
              e.appendTo(b))
            : "draggable-dialog" === c &&
              (e.appendTo(d), h.removeClass("fpd-hidden")),
          f.currentModules.length <= 1 && !a.$container.hasClass("fpd-topbar")
            ? ((selectedModule = f.currentModules[0]
                ? f.currentModules[0]
                : ""),
              h.addClass("fpd-hidden"))
            : h.removeClass("fpd-hidden"),
          h.children().each(function(b, c) {
            var d = $(c);
            d.filter(".tooltipstered").tooltipster("destroy"),
              a.$container.hasClass("fpd-sidebar")
                ? d
                    .addClass("fpd-tooltip")
                    .attr("title", d.children(".fpd-label").text())
                : d.removeClass("fpd-tooltip").removeAttr("title");
          }),
          FPDUtil.updateTooltip(h),
          h.children(".fpd-active").click();
      }),
      (this.toggleDialog = function(b) {
        (b = "undefined" == typeof b ? !0 : b),
          a.$container.hasClass("fpd-topbar") &&
            0 === a.$container.filter('[class*="fpd-off-canvas-"]').length &&
            (d.toggleClass("fpd-active", b), !b && f.mainBarShowing),
          a.$container.filter('[class*="fpd-off-canvas-"]').length > 0 &&
            (f.$container
              .toggleClass("fpd-show", b)
              .children(".fpd-close-off-canvas")
              .removeAttr("style"),
            f.$content.removeAttr("style").height(a.$mainWrapper.height()),
            0 === h.children("div").length
              ? f.$content.css("top", 0)
              : f.$content.css("top", h.height()),
            !b && f.mainBarShowing && a.deselectElement()),
          b || h.children(".fpd-active").removeClass("fpd-active"),
          (f.mainBarShowing = b);
      }),
      (this.toggleUploadZonePanel = function(b) {
        (b = "undefined" == typeof b ? !0 : b),
          a._loadingCustomImage ||
            (b
              ? f.callSecondary("fpd-upload-zone-adds-panel")
              : ((a.currentViewInstance.currentUploadZone = null),
                a.$container.hasClass("fpd-sidebar")
                  ? f.callModule(a.mainBar.currentModules[0])
                  : f.toggleDialog(!1)));
      }),
      (this.toggleUploadZoneAdds = function(b) {
        var c = e.find(".fpd-upload-zone-adds-panel");
        c.find(".fpd-add-image").toggleClass("fpd-hidden", !Boolean(b.uploads)),
          c.find(".fpd-add-text").toggleClass("fpd-hidden", !Boolean(b.texts)),
          c
            .find(".fpd-add-design")
            .toggleClass("fpd-hidden", !Boolean(b.designs)),
          c
            .find('[data-module="text"] .fpd-btn > .fpd-price')
            .html(
              a.currentElement.price
                ? " - " + a.formatPrice(a.currentElement.price)
                : ""
            ),
          a.UZmoduleInstance_designs &&
            a.UZmoduleInstance_designs.toggleCategories(),
          c
            .find(".fpd-off-canvas-nav > :not(.fpd-hidden)")
            .first()
            .click();
      }),
      (this.setup = function(b) {
        f.currentModules = b;
        var d = a.mainOptions.initialActiveModule;
        f.currentModules.length <= 1 && !a.$container.hasClass("fpd-topbar")
          ? ((d = f.currentModules[0] ? f.currentModules[0] : ""),
            h.addClass("fpd-hidden"))
          : h.removeClass("fpd-hidden"),
          h.empty(),
          e.empty(),
          b.forEach(function(b) {
            var d,
              f = c.children('[data-module="' + b + '"]'),
              g = f.clone(),
              i = a.$container.hasClass("fpd-sidebar")
                ? 'class="fpd-tooltip"'
                : "",
              j = a.$container.hasClass("fpd-sidebar")
                ? 'title="' + f.data("title") + '"'
                : "";
            h.append(
              '<div data-module="' +
                b +
                '" ' +
                i +
                " " +
                j +
                '><span class="' +
                f.data("moduleicon") +
                '"></span><span class="fpd-label">' +
                f.data("title") +
                "</span></div>"
            ),
              e.append(g),
              "products" === b
                ? (d = new FPDProductsModule(a, g))
                : "text" === b
                  ? (d = new FPDTextModule(a, g))
                  : "designs" === b
                    ? (d = new FPDDesignsModule(a, g))
                    : "images" === b
                      ? (d = new FPDImagesModule(a, g))
                      : "layouts" === b
                        ? (d = new FPDLayoutsModule(a, g))
                        : "undefined" != typeof FPDDrawingModule &&
                          "drawing" === b
                          ? (d = new FPDDrawingModule(a, g))
                          : "undefined" != typeof FPDDynamicViews &&
                            "dynamic-views" === b &&
                            (d = new FPDDynamicViews(a, g)),
              d && (a["moduleInstance_" + b] = d);
          }),
          0 === e.children('[data-module="manage-layers"]').length &&
            e.append(c.children('[data-module="manage-layers"]').clone()),
          e.append(c.children('[data-module="secondary"]').clone());
        for (var g = ["images", "text", "designs"], i = 0; i < g.length; ++i) {
          var j,
            k = g[i],
            l = c.children('[data-module="' + k + '"]'),
            m = l.clone();
          e.find(".fpd-upload-zone-content").append(m),
            "text" === k
              ? (j = new FPDTextModule(a, m))
              : "designs" === k
                ? (j = new FPDDesignsModule(a, m))
                : "images" === k && (j = new FPDImagesModule(a, m)),
            j && (a["UZmoduleInstance_" + k] = j);
        }
        a.$container.hasClass("fpd-sidebar") &&
          "" == d &&
          (d = h
            .children()
            .first()
            .data("module")),
          h.children('[data-module="' + d + '"]').click();
      }),
      i();
  };
FPDMainBar.availableModules = [
  "products",
  "images",
  "text",
  "designs",
  "manage-layers",
  "text-layers",
  "layouts"
];
var FPDActions = function(a, b) {
  var c,
    d = this,
    e = a.$mainWrapper.children(".fpd-actions-container");
  this.currentActions = a.mainOptions.actions;
  var f = function() {
      b &&
        (d.setup(d.currentActions),
        a.$container.on(
          "click",
          ".fpd-actions-wrapper .fpd-action-btn",
          function() {
            var a = $(this);
            a.hasClass("tooltipstered") && a.tooltipster("hide"), d.doAction(a);
          }
        )),
        a.$container.on("viewSelect", function(b, c) {
          d.resetAllActions(),
            a.$mainWrapper
              .find('[data-action="previous-view"], [data-action="next-view"]')
              .toggleClass("fpd-hidden", a.viewInstances.length <= 1),
            a.$mainWrapper
              .find('[data-action="previous-view"]')
              .toggleClass("fpd-disabled", 0 === c),
            a.$mainWrapper
              .find('[data-action="next-view"]')
              .toggleClass("fpd-disabled", c === a.viewInstances.length - 1);
        }),
        a.$container.on("screenSizeChange", function(b, c) {
          "smartphone" === c
            ? e.insertBefore(a.$mainWrapper)
            : e.appendTo(a.$mainWrapper);
        });
    },
    g = function(c) {
      a.$mainWrapper
        .children(".fpd-actions-container")
        .append('<div class="fpd-actions-wrapper fpd-pos-' + c + '"></div>');
      for (var e = d.currentActions[c], f = 0; f < e.length; ++f) {
        var g = e[f],
          h = b.children('[data-action="' + g + '"]');
        a.$mainWrapper
          .find(".fpd-actions-wrapper.fpd-pos-" + c)
          .append(h.clone());
      }
    },
    h = function() {
      return FPDUtil.localStorageAvailable()
        ? JSON.parse(window.localStorage.getItem(a.$container.attr("id")))
        : !1;
    };
  (this.downloadFile = function(b) {
    if ("jpeg" === b || "png" === b) {
      var c = document.createElement("a"),
        d = "jpeg" === b ? "#fff" : "transparent";
      "undefined" != typeof c.download
        ? a.getProductDataURL(
            function(a) {
              download(a, "Product." + b, "image/" + b);
            },
            d,
            { format: b }
          )
        : a.createImage(!0, !1, d, { format: b });
    } else
      (_createPDF = function(b) {
        for (
          var c = a.viewInstances[0].options.stageWidth,
            d = a.viewInstances[0].options.stageHeight,
            e = 1;
          e < a.viewInstances.length;
          ++e
        ) {
          var f = a.viewInstances[e].options;
          f.stageWidth > c && (c = f.stageWidth),
            f.stageHeight > d && (d = f.stageHeight);
        }
        for (
          var g =
              a.currentViewInstance.stage.getWidth() >
              a.currentViewInstance.stage.getHeight()
                ? "l"
                : "p",
            h = new jsPDF(g, "mm", [0.264583 * c, 0.264583 * d]),
            e = 0;
          e < b.length;
          ++e
        )
          h.addImage(b[e], "JPEG", 0, 0), e < b.length - 1 && h.addPage();
        h.save("Product.pdf");
      }),
        a.getViewsDataURL(_createPDF, "#ffffff", { format: "jpeg" });
  }),
    (this.setup = function(b) {
      (this.currentActions = b),
        a.$mainWrapper.children(".fpd-actions-container").empty();
      for (var c = Object.keys(b), d = 0; d < c.length; ++d) {
        var e = b[c[d]];
        "object" == typeof e && e.length > 0 && g(c[d]);
      }
    }),
    (this.doAction = function(b) {
      var e = b.data("action");
      if ((a.deselectElement(), "print" === e)) a.print();
      else if ("reset-product" === e) {
        var f = confirm(a.getTranslation("misc", "reset_confirm"));
        f && a.loadProduct(a.currentViews);
      } else if ("undo" === e) a.currentViewInstance.undo();
      else if ("redo" === e) a.currentViewInstance.redo();
      else if ("info" === e)
        FPDUtil.showModal(
          b.children(".fpd-info-content").text(),
          !1,
          "",
          a.$modalContainer
        );
      else if ("preview-lightbox" === e)
        a.getProductDataURL(function(a) {
          var b = new Image();
          (b.src = a),
            (b.onload = function() {
              FPDUtil.showModal(
                '<img src="' + this.src + '" download="product.png" />',
                !0
              );
            });
        });
      else if ("save" === e) {
        var g = FPDUtil.showModal(
          a.getTranslation("actions", "save_placeholder"),
          !1,
          "prompt",
          a.$modalContainer
        );
        g
          .find(".fpd-btn")
          .text(a.getTranslation("actions", "save"))
          .click(function() {
            a.doUnsavedAlert = !1;
            var b = $(this)
                .siblings("input:first")
                .val(),
              c = a.getProduct(),
              d = (FPDUtil.getScalingByDimesions(
                a.currentViewInstance.options.stageWidth,
                a.currentViewInstance.options.stageHeight,
                200,
                200
              ),
              a.currentViewInstance.stage.toDataURL({
                multiplier: 1,
                format: "png"
              }));
            if (c && a.mainOptions.saveActionBrowserStorage) {
              var e = h();
              e || (e = []),
                e.push({ thumbnail: d, product: c, title: b }),
                window.localStorage.setItem(
                  a.$container.attr("id"),
                  JSON.stringify(e)
                ),
                FPDUtil.showMessage(a.getTranslation("misc", "product_saved"));
            }
            g.find(".fpd-modal-close").click(),
              a.$container.trigger("actionSave", [b, d, c]);
          });
      } else if ("load" === e) {
        if (
          (a.mainBar.$content
            .find(".fpd-saved-designs-panel .fpd-grid")
            .empty(),
          a.mainOptions.saveActionBrowserStorage)
        ) {
          var i = h();
          if (i) {
            for (var j = 0; j < i.length; ++j) {
              var k = i[j];
              d.addSavedProduct(k.thumbnail, k.product, k.title);
            }
            FPDUtil.createScrollbar(
              a.mainBar.$content.find(
                ".fpd-saved-designs-panel .fpd-scroll-area"
              )
            );
          }
        }
        a.$container.trigger("actionLoad"),
          a.mainBar.callSecondary("fpd-saved-designs-panel");
      } else if ("manage-layers" === e) a.mainBar.callModule("manage-layers");
      else if ("snap" === e)
        if (
          (b.toggleClass("fpd-active"),
          (a.currentViewInstance._snapElements = b.hasClass("fpd-active")),
          a.$mainWrapper.children(".fpd-snap-line-h, .fpd-snap-line-v").hide(),
          b.hasClass("fpd-active"))
        ) {
          for (
            var l = [],
              m = a.mainOptions.snapGridSize[0]
                ? a.mainOptions.snapGridSize[0]
                : 50,
              n = a.mainOptions.snapGridSize[1]
                ? a.mainOptions.snapGridSize[1]
                : 50,
              o = Math.ceil(a.currentViewInstance.options.stageWidth / m),
              p = Math.ceil(a.currentViewInstance.options.stageHeight / n),
              j = 0;
            o > j;
            ++j
          ) {
            var q = new fabric.Rect({
              width: 1,
              height: a.currentViewInstance.options.stageHeight,
              fill: "#ccc",
              opacity: 0.6,
              left: j * m,
              top: 0
            });
            l.push(q);
          }
          for (var j = 0; p > j; ++j) {
            var r = new fabric.Rect({
              width: a.currentViewInstance.options.stageWidth,
              height: 1,
              fill: "#ccc",
              opacity: 0.6,
              top: j * n,
              left: 0
            });
            l.push(r);
          }
          (c = new fabric.Group(l, {
            id: "_snap_lines_group",
            left: 0,
            top: 0,
            evented: !1,
            selectable: !1
          })),
            a.currentViewInstance.stage.add(c);
        } else c && a.currentViewInstance.stage.remove(c);
      else if ("qr-code" === e) {
        var s = FPDUtil.showModal(
            b.children(".fpd-modal-context").clone(),
            !1,
            "",
            a.$modalContainer
          ),
          t = s
            .find(".fpd-qrcode-colors input")
            .spectrum({
              preferredFormat: "hex",
              showInput: !0,
              showInitial: !0,
              showButtons: !1,
              replacerClassName: "fpd-spectrum-replacer"
            });
        s.find(".fpd-add-qr-code").click(function() {
          var b = s.find(".fpd-modal-context > input").val();
          if (b && 0 !== b.length) {
            {
              var c = s.find(".fpd-qrcode-wrapper").empty();
              new QRCode(c.get(0), {
                text: b,
                width: 256,
                height: 256,
                colorDark: t
                  .filter(".fpd-qrcode-color-dark")
                  .spectrum("get")
                  .toHexString(),
                colorLight: t
                  .filter(".fpd-qrcode-color-light")
                  .spectrum("get")
                  .toHexString(),
                correctLevel: QRCode.CorrectLevel.H
              });
            }
            c.find("img").load(function() {
              a.addElement(
                "image",
                this.src,
                "QR-Code - " + b,
                a.currentViewInstance.options.qrCodeProps
              ),
                s.find(".fpd-modal-close").click();
            });
          }
        }),
          s.on("modalRemove", function() {
            t.spectrum("destroy");
          });
      } else if ("zoom" === e) {
        if (b.hasClass("fpd-active"))
          a.$mainWrapper.children(".fpd-action-context").remove();
        else {
          var u = b.children(".fpd-action-context").clone();
          a.$mainWrapper.append(u);
          var v =
            a.currentViewInstance.stage.getZoom() /
            a.currentViewInstance.responsiveScale;
          u
            .find(".fpd-zoom-slider")
            .attr("step", a.mainOptions.zoomStep)
            .attr("max", a.mainOptions.maxZoom)
            .val(v)
            .rangeslider({
              polyfill: !1,
              rangeClass: "fpd-range-slider",
              disabledClass: "fpd-range-slider--disabled",
              horizontalClass: "fpd-range-slider--horizontal",
              verticalClass: "fpd-range-slider--vertical",
              fillClass: "fpd-range-slider__fill",
              handleClass: "fpd-range-slider__handle",
              onSlide: function(b, c) {
                a.setZoom(c);
              }
            }),
            u
              .find(".fpd-stage-pan")
              .click(function() {
                (a.currentViewInstance.dragStage = a.currentViewInstance
                  .dragStage
                  ? !1
                  : !0),
                  $(this).toggleClass("fpd-enabled"),
                  a.$productStage.toggleClass("fpd-drag");
              })
              .toggleClass("fpd-enabled", a.currentViewInstance.dragStage);
        }
        b.toggleClass("fpd-active");
      } else if ("download" === e) {
        var s = FPDUtil.showModal(
          b.children(".fpd-modal-context").clone(),
          !1,
          "",
          a.$modalContainer
        );
        s.find(".fpd-modal-context span[data-value]").click(function() {
          d.downloadFile($(this).data("value")),
            s.find(".fpd-modal-close").click();
        });
      } else if ("magnify-glass" === e) {
        if ((a.resetZoom(), b.hasClass("fpd-active")))
          $(".fpd-zoom-image,.zoomContainer").remove(),
            a.$productStage
              .children(".fpd-view-stage")
              .eq(a.currentViewIndex)
              .removeClass("fpd-hidden");
        else {
          a.toggleSpinner();
          var w = Number(
            2e3 / a.currentViewInstance.options.stageWidth
          ).toFixed(2);
          (dataURL = a.currentViewInstance.stage.toDataURL({
            multiplier: w,
            format: "png"
          })),
            a.$productStage
              .append('<img src="' + dataURL + '" class="fpd-zoom-image" />')
              .children(".fpd-zoom-image")
              .elevateZoom({
                scrollZoom: !0,
                borderSize: 1,
                zoomType: "lens",
                lensShape: "round",
                lensSize: 200,
                responsive: !0,
                onZoomedImageLoaded: function() {
                  $(".zoomContainer").appendTo(
                    ".fpd-modal-product-designer .fpd-main-wrapper"
                  ),
                    a.toggleSpinner(!1);
                }
              }),
            a.$productStage.children(".fpd-view-stage").addClass("fpd-hidden");
        }
        b.toggleClass("fpd-active");
      } else if ("ruler" === e) {
        if (b.hasClass("fpd-active")) {
          var x = a.currentViewInstance.getElementByID("_ruler_hor");
          x && a.currentViewInstance.stage.remove(x);
          var y = a.currentViewInstance.getElementByID("_ruler_ver");
          y && a.currentViewInstance.stage.remove(y);
        } else {
          var z = { fill: "#979797", fontSize: 10, fontFamily: "Arial" };
          fabric.util.loadImage(FPDActions.rulerHorImg, function(b) {
            var c = new fabric.Group([], {
                left: 0,
                top: 0,
                originX: "left",
                originY: "top",
                evented: !1,
                selectable: !1,
                id: "_ruler_hor"
              }),
              d = new fabric.Rect({
                width: a.currentViewInstance.options.stageWidth,
                height: 30
              });
            d.setPatternFill({ source: b, repeat: "repeat-x" }),
              c.addWithUpdate(d);
            for (
              var e = Math.ceil(a.currentViewInstance.options.stageWidth / 100),
                f = 1;
              e > f;
              ++f
            ) {
              var g = new fabric.Text(
                String(100 * f),
                $.extend({}, z, { top: 3, left: 100 * f + 3 })
              );
              c.addWithUpdate(g);
            }
            a.currentViewInstance.stage.add(c).renderAll();
          }),
            fabric.util.loadImage(FPDActions.rulerVerImg, function(b) {
              var c = new fabric.Group([], {
                  left: 0,
                  top: 0,
                  originX: "left",
                  originY: "top",
                  evented: !1,
                  selectable: !1,
                  id: "_ruler_ver"
                }),
                d = new fabric.Rect({
                  width: 30,
                  height: a.currentViewInstance.options.stageHeight
                });
              d.setPatternFill({ source: b, repeat: "repeat-y" }),
                c.addWithUpdate(d);
              for (
                var e = Math.ceil(
                    a.currentViewInstance.options.stageWidth / 100
                  ),
                  f = 1;
                e > f;
                ++f
              ) {
                var g = new fabric.Text(
                  String(100 * f),
                  $.extend({}, z, {
                    top: 100 * f + 3,
                    left: 12,
                    angle: 90,
                    originY: "bottom"
                  })
                );
                c.addWithUpdate(g);
              }
              a.currentViewInstance.stage.add(c).renderAll();
            });
        }
        b.toggleClass("fpd-active");
      } else if ("previous-view" === e) a.selectView(a.currentViewIndex - 1);
      else if ("next-view" === e) a.selectView(a.currentViewIndex + 1);
      else if (
        "guided-tour" === e &&
        a.mainOptions.guidedTour &&
        Object.keys(a.mainOptions.guidedTour).length > 0
      ) {
        var A = Object.keys(a.mainOptions.guidedTour)[0];
        a.selectGuidedTourStep(A);
      }
    }),
    (this.resetAllActions = function() {
      $(".fpd-zoom-image,.zoomContainer").remove(),
        a.$productStage
          .children(".fpd-view-stage")
          .eq(a.currentViewIndex)
          .removeClass("fpd-hidden"),
        a.$mainWrapper.find(".fpd-action-btn").removeClass("fpd-active");
    }),
    (this.hideAllTooltips = function() {
      a.$mainWrapper.find(".fpd-action-btn.tooltipstered").tooltipster("hide");
    }),
    (this.addSavedProduct = function(b, c, d) {
      d = d ? d : "";
      var e = a.mainBar.$content.find(".fpd-saved-designs-panel .fpd-grid"),
        f = "" !== d ? 'title="' + d + '"' : "";
      e
        .append(
          '<div class="fpd-item fpd-tooltip" ' +
            f +
            '><picture style="background-image: url(' +
            b +
            ')" ></picture><div class="fpd-remove-design"><span class="fpd-icon-remove"></span></div></div>'
        )
        .children(".fpd-item:last")
        .click(function() {
          a.loadProduct($(this).data("product")), (a.currentProductIndex = -1);
        })
        .data("product", c)
        .children(".fpd-remove-design")
        .click(function(b) {
          b.stopPropagation();
          var c = $(this).parent(".fpd-item"),
            d = c
              .parent(".fpd-grid")
              .children(".fpd-item")
              .index(c.remove());
          if (a.mainOptions.saveActionBrowserStorage) {
            var e = h();
            e.splice(d, 1),
              window.localStorage.setItem(
                a.$container.attr("id"),
                JSON.stringify(e)
              );
          }
          a.$container.trigger("actionLoad:Remove", [d, c]);
        }),
        FPDUtil.updateTooltip(e);
    }),
    f();
};
(FPDActions.availableActions = [
  "print",
  "reset-product",
  "undo",
  "redo",
  "info",
  "save",
  "load",
  "manage-layers",
  "snap",
  "qr-code",
  "zoom",
  "download",
  "magnify-glass",
  "preview-lightbox",
  "ruler",
  "previous-view",
  "next-view",
  "guided-tour"
]),
  (FPDActions.rulerHorImg =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAAXNSR0IArs4c6QAAAMtJREFUaAXt0bENAkEMBVGgJVranja5lq4myH50wUr+wQRDZCHWWPPee+/fdV33yw+iwAdxhUekgCBJwRgEYTjkCkGSgjEIwnDIFYIkBWMQhOGQKwRJCsYgCMMhVwiSFIxBEIZDrhAkKRiDIAyHXCFIUjAGQRgOuUKQpGAMgjAccoUgScEYjkHWWt+Tk/3dc6XTLscgz3/jt+0CgrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvcJMgzYfi5Iu+hwnyDDgO3ngrSLDvf9ARH1Efg/D4CQAAAAAElFTkSuQmCC"),
  (FPDActions.rulerVerImg =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAABkCAYAAACRiYAFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAA40lEQVRoBe2UwQ3CUBTD+KzUYXvpSHQmECzgIlk8CbnXRonqvGZt2/a4DTz3gcxPZME/Ix/q/0e99n1/Xv3M4zjOq1rSrZaLEFnv+48tkugTakRkCVouiyT6dNWIyBKE2iKJPmOoWy7sxhKMdVywVSH6hBoRWYKWyyKJPl01IrIEobZIos8Y6pYLu7EEYx0XbFWIPqFGRJag5bJIok9XjYgsQagtkugzhrrlwm4swVjHBVsVok+oEZElaLkskujTVSMiSxBqiyT6jKFuubAbSzDWccFWhegTakRkCb5aLiv07fMCuAVB+Jp9DBgAAAAASUVORK5CYII=");
var FPDImageEditor = function(a, b, c) {
    "use strict";
    var d,
      e,
      f = c.mainOptions.imageEditorSettings,
      g = "#2ecc71",
      h = this,
      i = 0,
      j = 0,
      k = a.children(".fpd-image-editor-main"),
      l = !1,
      m = null,
      n = {
        opacity: 0.3,
        cornerColor: g,
        borderColor: g,
        borderScaleFactor: 3,
        borderDashArray: [5, 5],
        hasRotatingPoint: !0,
        centeredScaling: !0,
        objectCaching: !1,
        __editorMode: !0,
        __imageEditor: !0
      },
      o = function() {
        (b.originSource = b.originSource ? b.originSource : b.source),
          (h.responsiveScale = 1),
          a.addClass("fpd-container"),
          k.append("<canvas>");
        var o = {
          containerClass: "fpd-image-editor-canvas-wrapper",
          selection: !1,
          hoverCursor: "pointer",
          controlsAboveOverlay: !0,
          centeredScaling: !0,
          allowTouchScrolling: !0,
          preserveObjectStacking: !0,
          enableRetinaScaling: !1
        };
        d = new fabric.Canvas(k.children("canvas:last").get(0), o);
        var t = {},
          u = !1;
        d.on({
          "mouse:down": function(a) {
            if (!m && l) {
              u = !0;
              var b = d.getPointer(a.e);
              (t.x = b.x),
                (t.y = b.y),
                (m = new fabric.Rect(
                  $.extend(
                    {},
                    {
                      width: 0,
                      height: 0,
                      left: b.x / h.responsiveScale,
                      top: b.y / h.responsiveScale,
                      fill: "#000"
                    },
                    n
                  )
                )),
                r(),
                d.add(m),
                d.renderAll(),
                d.setActiveObject(m);
            }
          },
          "mouse:move": function(a) {
            if (u) {
              var b = d.getPointer(a.e),
                c = Math.abs(b.x - t.x),
                e = Math.abs(b.y - t.y);
              if (!c || !e) return !1;
              m.setOptions({
                width: c / h.responsiveScale,
                height: e / h.responsiveScale
              }),
                m.setCoords(),
                d.renderAll();
            }
          },
          "mouse:up": function() {
            u = !1;
          }
        }),
          a.on("click", ".fpd-image-editor-menu > span", function() {
            var b = $(this),
              c = b.data("id");
            b
              .addClass("fpd-active")
              .siblings()
              .removeClass("fpd-active"),
              a
                .find(".fpd-tab-content > div")
                .removeClass("fpd-active")
                .filter('[data-id="' + c + '"]')
                .addClass("fpd-active");
          }),
          f.masks &&
            $.isArray(f.masks) &&
            f.masks.forEach(function(b) {
              var c = b.split(/[\\\/]/).pop();
              (c = c.substr(0, c.lastIndexOf("."))),
                a
                  .find(".fpd-mask-selection")
                  .append(
                    '<span data-mask="' +
                      b +
                      '" class="fpd-tooltip" title="' +
                      c +
                      '" style="background-image: url(' +
                      b +
                      ')"></span>'
                  );
            }),
          a.on("click", ".fpd-mask-selection > span", function() {
            if (!e) return !1;
            var b = $(this),
              c = b.data("mask");
            d.discardActiveObject(),
              (e.evented = !1),
              (d.clipTo = null),
              (m = null),
              "custom-rect" === c
                ? (l = !0)
                : fabric.loadSVGFromURL(c, function(a, b) {
                    var c = a ? fabric.util.groupSVGElements(a, b) : null;
                    d.add(c),
                      c.setOptions(
                        $.extend({}, n, { opacity: 1, fill: "rgba(0,0,0,0)" })
                      ),
                      d.width > d.height
                        ? c.scaleToHeight((d.height - 80) / h.responsiveScale)
                        : c.scaleToWidth((d.width - 80) / h.responsiveScale),
                      "1.6.7" === fabric.version
                        ? c
                            .getObjects()[0]
                            .set("stroke", g)
                            .set("strokeWidth", 3 / c.scaleX)
                        : c.set("stroke", g).set("strokeWidth", 3 / c.scaleX),
                      (m = c),
                      r(),
                      (c.left = 0),
                      (c.top = 0),
                      c.setPositionByOrigin(
                        new fabric.Point(0.5 * i, 0.5 * j),
                        "center",
                        "center"
                      ),
                      c.setCoords(),
                      d.renderAll();
                  }),
              d.renderAll(),
              a.find(".fpd-content-mask").addClass("fpd-show-secondary");
          }),
          a.on("click", ".fpd-mask-cancel, .fpd-mask-save", function() {
            return e
              ? ((e.evented = !0),
                (l = !1),
                d.discardActiveObject(),
                m &&
                  ($(this).hasClass("fpd-mask-save") &&
                    (r(),
                    m.set("strokeWidth", 0),
                    m.set("fill", "transparent"),
                    (d.clipTo = function(a) {
                      m.render(a);
                    })),
                  d.remove(m)),
                void a
                  .find(".fpd-content-mask")
                  .removeClass("fpd-show-secondary"))
              : !1;
          });
        var v = [
          "none",
          "grayscale",
          "sepia",
          "cold",
          "black_white",
          "old",
          "milk",
          "purple",
          "yellow",
          "monochrome"
        ];
        "1.6.7" === fabric.version &&
          (v = v.concat(["sepia2", "technicolor", "kodachrome", "vintage"])),
          v.forEach(function(b) {
            a
              .find(".fpd-content-filters")
              .append(
                '<div data-type="' +
                  b +
                  '" style="background-image: url(' +
                  FPDFilters[b].preview +
                  ')" data-defaulttext="' +
                  FPDFilters[b].name +
                  '" title="image_editor.filter_' +
                  b +
                  '" class="fpd-tooltip"></div>'
              );
          }),
          a
            .find(".fpd-content-filters [data-defaulttext]")
            .each(function(a, b) {
              c.translateElement($(b));
            }),
          a.on("click", ".fpd-content-filters > div", function() {
            if (!e) return !1;
            var a = ["Grayscale", "Sepia", "Sepia2", "ColorMatrix"];
            (e.filters = e.filters.filter(function(b) {
              return b && -1 === a.indexOf(b.type);
            })),
              e.filters.push(FPDUtil.getFilter($(this).data("type"))),
              s();
          }),
          a.on("click", ".fpd-switch-container", function() {
            if (!e) return !1;
            var a = $(this),
              b = a.data("filter");
            if (
              (a.toggleClass("fpd-enabled"),
              a
                .nextAll(".fpd-range-tooltip:first")
                .toggleClass("fpd-enabled", a.hasClass("fpd-enabled")),
              a.hasClass("fpd-enabled"))
            ) {
              var c = {};
              a
                .parent()
                .find(".fpd-input-range")
                .each(function(a, b) {
                  c[b.name] = parseFloat(b.value);
                }),
                q(b, c);
            } else p(b);
          });
        var w = null;
        a.on("input change", ".fpd-input-range", function() {
          if (!e) return !1;
          var a = $(this),
            b = a
              .parent(".fpd-range-tooltip")
              .siblings(".fpd-switch-container:first"),
            c = b.data("filter"),
            d = parseFloat(this.min),
            f = parseFloat(this.max),
            g = parseFloat(this.value),
            h = (this.value - d) / (f - d);
          b
            .parent()
            .siblings(".fpd-left")
            .find(".fpd-range-tooltip")
            .removeClass("fpd-moving"),
            a
              .parent(".fpd-range-tooltip")
              .addClass("fpd-moving")
              .children(".fpd-tooltip")
              .text(g.toFixed(2))
              .css("left", String(100 * h) + "%");
          var i = {};
          "1.6.7" === fabric.version ? (g *= 255) : (i.color = "#fff"),
            (i[a.attr("name")] = g),
            q(c, i),
            w && (clearTimeout(w), (w = null)),
            (w = setTimeout(function() {
              a.parent(".fpd-range-tooltip").removeClass("fpd-moving"),
                clearTimeout(w),
                (w = null);
            }, 2e3));
        }),
          a.on("click", ".fpd-action-restore", function() {
            return e
              ? ((e.source = b.originSource),
                e.setSrc(b.originSource, function() {
                  e.setCoords(), d.renderAll();
                }),
                void h.reset())
              : !1;
          }),
          a.on("click", ".fpd-action-save", function() {
            var d = h.getImage();
            if ("image" !== b.type) {
              var e = c.currentViewInstance.getElementJSON(b);
              delete e.fill,
                c.currentViewInstance.removeElement(b.title, b),
                c.currentViewInstance.addElement("image", d, b.title, e);
            } else
              (b.source = d),
                b.setSrc(d, function() {
                  b.setCoords(), b.canvas.renderAll();
                });
            a
              .parent()
              .siblings(".fpd-modal-close")
              .click();
          }),
          FPDUtil.updateTooltip(a);
      },
      p = function(a) {
        (e.filters = e.filters.filter(function(b) {
          return b.type !== a;
        })),
          s();
      },
      q = function(a, b) {
        b = void 0 === b ? {} : b;
        var c = e.filters.filter(function(b) {
          return (
            b && "RemoveColor" === b.type && (b.type = "RemoveWhite"),
            b.type === a
          );
        });
        if (c.length > 0) $.extend(c[0], b);
        else {
          var d = FPDUtil.getFilter(a, b);
          e.filters.push(d);
        }
        s();
      },
      r = function() {
        var b = a.children(".fpd-image-editor-main");
        (h.responsiveScale = b.outerWidth() < i ? b.outerWidth() / i : 1),
          (h.responsiveScale = parseFloat(
            Number(h.responsiveScale.toFixed(7))
          )),
          (h.responsiveScale = h.responsiveScale > 1 ? 1 : h.responsiveScale),
          m &&
            ((m.left = m.left * h.responsiveScale),
            (m.top = m.top * h.responsiveScale),
            (m.scaleX = m.scaleX * h.responsiveScale),
            (m.scaleY = m.scaleY * h.responsiveScale),
            m.setCoords()),
          d
            .setDimensions({ width: b.width(), height: j * h.responsiveScale })
            .setZoom(h.responsiveScale)
            .calcOffset()
            .renderAll();
      },
      s = function() {
        "1.6.7" === fabric.version
          ? e.applyFilters(function() {
              d.renderAll();
            })
          : (e.applyFilters(), d.renderAll());
      };
    (this.loadImage = function(a) {
      this.reset(),
        new fabric.Image.fromURL(a, function(a) {
          (e = a),
            (i = a.width),
            (j = a.height),
            e.setOptions({
              cornerColor: g,
              borderColor: g,
              __editorMode: !0,
              __imageEditor: !0
            }),
            d.setDimensions({ width: i, height: j }),
            d.add(a),
            r();
        });
    }),
      (this.getImage = function() {
        d.setDimensions({ width: i, height: j }).setZoom(1),
          m &&
            ((m.left = m.left / h.responsiveScale),
            (m.top = m.top / h.responsiveScale),
            (m.scaleX = m.scaleX / h.responsiveScale),
            (m.scaleY = m.scaleY / h.responsiveScale),
            m.setCoords()),
          d.renderAll();
        var a = d.toDataURL({});
        return r(), a;
      }),
      (this.reset = function() {
        a.find(".fpd-switch-container").removeClass("fpd-enabled"),
          (d.clipTo = null),
          (m = null),
          d.discardActiveObject(),
          e &&
            (e.setOptions({ scaleX: 1, scaleY: 1, angle: 0, left: 0, top: 0 }),
            (e.filters = []),
            s());
      }),
      o();
  },
  FPDDesignsModule = function(a, b) {
    var c = this,
      d = "",
      e = b.find(".fpd-head"),
      f = b.find(".fpd-scroll-area"),
      g = b.find(".fpd-grid"),
      h = a.mainOptions.lazyLoad ? "fpd-hidden" : "",
      i = null,
      j = !1,
      k = [],
      l = function() {
        (d = a.getTranslation("modules", "designs_search_in").toUpperCase()),
          e.find(".fpd-input-search input").keyup(function() {
            if ("" == this.value)
              g.children(".fpd-item").css("display", "block");
            else {
              g.children(".fpd-item").css("display", "none");
              var a = this.value
                .toLowerCase()
                .trim()
                .split(" ");
              g
                .children(".fpd-item")
                .filter(function() {
                  var b = 0,
                    c = this;
                  return (
                    $.each(a, function(a, d) {
                      b += $(c).is("[data-search*='" + d + "']");
                    }),
                    b == a.length ? 1 : void 0
                  );
                })
                .css("display", "block");
            }
          }),
          e.find(".fpd-back").click(function() {
            g.children(".fpd-category").length > 0 && k.pop();
            var b,
              d = a.designs;
            k.forEach(function(a) {
              (b = d[a]), (d = b.category);
            }),
              (i = d),
              d && m(i, b),
              void 0 === b && c.toggleCategories();
          }),
          a.$container.on("designsSet", function(a, d) {
            $.isArray(d) &&
              0 !== d.length &&
              (d[0].hasOwnProperty("source")
                ? (b.addClass("fpd-single-cat"), o(d))
                : d.length > 1
                  ? ((j = !0), c.toggleCategories())
                  : 1 === d.length &&
                    d[0].designs &&
                    (b.addClass("fpd-single-cat"), o(d[0].designs)));
          });
      },
      m = function(a, c) {
        f.find(".fpd-grid").empty(),
          e.find(".fpd-input-search input").val(""),
          b.removeClass("fpd-designs-active").addClass("fpd-categories-active"),
          a.forEach(function(a) {
            n(a);
          }),
          c &&
            e
              .find(".fpd-input-search input")
              .attr("placeholder", d + " " + c.title.toUpperCase()),
          FPDUtil.refreshLazyLoad(g, !1),
          FPDUtil.createScrollbar(f);
      },
      n = function(a) {
        var c = a.thumbnail
            ? '<picture data-img="' + a.thumbnail + '"></picture>'
            : "",
          f = (a.thumbnail ? h : h + " fpd-title-centered",
          $("<div/>", {
            class: "fpd-category fpd-item " + h,
            "data-search": a.title.toLowerCase(),
            html: c + "<span>" + a.title + "</span>"
          }).appendTo(g));
        f.click(function() {
          var a = $(this),
            c = a
              .parent()
              .children(".fpd-item")
              .index(a),
            f = i[c];
          f.category
            ? (k.push(c), (i = f.category), m(i, f))
            : o(f.designs, f.parameters),
            b.addClass("fpd-head-visible"),
            e.find(".fpd-input-search input").attr(
              "placeholder",
              d +
                " " +
                a
                  .children("span")
                  .text()
                  .toUpperCase()
            );
        }),
          "" === h &&
            a.thumbnail &&
            FPDUtil.loadGridImage(f.children("picture"), a.thumbnail);
      },
      o = function(a, c) {
        f.find(".fpd-grid").empty(),
          e.find(".fpd-input-search input").val(""),
          b.removeClass("fpd-categories-active").addClass("fpd-designs-active");
        var c = c ? c : {};
        a.forEach(function(a) {
          (a.parameters = $.extend({}, c, a.parameters)), p(a);
        }),
          FPDUtil.refreshLazyLoad(g, !1),
          FPDUtil.createScrollbar(f),
          FPDUtil.updateTooltip();
      },
      p = function(b) {
        b.thumbnail = void 0 === b.thumbnail ? b.source : b.thumbnail;
        var c = $("<div/>", {
          class: "fpd-item " + h,
          "data-title": b.title,
          "data-source": b.source,
          "data-search": b.title.toLowerCase(),
          html: '<picture data-img="' + b.thumbnail + '"></picture>'
        }).appendTo(g);
        c
          .click(function() {
            var b = $(this),
              c = b.data("parameters"),
              d = a.currentViewInstance.options.imageParameters,
              e = $.extend({}, d, c),
              f = b.data("source"),
              g = c.scaleX || 1,
              h = c.scaleY || 1,
              i = new Image();
            (i.onload = function() {
              var d = this.width,
                i = this.height;
              if (
                ((e.resizeToW || e.resizeToH) &&
                  (g = h = FPDUtil.getScalingByDimesions(
                    d,
                    i,
                    e.resizeToW,
                    e.resizeToH,
                    e.scaleMode
                  )),
                a.mainOptions.fitImagesInCanvas)
              ) {
                var j = a.mainOptions.elementParameters.cornerSize;
                (d * g + j > a.currentViewInstance.options.stageWidth ||
                  i * h + j > a.currentViewInstance.options.stageHeight) &&
                  (g = h = FPDUtil.getScalingByDimesions(
                    d,
                    i,
                    a.currentViewInstance.options.stageWidth - j,
                    a.currentViewInstance.options.stageHeight - j
                  ));
              }
              (c.isCustom = !0),
                (c.scaleX = g),
                (c.scaleY = h),
                a.addElement("image", f, b.data("title"), c);
            }),
              (i.src = f),
              a.productCreated &&
                a.mainOptions.hideDialogOnAdd &&
                a.$container.hasClass("fpd-topbar") &&
                a.mainBar &&
                a.mainBar.toggleDialog(!1);
          })
          .data("parameters", b.parameters),
          "" === h && FPDUtil.loadGridImage(c.children("picture"), b.thumbnail);
      };
    (this.toggleCategories = function() {
      if (j) {
        b.removeClass("fpd-head-visible"), (i = a.designs), m(i);
        var c = [];
        if (a.currentViewInstance) {
          var d = a.currentViewInstance.currentElement;
          c =
            d && d.uploadZone && d.designCategories
              ? a.currentViewInstance.currentElement.designCategories
              : a.currentViewInstance.options.designCategories;
        }
        var e = g.find(".fpd-category");
        if (c.length > 0) {
          var f = e
            .hide()
            .filter(function() {
              var a = $(this)
                .children("span")
                .text();
              return $.inArray(a, c) > -1;
            })
            .show();
          1 === f.length &&
            (f.first().click(), b.removeClass("fpd-head-visible"));
        } else e.show();
      }
    }),
      l();
  },
  FPDProductsModule = function(a, b) {
    var c = this,
      d = 0,
      e = b.find(".fpd-product-categories"),
      f = b.children(".fpd-scroll-area"),
      g = b.find(".fpd-grid"),
      h = a.mainOptions.lazyLoad ? "fpd-hidden" : "",
      i = function() {
        k(),
          e.children("input").keyup(function() {
            var a = e.find(".fpd-dropdown-list .fpd-item");
            a.hide(),
              0 === this.value.length
                ? a.show()
                : a
                    .filter(':containsCaseInsensitive("' + this.value + '")')
                    .show();
          }),
          e.on("click", ".fpd-dropdown-list .fpd-item", function() {
            var a = $(this);
            (d = a.data("value")),
              a
                .parent()
                .prevAll(".fpd-dropdown-current:first")
                .val(a.text()),
              c.selectCategory(d),
              a.siblings(".fpd-item").show(),
              FPDUtil.refreshLazyLoad(g, !1);
          }),
          a.$container.on("productsSet", function(a, d) {
            e.find(".fpd-dropdown-list .fpd-item").remove(),
              g.empty(),
              d &&
                d.length > 0 &&
                (void 0 !== d[0].category &&
                  d.length > 1 &&
                  (b.addClass("fpd-categories-enabled"),
                  d.forEach(function(a, b) {
                    e
                      .find(".fpd-dropdown-list > .fpd-scroll-area")
                      .append(
                        '<span class="fpd-item" data-value="' +
                          b +
                          '">' +
                          a.category +
                          "</span>"
                      );
                  })),
                k(),
                c.selectCategory(0)),
              FPDUtil.createScrollbar(
                e.find(".fpd-dropdown-list .fpd-scroll-area")
              );
          }),
          a.$container.on("productAdd", function(a, b, c, e) {
            e == d && j(b);
          });
      },
      j = function(b) {
        var c = b[0].productThumbnail ? b[0].productThumbnail : b[0].thumbnail,
          e = b[0].productTitle ? b[0].productTitle : b[0].title,
          f = $("<div/>", {
            class: "fpd-item fpd-tooltip " + h,
            "data-title": e,
            "data-source": c,
            html: '<picture data-img="' + c + '"></picture>'
          }).appendTo(g);
        f
          .click(function(b) {
            b.preventDefault();
            var c = $(this),
              e = g.children(".fpd-item").index(c);
            a.selectProduct(e, d);
          })
          .data("views", b),
          "" === h
            ? FPDUtil.loadGridImage(f.children("picture"), c)
            : FPDUtil.refreshLazyLoad(g, !1),
          FPDUtil.updateTooltip(g);
      },
      k = function() {
        if (!a.mainOptions.editorMode) {
          var b = a.products[0],
            c = void 0 === b;
          void 0 !== b &&
            (c =
              (!b.hasOwnProperty("category") && a.products.length < 2) ||
              (b.hasOwnProperty("category") &&
                b.products.length < 2 &&
                a.products.length < 2)
                ? !0
                : !1),
            a.$container.toggleClass("fpd-products-module-hidden", c);
        }
      };
    (this.selectCategory = function(b) {
      if ((f.find(".fpd-grid").empty(), a.products && a.products.length > 0)) {
        var c;
        void 0 !== a.products[0].category
          ? ((c = a.products[b].products),
            e.children("input").val(a.products[b].category))
          : (c = a.products),
          c.forEach(function(a) {
            j(a);
          }),
          FPDUtil.createScrollbar(f);
      }
    }),
      i();
  },
  FPDTextModule = function(a, b) {
    var c,
      d = function() {
        a.$container.on("viewSelect", function(d, e, f) {
          if (
            ((c = f.options),
            c.customTextParameters && c.customTextParameters.price)
          ) {
            var g = a.formatPrice(c.customTextParameters.price);
            b.find(".fpd-btn > .fpd-price").html(" - " + g);
          } else b.find(".fpd-btn > .fpd-price").html("");
        }),
          b.on("click", ".fpd-btn", function() {
            var b = $(this).prevAll("textarea:first"),
              d = b.val();
            if (d && d.length > 0) {
              var e = $.extend({}, c.customTextParameters, { isCustom: !0 });
              a.addElement("text", d, d, e);
            }
            b.val("");
          }),
          b.on("keyup", "textarea", function() {
            var a = this.value,
              b = c ? c.customTextParameters.maxLength : 0,
              d = c ? c.customTextParameters.maxLines : 0;
            0 != b && a.length > b && (a = a.substr(0, b)),
              0 != d &&
                a.split("\n").length > d &&
                (a = a.replace(/([\s\S]*)\n/, "$1")),
              (this.value = a);
          });
      };
    d();
  },
  FPDLayersModule = {
    createList: function(a, b) {
      var c,
        d = !1;
      b.off();
      var e = function(c) {
        var d = "<span></span>";
        if (FPDUtil.elementHasColorSelection(c)) {
          var e = FPDUtil.elementAvailableColors(c, a),
            f = "";
          c.uploadZone
            ? (d = "<span></span>")
            : c.type == FPDPathGroupName && c.getObjects().length > 1
              ? ((f = e[0]),
                (d =
                  '<span class="fpd-current-color" style="background: ' +
                  f +
                  '"></span>'))
              : 1 != e &&
                (e.length > 1 ||
                  (c.type == FPDPathGroupName && 1 === c.getObjects().length))
                ? ((f = c.fill ? c.fill : e[0]),
                  (d =
                    '<span class="fpd-current-color" style="background: ' +
                    f +
                    '" data-colors=""></span>'))
                : ((f = c.fill ? c.fill : e[0]),
                  (d =
                    '<input class="fpd-current-color" type="text" value="' +
                    f +
                    '" />'));
        }
        var g = c.title;
        "text" === FPDUtil.getType(c.type) &&
          c.editable &&
          (g = "<textarea>" + c.text + "</textarea>"),
          b
            .find(".fpd-list")
            .append(
              '<div class="fpd-list-row" id="' +
                c.id +
                '"><div class="fpd-cell-0">' +
                d +
                '</div><div class="fpd-cell-1">' +
                g +
                '</div><div class="fpd-cell-2"></div></div>'
            );
        var h = b
          .find(".fpd-list-row:last")
          .data("element", c)
          .data("colors", e);
        if (c.uploadZone)
          h
            .addClass("fpd-add-layer")
            .find(".fpd-cell-2")
            .append('<span><span class="fpd-icon-add"></span></span>');
        else {
          var i = c.locked ? "fpd-icon-locked-full" : "fpd-icon-unlocked",
            j = c.zChangeable ? '<span class="fpd-icon-reorder"></span>' : "";
          h
            .find(".fpd-cell-2")
            .append(
              j +
                '<span class="fpd-lock-element"><span class="' +
                i +
                '"></span></span>'
            ),
            c.removable &&
              h
                .find(".fpd-lock-element")
                .after(
                  '<span class="fpd-remove-element"><span class="fpd-icon-remove"></span></span>'
                ),
            h.toggleClass("fpd-locked", c.locked);
        }
      };
      b.find(".fpd-current-color").spectrum("destroy"),
        b.find(".fpd-list").empty(),
        a.getElements(a.currentViewIndex).forEach(function(a) {
          FPDUtil.elementIsEditable(a) && e(a);
        }),
        FPDUtil.createScrollbar(b.find(".fpd-scroll-area"));
      var f = 0;
      b.find(".fpd-list").sortable({
        handle: ".fpd-icon-reorder",
        placeholder: "fpd-list-row fpd-sortable-placeholder",
        scroll: !1,
        axis: "y",
        containment: "parent",
        items: ".fpd-list-row:not(.fpd-locked)",
        start: function(a, b) {
          f = b.originalPosition.top;
        },
        change: function(b, c) {
          var d,
            e = a.getElementByID(c.item.attr("id"));
          d =
            c.position.top > f
              ? c.placeholder
                  .prevAll(".fpd-list-row:not(.ui-sortable-helper)")
                  .first()
              : c.placeholder
                  .nextAll(".fpd-list-row:not(.ui-sortable-helper)")
                  .first();
          var g = a.currentViewInstance.getElementByID(d.attr("id")),
            h = a.currentViewInstance.getZIndex(g);
          a.setElementParameters({ z: h }, e), (f = c.position.top);
        }
      }),
        b
          .find("input.fpd-current-color")
          .spectrum("destroy")
          .spectrum({
            flat: !1,
            preferredFormat: "hex",
            showInput: !0,
            showInitial: !0,
            showPalette:
              a.mainOptions.colorPickerPalette &&
              a.mainOptions.colorPickerPalette.length > 0,
            palette: a.mainOptions.colorPickerPalette,
            showButtons: !1,
            show: function(b) {
              FPDUtil.spectrumColorNames($(this).spectrum("container"), a);
              var c = $(this)
                .parents(".fpd-list-row:first")
                .data("element");
              c._tempFill = b.toHexString();
            },
            move: function(b) {
              var c = $(this)
                .parents(".fpd-list-row:first")
                .data("element");
              (d === !1 || "png" !== FPDUtil.elementIsColorizable(c)) &&
                a.currentViewInstance.changeColor(c, b.toHexString());
            },
            change: function(b) {
              $(document).unbind("click.spectrum");
              var c = $(this)
                .parents(".fpd-list-row:first")
                .data("element");
              a.currentViewInstance.setElementParameters(
                { fill: b.toHexString() },
                c
              );
            }
          })
          .on("beforeShow.spectrum", function() {
            c && (c.remove(), (c = null));
          })
          .on("dragstart.spectrum", function() {
            d = !0;
          })
          .on("dragstop.spectrum", function(b, c) {
            d = !1;
            var e = $(this)
              .parents(".fpd-list-row:first")
              .data("element");
            a.currentViewInstance.changeColor(e, c.toHexString());
          }),
        b
          .off("click", ".fpd-current-color")
          .on("click", ".fpd-current-color", function(d) {
            d.stopPropagation(),
              b.find(".fpd-path-colorpicker").spectrum("destroy"),
              b.find("input.fpd-current-color").spectrum("hide");
            var e = $(this).parents(".fpd-list-row"),
              f = e.data("element"),
              g = e.data("colors");
            if (c && e.children(".fpd-scroll-area").length > 0)
              return (
                c.slideUp(200, function() {
                  $(this).remove();
                }),
                void (c = null)
              );
            if (
              (c &&
                (c.slideUp(200, function() {
                  $(this).remove();
                }),
                (c = null)),
              g.length > 0)
            ) {
              e.append(
                '<div class="fpd-scroll-area"><div class="fpd-color-palette fpd-grid"></div></div>'
              );
              for (var h = 0; h < g.length; ++h) {
                var i;
                if (f.type === FPDPathGroupName && f.getObjects().length > 1)
                  i =
                    '<input class="fpd-path-colorpicker" type="text" value="' +
                    g[h] +
                    '" />';
                else {
                  var j =
                    a.mainOptions.hexNames[g[h].replace("#", "").toLowerCase()];
                  (j = j ? j : g[h]),
                    (i =
                      '<div class="fpd-item fpd-tooltip" title="' +
                      j +
                      '" style="background-color: ' +
                      g[h] +
                      '" data-color="' +
                      g[h] +
                      '"></div>');
                }
                e.find(".fpd-color-palette").append(i);
              }
              FPDUtil.updateTooltip(e),
                f.type === FPDPathGroupName &&
                  f.getObjects().length > 1 &&
                  e.find(".fpd-path-colorpicker").spectrum({
                    showPaletteOnly: $.isArray(f.colors),
                    preferredFormat: "hex",
                    showInput: !0,
                    showInitial: !0,
                    showButtons: !1,
                    showPalette:
                      a.mainOptions.colorPickerPalette &&
                      a.mainOptions.colorPickerPalette.length > 0,
                    palette: $.isArray(f.colors)
                      ? f.colors
                      : a.mainOptions.colorPickerPalette,
                    show: function(b) {
                      var c = $(this).parents(".fpd-list-row"),
                        d = c.data("element"),
                        e = FPDUtil.changePathColor(
                          d,
                          c.find(".fpd-path-colorpicker").index(this),
                          b
                        );
                      FPDUtil.spectrumColorNames(
                        $(this).spectrum("container"),
                        a
                      ),
                        (d._tempFill = e);
                    },
                    move: function(b) {
                      var c = $(this).parents(".fpd-list-row"),
                        d = c.data("element"),
                        e = FPDUtil.changePathColor(
                          d,
                          c.find(".fpd-path-colorpicker").index(this),
                          b
                        );
                      a.currentViewInstance.changeColor(d, e);
                    },
                    change: function(b) {
                      var c = $(this).parents(".fpd-list-row"),
                        d = c.data("element"),
                        e = FPDUtil.changePathColor(
                          d,
                          c.find(".fpd-path-colorpicker").index(this),
                          b
                        );
                      $(document).unbind("click.spectrum"),
                        a.currentViewInstance.setElementParameters(
                          { fill: e },
                          d
                        );
                    }
                  }),
                (c = e.children(".fpd-scroll-area").slideDown(300));
            }
          }),
        b.on("click", ".fpd-color-palette .fpd-item", function(b) {
          b.stopPropagation();
          var c = $(this),
            d = c.parents(".fpd-list-row"),
            e = d.data("element"),
            f = c.data("color");
          d.find(".fpd-current-color").css("background", f),
            e.type == FPDPathGroupName &&
              (f = FPDUtil.changePathColor(e, 0, f)),
            a.currentViewInstance.setElementParameters({ fill: f }, e);
        }),
        b.on("click", ".fpd-list-row", function() {
          if (!$(this).hasClass("fpd-locked")) {
            var b = a.getElementByID(this.id);
            b && b.canvas.setActiveObject(b).renderAll();
          }
        }),
        b.on("click", ".fpd-lock-element", function(a) {
          a.stopPropagation();
          var b = $(this),
            d = b.parents(".fpd-list-row").data("element");
          c &&
            (c.slideUp(200, function() {
              $(this).remove();
            }),
            (c = null)),
            (d.evented = !d.evented),
            (d.locked = !d.evented),
            b
              .children("span")
              .toggleClass("fpd-icon-unlocked", d.evented)
              .toggleClass("fpd-icon-locked-full", !d.evented),
            b.parents(".fpd-list-row").toggleClass("fpd-locked", !d.evented),
            b.parents(".fpd-list:first").sortable("refresh");
        }),
        b.on("click", ".fpd-remove-element", function(b) {
          b.stopPropagation();
          var c = $(this).parents(".fpd-list-row");
          a.currentViewInstance.removeElement(c.data("element"));
        }),
        b.on("keyup", "textarea", function(b) {
          b.stopPropagation();
          var c = $(this),
            d = c.parents(".fpd-list-row").data("element");
          a.currentViewInstance.setElementParameters({ text: this.value }, d),
            (this.value = d.text);
        });
      var g = function(a, c, d) {
        d.text &&
          b
            .find(".fpd-list")
            .find('[id="' + c.id + '"] textarea')
            .val(d.text);
      };
      a.$container.off("elementModify", g), a.$container.on("elementModify", g);
      var h = function(a, c, d) {
        var e = b
          .find(".fpd-list")
          .find('[id="' + c.id + '"] .fpd-current-color');
        e.is("input") ? e.spectrum("set", d) : e.css("background", d);
      };
      a.$container.off("elementColorChange", h),
        a.$container.on("elementColorChange", h);
    }
  },
  FPDImagesModule = function(a, b) {
    var c = a.mainOptions.lazyLoad ? "fpd-hidden" : "",
      d = b.find(".fpd-input-image"),
      e = b.find('[data-context="upload"] .fpd-scroll-area'),
      f = e.find(".fpd-grid"),
      g = b.find(".fpd-facebook-albums"),
      h = b.find('[data-context="facebook"] .fpd-scroll-area'),
      i = h.find(".fpd-grid"),
      j = b.find('[data-context="instagram"] .fpd-scroll-area'),
      k = j.find(".fpd-grid"),
      l = a.mainOptions.facebookAppId,
      m = a.mainOptions.instagramClientId,
      n = a.mainOptions.instagramRedirectUri,
      o = null,
      p = !1,
      q = null,
      r = FPDUtil.localStorageAvailable(),
      s = a.getTranslation("misc", "loading_image"),
      t = a.mainOptions.customImageAjaxSettings,
      u = t.data && t.data.saveOnServer ? 1 : 0,
      v = t.data && t.data.uploadsDir ? t.data.uploadsDir : "",
      w = t.data && t.data.uploadsDirURL ? t.data.uploadsDirURL : "",
      x = a.mainOptions.allowedImageTypes,
      y = a.mainOptions.pixabayApiKey,
      z = b.find('[data-context="pixabay"] .fpd-scroll-area'),
      A = z.find(".fpd-grid"),
      B = !1,
      C = "",
      D = 1,
      E = a.mainOptions.depositphotosApiKey,
      F = b.find('[data-context="depositphotos"] .fpd-scroll-area'),
      G = F.find(".fpd-grid"),
      H = !1,
      I = "",
      J = "",
      K = null,
      L = 0,
      M = function() {
        a.$container.on("viewSelect", function(c, d, e) {
          if (
            ((currentViewOptions = e.options),
            currentViewOptions.customImageParameters &&
              currentViewOptions.customImageParameters.price)
          ) {
            var f = a.formatPrice(
              currentViewOptions.customImageParameters.price
            );
            b.find(".fpd-upload-zone .fpd-price").html(f);
          } else b.find(".fpd-upload-zone .fpd-price").html("");
        }),
          b.on("click", ".fpd-grid .fpd-item:not(.fpd-category)", function() {
            var b = $(this),
              c = b.data("title") ? b.data("title") : null;
            u
              ? N(
                  b.data(b.data("file") ? "file" : "source"),
                  c,
                  b.data("file") ? !0 : !1,
                  b.data("options") ? b.data("options") : {}
                )
              : ((a._loadingCustomImage = !0),
                a.addCustomImage(
                  b.data("source"),
                  c,
                  b.data("options") ? b.data("options") : {}
                ));
          }),
          -1 !== x.indexOf("jpeg") && -1 === x.indexOf("jpg") && x.push("jpg");
        var c = [];
        x.forEach(function(a) {
          "svg" == a && (a += "+xml"), c.push("image/" + a);
        }),
          d.attr("accept", c.join());
        var e = b.find(".fpd-upload-zone");
        e
          .click(function(a) {
            a.preventDefault(), d.click();
          })
          .on("dragover dragleave", function(a) {
            a.stopPropagation(),
              a.preventDefault(),
              $(this).toggleClass("fpd-hover", "dragover" === a.type);
          });
        var f = function(b) {
            b.stopPropagation(), b.preventDefault();
            var c = b.target.files || b.dataTransfer.files;
            if (a.mainOptions.uploadAgreementModal) {
              var d = FPDUtil.showModal(
                a.getTranslation("modules", "images_agreement"),
                !1,
                "confirm",
                a.$modalContainer
              );
              d
                .find(".fpd-confirm")
                .text(a.getTranslation("modules", "images_confirm_button"))
                .click(function() {
                  d.find(".fpd-modal-close").click(),
                    setTimeout(function() {
                      g(c);
                    }, 300);
                });
            } else g(c);
          },
          g = function(a) {
            if (window.FileReader)
              for (var b = !0, c = 0; c < a.length; ++c) {
                var f = a[c].name
                  .split(".")
                  .pop()
                  .toLowerCase();
                x.indexOf(f) > -1 && (O(a[c], b), (b = !1));
              }
            e.removeClass("fpd-hover"), d.val("");
          };
        e.get(0) && e.get(0).addEventListener("drop", f, !1),
          b.find(".fpd-upload-form").on("change", f),
          l &&
            l.length > 5 &&
            (b
              .find('.fpd-module-tabs [data-context="facebook"]')
              .removeClass("fpd-hidden"),
            P()),
          m &&
            m.length > 5 &&
            (b
              .find('.fpd-module-tabs [data-context="instagram"]')
              .removeClass("fpd-hidden")
              .on("click", function() {
                if (!(k.children(".fpd-item").length > 0)) {
                  o = window.localStorage.getItem("fpd_instagram_access_token");
                  var a = "recent";
                  r && null != o
                    ? R(a)
                    : Q(function() {
                        R(a);
                      });
                }
              }),
            j.on("_sbOnTotalScroll", function() {
              null === q || p || R(q, !1);
            })),
          y &&
            y.length > 5 &&
            (b
              .find('.fpd-module-tabs [data-context="pixabay"]')
              .removeClass("fpd-hidden")
              .on("click", function() {
                A.children(".fpd-item").length > 0 || S();
              }),
            b.on(
              "keypress",
              '.fpd-module-tabs-content [data-context="pixabay"] input[type="text"]',
              function(a) {
                13 == a.which && ((D = 1), S(this.value));
              }
            ),
            z.on("_sbOnTotalScroll", function() {
              B || (D++, S(void 0, !1));
            })),
          E &&
            E.length > 5 &&
            (b
              .find('.fpd-module-tabs [data-context="depositphotos"]')
              .removeClass("fpd-hidden")
              .on("click", function() {
                G.children(".fpd-item").length > 0 || T("list-cats", null);
              }),
            b
              .on(
                "keypress",
                '.fpd-module-tabs-content [data-context="depositphotos"] input[type="text"]',
                function(a) {
                  13 == a.which && ((L = 0), T("search", this.value));
                }
              )
              .on(
                "click",
                '.fpd-module-tabs-content [data-context="depositphotos"] .fpd-category',
                function() {
                  var c = $(this),
                    d = c.text();
                  b
                    .find(
                      '.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input'
                    )
                    .attr(
                      "placeholder",
                      a.getTranslation(
                        "modules",
                        "depositphotos_search_category"
                      ) + d
                    ),
                    (K = c.data("category")),
                    T("search-cats", K);
                }
              )
              .on(
                "click",
                '.fpd-module-tabs-content [data-context="depositphotos"] .fpd-back',
                function() {
                  (L = 0),
                    (K = null),
                    b
                      .find(
                        '.fpd-module-tabs-content [data-context="depositphotos"] .fpd-input-search input'
                      )
                      .val("")
                      .attr(
                        "placeholder",
                        a.getTranslation("modules", "depositphotos_search")
                      ),
                    T("list-cats", null);
                }
              ),
            F.on("_sbOnTotalScroll", function() {
              H || 0 != F.prev(".fpd-cats-shown").length || (L++, T(I, J, !1));
            })),
          b.find(".fpd-module-tabs > :not(.fpd-hidden)").length < 2 &&
            b.addClass("fpd-hide-tabs"),
          b
            .children(".fpd-module-tabs")
            .children("div:not(.fpd-hidden):first")
            .click();
      },
      N = function(b, c, d, e) {
        if (
          ((d = void 0 === d ? !1 : d),
          (e = void 0 === e ? {} : e),
          a._loadingCustomImage)
        )
          return !1;
        (a._loadingCustomImage = !0),
          a.$viewSelectionWrapper.addClass("fpd-disabled");
        var f = $.extend({}, t);
        if (
          ((f.success = function(b) {
            b && void 0 === b.error
              ? a.addCustomImage(b.image_src, b.filename ? b.filename : c, e)
              : (a.toggleSpinner(!1), FPDUtil.showModal(b.error));
          }),
          d)
        ) {
          a.toggleSpinner(
            !0,
            '<div class="fpd-loading-image-progress"></div>' + s
          );
          var g = new FormData();
          g.append("uploadsDir", v),
            g.append("uploadsDirURL", w),
            g.append("images[]", b),
            (f.data = g),
            (f.processData = !1),
            (f.contentType = !1),
            (f.xhr = function() {
              var b = $.ajaxSettings.xhr();
              return (
                b.upload &&
                  b.upload.addEventListener(
                    "progress",
                    function(b) {
                      if (b.lengthComputable) {
                        var c = b.total,
                          d = b.loaded,
                          e = parseInt(100 * d / c);
                        a.$container
                          .find(
                            ".fpd-loader-wrapper .fpd-loading-image-progress"
                          )
                          .text(String(e) + "%");
                      }
                    },
                    !1
                  ),
                b
              );
            });
        } else
          a.toggleSpinner(!0, s),
            (f.data = {
              url: b,
              uploadsDir: v,
              uploadsDirURL: w,
              saveOnServer: u
            });
        $.ajax(f).fail(function(b) {
          a.toggleSpinner(!1), FPDUtil.showModal(b.statusText);
        }),
          a.productCreated &&
            a.mainOptions.hideDialogOnAdd &&
            a.$container.hasClass("fpd-topbar") &&
            a.mainBar &&
            a.mainBar.toggleDialog(!1);
      },
      O = function(b, c) {
        var d = 1024 * a.mainOptions.customImageParameters.maxSize * 1024;
        if (b.size > d)
          return void FPDUtil.showMessage(
            a
              .getTranslation("misc", "maximum_size_info")
              .replace("%filename", b.name)
              .replace("%mb", a.mainOptions.customImageParameters.maxSize)
          );
        var g = new FileReader();
        (g.onload = function() {
          if ("image/jpeg" === b.type) {
            var d = new JpegMeta.JpegFile(
              atob(this.result.replace(/^.*?,/, "")),
              b.name
            );
            if (d.tiff && d.tiff.XResolution && d.tiff.XResolution.value) {
              var g = d.tiff.XResolution.value.den,
                h = d.tiff.XResolution.value.num,
                i = h / g;
              if (
                (FPDUtil.log(
                  b.name +
                    ", Density: " +
                    g +
                    " Number: " +
                    h +
                    " Real Resolution: " +
                    i,
                  "info"
                ),
                i < a.mainOptions.customImageParameters.minDPI)
              )
                return (
                  FPDUtil.showModal(
                    a
                      .getTranslation("misc", "minimum_dpi_info")
                      .replace(
                        "%dpi",
                        a.mainOptions.customImageParameters.minDPI
                      ),
                    !1,
                    "",
                    a.$modalContainer
                  ),
                  !1
                );
            } else
              FPDUtil.log(b.name + ": Resolution is not accessible.", "info");
          }
          var j = this.result,
            k = f
              .append(
                '<div class="fpd-item" data-title="' +
                  b.name +
                  '"><picture data-img="' +
                  j +
                  '"></picture></div>'
              )
              .children(".fpd-item:last")
              .data("file", b),
            l = new Image();
          (l.onload = function() {
            {
              var b = this.height,
                d = this.width;
              a.currentViewInstance.options.customImageParameters;
            }
            FPDUtil.checkImageDimensions(a, d, b)
              ? (k.data("source", j),
                FPDUtil.loadGridImage(k.children("picture"), this.src),
                FPDUtil.createScrollbar(e),
                c && k.click())
              : k.remove();
          }),
            (l.src = j);
        }),
          g.readAsDataURL(b);
      },
      P = function() {
        var d = g.find(".fpd-dropdown-list .fpd-item");
        g.children("input").keyup(function() {
          d.hide(),
            0 === this.value.length
              ? d.show()
              : d
                  .filter(':containsCaseInsensitive("' + this.value + '")')
                  .show();
        }),
          g.on("click", ".fpd-dropdown-list .fpd-item", function() {
            var a = $(this);
            (albumID = a.data("value")),
              a
                .parent()
                .prevAll(".fpd-dropdown-current:first")
                .val(a.text()),
              a.siblings(".fpd-item").show(),
              e(albumID);
          });
        var e = function(b) {
          i.empty(),
            g.addClass("fpd-on-loading"),
            FB.api("/" + b + "?fields=count", function(d) {
              var e = d.count;
              FB.api(
                "/" +
                  b +
                  "?fields=photos.limit(" +
                  e +
                  ").fields(source,images)",
                function(b) {
                  if ((g.removeClass("fpd-on-loading"), !b.error)) {
                    for (var d = b.photos.data, e = 0; e < d.length; ++e) {
                      var f = d[e],
                        j = f.images[0] ? f.images[0].source : f.source;
                      (photoThumbnail = f.images[f.images.length - 1]
                        ? f.images[f.images.length - 1].source
                        : f.source),
                        ($lastItem = $("<div/>", {
                          class: "fpd-item " + c,
                          "data-title": f.id,
                          "data-source": j,
                          html:
                            '<picture data-img="' +
                            photoThumbnail +
                            '"></picture>'
                        }).appendTo(i)),
                        "" === c &&
                          FPDUtil.loadGridImage(
                            $lastItem.children("picture"),
                            photoThumbnail
                          );
                    }
                    FPDUtil.createScrollbar(h), FPDUtil.refreshLazyLoad(i, !1);
                  }
                  a.toggleSpinner(!1);
                }
              );
            });
        };
        $.ajaxSetup({ cache: !0 }),
          $.getScript("//connect.facebook.com/en_US/sdk.js", function() {
            FB.init({
              appId: l,
              status: !0,
              cookie: !0,
              xfbml: !0,
              version: "v3.0"
            }),
              FB.Event.subscribe("auth.statusChange", function(a) {
                "connected" === a.status &&
                  (b.addClass("fpd-facebook-logged-in"),
                  FB.api("/me/albums?fields=name,count,id", function(a) {
                    for (var b = a.data, c = 0; c < b.length; ++c) {
                      var e = b[c];
                      e.count > 0 &&
                        g
                          .find(".fpd-dropdown-list")
                          .append(
                            '<span class="fpd-item" data-value="' +
                              e.id +
                              '">' +
                              e.name +
                              "</span>"
                          );
                    }
                    (d = g.find(".fpd-dropdown-list .fpd-item")),
                      g.removeClass("fpd-on-loading");
                  }));
              });
          });
      },
      Q = function(b) {
        var c = (window.screen.width - 700) / 2,
          d = (window.screen.height - 500) / 2,
          e = ("object" == typeof a.mainOptions.templatesType
            ? a.mainOptions.templatesType[0]
            : a.mainOptions.templatesType,
          window.open(
            a.mainOptions.templatesDirectory +
              "/instagram_auth." +
              a.mainOptions.templatesType,
            "",
            "width=700,height=500,left=" + c + ",top=" + d
          ));
        FPDUtil.popupBlockerAlert(e, a),
          (e.onload = new function() {
            0 == window.location.hash.length &&
              e.open(
                "https://instagram.com/oauth/authorize/?client_id=" +
                  m +
                  "&redirect_uri=" +
                  n +
                  "&response_type=token",
                "_self"
              );
            var a = setInterval(function() {
              null === e.window && clearInterval(a);
              try {
                e.location.hash.length &&
                  (clearInterval(a),
                  (o = e.location.hash.slice(14)),
                  r &&
                    window.localStorage.setItem(
                      "fpd_instagram_access_token",
                      o
                    ),
                  e.close(),
                  b());
              } catch (c) {}
            }, 100);
          }());
      },
      R = function(a, b) {
        (b = "undefined" == typeof b ? !0 : b), (p = !0);
        var d;
        switch (a) {
          case "liked":
            d =
              "https://api.instagram.com/v1/users/self/media/liked?access_token=" +
              o;
            break;
          case "recent":
            d =
              "https://api.instagram.com/v1/users/self/media/recent?access_token=" +
              o;
            break;
          default:
            d = a;
        }
        b && k.empty(),
          $.ajax({
            method: "GET",
            url: d,
            dataType: "jsonp",
            jsonp: "callback",
            jsonpCallback: "jsonpcallback",
            cache: !1,
            success: function(a) {
              a.data
                ? ((q =
                    a.pagination && a.pagination.next_url
                      ? a.pagination.next_url
                      : null),
                  $.each(a.data, function(a, b) {
                    if ("image" == b.type)
                      var d = b.images.standard_resolution.url,
                        e = $("<div/>", {
                          class: "fpd-item " + c,
                          "data-title": b.id,
                          "data-source": d,
                          html: '<picture data-img="' + d + '"></picture>'
                        }).appendTo(k);
                    "" === c && FPDUtil.loadGridImage(e.children("picture"), d);
                  }),
                  b &&
                    (FPDUtil.createScrollbar(j),
                    FPDUtil.refreshLazyLoad(k, !1)))
                : (window.localStorage.removeItem("fpd_instagram_access_token"),
                  a.meta &&
                    a.meta.error_message &&
                    FPDUtil.showModal(
                      "<strong>Instagram Error</strong><p>" +
                        a.meta.error_message +
                        "</p>"
                    )),
                (p = !1);
            },
            error: function() {
              window.localStorage.removeItem("fpd_instagram_access_token"),
                (p = !1),
                FPDUtil.showModal(
                  "Could not load data from instagram. Please try again!"
                );
            }
          });
      },
      S = function(b, d) {
        if (C === b) return !1;
        (B = !0), (C = void 0 === b ? C : b), (d = void 0 === d ? !0 : d);
        var e = 40,
          f = a.mainOptions.pixabayHighResImages
            ? "&response_group=high_resolution"
            : "",
          g =
            "https://pixabay.com/api/?safesearch=true&key=" +
            y +
            "&page=" +
            D +
            "&per_page=" +
            e +
            "&min_width=" +
            a.mainOptions.customImageParameters.minW +
            "&min_height=" +
            a.mainOptions.customImageParameters.minH +
            f +
            "&q=" +
            encodeURIComponent(C);
        d && A.empty(),
          z.prevAll(".fpd-loader-wrapper:first").removeClass("fpd-hidden"),
          $.getJSON(g, function(a) {
            z.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),
              a.hits.length > 0 &&
                a.hits.forEach(function(a) {
                  var b = a.imageURL ? a.imageURL : a.webformatURL,
                    e = $("<div/>", {
                      class: "fpd-item " + c,
                      "data-title": a.id ? a.id : a.id_hash,
                      "data-source": b,
                      html:
                        '<picture data-img="' + a.webformatURL + '"></picture>'
                    }).appendTo(A);
                  "" === c &&
                    FPDUtil.loadGridImage(e.children("picture"), a.previewURL),
                    d &&
                      (FPDUtil.createScrollbar(z),
                      FPDUtil.refreshLazyLoad(A, !1));
                }),
              (B = !1);
          }).fail(function(a, b) {
            z.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden"),
              FPDUtil.log(b);
          });
      },
      T = function(b, d, e) {
        (b = void 0 === b ? "search" : b),
          (e = void 0 === e ? !0 : e),
          (I = b),
          (J = d),
          (H = !0);
        var f = location.protocol + "//api.depositphotos.com?dp_apikey=" + E;
        "search" == b
          ? ((f +=
              "&dp_command=search&dp_search_limit=40&dp_search_offset=" +
              L +
              "&dp_search_query=" +
              encodeURIComponent(d)),
            K && (f += "&dp_search_categories=" + encodeURIComponent(K)))
          : "search-cats" == b
            ? (f +=
                "&dp_command=search&dp_search_limit=40&dp_search_offset=" +
                L +
                "&dp_search_categories=" +
                encodeURIComponent(d))
            : "list-cats" == b &&
              (f +=
                "&dp_command=getCategoriesList&dp_lang=" +
                a.mainOptions.depositphotosLang),
          e && G.empty(),
          F.prev(".fpd-head")
            .toggleClass("fpd-cats-shown", "list-cats" == b)
            .prev(".fpd-loader-wrapper")
            .removeClass("fpd-hidden"),
          $.getJSON(f, function(d) {
            F.prevAll(".fpd-loader-wrapper:first").addClass("fpd-hidden");
            var f;
            (f =
              "list-cats" == b
                ? $.map(d.result, function(a, b) {
                    return [[b, a]];
                  })
                : d.result),
              f.length > 0 &&
                f.forEach(function(d) {
                  if ("list-cats" == b)
                    $("<div/>", {
                      class: "fpd-category fpd-item",
                      "data-category": d[0],
                      html: "<span>" + d[1] + "</span>"
                    }).appendTo(G);
                  else if (0 == F.prev(".fpd-cats-shown").length) {
                    var f = $("<div/>", {
                      class: "fpd-item " + c,
                      "data-title": d.title,
                      "data-source": d.url_big,
                      "data-price": a.mainOptions.depositphotosPrice,
                      html:
                        '<picture data-img="' + d.thumb_huge + '"></picture>'
                    }).appendTo(G);
                    f.data("options", {
                      depositphotos: { id: d.id, itemURL: d.itemurl },
                      price: a.mainOptions.depositphotosPrice
                    }),
                      "" === c &&
                        FPDUtil.loadGridImage(
                          f.children("picture"),
                          d.previewURL
                        );
                  }
                  e &&
                    (FPDUtil.createScrollbar(F),
                    FPDUtil.refreshLazyLoad(G, !1));
                }),
              (H = !1);
          }).fail(function(a, b) {
            FPDUtil.log(b);
          });
      };
    M();
  },
  FPDTextLayersModule = {
    createList: function(a, b) {
      var c,
        d = !1;
      b.off();
      var e = function(c) {
        var d = "";
        if (FPDUtil.elementHasColorSelection(c)) {
          var e = FPDUtil.elementAvailableColors(c, a),
            f = "";
          if (e.length > 1) {
            d = $('<div class="fpd-color-palette fpd-grid"></div>');
            for (var g = 0; g < e.length; ++g) {
              var h =
                a.mainOptions.hexNames[e[g].replace("#", "").toLowerCase()];
              h = h ? h : e[g];
              var i =
                '<div class="fpd-item fpd-tooltip" title="' +
                h +
                '" style="background-color: ' +
                e[g] +
                '" data-color="' +
                e[g] +
                '"></div>';
              d.append(i);
            }
          } else
            (f = c.fill ? c.fill : e[0]),
              (d = $(
                '<div><input class="fpd-current-color" type="text" value="' +
                  f +
                  '" /></div>'
              ));
        }
        var j =
          1 === c.maxLines
            ? '<input type="text" value="' + c.text + '">'
            : "<textarea>" + c.text + "</textarea>";
        b
          .find(".fpd-list")
          .append(
            '<div class="fpd-text-layer-item" id="' +
              c.id +
              '"><div class="fpd-title">' +
              c.title +
              '</div><div class="fpd-text-layer-content">' +
              j +
              '<span class="fpd-text-layer-clear">' +
              a.getTranslation("modules", "text_layers_clear") +
              '</span></div><div class="fpd-text-layer-meta"></div></div>'
          );
        var k = b
          .find(".fpd-text-layer-item:last")
          .data("element", c)
          .data("colors", e);
        k.find(".fpd-text-layer-meta").append(d), FPDUtil.updateTooltip(d);
      };
      b.find(".fpd-current-color").spectrum("destroy"),
        b.find(".fpd-list").empty(),
        a.getElements(a.currentViewIndex).forEach(function(a) {
          FPDUtil.elementIsEditable(a) &&
            "text" === FPDUtil.getType(a.type) &&
            e(a);
        }),
        FPDUtil.createScrollbar(b.find(".fpd-scroll-area")),
        b
          .find("input.fpd-current-color")
          .spectrum("destroy")
          .spectrum({
            flat: !1,
            preferredFormat: "hex",
            showInput: !0,
            showInitial: !0,
            showPalette:
              a.mainOptions.colorPickerPalette &&
              a.mainOptions.colorPickerPalette.length > 0,
            palette: a.mainOptions.colorPickerPalette,
            showButtons: !1,
            show: function(b) {
              FPDUtil.spectrumColorNames($(this).spectrum("container"), a);
              var c = $(this)
                .parents(".fpd-text-layer-item:first")
                .data("element");
              c._tempFill = b.toHexString();
            },
            move: function(b) {
              var c = $(this)
                .parents(".fpd-text-layer-item:first")
                .data("element");
              (d === !1 || "png" !== FPDUtil.elementIsColorizable(c)) &&
                a.currentViewInstance.changeColor(c, b.toHexString());
            },
            change: function(b) {
              $(document).unbind("click.spectrum");
              var c = $(this)
                .parents(".fpd-text-layer-item:first")
                .data("element");
              a.currentViewInstance.setElementParameters(
                { fill: b.toHexString() },
                c
              );
            }
          })
          .on("beforeShow.spectrum", function() {
            c && (c.remove(), (c = null));
          })
          .on("dragstart.spectrum", function() {
            d = !0;
          })
          .on("dragstop.spectrum", function(b, c) {
            d = !1;
            var e = $(this)
              .parents(".fpd-text-layer-item:first")
              .data("element");
            a.currentViewInstance.changeColor(e, c.toHexString());
          }),
        b.on("click", ".fpd-color-palette .fpd-item", function(b) {
          b.stopPropagation();
          var c = $(this),
            d = c.parents(".fpd-text-layer-item"),
            e = d.data("element"),
            f = c.data("color");
          d.find(".fpd-current-color").css("background", f),
            a.currentViewInstance.setElementParameters({ fill: f }, e);
        }),
        b.on("click", ".fpd-text-layer-clear", function(b) {
          b.stopPropagation();
          var c = $(this),
            d = c.parents(".fpd-text-layer-item"),
            e = d.data("element");
          a.currentViewInstance.setElementParameters({ text: "" }, e),
            d.find(".fpd-text-layer-content > *").val("");
        }),
        b.on(
          "keyup",
          'textarea, .fpd-text-layer-content input[type="text"]',
          function(b) {
            b.stopPropagation();
            var c = $(this),
              d = c.parents(".fpd-text-layer-item").data("element");
            a.currentViewInstance.setElementParameters({ text: this.value }, d),
              (this.value = d.text);
          }
        );
      var f = function(a, c, d) {
        d.text &&
          b
            .find(".fpd-list")
            .find(
              '[id="' +
                c.id +
                '"] textarea, [id="' +
                c.id +
                '"] .fpd-text-layer-content input[type="text"]'
            )
            .val(d.text);
      };
      a.$container.off("elementModify", f), a.$container.on("elementModify", f);
      var g = function(a, c, d) {
        var e = b
          .find(".fpd-list")
          .find('[id="' + c.id + '"] .fpd-current-color');
        e.is("input") ? e.spectrum("set", d) : e.css("background", d);
      };
      a.$container.off("elementColorChange", g),
        a.$container.on("elementColorChange", g);
    }
  },
  FPDLayoutsModule = function(a, b) {
    var c = [],
      d = 0,
      e = 0,
      f = b.find(".fpd-scroll-area"),
      g = function(a) {
        $.isArray(a) &&
          ((c = a),
          f.find(".fpd-grid").empty(),
          a.forEach(function(a) {
            $("<div/>", {
              class: "fpd-item fpd-tooltip",
              title: a.title,
              html:
                '<picture style="background-image: url(' +
                a.thumbnail +
                '");"></picture>'
            }).appendTo(f.find(".fpd-grid"));
          }),
          FPDUtil.updateTooltip(f.find(".fpd-grid")),
          FPDUtil.createScrollbar(f));
      },
      h = function(b, c, f, g) {
        d++;
        var h = g + "<br>" + String(d) + "/" + e;
        a.$container.find(".fpd-loader-text").html(h);
      },
      i = function() {
        a.$container.on("productCreate", function(a, b) {
          b.length > 0 && g(b[0].options.layouts);
        }),
          f.on("click", ".fpd-item", function() {
            if (a.productCreated) {
              var b = FPDUtil.showModal(
                  a.getTranslation("modules", "layouts_confirm_replacement"),
                  !1,
                  "confirm",
                  a.$modalContainer
                ),
                g = f.find(".fpd-item").index($(this));
              b
                .find(".fpd-confirm")
                .text(a.getTranslation("modules", "layouts_confirm_button"))
                .click(function() {
                  d = 0;
                  var f = $(a.currentViewInstance);
                  (e = c[g].elements.length),
                    f.on("beforeElementAdd", h),
                    a.toggleSpinner(!0),
                    a.currentViewInstance.loadElements(
                      c[g].elements,
                      function() {
                        a.toggleSpinner(!1), f.off("beforeElementAdd", h);
                      }
                    ),
                    a.$viewSelectionWrapper
                      .find(".fpd-item")
                      .eq(a.currentViewIndex)
                      .children("picture")
                      .css("background-image", "url(" + c[g].thumbnail + ")"),
                    b.find(".fpd-modal-close").click();
                });
            }
          });
      };
    i();
  },
  FancyProductDesigner = function(a, b) {
    "use strict";
    $ = jQuery;
    var c,
      d,
      e,
      f,
      g,
      h,
      i,
      j = this,
      k = $(window),
      l = $("body"),
      m = null,
      n = null,
      o = [],
      p = !1,
      q = !1,
      r = !1,
      s = !1,
      t = "",
      u = {},
      v = 0,
      w = 0,
      x = "";
    (this.products = []),
      (this.designs = []),
      (this.currentCategoryIndex = 0),
      (this.currentProductIndex = 0),
      (this.currentViewIndex = 0),
      (this.currentPrice = 0),
      (this.singleProductPrice = 0),
      (this.currentViews = null),
      (this.currentViewInstance = null),
      (this.currentElement = null),
      (this.langJson = null),
      this.mainOptions,
      (this.$productStage = null),
      (this.$elementTooltip = null),
      (this.watermarkImg = null),
      (this.productCreated = !1),
      (this.doUnsavedAlert = !1),
      (this.viewInstances = []),
      (this.colorLinkGroups = {}),
      (this.orderQuantity = 1),
      (this.bulkVariations = null),
      (this.pricingRulesPrice = 0),
      (this.$modalContainer = $("body")),
      (this.languageJSON = {
        toolbar: {},
        actions: {},
        modules: {},
        misc: {},
        image_editor: {},
        plus: {}
      }),
      (this._order = {}),
      (this._loadingCustomImage = !1);
    var y = new FancyProductDesignerOptions();
    this.mainOptions = y.merge(y.defaults, b);
    var z = function() {
        if (
          (($.expr[":"].containsCaseInsensitive = $.expr.createPseudo(function(
            a
          ) {
            return function(b) {
              return (
                $(b)
                  .text()
                  .toUpperCase()
                  .indexOf(a.toUpperCase()) >= 0
              );
            };
          })),
          (e = a instanceof jQuery ? a : $(a)),
          (j.$modalContainer = j.mainOptions.openModalInDesigner
            ? e
            : $("body")),
          (t = e.attr("class") ? e.attr("class") : ""),
          (j.mainOptions.mainBarContainer =
            j.mainOptions.modalMode !== !1
              ? !1
              : j.mainOptions.mainBarContainer),
          j.mainOptions.mainBarContainer &&
            e.removeClass("fpd-sidebar").addClass("fpd-topbar"),
          j.mainOptions.fabricCanvasOptions.allowTouchScrolling ||
            e.addClass("fpd-disable-touch-scrolling"),
          e.addClass("fpd-device-" + FPDUtil.getDeviceByScreenSize()),
          (j.$container = e.data("instance", j)),
          (c =
            e.children(".fpd-category").length > 0
              ? e.children(".fpd-category").remove()
              : e.children(".fpd-product").remove()),
          (d = e.find(
            e.find(".fpd-design > .fpd-category").length > 0
              ? ".fpd-design > .fpd-category"
              : ".fpd-design > img"
          )),
          e.children(".fpd-design").remove(),
          j.mainOptions.modalMode)
        ) {
          e.removeClass("fpd-hidden"), l.addClass("fpd-modal-mode-active");
          var b = e
              .wrap(
                '<div class="fpd-modal-product-designer fpd-modal-overlay fpd-fullscreen"><div class="fpd-modal-wrapper"></div></div>'
              )
              .parents(".fpd-modal-overlay:first"),
            g = !1;
          b
            .children()
            .append(
              '<div class="fpd-done fpd-btn" data-defaulttext="Done">misc.modal_done</div><div class="fpd-modal-close"><span class="fpd-icon-close"></span></div>'
            ),
            $(j.mainOptions.modalMode)
              .addClass("fpd-modal-mode-btn")
              .click(function(a) {
                a.preventDefault(),
                  l
                    .addClass("fpd-overflow-hidden")
                    .removeClass("fpd-modal-mode-active"),
                  b.addClass("fpd-fullscreen").fadeIn(300),
                  j.currentViewInstance &&
                    (j.currentViewInstance.resetCanvasSize(), j.resetZoom());
                var c = f.children(".fpd-navigation").children(".fpd-active");
                c.length > 0 && j.mainBar.callModule(c.data("module"));
                var d = null;
                if (!g && !j.mainOptions.editorMode && j.currentViewInstance)
                  for (
                    var e = j.currentViewInstance.stage.getObjects(), h = 0;
                    h < e.length;
                    ++h
                  ) {
                    var i = e[h];
                    i.autoSelect && !i.hasUploadZone && (d = i);
                  }
                setTimeout(function() {
                  d &&
                    (j.currentViewInstance.stage.setActiveObject(d),
                    j.currentViewInstance.stage.renderAll());
                }, 300),
                  (g = !0),
                  j.$container.trigger("modalDesignerOpen");
              }),
            b.find(".fpd-done").click(function() {
              b.find(".fpd-modal-close").click(),
                j.$container.trigger("modalDesignerClose");
            });
        }
        var h = document.createElement("canvas"),
          i = Boolean(h.getContext && h.getContext("2d")),
          k = j.mainOptions.templatesDirectory ? 9 : 8;
        if (!i || (FPDUtil.isIE() && Number(FPDUtil.isIE()) <= k))
          return (
            (u.loadCanvasError = function(a) {
              e.append($.parseHTML(a)).fadeIn(300),
                e.trigger("templateLoad", [this.url]);
            }),
            K("canvaserror", j.mainOptions.templatesType, 0, u.loadCanvasError),
            e.trigger("canvasFail"),
            !1
          );
        var m = Object.keys(j.mainOptions.hexNames),
          n = (m.length, {});
        Object.keys(j.mainOptions.hexNames).forEach(function(a) {
          n[a.toLowerCase()] = j.mainOptions.hexNames[a];
        }),
          (j.mainOptions.hexNames = n),
          "undefined" != typeof FancyProductDesignerPlus &&
            FancyProductDesignerPlus.setup(e, j),
          "undefined" != typeof FPDPricingRules &&
            (j.pricingRulesInstance = new FPDPricingRules(e, j)),
          j.mainOptions.langJSON !== !1
            ? "object" == typeof j.mainOptions.langJSON
              ? ((j.langJson = j.mainOptions.langJSON),
                e.trigger("langJSONLoad", [j.langJson]),
                A())
              : $.getJSON(j.mainOptions.langJSON)
                  .done(function(a) {
                    (j.langJson = a),
                      e.trigger("langJSONLoad", [j.langJson]),
                      A();
                  })
                  .fail(function() {
                    FPDUtil.showModal(
                      'Language JSON "' +
                        j.mainOptions.langJSON +
                        '" could not be loaded or is not valid. Make sure you set the correct URL in the options and the JSON is valid!'
                    ),
                      e.trigger("langJSONLoad", [j.langJson]);
                  })
            : A();
      },
      A = function() {
        var a =
            '<div class="fpd-loader-wrapper"><div class="fpd-loader"><div class="fpd-loader-circle"></div><span class="fpd-loader-text" data-defaulttext="Initializing Product Designer">misc.initializing</span></div></div>',
          b =
            '<div class="fpd-element-tooltip" style="display: none;">misc.out_of_bounding_box</div>';
        (j.$mainWrapper = e
          .addClass(
            "fpd-container fpd-clearfix fpd-grid-columns-" +
              j.mainOptions.gridColumns
          )
          .html(
            a +
              '<div class="fpd-main-wrapper">' +
              b +
              '<div class="fpd-snap-line-h"></div><div class="fpd-snap-line-v"></div><div class="fpd-product-stage" style="width:' +
              j.mainOptions.stageWidth +
              "px;height: " +
              j.mainOptions.stageHeight +
              'px;"></div><div class="fpd-actions-container"></div></div>'
          )
          .children(".fpd-main-wrapper")),
          (j.$actionsWrapper = j.$mainWrapper.children(
            ".fpd-actions-container"
          )),
          e.after(
            '<div class="fpd-device-info">' +
              j.getTranslation("misc", "not_supported_device_info") +
              "</div>"
          ),
          j.$mainWrapper.prepend(
            '<div class="fpd-modal-lock"><div class="fpd-toggle-lock"><span class="fpd-icon-unlocked"></span><span class="fpd-icon-locked"></span><div>' +
              j.getTranslation("misc", "view_optional_unlock") +
              "</div></div></div>"
          ),
          (j.$productStage = j.$mainWrapper.children(".fpd-product-stage")),
          (j.$elementTooltip = j.$mainWrapper.children(".fpd-element-tooltip")),
          (g = e.children(".fpd-loader-wrapper")),
          j.translateElement(g.find(".fpd-loader-text")),
          (x = j.translateElement(j.$elementTooltip)),
          j.mainOptions.modalMode &&
            j.translateElement(l.find(".fpd-modal-overlay .fpd-done")),
          "string" == typeof j.mainOptions.editorMode &&
            ((m = $(
              '<div class="fpd-editor-box"><h5></h5><div class="fpd-clearfix"></div></div>'
            )),
            $(j.mainOptions.editorMode).append(m));
        var c = "";
        k.resize(function() {
          if (
            (j.currentViewInstance && j.currentViewInstance.resetCanvasSize(),
            j.mainBar &&
              j.mainBar.$content &&
              j.$container.filter('[class*="fpd-off-canvas-"]').length > 0 &&
              j.mainBar.$content.height(j.$mainWrapper.height()),
            j.actions && (j.actions.hideAllTooltips(), r || j.resetZoom()),
            j.currentElement && $(document.activeElement).is(":not(input)"),
            !(
              (j.currentElement && j.currentElement.isEditing) ||
              j.mainOptions.editorMode
            ))
          ) {
            var a = FPDUtil.getDeviceByScreenSize();
            "smartphone" == a
              ? !j.$container.hasClass("fpd-topbar") &&
                j.mainBar &&
                (j.$container.removeClass("fpd-sidebar").addClass("fpd-topbar"),
                j.mainBar.setContentWrapper("draggable-dialog"))
              : "tablet" == a ||
                ("desktop" == a &&
                  -1 === t.search("fpd-topbar") &&
                  j.$container.hasClass("fpd-topbar") &&
                  (j.$container
                    .removeClass("fpd-topbar")
                    .addClass("fpd-sidebar"),
                  j.mainBar &&
                    !j.mainOptions.mainBarContainer &&
                    j.mainBar.setContentWrapper("sidebar"))),
              c !== a && e.trigger("screenSizeChange", [a]),
              (c = a);
          }
        }),
          j.mainOptions.templatesDirectory ? B() : C();
      },
      B = function() {
        (u.loadProductDesignerTemplate = function(a) {
          e.trigger("templateLoad", [this.url]),
            (h = $(a)),
            h.find("[data-defaulttext]").each(function(a, b) {
              j.translateElement($(b));
            }),
            (j.translatedUI = h),
            j.mainOptions.mainBarContainer
              ? (e.addClass("fpd-main-bar-container-enabled"),
                (f = $(j.mainOptions.mainBarContainer)
                  .addClass(
                    "fpd-container fpd-main-bar-container fpd-tabs fpd-tabs-top fpd-sidebar fpd-grid-columns-" +
                      j.mainOptions.gridColumns
                  )
                  .html(h.children(".fpd-mainbar"))
                  .children(".fpd-mainbar")))
              : (f = e
                  .prepend(h.children(".fpd-mainbar"))
                  .children(".fpd-mainbar")),
            (i = h.children(".fpd-modules")),
            e.hasClass("fpd-sidebar")
              ? e.height(j.mainOptions.stageHeight)
              : e.width(j.mainOptions.stageWidth),
            l.on("click", ".fpd-module-tabs > div", function() {
              var a = $(this),
                b = $(this).data("context");
              a
                .addClass("fpd-active")
                .siblings()
                .removeClass("fpd-active"),
                a
                  .parent()
                  .next(".fpd-module-tabs-content")
                  .children()
                  .hide()
                  .filter('[data-context="' + b + '"]')
                  .show();
            }),
            j.mainOptions.mainBarModules &&
              (j.mainBar = new FPDMainBar(
                j,
                f,
                i,
                h.children(".fpd-draggable-dialog")
              )),
            j.mainOptions.actions &&
              (j.actions = new FPDActions(j, h.children(".fpd-actions"))),
            e.trigger("uiSet");
          var b = h.children(".fpd-element-toolbar");
          "smart" == j.mainOptions.toolbarPlacement
            ? ((b = h.children(".fpd-element-toolbar-smart")),
              (j.toolbar = new FPDToolbarSmart(b, j)))
            : (j.toolbar = new FPDToolbar(b, j)),
            e
              .on("elementSelect", function(a, c) {
                if (
                  (a.stopPropagation(),
                  a.preventDefault(),
                  c && j.currentViewInstance)
                ) {
                  if (c.uploadZone && !j.mainOptions.editorMode) {
                    c.set("borderColor", "transparent");
                    var d = $.extend(
                      {},
                      j.currentViewInstance.options.customAdds,
                      c.customAdds ? c.customAdds : {}
                    );
                    return void setTimeout(function() {
                      j.mainBar.toggleUploadZoneAdds(d),
                        j.mainBar.toggleUploadZonePanel(),
                        (j.currentViewInstance.currentUploadZone = c.title);
                    }, 100);
                  }
                  j.currentViewInstance.currentUploadZone &&
                    (j.mainBar.toggleDialog(!1),
                    j.mainBar.toggleUploadZonePanel(!1)),
                    j.toolbar.update(c),
                    j.mainOptions.openTextInputOnSelect &&
                      "text" === FPDUtil.getType(c.type) &&
                      c.editable &&
                      b.find(".fpd-tool-edit-text").click(),
                    H(c);
                } else
                  j.toolbar.toggle(!1),
                    l
                      .children('[class^="fpd-element-toolbar"]')
                      .find("input")
                      .spectrum("destroy");
              })
              .on("elementChange", function() {
                j.toolbar.toggle(!1, !1);
              })
              .on("elementModify", function(a, b, c) {
                j.productCreated &&
                  (j.toolbar.isTransforming ||
                    (void 0 !== c.fontSize &&
                      j.toolbar.updateUIValue("fontSize", Number(c.fontSize)),
                    void 0 !== c.scaleX &&
                      j.toolbar.updateUIValue(
                        "scaleX",
                        parseFloat(Number(c.scaleX).toFixed(2))
                      ),
                    void 0 !== c.scaleY &&
                      j.toolbar.updateUIValue(
                        "scaleY",
                        parseFloat(Number(c.scaleY).toFixed(2))
                      ),
                    void 0 !== c.angle &&
                      j.toolbar.updateUIValue("angle", parseInt(c.angle)),
                    void 0 !== c.text &&
                      j.toolbar.updateUIValue("text", c.text),
                    j.currentElement &&
                      !j.currentElement.uploadZone &&
                      j.toolbar.updatePosition(j.currentElement)));
              })
              .on("screenSizeChange", function(a, b) {
                e
                  .removeClass(
                    "fpd-device-smartphone fpd-device-tablet fpd-device-desktop"
                  )
                  .addClass("fpd-device-" + b);
              }),
            $(".fpd-switch-container").click(function() {
              function a(b, c) {
                j.currentViewInstance.stage.setActiveObject(c),
                  e.off("elementAdd", a),
                  setTimeout(function() {
                    $(".fpd-tool-curved-text").click();
                  }, 100);
              }
              var b = $(this);
              if (b.hasClass("fpd-curved-text-switcher")) {
                var c = j.currentViewInstance.getZIndex(j.currentElement),
                  d = j.currentElement.get("text"),
                  f = j.currentViewInstance.getElementJSON(j.currentElement);
                (f.z = c),
                  (f.curved = "i-text" == j.currentElement.type),
                  (f.textAlign = "center"),
                  e.on("elementAdd", a),
                  j.currentViewInstance.removeElement(j.currentElement),
                  j.currentViewInstance.addElement("text", d, d, f);
              }
            }),
            $(".fpd-dropdown").click(function() {
              $(this).toggleClass("fpd-active");
            }),
            C();
        }),
          K(
            "productdesigner",
            j.mainOptions.templatesType,
            0,
            u.loadProductDesignerTemplate
          );
      },
      C = function() {
        if (
          j.mainOptions.fonts &&
          j.mainOptions.fonts.length > 0 &&
          "object" == typeof j.mainOptions.fonts[0]
        ) {
          var a = [],
            b = $('<style type="text/css" id="fpd-custom-fonts"></style>');
          j.$container.before(b),
            j.mainOptions.fonts.forEach(function(c) {
              if (c.hasOwnProperty("url"))
                if ("google" == c.url) a.push(c.name);
                else {
                  var d = -1 !== c.url.search(".woff") ? "woff" : "TrueType";
                  b.append(
                    '@font-face {font-family:"' +
                      c.name +
                      '"; src:url("' +
                      c.url +
                      '") format("' +
                      d +
                      '");}'
                  );
                }
            }),
            a.length > 0 && WebFont.load({ google: { families: a } });
        }
        j.mainOptions.watermark &&
          j.mainOptions.watermark.length > 3 &&
          fabric.Image.fromURL(j.mainOptions.watermark, function(a) {
            j.watermarkImg = a;
          }),
          j.mainOptions.unsavedProductAlert &&
            (window.onbeforeunload = function() {
              return j.doUnsavedAlert ? "" : void 0;
            });
        var f = !1;
        l
          .on("click", ".fpd-modal-close", function() {
            var a = $(this);
            a.parents(".fpd-modal-product-designer:first").length &&
              l.addClass("fpd-modal-mode-active"),
              a.parents(".fpd-modal-overlay:first").fadeOut(200, function() {
                a.removeClass("fpd-fullscreen"),
                  l.removeClass("fpd-overflow-hidden");
                var b = $(this);
                b.hasClass("fpd-modal-product-designer") ||
                  b.trigger("modalRemove").remove(),
                  e.trigger("modalClose");
              }),
              a.parents(".fpd-modal-product-designer:first").length > 0 &&
                j.deselectElement();
          })
          .on("mouseup touchend", function(a) {
            var b = $(a.target);
            0 ===
              b.closest(
                '.fpd-container, [class^="fpd-element-toolbar"], .sp-container'
              ).length &&
              j.mainOptions.deselectActiveOnOutside &&
              !f &&
              j.deselectElement(),
              0 === b.closest(".fpd-container, .fpd-modal-internal").length &&
                j.currentViewInstance &&
                j.currentViewInstance.currentUploadZone &&
                g.is(":hidden") &&
                j.mainBar.toggleUploadZonePanel(!1),
              (f = !1);
          })
          .on(
            "mouseover mouseout mousemove",
            '[data-module="designs"] .fpd-item, [data-module="images"] .fpd-item, [data-module="products"] .fpd-item',
            function(a) {
              var b = $(this),
                c = null;
              if (
                j.currentViewInstance &&
                j.currentViewInstance.currentUploadZone &&
                $(a.target).parents(".fpd-upload-zone-adds-panel").length > 0
              ) {
                var d = j.currentViewInstance.getUploadZone(
                  j.currentViewInstance.currentUploadZone
                );
                d && d.price && (c = d.price);
              }
              if ("mouseover" === a.type && b.data("source")) {
                if (
                  b
                    .parents(".mCustomScrollBox:first")
                    .next(".mCSB_scrollTools_onDrag").length
                )
                  return;
                (n = $(
                  '<div class="fpd-thumbnail-preview")"><picture></picture></div>'
                )),
                  FPDUtil.loadGridImage(
                    n.children("picture"),
                    b.children("picture").data("img")
                  ),
                  b.parents('[data-module="images"]:first').length > 0 &&
                  null === c
                    ? isNaN(b.data("price"))
                      ? j.currentViewInstance &&
                        j.currentViewInstance.options.customImageParameters
                          .price &&
                        (c =
                          j.currentViewInstance.options.customImageParameters
                            .price)
                      : (c = b.data("price"))
                    : (b.data("title") &&
                        (n.addClass("fpd-title-enabled"),
                        n.append(
                          '<div class="fpd-preview-title">' +
                            b.data("title") +
                            "</div>"
                        )),
                      b.data("parameters") &&
                        b.data("parameters").price &&
                        null === c &&
                        (c = b.data("parameters").price)),
                  c &&
                    n.append(
                      '<div class="fpd-preview-price">' +
                        j.formatPrice(c) +
                        "</div>"
                    ),
                  l.append(n);
              }
              if (null !== n)
                if ("mousemove" === a.type || "mouseover" === a.type) {
                  var e =
                    a.pageX + 10 + n.outerWidth() > k.width()
                      ? k.width() - n.outerWidth()
                      : a.pageX + 10;
                  n.css({ left: e, top: a.pageY + 10 });
                } else
                  "mouseout" === a.type &&
                    (n.siblings(".fpd-thumbnail-preview").remove(), n.remove());
            }
          )
          .on("mousedown", function(a) {
            var b = $(a.target);
            f = b.is("textarea") && b.data("control") ? !0 : !1;
          })
          .on("click", ".fpd-gt-close", function() {
            FPDUtil.localStorageAvailable() &&
              window.localStorage.setItem("fpd-gt-closed", !0),
              $(this)
                .parent(".fpd-gt-step")
                .remove();
          })
          .on("click", ".fpd-gt-next, .fpd-gt-back", function() {
            j.selectGuidedTourStep($(this).data("target"));
          }),
          j.$container.on("productCreate modalDesignerOpen", function(a) {
            function b(a) {
              var b = j.viewInstances[a.viewIndex];
              if (b) {
                var d = a.element;
                b.addElement(
                  FPDUtil.getType(d.type),
                  d.source,
                  d.title,
                  b.getElementJSON(d)
                );
              } else c();
            }
            function c() {
              f++, f < o.length ? b(o[f]) : e.off("elementAdd", c);
            }
            if (
              ((!s && !j.mainOptions.modalMode) ||
                (!s && "modalDesignerOpen" === a.type)) &&
              (j.mainOptions.autoOpenInfo &&
                j.$container.find('[data-action="info"]').click(),
              j.mainOptions.guidedTour &&
                Object.keys(j.mainOptions.guidedTour).length > 0)
            ) {
              var d = Object.keys(j.mainOptions.guidedTour)[0];
              FPDUtil.localStorageAvailable()
                ? window.localStorage.getItem("fpd-gt-closed") ||
                  j.selectGuidedTourStep(d)
                : j.selectGuidedTourStep(d);
            }
            if ("productCreate" == a.type && o.length > 0) {
              var f = 0;
              e.on("elementAdd", c), b(o[0]);
            }
            s = j.mainOptions.modalMode && "modalDesignerOpen" === a.type;
          }),
          D(c),
          E(d),
          j.$mainWrapper.on(
            "click",
            ".fpd-modal-lock > .fpd-toggle-lock",
            function() {
              $(this)
                .parents(".fpd-modal-lock:first")
                .toggleClass("fpd-unlocked"),
                j.currentViewInstance.toggleLock(!j.currentViewInstance.locked);
            }
          ),
          e.trigger("ready"),
          k.resize();
      },
      D = function(a) {
        var b = [],
          c = function(a, c) {
            for (var d = 0; d < a.length; ++d) {
              var e = $(a.get(d)).children(".fpd-product");
              e.splice(0, 0, a.get(d));
              var f = [];
              if (
                (e.each(function(a, b) {
                  var c = $(b),
                    d = {
                      title: b.title,
                      thumbnail: c.data("thumbnail"),
                      elements: [],
                      options: c.data("options")
                    };
                  (d.mask = c.data("mask") ? c.data("mask") : null),
                    0 === a &&
                      (c.data("producttitle") &&
                        (d.productTitle = c.data("producttitle")),
                      c.data("productthumbnail") &&
                        (d.productThumbnail = c.data("productthumbnail"))),
                    c.children("img,span").each(function(a, b) {
                      var c,
                        e = $(b);
                      c = e.is("img")
                        ? void 0 == e.data("src")
                          ? e.attr("src")
                          : e.data("src")
                        : e.text();
                      var f = {
                        type: e.is("img") ? "image" : "text",
                        source: c,
                        title: e.attr("title"),
                        parameters:
                          void 0 == e.data("parameters") ||
                          e.data("parameters").length <= 2
                            ? {}
                            : e.data("parameters")
                      };
                      d.elements.push(f);
                    }),
                    f.push(d);
                }),
                c)
              ) {
                var g = $.map(b, function(a, b) {
                  return a.category == c ? b : void 0;
                }).shift();
                isNaN(g) &&
                  ((g = b.length), b.push({ category: c, products: [] })),
                  b[g].products.push(f);
              } else b.push(f);
            }
          };
        a.is(".fpd-category") && a.filter(".fpd-category").length > 1
          ? a.each(function(a, b) {
              var d = $(b);
              c(d.children(".fpd-product"), d.attr("title"));
            })
          : ((a =
              0 === a.filter(".fpd-category").length
                ? a
                : a.children(".fpd-product")),
            c(a, !1)),
          b.length > 0 && j.setupProducts(b);
      },
      E = function() {
        var a = function(b, c) {
          b.each(function(b, d) {
            var e = $(d),
              f = { title: e.attr("title"), thumbnail: e.data("thumbnail") };
            if (
              (e.data("parameters") && (f.parameters = e.data("parameters")),
              c ? c.push(f) : j.designs.push(f),
              e.children(".fpd-category").length > 0)
            )
              (f.category = []), a(e.children(".fpd-category"), f.category);
            else {
              var g = [];
              e.children("img").each(function(a, b) {
                var c = $(b),
                  d = {
                    source:
                      void 0 === c.data("src") ? c.attr("src") : c.data("src"),
                    title: c.attr("title"),
                    parameters: c.data("parameters"),
                    thumbnail: c.data("thumbnail")
                  };
                g.push(d);
              }),
                (f.designs = g);
            }
          });
        };
        if (d.length > 0) {
          if (
            d.filter(".fpd-category").length > 1 ||
            d.filter(".fpd-category:first").children(".fpd-category").length > 0
          )
            a(d.filter(".fpd-category"));
          else {
            var b = d;
            b.hasClass("fpd-category") && (b = b.children("img")),
              b.each(function(a, b) {
                var c = $(b),
                  d = {
                    source:
                      void 0 === c.data("src") ? c.attr("src") : c.data("src"),
                    title: c.attr("title"),
                    parameters: c.data("parameters"),
                    thumbnail: c.data("thumbnail")
                  };
                j.designs.push(d);
              });
          }
          d.remove(), j.setupDesigns(j.designs);
        }
      },
      F = function(a) {
        var b = $.map(j.products, function(b, c) {
          return b.category == a ? c : void 0;
        }).shift();
        return isNaN(b) ? !1 : b;
      },
      G = function(a, b) {
        0 === a.length
          ? j.$actionsWrapper
              .find('[data-action="undo"]')
              .addClass("fpd-disabled")
          : j.$actionsWrapper
              .find('[data-action="undo"]')
              .removeClass("fpd-disabled"),
          0 === b.length
            ? j.$actionsWrapper
                .find('[data-action="redo"]')
                .addClass("fpd-disabled")
            : j.$actionsWrapper
                .find('[data-action="redo"]')
                .removeClass("fpd-disabled");
      },
      H = function(a) {
        if (null !== m) {
          m.children("div").empty(), m.children("h5").text(a.title);
          for (var b = 0; b < j.mainOptions.editorBoxParameters.length; ++b) {
            var c = j.mainOptions.editorBoxParameters[b],
              d = a[c];
            void 0 !== d &&
              ((d = "number" == typeof d ? d.toFixed(2) : d),
              (d = "object" == typeof d && d.source ? d.source.src : d),
              "fill" === c && a.type === FPDPathGroupName && (d = a.svgFill),
              m
                .children("div")
                .append(
                  "<p><i>" +
                    c +
                    '</i>: <input type="text" value="' +
                    d +
                    '" readonly /></p>'
                ));
          }
        }
      },
      I = function() {
        if (j.viewInstances.length < j.currentViews.length)
          j.addView(j.currentViews[j.viewInstances.length]);
        else {
          if (
            (e.off("viewCreate", I),
            j.toggleSpinner(!1),
            j.selectView(0),
            !j.mainOptions.editorMode &&
              j.currentViewInstance &&
              $(j.currentViewInstance.stage.getElement()).is(":visible"))
          )
            for (
              var a = j.currentViewInstance.stage.getObjects(), b = null, c = 0;
              c < a.length;
              ++c
            ) {
              var d = a[c];
              d.autoSelect && !d.hasUploadZone && (b = d);
            }
          b &&
            j.currentViewInstance &&
            setTimeout(function() {
              j.currentViewInstance.stage.setActiveObject(b),
                b.setCoords(),
                j.currentViewInstance.stage.renderAll();
            }, 10),
            (j.productCreated = !0),
            j.mainOptions.hideDialogOnAdd &&
              j.$container.hasClass("fpd-topbar") &&
              j.mainBar &&
              j.mainBar.__setup &&
              j.mainBar.toggleDialog(!1),
            j.mainBar && (j.mainBar.__setup = !0),
            e.trigger("productCreate", [j.currentViews]);
        }
      },
      J = function() {
        var a = j.currentElement;
        if (a && j.$elementTooltip && j.productCreated && !a.uploadZone) {
          a.isOut && "inside" === a.boundingBoxMode
            ? j.$elementTooltip.text(x).show()
            : j.mainOptions.imageSizeTooltip &&
              "image" === FPDUtil.getType(a.type)
              ? j.$elementTooltip
                  .text(
                    parseInt(a.width * a.scaleX) +
                      " x " +
                      parseInt(a.height * a.scaleY)
                  )
                  .show()
              : j.$elementTooltip.hide();
          var b = a.oCoords;
          j.$elementTooltip.css({
            left: b.mt.x,
            top:
              b.mt.y -
              a.cornerSize -
              a.padding -
              j.$elementTooltip.height() -
              10
          });
        } else j.$elementTooltip && j.$elementTooltip.hide();
      },
      K = function(a, b, c, d) {
        var e = $.isArray(b) ? b[c] : b;
        $.get(j.mainOptions.templatesDirectory + a + "." + e, d).fail(
          function() {
            $.isArray(b) && b[c + 1]
              ? K(a, b, ++c, d)
              : alert(
                  j.mainOptions.templatesDirectory +
                    a +
                    "." +
                    e +
                    " could not be loaded."
                );
          }
        );
      };
    (this.addProduct = function(a, b) {
      var c = F(b);
      void 0 === b
        ? j.products.push(a)
        : (c === !1 &&
            ((c = j.products.length),
            (j.products[c] = { category: b, products: [] })),
          j.products[c].products.push(a)),
        e.trigger("productAdd", [a, b, c]);
    }),
      (this.selectProduct = function(a, b) {
        j.currentCategoryIndex = void 0 === b ? j.currentCategoryIndex : b;
        var c;
        if (j.products && j.products.length && j.products[0].category) {
          var d = j.products[j.currentCategoryIndex];
          c = d.products;
        } else c = j.products;
        (j.currentProductIndex = a),
          0 > a
            ? (currentProductIndex = 0)
            : a > c.length - 1 && (j.currentProductIndex = c.length - 1);
        var f = c[j.currentProductIndex];
        e.trigger("productSelect", [a, b, f]),
          j.loadProduct(f, j.mainOptions.replaceInitialElements);
      }),
      (this.loadProduct = function(a, b, c) {
        a &&
          ((b = void 0 === b ? !1 : b),
          (c = void 0 === c ? !1 : c),
          g.is(":hidden") && j.toggleSpinner(!0),
          (j.productCreated = q = !1),
          (j.colorLinkGroups = {}),
          (o = []),
          b
            ? ((o = j.getCustomElements()), o.length > 0 && (q = !0))
            : (j.doUnsavedAlert = !1),
          j.reset(),
          c &&
            a.forEach(function(a) {
              a.options = y.merge(j.mainOptions, a.options);
            }),
          (j.currentViews = a),
          (v = w = 0),
          a.forEach(function(a) {
            v += a.elements.length;
          }),
          (j.$viewSelectionWrapper = $(
            '<div class="fpd-views-selection fpd-clearfix"></div>'
          )),
          e.hasClass("fpd-views-outside") || e.hasClass("fpd-device-smartphone")
            ? e.after(j.$viewSelectionWrapper)
            : j.$mainWrapper.append(j.$viewSelectionWrapper),
          e.on("viewCreate", I),
          a && j.addView(a[0]));
      }),
      (this.addView = function(a) {
        var b = j.mainOptions._loadFromScript
          ? j.mainOptions._loadFromScript + a.thumbnail
          : a.thumbnail;
        j.$viewSelectionWrapper
          .append(
            '<div class="fpd-shadow-1 fpd-item fpd-tooltip" title="' +
              a.title +
              '"><picture style="background-image: url(' +
              b +
              ');"></picture></div>'
          )
          .children("div:last")
          .click(function() {
            j.selectView(
              j.$viewSelectionWrapper.children("div").index($(this))
            );
          }),
          (a.options =
            void 0 === a.options && "object" != typeof a.options
              ? j.mainOptions
              : y.merge(j.mainOptions, a.options));
        var c = new FancyProductDesignerView(
          j.$productStage,
          a,
          function(a) {
            return 0 === $(a.stage.wrapperEl).parent().length
              ? void a.reset()
              : (0 == j.viewInstances.length && a.resetCanvasSize(),
                j.viewInstances.push(a),
                void e.trigger("viewCreate", [a]));
          },
          j.mainOptions.fabricCanvasOptions
        );
        c.stage.on({
          "object:scaling": function() {},
          "object:moving": function() {},
          "object:rotating": function() {}
        }),
          $(c)
            .on("beforeElementAdd", function(a, b, c, d) {
              if (!j.productCreated) {
                w++;
                var e = d + "<br>" + String(w) + "/" + v;
                g.find(".fpd-loader-text").html(e);
              }
            })
            .on("elementAdd", function(a, b) {
              if (b) {
                if (b.colorLinkGroup && b.colorLinkGroup.length > 0) {
                  var d = this.getIndex();
                  if (j.colorLinkGroups.hasOwnProperty(b.colorLinkGroup)) {
                    if (
                      (j.colorLinkGroups[b.colorLinkGroup].elements.push({
                        id: b.id,
                        viewIndex: d
                      }),
                      "object" == typeof b.colors)
                    ) {
                      var f = j.mainOptions.replaceColorsInColorGroup
                        ? b.colors
                        : j.colorLinkGroups[b.colorLinkGroup].colors.concat(
                            b.colors
                          );
                      j.colorLinkGroups[
                        b.colorLinkGroup
                      ].colors = FPDUtil.arrayUnique(f);
                    }
                  } else
                    (j.colorLinkGroups[b.colorLinkGroup] = {
                      elements: [{ id: b.id, viewIndex: d }],
                      colors: []
                    }),
                      "object" == typeof b.colors &&
                        (j.colorLinkGroups[b.colorLinkGroup].colors = b.colors);
                }
                j.productCreated &&
                  j.mainOptions.hideDialogOnAdd &&
                  j.$container.hasClass("fpd-topbar") &&
                  j.mainBar &&
                  j.mainBar.toggleDialog(!1),
                  e.trigger("elementAdd", [b]),
                  e.trigger("viewCanvasUpdate", [c]);
              }
            })
            .on("boundingBoxToggle", function(a, b, c) {
              e.trigger("boundingBoxToggle", [b, c]);
            })
            .on("elementSelect", function(a, b) {
              (j.currentElement = b),
                b
                  ? J()
                  : (j.$elementTooltip && j.$elementTooltip.hide(),
                    j.$mainWrapper
                      .children(".fpd-snap-line-h, .fpd-snap-line-v")
                      .hide()),
                e.trigger("elementSelect", [b]);
            })
            .on("elementChange", function(a, b, c) {
              J(), H(c.getBoundingRect()), e.trigger("elementChange", [b, c]);
            })
            .on("elementModify", function(a, b, d) {
              J(),
                e.trigger("elementModify", [b, d]),
                e.trigger("viewCanvasUpdate", [c]);
            })
            .on("undoRedoSet", function(a, b, c) {
              (j.doUnsavedAlert = q = !0),
                G(b, c),
                e.trigger("undoRedoSet", [b, c]);
            })
            .on("priceChange", function(a, b) {
              j.currentPrice = j.singleProductPrice = 0;
              for (var c = 0; c < j.viewInstances.length; ++c)
                j.viewInstances[c].locked ||
                  (j.singleProductPrice += j.viewInstances[c].truePrice);
              var d = j.calculatePrice();
              e.trigger("priceChange", [b, d, j.singleProductPrice]);
            })
            .on("elementCheckContainemt", function(a, b, c) {
              "inside" === c && J();
            })
            .on("elementColorChange", function(a, b, d, f) {
              if (
                j.productCreated &&
                f &&
                b.colorLinkGroup &&
                b.colorLinkGroup.length > 0 &&
                b.type !== FPDPathGroupName
              ) {
                var g = j.colorLinkGroups[b.colorLinkGroup];
                if (g && g.elements)
                  for (var h = 0; h < g.elements.length; ++h) {
                    var i = g.elements[h].id,
                      k = g.elements[h].viewIndex,
                      l = j.getElementByID(i, k);
                    l &&
                      l !== b &&
                      d &&
                      j.viewInstances[k].changeColor(l, d, !1, !1);
                  }
              }
              e.trigger("elementColorChange", [b, d, f]),
                e.trigger("viewCanvasUpdate", [c]);
            })
            .on("elementRemove", function(a, b) {
              e.trigger("elementRemove", [b]),
                e.trigger("viewCanvasUpdate", [c]);
            })
            .on("fabricObject:added fabricObject:removed", function(a, b) {
              e.trigger(a.type, [b]);
            }),
          c.setup(),
          FPDUtil.updateTooltip(),
          j.$viewSelectionWrapper.children().length > 1
            ? j.$viewSelectionWrapper.show()
            : j.$viewSelectionWrapper.hide();
      }),
      (this.selectView = function(a) {
        if (!(j.viewInstances.length <= 0)) {
          if (
            (j.resetZoom(),
            (j.currentViewIndex = a),
            0 > a
              ? (j.currentViewIndex = 0)
              : a > j.viewInstances.length - 1 &&
                (j.currentViewIndex = j.viewInstances.length - 1),
            j.$viewSelectionWrapper
              .children("div")
              .removeClass("fpd-view-active")
              .eq(a)
              .addClass("fpd-view-active"),
            j.$mainWrapper.children(".fpd-ruler").remove(),
            j.currentViewInstance)
          ) {
            (j.currentViewInstance.undos = []),
              (j.currentViewInstance.redos = []);
            for (
              var b = ["_snap_lines_group", "_ruler_hor", "_ruler_ver"], c = 0;
              c < b.length;
              ++c
            ) {
              var d = j.currentViewInstance.getElementByID(b[c]);
              d && j.currentViewInstance.stage.remove(d);
            }
            j.currentViewInstance._snapElements = !1;
          }
          if (
            ((j.currentViewInstance = j.viewInstances[j.currentViewIndex]),
            j.deselectElement(),
            j.$productStage
              .children(".fpd-view-stage")
              .addClass("fpd-hidden")
              .eq(j.currentViewIndex)
              .removeClass("fpd-hidden"),
            j.currentViewInstance.stage.renderAll(),
            f && f.find(".fpd-navigation").length)
          ) {
            var g = j.currentViewInstance.options,
              h = f.find(".fpd-navigation");
            h
              .children('[data-module="designs"]')
              .toggleClass("fpd-disabled", !g.customAdds.designs),
              h
                .children('[data-module="images"]')
                .toggleClass("fpd-disabled", !g.customAdds.uploads),
              h
                .children('[data-module="text"]')
                .toggleClass("fpd-disabled", !g.customAdds.texts),
              "undefined" != typeof FPDNamesNumbersModule &&
                h
                  .children('[data-module="names-numbers"]')
                  .toggleClass(
                    "fpd-disabled",
                    !j.currentViewInstance.textPlaceholder &&
                      !j.currentViewInstance.numberPlaceholder
                  ),
              h
                .children('[data-module="drawing"]')
                .toggleClass("fpd-disabled", !g.customAdds.drawing),
              e.hasClass("fpd-sidebar")
                ? 0 === h.children(".fpd-active").length ||
                  h.children(".fpd-active").hasClass("fpd-disabled")
                  ? h.children(":not(.fpd-disabled)").length > 0
                    ? h
                        .children(":not(.fpd-disabled)")
                        .first()
                        .click()
                    : j.mainBar.$content
                        .children(".fpd-module")
                        .removeClass("fpd-active")
                  : 0 == j.mainBar.$content.children(".fpd-active").length &&
                    j.productCreated &&
                    h.children(":first").click()
                : e.hasClass("fpd-topbar") &&
                  h.children(".fpd-active").hasClass("fpd-disabled") &&
                  j.mainBar.toggleDialog(!1),
              j.$container.hasClass("fpd-products-module-hidden") &&
                h.children(".fpd-active").filter('[data-module="products"]')
                  .length > 0 &&
                h
                  .children(":not(.fpd-disabled)")
                  .eq(1)
                  .click();
          }
          j.mainBar &&
            j.mainBar.$content &&
            j.$container.filter('[class*="fpd-off-canvas-"]').length > 0 &&
            j.mainBar.$content.height(j.$mainWrapper.height()),
            G(j.currentViewInstance.undos, j.currentViewInstance.redos),
            j.moduleInstance_designs &&
              j.moduleInstance_designs.toggleCategories(),
            j.$mainWrapper
              .children(".fpd-modal-lock")
              .removeClass("fpd-animated")
              .toggleClass(
                "fpd-active",
                j.currentViewInstance.options.optionalView
              )
              .toggleClass("fpd-unlocked", !j.currentViewInstance.locked),
            setTimeout(function() {
              j.$mainWrapper
                .children(".fpd-modal-lock")
                .addClass("fpd-animated");
            }, 1),
            j.$productStage.width(j.currentViewInstance.options.stageWidth),
            j.currentViewInstance.resetCanvasSize(),
            e.trigger("viewSelect", [
              j.currentViewIndex,
              j.currentViewInstance
            ]);
        }
      }),
      (this.addElement = function(a, b, c, d, e) {
        if (
          ((d = void 0 === d ? {} : d),
          (e = void 0 === e ? j.currentViewIndex : e),
          j.viewInstances[e].addElement(a, b, c, d),
          d.replace && d.replaceInAllViews)
        )
          for (var f = 0; f < j.viewInstances.length; ++f) {
            var g = j.viewInstances[f];
            e !== f &&
              null !== g.getElementByReplace(d.replace) &&
              g.addElement(a, b, c, d, f);
          }
      }),
      (this.setElementParameters = function(a, b, c) {
        return (
          (b = void 0 === b ? j.stage.getActiveObject() : b),
          (c = void 0 === c ? j.currentViewIndex : c),
          b && void 0 !== a
            ? void j.viewInstances[c].setElementParameters(a, b)
            : !1
        );
      }),
      (this.reset = function() {
        null !== j.currentViews &&
          (e.off("viewCreate", I),
          j.deselectElement(),
          j.resetZoom(),
          (j.currentViewIndex = j.currentPrice = j.singleProductPrice = j.pricingRulesPrice = 0),
          (j.currentViewInstance = j.currentViews = j.currentElement = null),
          j.$mainWrapper.find(".fpd-view-stage").remove(),
          l.find(".fpd-views-selection").remove(),
          (j.viewInstances = []),
          e.trigger("clear"),
          e.trigger("priceChange", [0, 0, 0]),
          (p = !0));
      }),
      (this.deselectElement = function() {
        j.currentViewInstance && j.currentViewInstance.deselectElement();
      }),
      (this.getProductDataURL = function(a, b, c) {
        function d(h) {
          h.options.stageWidth * g > e.getWidth() &&
            e.setDimensions({ width: h.options.stageWidth * g }),
            h.toDataURL(
              function(b) {
                fabric.Image.fromURL(b, function(b) {
                  e.add(b),
                    f > 0 &&
                      (b.set("top", e.getHeight()),
                      e.setDimensions({
                        height: e.getHeight() + h.options.stageHeight
                      })),
                    f++,
                    f < j.viewInstances.length
                      ? d(j.viewInstances[f])
                      : (a(e.toDataURL(c)),
                        e.dispose(),
                        l.children("#fpd-hidden-canvas").remove(),
                        j.currentViewInstance &&
                          j.currentViewInstance.resetCanvasSize());
                });
              },
              b,
              c,
              j.watermarkImg
            );
        }
        (a = void 0 === a ? function() {} : a),
          (b = void 0 === b ? "transparent" : b),
          (c = void 0 === c ? {} : c),
          (c.onlyExportable =
            void 0 === c.onlyExportable ? !1 : c.onlyExportable),
          0 === j.viewInstances.length && a(""),
          j.resetZoom(),
          l.append('<canvas id="fpd-hidden-canvas"></canvas>');
        var e = new fabric.Canvas("fpd-hidden-canvas", {
            containerClass: "fpd-hidden fpd-hidden-canvas",
            enableRetinaScaling: !1
          }),
          f = 0,
          g = c.multiplier ? c.multiplier : 1,
          h = j.viewInstances[0];
        e.setDimensions({
          width: h.options.stageWidth * g,
          height: h.options.stageHeight * g
        }),
          d(h);
      }),
      (this.getViewsDataURL = function(a, b, c) {
        (a = void 0 === a ? function() {} : a),
          (b = void 0 === b ? "transparent" : b),
          (c = "undefined" === c ? {} : c);
        var d = [];
        j.resetZoom();
        for (var e = 0; e < j.viewInstances.length; ++e)
          j.viewInstances[e].toDataURL(
            function(b) {
              d.push(b), d.length === j.viewInstances.length && a(d);
            },
            b,
            c,
            j.watermarkImg
          );
      }),
      (this.getViewsSVG = function(a, b) {
        for (var c = [], d = 0; d < j.viewInstances.length; ++d)
          c.push(j.viewInstances[d].toSVG(a, b));
        return c;
      }),
      (this.toggleSpinner = function(a, b) {
        return (
          (a = void 0 === a ? !0 : a),
          (b = void 0 === b ? "" : b),
          a
            ? g
                .fadeIn(300)
                .find(".fpd-loader-text")
                .html(b)
            : g.stop().fadeOut(300),
          g
        );
      }),
      (this.getElementByTitle = function(a, b) {
        var c = !1;
        return (
          this.getElements(b, "all", !1).some(function(b) {
            return b.title == a ? ((c = b), !0) : void 0;
          }),
          c
        );
      }),
      (this.getElements = function(a, b, c) {
        (a = void 0 === a || isNaN(a) ? -1 : a),
          (b = void 0 === b ? "all" : b),
          (c = void 0 === c ? !0 : c),
          c && this.deselectElement();
        var d = [];
        if (-1 === a)
          for (var e = 0; e < j.viewInstances.length; ++e)
            d = d.concat(j.viewInstances[e].stage.getObjects());
        else d = j.viewInstances[a].stage.getObjects();
        if (
          ((d = d.filter(function(a) {
            return "bounding-box" !== a.name && "printing-box" !== a.name;
          })),
          "text" === b)
        ) {
          var f = [];
          return (
            d.forEach(function(a) {
              "text" === FPDUtil.getType(a.type) && f.push(a);
            }),
            f
          );
        }
        if ("image" === b) {
          var g = [];
          return (
            d.forEach(function(a) {
              "image" === FPDUtil.getType(a.type) && g.push(a);
            }),
            g
          );
        }
        return d;
      }),
      (this.print = function() {
        var a = function(a) {
          for (var b = [], c = 0, d = 0; d < a.length; ++d) {
            var e = new Image();
            (e.src = a[d]),
              (e.onload = function() {
                if ((b.push(this), c++, c == a.length)) {
                  var d = window.open(
                    "",
                    "",
                    "width=" +
                      b[0].width +
                      ",height=" +
                      b[0].height * a.length +
                      ",location=no,menubar=no,scrollbars=yes,status=no,toolbar=no"
                  );
                  FPDUtil.popupBlockerAlert(d, j),
                    (d.document.title = "Print Image");
                  for (var e = 0; e < b.length; ++e)
                    $(d.document.body).append('<img src="' + b[e].src + '" />');
                  setTimeout(function() {
                    d.print();
                  }, 1e3);
                }
              });
          }
        };
        j.getViewsDataURL(a);
      }),
      (this.createImage = function(a, b, c, d) {
        (a = void 0 === a ? !0 : a),
          (b = void 0 === b ? !1 : b),
          (c = void 0 === c ? "transparent" : c),
          (d = void 0 === d ? {} : d);
        var e = void 0 === d.format ? "png" : d.format;
        j.getProductDataURL(
          function(c) {
            var d = new Image();
            (d.src = c),
              (d.onload = function() {
                if (a) {
                  var c = window.open("", "_blank");
                  FPDUtil.popupBlockerAlert(c, j),
                    (c.document.title = "Product Image"),
                    $(c.document.body).append(
                      '<img src="' +
                        this.src +
                        '" download="product.' +
                        e +
                        '" />'
                    ),
                    b &&
                      (window.location.href = c.document
                        .getElementsByTagName("img")[0]
                        .src.replace("image/" + e, "image/octet-stream"));
                }
              });
          },
          c,
          d
        );
      }),
      (this.setZoom = function(a) {
        if (((r = !1), this.deselectElement(), j.currentViewInstance)) {
          var b = j.currentViewInstance.responsiveScale,
            c = new fabric.Point(
              0.5 * j.currentViewInstance.stage.getWidth(),
              0.5 * j.currentViewInstance.stage.getHeight()
            );
          j.currentViewInstance.stage.zoomToPoint(c, a * b),
            1 == a && j.resetZoom();
        }
      }),
      (this.resetZoom = function() {
        if (((r = !0), this.deselectElement(), j.currentViewInstance)) {
          var a = j.currentViewInstance.responsiveScale;
          j.currentViewInstance.stage.zoomToPoint(new fabric.Point(0, 0), a),
            j.currentViewInstance.stage.absolutePan(new fabric.Point(0, 0));
        }
      }),
      (this.getElementByID = function(a, b) {
        return (
          (b = void 0 === b ? j.currentViewIndex : b),
          j.viewInstances[b] ? j.viewInstances[b].getElementByID(a) : null
        );
      }),
      (this.getProduct = function(a, b) {
        if (((a = void 0 === a ? !1 : a), (b = void 0 === b ? !1 : b), b && !q))
          return (
            FPDUtil.showMessage(
              j.getTranslation("misc", "customization_required_info")
            ),
            !1
          );
        this.deselectElement(), this.resetZoom(), (j.doUnsavedAlert = !1);
        var c = this.getElements(),
          d = [];
        if (
          (c.forEach(function(a) {
            a.isOut &&
              "inside" === a.boundingBoxMode &&
              (FPDUtil.showMessage(
                a.title + ": " + j.getTranslation("misc", "out_of_bounding_box")
              ),
              (d = !1));
          }),
          d === !1)
        )
          return !1;
        for (var e = 0; e < j.viewInstances.length; ++e) {
          for (
            var f = j.viewInstances[e],
              g = f.getOptions(),
              c = j.viewInstances[e].stage.getObjects(),
              h = [],
              i = 0;
            i < c.length;
            ++i
          ) {
            var k = c[i];
            if (void 0 !== k.title && void 0 !== k.source) {
              var l = {
                title: k.title,
                source: k.source,
                parameters: j.viewInstances[e].getElementJSON(k),
                type: FPDUtil.getType(k.type)
              };
              if (
                g.printingBox &&
                g.printingBox.hasOwnProperty("left") &&
                g.printingBox.hasOwnProperty("top")
              ) {
                {
                  var m = k.getPointByOrigin("left", "top");
                  new fabric.Point(g.printingBox.left, g.printingBox.top),
                    new fabric.Point(
                      g.printingBox.left + g.printingBox.width,
                      g.printingBox.top + g.printingBox.height
                    );
                }
                l.printingBoxCoords = {
                  left: m.x - g.printingBox.left,
                  top: m.y - g.printingBox.top
                };
              }
              a ? k.isEditable && h.push(l) : h.push(l);
            }
          }
          d.push({
            title: f.title,
            thumbnail: f.thumbnail,
            elements: h,
            options: g,
            names_numbers: f.names_numbers,
            mask: f.mask,
            locked: f.locked
          });
        }
        return d;
      }),
      (this.getTranslation = function(a, b) {
        return j.langJson && (a = j.langJson[a]) ? a[b] : "";
      }),
      (this.getCustomElements = function(a, b, c) {
        var d = this.getElements(b, a, c),
          e = [];
        return (
          d.forEach(function(a) {
            if (a.isCustom) {
              var b = j.$productStage
                .children(".fpd-view-stage")
                .index(a.canvas.wrapperEl);
              e.push({ element: a, viewIndex: b });
            }
          }),
          e
        );
      }),
      (this.addCustomImage = function(a, b, c) {
        c = void 0 === c ? {} : c;
        var d = new Image();
        (d.src = a),
          this.toggleSpinner(),
          j.$viewSelectionWrapper.addClass("fpd-disabled"),
          (d.onload = function() {
            j._loadingCustomImage = !1;
            var d = this.height,
              e = this.width,
              f = j.currentViewInstance.options.customImageParameters,
              g = this.src.split("."),
              h = f.scaleX || 1,
              i = f.scaleY || 1;
            if (!FPDUtil.checkImageDimensions(j, e, d))
              return j.toggleSpinner(!1), !1;
            if (
              ((f.resizeToW || f.resizeToH) &&
                (h = i = FPDUtil.getScalingByDimesions(
                  e,
                  d,
                  f.resizeToW,
                  f.resizeToH,
                  f.scaleMode
                )),
              j.mainOptions.fitImagesInCanvas)
            ) {
              var k = j.mainOptions.elementParameters.cornerSize;
              (e * h + k > j.currentViewInstance.options.stageWidth ||
                d * i + k > j.currentViewInstance.options.stageHeight) &&
                (h = i = FPDUtil.getScalingByDimesions(
                  e,
                  d,
                  j.currentViewInstance.options.stageWidth - k,
                  j.currentViewInstance.options.stageHeight - k
                ));
            }
            var l = { scaleX: h, scaleY: i, isCustom: !0 };
            -1 == $.inArray("svg", g) || f.colors || (l.colors = !0),
              j.addElement("image", a, b, $.extend({}, f, l, c)),
              j.toggleSpinner(!1),
              j.$viewSelectionWrapper.removeClass("fpd-disabled"),
              FPDUtil.showMessage(j.getTranslation("misc", "image_added"));
          }),
          (d.onerror = function() {
            FPDUtil.showModal("Image could not be loaded!");
          });
      }),
      (this.setDimensions = function(a, b) {
        (j.mainOptions.stageWidth = a),
          (j.mainOptions.stageHeight = b),
          j.$container.find(".fpd-product-stage").width(a);
        for (var c = 0; c < j.viewInstances.length; ++c)
          (j.viewInstances[c].options.stageWidth = a),
            (j.viewInstances[c].options.stageHeight = b),
            j.viewInstances[c].resetCanvasSize();
        j.mainBar &&
          j.mainBar.$content &&
          j.$container.filter('[class*="fpd-off-canvas-"]').length > 0 &&
          j.mainBar.$content.height(j.$mainWrapper.height());
      }),
      (this.setOrderQuantity = function(a) {
        (a = "" == a || 0 > a ? 1 : a), (j.orderQuantity = a);
        var b = j.calculatePrice();
        e.trigger("priceChange", [null, b, j.singleProductPrice]);
      }),
      (this.getOrder = function(a) {
        return (
          (a = void 0 === a ? {} : a),
          (j._order.product = j.getProduct(
            a.onlyEditableElements || !1,
            a.customizationRequired || !1
          )),
          (j._order.usedFonts = j.getUsedFonts()),
          (j._order.usedColors = []),
          j.getUsedColors().forEach(function(a) {
            var b = j.mainOptions.hexNames[a.replace("#", "").toLowerCase()],
              c = { hex: a };
            b && (c.name = b), j._order.usedColors.push(c);
          }),
          (j._order.usedDepositPhotos = j.getDepositPhotos()),
          e.trigger("getOrder"),
          j._order
        );
      }),
      (this.getUsedFonts = function() {
        var a = [],
          b = [];
        return (
          this.getElements(-1, "all", !1).forEach(function(c) {
            if (
              "text" === FPDUtil.getType(c.type) &&
              -1 === a.indexOf(c.fontFamily)
            ) {
              var d = { name: c.fontFamily },
                e = $.grep(j.mainOptions.fonts, function(a) {
                  return a.name == c.fontFamily;
                });
              e.length > 0 && e[0].url && (d.url = e[0].url),
                a.push(c.fontFamily),
                b.push(d);
            }
          }),
          b
        );
      }),
      (this.getUsedColors = function(a) {
        var b = [];
        return (
          this.getElements(a, "all", !1).forEach(function(a) {
            var c = FPDUtil.elementIsColorizable(a);
            c &&
              ("svg" === c
                ? a.type === FPDPathGroupName
                  ? a.getObjects().forEach(function(a) {
                      FPDUtil.isHex(a.fill) && b.push(a.fill);
                    })
                  : b.push(a.fill)
                : FPDUtil.isHex(a.fill) && b.push(a.fill));
          }),
          FPDUtil.arrayUnique(b)
        );
      }),
      (this.calculatePrice = function(a) {
        a = void 0 === a ? !0 : a;
        var b = j.singleProductPrice;
        return (
          (j.currentPrice = b),
          (b += j.pricingRulesPrice),
          a && (b *= j.orderQuantity),
          b % 1 != 0 && (b = Number(b.toFixed(2))),
          b
        );
      }),
      (this.removeView = function(a) {
        a = void 0 === a ? 0 : a;
        var b = j.$productStage.children(".fpd-view-stage").eq(a);
        j.$viewSelectionWrapper
          .children(".fpd-item")
          .eq(a)
          .remove(),
          b.remove(),
          j.viewInstances.splice(a, 1),
          j.viewInstances.length > 0 &&
            j.selectView(a == j.currentViewIndex ? 0 : a),
          e.trigger("viewRemove", [a]);
      }),
      (this.formatPrice = function(a) {
        if ("object" == typeof j.mainOptions.priceFormat) {
          var b = j.mainOptions.priceFormat.thousandSep,
            c = j.mainOptions.priceFormat.decimalSep,
            d = a.toString().split("."),
            e = d[0],
            f = d[1],
            g = "";
          if ("undefined" != typeof e) {
            for (var h = e.length - 1; h >= 0; h--) g += e.charAt(h);
            (g = g.replace(/(\d{3})/g, "$1" + b)),
              g.slice(-b.length) == b && (g = g.slice(0, -b.length)),
              (e = "");
            for (var h = g.length - 1; h >= 0; h--) e += g.charAt(h);
            "undefined" != typeof f &&
              f.length > 0 &&
              (1 == f.length && (f += "0"), (e += c + f));
          }
          return (e = j.mainOptions.priceFormat.currency.replace(
            "%d",
            e.toString()
          ));
        }
        return (a = j.mainOptions.priceFormat.replace("%d", a));
      }),
      (this.translateElement = function(a) {
        var b = "";
        if (j.langJson) {
          var c = "";
          c =
            void 0 !== a.attr("placeholder")
              ? a.attr("placeholder")
              : void 0 !== a.attr("title")
                ? a.attr("title")
                : void 0 !== a.data("title")
                  ? a.data("title")
                  : a.text();
          var d = c.split("."),
            e = j.langJson[d[0]];
          e
            ? ((b = e[d[1]]), void 0 === b && (b = a.data("defaulttext")))
            : (b = a.data("defaulttext"));
          var f = j.languageJSON[d[0]];
          f[d[1]] = b;
        } else b = a.data("defaulttext");
        return (
          void 0 !== a.attr("placeholder")
            ? a.attr("placeholder", b).text("")
            : void 0 !== a.attr("title")
              ? a.attr("title", b)
              : void 0 !== a.data("title")
                ? a.data("title", b)
                : a.text(b),
          b
        );
      }),
      (this.selectGuidedTourStep = function(a) {
        l.children(".fpd-gt-step").remove();
        var b = Object.keys(j.mainOptions.guidedTour).indexOf(a),
          c = a.split(":"),
          d = null;
        if (
          ("module" === c[0]
            ? (d = f
                .find(".fpd-navigation")
                .children('[data-module="' + c[1] + '"]'))
            : "action" === c[0]
              ? (d = $('.fpd-action-btn[data-action="' + c[1] + '"]'))
              : 1 === c.length && (d = $(c[0])),
          d)
        ) {
          if (0 === d.length)
            return void (
              Object.keys(j.mainOptions.guidedTour)[b + 1] &&
              j.selectGuidedTourStep(
                Object.keys(j.mainOptions.guidedTour)[b + 1]
              )
            );
          var e = l
              .append(
                '<div class="fpd-container fpd-gt-step"><div class="fpd-gt-pointer"><span class="fpd-icon-arrow-dropdown"></span></div><div class="fpd-gt-close"><span class="fpd-icon-close"></span></div><div class="fpd-gt-text">' +
                  j.mainOptions.guidedTour[a] +
                  '</div><div class="fpd-gt-actions fpd-clearfix"><div class="fpd-gt-next fpd-btn fpd-primary">' +
                  j.getTranslation("misc", "guided_tour_next") +
                  '</div><div class="fpd-gt-back fpd-btn fpd-primary">' +
                  j.getTranslation("misc", "guided_tour_back") +
                  '</div><span class="fpd-gt-counter">' +
                  String(b + 1) +
                  "/" +
                  Object.keys(j.mainOptions.guidedTour).length +
                  "</span></div></div>"
              )
              .children(".fpd-gt-step"),
            g = d.offset(),
            h = 0.5 * d.outerWidth(),
            i = 0,
            k = g.left + h;
          e.css({ left: k, top: g.top + d.outerHeight() + i }),
            e.outerWidth() + k > window.innerWidth &&
              ((h = window.innerWidth - (e.outerWidth() + k)),
              e
                .css("left", k + h)
                .children(".fpd-gt-pointer")
                .css("margin-left", Math.abs(h))),
            Object.keys(j.mainOptions.guidedTour)[b - 1]
              ? e
                  .find(".fpd-gt-back")
                  .data("target", Object.keys(j.mainOptions.guidedTour)[b - 1])
              : e.find(".fpd-gt-back").hide(),
            Object.keys(j.mainOptions.guidedTour)[b + 1]
              ? e
                  .find(".fpd-gt-next")
                  .data("target", Object.keys(j.mainOptions.guidedTour)[b + 1])
              : e.find(".fpd-gt-next").hide();
        }
      }),
      (this.setupProducts = function(a) {
        (a = void 0 === a ? [] : a),
          (this.products = []),
          a.forEach(function(a) {
            a.hasOwnProperty("category")
              ? a.products.forEach(function(b) {
                  j.addProduct(b, a.category);
                })
              : j.addProduct(a);
          }),
          e.trigger("productsSet", [j.products]),
          j.mainOptions.loadFirstProductInStage && a.length > 0 && !p
            ? j.selectProduct(0)
            : j.toggleSpinner(!1);
      }),
      (this.setupDesigns = function(a) {
        (j.designs = a), e.trigger("designsSet", [j.designs]);
      }),
      (this.toggleResponsive = function(a) {
        return (
          (a = void 0 === a ? e.hasClass("fpd-not-responsive") : a),
          e.toggleClass("fpd-not-responsive", !a),
          this.viewInstances.forEach(function(b) {
            (b.options.responsive = a), b.resetCanvasSize();
          }),
          a
        );
      }),
      (this.getDepositPhotos = function() {
        var a = [];
        return (
          this.getElements(-1, "image").forEach(function(b) {
            b.source &&
              b.depositphotos &&
              a.push({ depositphotos: b.depositphotos, source: b.source });
          }),
          a
        );
      }),
      (this.getDepositPhotosPurchaseMedia = function(a, b, c, d, e, f, g) {
        (e = void 0 === e ? "s" : e),
          (f = void 0 === f ? "standard" : f),
          (g = void 0 === g ? "credits" : g);
        var h = {
          dp_apikey: j.mainOptions.depositphotosApiKey,
          dp_command: "login",
          dp_login_user: c,
          dp_login_password: d
        };
        $.getJSON(
          location.protocol + "//api.depositphotos.com?" + $.param(h),
          function(c) {
            if (c.error) a(c), alert(c.error.errormsg);
            else if (c.sessionid) {
              var d = {
                dp_apikey: j.mainOptions.depositphotosApiKey,
                dp_command: "getMedia",
                dp_session_id: c.sessionid,
                dp_media_id: b,
                dp_media_option: e,
                dp_media_license: f,
                dp_purchase_currency: g
              };
              $.getJSON(
                location.protocol + "//api.depositphotos.com?" + $.param(d),
                function(b) {
                  a(b), b.error && alert(b.error.errormsg);
                }
              );
            } else a(c), alert("No Sessions ID!");
          }
        );
      }),
      z();
  };
if (
  ((function(a, b) {
    "function" == typeof define && define.amd
      ? define([], b)
      : "object" == typeof exports
        ? (module.exports = b())
        : (a.download = b());
  })(this, function() {
    return function a(b, c, d) {
      function e(a) {
        var b = a.split(/[:;,]/),
          c = b[1],
          d = "base64" == b[2] ? atob : decodeURIComponent,
          e = d(b.pop()),
          f = e.length,
          g = 0,
          h = new Uint8Array(f);
        for (g; f > g; ++g) h[g] = e.charCodeAt(g);
        return new p([h], { type: c });
      }
      function f(a, b) {
        if ("download" in n)
          return (
            (n.href = a),
            n.setAttribute("download", q),
            (n.className = "download-js-link"),
            (n.innerHTML = "downloading..."),
            (n.style.display = "none"),
            document.body.appendChild(n),
            setTimeout(function() {
              n.click(),
                document.body.removeChild(n),
                b === !0 &&
                  setTimeout(function() {
                    i.URL.revokeObjectURL(n.href);
                  }, 250);
            }, 66),
            !0
          );
        if (
          /(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(
            navigator.userAgent
          )
        )
          return (
            (a = a.replace(/^data:([\w\/\-\+]+)/, j)),
            window.open(a) ||
              (confirm(
                "Displaying New Document\n\nUse Save As... to download, then click back to return to this page."
              ) &&
                (location.href = a)),
            !0
          );
        var c = document.createElement("iframe");
        document.body.appendChild(c),
          b || (a = "data:" + a.replace(/^data:([\w\/\-\+]+)/, j)),
          (c.src = a),
          setTimeout(function() {
            document.body.removeChild(c);
          }, 333);
      }
      var g,
        h,
        i = window,
        j = "application/octet-stream",
        k = d || j,
        l = b,
        m = !c && !d && l,
        n = document.createElement("a"),
        o = function(a) {
          return String(a);
        },
        p = i.Blob || i.MozBlob || i.WebKitBlob || o,
        q = c || "download";
      if (
        ((p = p.call ? p.bind(i) : Blob),
        "true" === String(this) && ((l = [l, k]), (k = l[0]), (l = l[1])),
        m &&
          m.length < 2048 &&
          ((q = m
            .split("/")
            .pop()
            .split("?")[0]),
          (n.href = m),
          -1 !== n.href.indexOf(m)))
      ) {
        var r = new XMLHttpRequest();
        return (
          r.open("GET", m, !0),
          (r.responseType = "blob"),
          (r.onload = function(b) {
            a(b.target.response, q, j);
          }),
          setTimeout(function() {
            r.send();
          }, 0),
          r
        );
      }
      if (/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(l)) {
        if (!(l.length > 2096103.424 && p !== o))
          return navigator.msSaveBlob ? navigator.msSaveBlob(e(l), q) : f(l);
        (l = e(l)), (k = l.type || j);
      }
      if (
        ((g = l instanceof p ? l : new p([l], { type: k })),
        navigator.msSaveBlob)
      )
        return navigator.msSaveBlob(g, q);
      if (i.URL) f(i.URL.createObjectURL(g), !0);
      else {
        if ("string" == typeof g || g.constructor === o)
          try {
            return f("data:" + k + ";base64," + i.btoa(g));
          } catch (s) {
            return f("data:" + k + "," + encodeURIComponent(g));
          }
        (h = new FileReader()),
          (h.onload = function() {
            f(this.result);
          }),
          h.readAsDataURL(g);
      }
      return !0;
    };
  }),
  (function(a) {
    "use strict";
    if ("1.6.7" != a.fabric.version) {
      {
        var b = a.fabric || (a.fabric = {}),
          c = b.util.object.extend;
        b.util.object.clone;
      }
      if (b.CurvedText)
        return void b.warn("fabric.CurvedText is already defined");
      var d = b.Text.prototype.stateProperties.concat();
      d.push(
        "radius",
        "spacing",
        "reverse",
        "effect",
        "range",
        "largeFont",
        "smallFont"
      );
      var e = b.Text.prototype._dimensionAffectingProps.concat([
          "radius",
          "spacing",
          "reverse",
          "fill",
          "effect",
          "width",
          "height",
          "range",
          "fontSize",
          "shadow",
          "largeFont",
          "smallFont"
        ]),
        f = [
          "backgroundColor",
          "textBackgroundColor",
          "textDecoration",
          "stroke",
          "strokeWidth",
          "shadow",
          "fontWeight",
          "fontStyle",
          "strokeWidth",
          "textAlign"
        ];
      (b.CurvedText = b.util.createClass(b.Text, b.Collection, {
        type: "curvedText",
        radius: 50,
        range: 5,
        smallFont: 10,
        largeFont: 30,
        effect: "curved",
        spacing: 20,
        reverse: !1,
        stateProperties: d,
        _dimensionAffectingProps: e,
        _isRendering: 0,
        complexity: function() {
          this.callSuper("complexity");
        },
        initialize: function(a, c) {
          c || (c = {}),
            (this.__skipDimension = !0),
            delete c.text,
            this.setOptions(c),
            (this.__skipDimension = !1),
            parseFloat(b.version) >= 2 && this.callSuper("initialize", a, c),
            (this.letters = new b.Group([], { selectable: !1, padding: 0 })),
            this.setText(a);
        },
        setText: function(a) {
          if (this.letters) {
            for (; this.letters.size(); )
              this.letters.remove(this.letters.item(0));
            for (var c = 0; c < a.length; c++)
              void 0 === this.letters.item(c)
                ? this.letters.add(new b.Text(a[c]))
                : (this.letters.item(c).text = a[c]);
          }
          this.text = a;
          for (var c = this.letters.size(); c--; ) {
            var d = this.letters.item(c);
            d.set({
              objectCaching: !1,
              fill: this.fill,
              stroke: this.stroke,
              strokeWidth: this.strokeWidth,
              fontFamily: this.fontFamily,
              fontSize: this.fontSize,
              fontStyle: this.fontStyle,
              fontWeight: this.fontWeight,
              underline: this.underline,
              overline: this.overline,
              linethrough: this.linethrough,
              lineHeight: this.lineHeight
            });
          }
          this._updateLetters(), this.canvas && this.canvas.renderAll();
        },
        _initDimensions: function(a) {
          if (!this.__skipDimension) {
            a ||
              ((a = b.util.createCanvasElement().getContext("2d")),
              this._setTextStyles(a)),
              (this._textLines = this.text.split(this._reNewline)),
              this._clearCache();
            var c = this.textAlign;
            (this.textAlign = "left"),
              (this.width = this.get("width")),
              (this.textAlign = c),
              (this.height = this.get("height")),
              this._updateLetters();
          }
        },
        _updateLetters: function() {
          var a = b.util.getRandomInt(100, 999);
          if (((this._isRendering = a), this.letters && this.text)) {
            var c = 0,
              d = 0,
              e = 0,
              g = parseInt(this.spacing),
              h = 0;
            if ("curved" === this.effect) {
              for (var i = 0, j = this.text.length; j > i; i++)
                e += this.letters.item(i).width + g;
              e -= g;
            } else
              "arc" === this.effect &&
                ((h =
                  (this.letters.item(0).fontSize + g) /
                  this.radius /
                  (Math.PI / 180)),
                (e =
                  (this.text.length + 1) *
                  (this.letters.item(0).fontSize + g)));
            (c =
              "right" === this.get("textAlign")
                ? 90 - e / 2 / this.radius / (Math.PI / 180)
                : "left" === this.get("textAlign")
                  ? -90 - e / 2 / this.radius / (Math.PI / 180)
                  : -(e / 2 / this.radius / (Math.PI / 180))),
              this.reverse && (c = -c);
            for (
              var k = 0,
                l = this.reverse ? -1 : 1,
                m = 0,
                n = 0,
                i = 0,
                j = this.text.length;
              j > i;
              i++
            ) {
              if (a !== this._isRendering) return;
              for (var o in f) this.letters.item(i).set(o, this.get(o));
              if (
                (this.letters.item(i).set("left", k),
                this.letters.item(i).set("top", 0),
                this.letters.item(i).set("angle", 0),
                this.letters.item(i).set("padding", 0),
                "curved" === this.effect)
              )
                (m =
                  (this.letters.item(i).width + g) /
                  this.radius /
                  (Math.PI / 180)),
                  (c = l * (l * c + n)),
                  (d = c * (Math.PI / 180)),
                  (n = m),
                  this.letters.item(i).set("angle", c),
                  this.letters
                    .item(i)
                    .set("top", -1 * l * Math.cos(d) * this.radius),
                  this.letters
                    .item(i)
                    .set("left", l * Math.sin(d) * this.radius),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1);
              else if ("arc" === this.effect)
                (c = l * (l * c + h)),
                  (d = c * (Math.PI / 180)),
                  this.letters
                    .item(i)
                    .set("top", -1 * l * Math.cos(d) * this.radius),
                  this.letters
                    .item(i)
                    .set("left", l * Math.sin(d) * this.radius),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1);
              else if ("STRAIGHT" === this.effect)
                this.letters.item(i).set("left", k),
                  this.letters.item(i).set("top", 0),
                  this.letters.item(i).set("angle", 0),
                  (k += this.letters.item(i).get("width")),
                  this.letters.item(i).set("padding", 0),
                  this.letters
                    .item(i)
                    .set({
                      borderColor: "red",
                      cornerColor: "green",
                      cornerSize: 6,
                      transparentCorners: !1
                    }),
                  this.letters.item(i).set("selectable", !1);
              else if ("smallToLarge" === this.effect) {
                var p = parseInt(this.smallFont),
                  q = parseInt(this.largeFont),
                  r = q - p,
                  s = Math.ceil(this.text.length / 2),
                  t = r / this.text.length,
                  u = p + i * t;
                this.letters.item(i).set("fontSize", u),
                  this.letters.item(i).set("left", k),
                  (k += this.letters.item(i).get("width")),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1),
                  this.letters
                    .item(i)
                    .set("top", -1 * this.letters.item(i).get("fontSize") + i);
              } else if ("largeToSmallTop" === this.effect) {
                var p = parseInt(this.largeFont),
                  q = parseInt(this.smallFont),
                  r = q - p,
                  s = Math.ceil(this.text.length / 2),
                  t = r / this.text.length,
                  u = p + i * t;
                this.letters.item(i).set("fontSize", u),
                  this.letters.item(i).set("left", k),
                  (k += this.letters.item(i).get("width")),
                  this.letters.item(i).set("padding", 0),
                  this.letters
                    .item(i)
                    .set({
                      borderColor: "red",
                      cornerColor: "green",
                      cornerSize: 6,
                      transparentCorners: !1
                    }),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1),
                  (this.letters.item(i).top =
                    -1 * this.letters.item(i).get("fontSize") +
                    i / this.text.length);
              } else if ("largeToSmallBottom" === this.effect) {
                var p = parseInt(this.largeFont),
                  q = parseInt(this.smallFont),
                  r = q - p,
                  s = Math.ceil(this.text.length / 2),
                  t = r / this.text.length,
                  u = p + i * t;
                this.letters.item(i).set("fontSize", u),
                  this.letters.item(i).set("left", k),
                  (k += this.letters.item(i).get("width")),
                  this.letters.item(i).set("padding", 0),
                  this.letters
                    .item(i)
                    .set({
                      borderColor: "red",
                      cornerColor: "green",
                      cornerSize: 6,
                      transparentCorners: !1
                    }),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1),
                  (this.letters.item(i).top =
                    -1 * this.letters.item(i).get("fontSize") - i);
              } else if ("bulge" === this.effect) {
                var p = parseInt(this.smallFont),
                  q = parseInt(this.largeFont),
                  r = q - p,
                  s = Math.ceil(this.text.length / 2),
                  t = r / (this.text.length - s);
                if (s > i) var u = p + i * t;
                else var u = q - (i - s + 1) * t;
                this.letters.item(i).set("fontSize", u),
                  this.letters.item(i).set("left", k),
                  (k += this.letters.item(i).get("width")),
                  this.letters.item(i).set("padding", 0),
                  this.letters.item(i).set("selectable", !1),
                  this.letters
                    .item(i)
                    .set("top", -1 * this.letters.item(i).get("height") / 2);
              }
            }
            var v = this.letters.get("scaleX"),
              w = this.letters.get("scaleY"),
              x = this.letters.get("angle");
            this.letters.set("scaleX", 1),
              this.letters.set("scaleY", 1),
              this.letters.set("angle", 0),
              this.letters._calcBounds(),
              this.letters._updateObjectsCoords(),
              this.letters.set("scaleX", v),
              this.letters.set("scaleY", w),
              this.letters.set("angle", x),
              (this.width = this.letters.width),
              (this.height = this.letters.height),
              (this.letters.left = -(this.letters.width / 2)),
              (this.letters.top = -(this.letters.height / 2));
          }
        },
        render: function(a) {
          if (this.visible && this.letters) {
            a.save(), this.transform(a);
            {
              Math.max(this.scaleX, this.scaleY);
            }
            this.clipTo && b.util.clipContext(this, a);
            for (var c = 0, d = this.letters.size(); d > c; c++) {
              {
                var e = this.letters.item(c);
                e.borderScaleFactor, e.hasRotatingPoint;
              }
              e.visible && e.render(a);
            }
            this.clipTo && a.restore(), a.restore(), this.setCoords();
          }
        },
        _set: function(a, b) {
          if ("text" === a) return void this.setText(b);
          if ((this.callSuper("_set", a, b), this.text && this.letters)) {
            if (
              -1 ===
              [
                "angle",
                "left",
                "top",
                "scaleX",
                "scaleY",
                "width",
                "height"
              ].indexOf(a)
            )
              for (var c = this.letters.size(); c--; )
                this.letters.item(c).set(a, b);
            -1 !== this._dimensionAffectingProps.indexOf(a) &&
              (this._updateLetters(), this.setCoords());
          }
        },
        initDimensions: function() {},
        toObject: function(a) {
          var b = c(this.callSuper("toObject", a), {
            radius: this.radius,
            spacing: this.spacing,
            reverse: this.reverse,
            effect: this.effect,
            range: this.range,
            smallFont: this.smallFont,
            largeFont: this.largeFont
          });
          return this.includeDefaultValues || this._removeDefaultValues(b), b;
        },
        toString: function() {
          return (
            "#<fabric.CurvedText (" +
            this.complexity() +
            '): { "text": "' +
            this.text +
            '", "fontFamily": "' +
            this.fontFamily +
            '", "radius": "' +
            this.radius +
            '", "spacing": "' +
            this.spacing +
            '", "reverse": "' +
            this.reverse +
            '" }>'
          );
        },
        toSVG: function(a) {
          var b = ["<g ", 'transform="', this.getSvgTransform(), '">'];
          if (this.letters)
            for (var c = 0, d = this.letters.size(); d > c; c++)
              b.push(this.letters.item(c).toSVG(a));
          return b.push("</g>"), a ? a(b.join("")) : b.join("");
        }
      })),
        (b.CurvedText.fromObject = function(a, c) {
          return b.Object._fromObject("CurvedText", a, c, "text");
        }),
        (b.CurvedText.async = !1);
    }
  })("undefined" != typeof exports ? exports : this),
  (function(a) {
    "use strict";
    if ("1.6.7" === a.fabric.version) {
      var b = a.fabric || (a.fabric = {}),
        c = b.util.object.extend,
        d = b.util.object.clone;
      if (b.CurvedText)
        return void b.warn("fabric.CurvedText is already defined");
      var e = b.Text.prototype.stateProperties.concat();
      e.push(
        "radius",
        "spacing",
        "reverse",
        "effect",
        "range",
        "largeFont",
        "smallFont"
      );
      var f = b.Text.prototype._dimensionAffectingProps;
      (f.radius = !0),
        (f.spacing = !0),
        (f.reverse = !0),
        (f.fill = !0),
        (f.effect = !0),
        (f.width = !0),
        (f.height = !0),
        (f.range = !0),
        (f.fontSize = !0),
        (f.shadow = !0),
        (f.largeFont = !0),
        (f.smallFont = !0);
      var g = b.Group.prototype.delegatedProperties;
      (g.backgroundColor = !0),
        (g.textBackgroundColor = !0),
        (g.textDecoration = !0),
        (g.stroke = !0),
        (g.strokeWidth = !0),
        (g.shadow = !0),
        (g.fontWeight = !0),
        (g.fontStyle = !0),
        (g.strokeWidth = !0),
        (g.textAlign = !0),
        (b.CurvedText = b.util.createClass(b.Text, b.Collection, {
          type: "curvedText",
          radius: 50,
          range: 5,
          smallFont: 10,
          largeFont: 30,
          effect: "curved",
          spacing: 20,
          reverse: !1,
          stateProperties: e,
          delegatedProperties: g,
          _dimensionAffectingProps: f,
          _isRendering: 0,
          complexity: function() {
            this.callSuper("complexity");
          },
          initialize: function(a, c) {
            c || (c = {}),
              (this.letters = new b.Group([], { selectable: !1, padding: 0 })),
              (this.__skipDimension = !0),
              this.setOptions(c),
              (this.__skipDimension = !1),
              parseFloat(b.version) >= 2 && this.callSuper("initialize", a, c),
              this.setText(a),
              this._render();
          },
          setText: function(a) {
            if (this.letters) {
              for (; 0 !== a.length && this.letters.size() >= a.length; )
                this.letters.remove(this.letters.item(this.letters.size() - 1));
              for (var c = 0; c < a.length; c++)
                void 0 === this.letters.item(c)
                  ? this.letters.add(new b.Text(a[c]))
                  : this.letters.item(c).setText(a[c]);
            }
            this.callSuper("setText", a), this._render();
          },
          _initDimensions: function(a) {
            if (!this.__skipDimension) {
              a ||
                ((a = b.util.createCanvasElement().getContext("2d")),
                this._setTextStyles(a)),
                (this._textLines = this.text.split(this._reNewline)),
                this._clearCache();
              var c = this.textAlign;
              (this.textAlign = "left"),
                (this.width = this.getWidth()),
                (this.textAlign = c),
                (this.height = this.getHeight()),
                this._render(a);
            }
          },
          _render: function() {
            var a = b.util.getRandomInt(100, 999);
            if (((this._isRendering = a), this.letters)) {
              var c = 0,
                d = 0,
                e = 0,
                f = parseInt(this.spacing),
                g = 0;
              if ("curved" === this.effect) {
                for (var h = 0, i = this.text.length; i > h; h++)
                  e += this.letters.item(h).width + f;
                e -= f;
              } else
                "arc" === this.effect &&
                  ((g =
                    (this.letters.item(0).fontSize + f) /
                    this.radius /
                    (Math.PI / 180)),
                  (e =
                    (this.text.length + 1) *
                    (this.letters.item(0).fontSize + f)));
              (c =
                "right" === this.get("textAlign")
                  ? 90 - e / 2 / this.radius / (Math.PI / 180)
                  : "left" === this.get("textAlign")
                    ? -90 - e / 2 / this.radius / (Math.PI / 180)
                    : -(e / 2 / this.radius / (Math.PI / 180))),
                this.reverse && (c = -c);
              for (
                var j = 0,
                  k = this.reverse ? -1 : 1,
                  l = 0,
                  m = 0,
                  h = 0,
                  i = this.text.length;
                i > h;
                h++
              ) {
                if (a !== this._isRendering) return;
                for (var n in this.delegatedProperties)
                  this.letters.item(h).set(n, this.get(n));
                if (
                  (this.letters.item(h).set("left", j),
                  this.letters.item(h).set("top", 0),
                  this.letters.item(h).setAngle(0),
                  this.letters.item(h).set("padding", 0),
                  "curved" === this.effect)
                )
                  (l =
                    (this.letters.item(h).width + f) /
                    this.radius /
                    (Math.PI / 180)),
                    (c = k * (k * c + m)),
                    (d = c * (Math.PI / 180)),
                    (m = l),
                    this.letters.item(h).setAngle(c),
                    this.letters
                      .item(h)
                      .set("top", -1 * k * Math.cos(d) * this.radius),
                    this.letters
                      .item(h)
                      .set("left", k * Math.sin(d) * this.radius),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1);
                else if ("arc" === this.effect)
                  (c = k * (k * c + g)),
                    (d = c * (Math.PI / 180)),
                    this.letters
                      .item(h)
                      .set("top", -1 * k * Math.cos(d) * this.radius),
                    this.letters
                      .item(h)
                      .set("left", k * Math.sin(d) * this.radius),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1);
                else if ("STRAIGHT" === this.effect)
                  this.letters.item(h).set("left", j),
                    this.letters.item(h).set("top", 0),
                    this.letters.item(h).setAngle(0),
                    (j += this.letters.item(h).get("width")),
                    this.letters.item(h).set("padding", 0),
                    this.letters
                      .item(h)
                      .set({
                        borderColor: "red",
                        cornerColor: "green",
                        cornerSize: 6,
                        transparentCorners: !1
                      }),
                    this.letters.item(h).set("selectable", !1);
                else if ("smallToLarge" === this.effect) {
                  var o = parseInt(this.smallFont),
                    p = parseInt(this.largeFont),
                    q = p - o,
                    r = Math.ceil(this.text.length / 2),
                    s = q / this.text.length,
                    t = o + h * s;
                  this.letters.item(h).set("fontSize", t),
                    this.letters.item(h).set("left", j),
                    (j += this.letters.item(h).get("width")),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1),
                    this.letters
                      .item(h)
                      .set(
                        "top",
                        -1 * this.letters.item(h).get("fontSize") + h
                      );
                } else if ("largeToSmallTop" === this.effect) {
                  var o = parseInt(this.largeFont),
                    p = parseInt(this.smallFont),
                    q = p - o,
                    r = Math.ceil(this.text.length / 2),
                    s = q / this.text.length,
                    t = o + h * s;
                  this.letters.item(h).set("fontSize", t),
                    this.letters.item(h).set("left", j),
                    (j += this.letters.item(h).get("width")),
                    this.letters.item(h).set("padding", 0),
                    this.letters
                      .item(h)
                      .set({
                        borderColor: "red",
                        cornerColor: "green",
                        cornerSize: 6,
                        transparentCorners: !1
                      }),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1),
                    (this.letters.item(h).top =
                      -1 * this.letters.item(h).get("fontSize") +
                      h / this.text.length);
                } else if ("largeToSmallBottom" === this.effect) {
                  var o = parseInt(this.largeFont),
                    p = parseInt(this.smallFont),
                    q = p - o,
                    r = Math.ceil(this.text.length / 2),
                    s = q / this.text.length,
                    t = o + h * s;
                  this.letters.item(h).set("fontSize", t),
                    this.letters.item(h).set("left", j),
                    (j += this.letters.item(h).get("width")),
                    this.letters.item(h).set("padding", 0),
                    this.letters
                      .item(h)
                      .set({
                        borderColor: "red",
                        cornerColor: "green",
                        cornerSize: 6,
                        transparentCorners: !1
                      }),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1),
                    (this.letters.item(h).top =
                      -1 * this.letters.item(h).get("fontSize") - h);
                } else if ("bulge" === this.effect) {
                  var o = parseInt(this.smallFont),
                    p = parseInt(this.largeFont),
                    q = p - o,
                    r = Math.ceil(this.text.length / 2),
                    s = q / (this.text.length - r);
                  if (r > h) var t = o + h * s;
                  else var t = p - (h - r + 1) * s;
                  this.letters.item(h).set("fontSize", t),
                    this.letters.item(h).set("left", j),
                    (j += this.letters.item(h).get("width")),
                    this.letters.item(h).set("padding", 0),
                    this.letters.item(h).set("selectable", !1),
                    this.letters
                      .item(h)
                      .set("top", -1 * this.letters.item(h).get("height") / 2);
                }
              }
              var u = this.letters.get("scaleX"),
                v = this.letters.get("scaleY"),
                w = this.letters.get("angle");
              this.letters.set("scaleX", 1),
                this.letters.set("scaleY", 1),
                this.letters.set("angle", 0),
                this.letters._calcBounds(),
                this.letters._updateObjectsCoords(),
                this.letters.set("scaleX", u),
                this.letters.set("scaleY", v),
                this.letters.set("angle", w),
                (this.width = this.letters.width),
                (this.height = this.letters.height),
                (this.letters.left = -(this.letters.width / 2)),
                (this.letters.top = -(this.letters.height / 2));
            }
          },
          _renderOld: function() {
            if (this.letters) {
              var a = 0,
                b = 0,
                c = 0,
                d = 0;
              this.reverse && (d = 0.5),
                "center" === this.get("textAlign") ||
                "justify" === this.get("textAlign")
                  ? (c = this.spacing / 2 * (this.text.length - d))
                  : "right" === this.get("textAlign") &&
                    (c = this.spacing * (this.text.length - d));
              for (
                var e = this.reverse ? 1 : -1, f = 0, g = this.text.length;
                g > f;
                f++
              ) {
                (a = e * (-f * parseInt(this.spacing, 10) + c)),
                  (b = a * (Math.PI / 180));
                for (var h in this.delegatedProperties)
                  this.letters.item(f).set(h, this.get(h));
                this.letters.item(f).set("top", e - Math.cos(b) * this.radius),
                  this.letters
                    .item(f)
                    .set("left", e + Math.sin(b) * this.radius),
                  this.letters.item(f).setAngle(a),
                  this.letters.item(f).set("padding", 0),
                  this.letters.item(f).set("selectable", !1);
              }
              this.letters._calcBounds(),
                (this.letters.top = this.reverse
                  ? this.letters.top - 2.5 * this.height
                  : 0),
                (this.letters.left = this.letters.left - this.width / 2),
                this.letters.saveCoords(),
                (this.width = this.letters.width),
                (this.height = this.letters.height),
                (this.letters.left = -(this.letters.width / 2)),
                (this.letters.top = -(this.letters.height / 2));
            }
          },
          render: function(a) {
            if (this.visible && this.letters) {
              a.save(), this.transform(a);
              {
                Math.max(this.scaleX, this.scaleY);
              }
              this.clipTo && b.util.clipContext(this, a);
              for (var c = 0, d = this.letters.size(); d > c; c++) {
                {
                  var e = this.letters.item(c);
                  e.borderScaleFactor, e.hasRotatingPoint;
                }
                e.visible && e.render(a);
              }
              this.clipTo && a.restore(), a.restore(), this.setCoords();
            }
          },
          _set: function(a, b) {
            this.callSuper("_set", a, b),
              this.letters &&
                (this.letters.set(a, b),
                a in this._dimensionAffectingProps &&
                  (this._initDimensions(), this.setCoords()));
          },
          toObject: function(a) {
            var b = c(this.callSuper("toObject", a), {
              radius: this.radius,
              spacing: this.spacing,
              reverse: this.reverse,
              effect: this.effect,
              range: this.range,
              smallFont: this.smallFont,
              largeFont: this.largeFont
            });
            return this.includeDefaultValues || this._removeDefaultValues(b), b;
          },
          toString: function() {
            return (
              "#<fabric.CurvedText (" +
              this.complexity() +
              '): { "text": "' +
              this.text +
              '", "fontFamily": "' +
              this.fontFamily +
              '", "radius": "' +
              this.radius +
              '", "spacing": "' +
              this.spacing +
              '", "reverse": "' +
              this.reverse +
              '" }>'
            );
          },
          toSVG: function(a) {
            var b = ["<g ", 'transform="', this.getSvgTransform(), '">'];
            if (this.letters)
              for (var c = 0, d = this.letters.size(); d > c; c++)
                b.push(this.letters.item(c).toSVG(a));
            return b.push("</g>"), a ? a(b.join("")) : b.join("");
          }
        })),
        (b.CurvedText.fromObject = function(a) {
          return new b.CurvedText(a.text, d(a));
        }),
        b.util.createAccessors(b.CurvedText),
        (b.CurvedText.async = !1);
    }
  })("undefined" != typeof exports ? exports : this),
  (function(a, b) {
    "use strict";
    "function" == typeof define && define.amd
      ? define([], b)
      : "object" == typeof exports
        ? (module.exports = b())
        : (a.FontFaceOnload = b());
  })(this, function() {
    "use strict";
    var a = "AxmTYklsjo190QW",
      b = "sans-serif",
      c = "serif",
      d = {
        tolerance: 2,
        delay: 100,
        glyphs: "",
        success: function() {},
        error: function() {},
        timeout: 5e3,
        weight: "400",
        style: "normal",
        window: window
      },
      e = [
        "display:block",
        "position:absolute",
        "top:-999px",
        "left:-999px",
        "font-size:48px",
        "width:auto",
        "height:auto",
        "line-height:normal",
        "margin:0",
        "padding:0",
        "font-variant:normal",
        "white-space:nowrap"
      ],
      f = '<div style="%s" aria-hidden="true">' + a + "</div>",
      g = function() {
        (this.fontFamily = ""),
          (this.appended = !1),
          (this.serif = void 0),
          (this.sansSerif = void 0),
          (this.parent = void 0),
          (this.options = {});
      };
    (g.prototype.getMeasurements = function() {
      return {
        sansSerif: {
          width: this.sansSerif.offsetWidth,
          height: this.sansSerif.offsetHeight
        },
        serif: {
          width: this.serif.offsetWidth,
          height: this.serif.offsetHeight
        }
      };
    }),
      (g.prototype.load = function() {
        function a(a) {
          return e
            .concat(["font-weight:" + o.weight, "font-style:" + o.style])
            .concat("font-family:" + a)
            .join(";");
        }
        function d(a, b, c) {
          return (
            Math.abs(a.width - b.offsetWidth) > c ||
            Math.abs(a.height - b.offsetHeight) > c
          );
        }
        function g() {
          return new Date().getTime() - i.getTime() > o.timeout;
        }
        var h,
          i = new Date(),
          j = this,
          k = j.serif,
          l = j.sansSerif,
          m = j.parent,
          n = j.appended,
          o = j.options,
          p = o.reference,
          q = f.replace(/\%s/, a(b)),
          r = f.replace(/\%s/, a(c));
        m || (m = j.parent = o.window.document.createElement("div")),
          (m.innerHTML = q + r),
          (l = j.sansSerif = m.firstChild),
          (k = j.serif = l.nextSibling),
          o.glyphs && ((l.innerHTML += o.glyphs), (k.innerHTML += o.glyphs)),
          (function s() {
            p || (p = o.window.document.body),
              !n &&
                p &&
                (p.appendChild(m),
                (n = j.appended = !0),
                (h = j.getMeasurements()),
                (l.style.fontFamily = j.fontFamily + ", " + b),
                (k.style.fontFamily = j.fontFamily + ", " + c)),
              n &&
              h &&
              (d(h.sansSerif, l, o.tolerance) || d(h.serif, k, o.tolerance))
                ? o.success()
                : g()
                  ? o.error()
                  : !n && "requestAnimationFrame" in o.window
                    ? o.window.requestAnimationFrame(s)
                    : o.window.setTimeout(s, o.delay);
          })();
      }),
      (g.prototype.cleanFamilyName = function(a) {
        return a.replace(/[\'\"]/g, "").toLowerCase();
      }),
      (g.prototype.cleanWeight = function(a) {
        var b = { normal: "400", bold: "700" };
        return "" + (b[a] || a);
      }),
      (g.prototype.checkFontFaces = function(a) {
        var b = this;
        b.options.window.document.fonts.forEach(function(c) {
          b.cleanFamilyName(c.family) === b.cleanFamilyName(b.fontFamily) &&
            b.cleanWeight(c.weight) === b.cleanWeight(b.options.weight) &&
            c.style === b.options.style &&
            c.load().then(function() {
              b.options.success(c), b.options.window.clearTimeout(a);
            });
        });
      }),
      (g.prototype.init = function(a, b) {
        var c;
        for (var e in d) b.hasOwnProperty(e) || (b[e] = d[e]);
        (this.options = b),
          (this.fontFamily = a),
          !b.glyphs && "fonts" in b.window.document
            ? (b.timeout &&
                (c = b.window.setTimeout(function() {
                  b.error();
                }, b.timeout)),
              this.checkFontFaces(c))
            : this.load();
      });
    var h = function(a, b) {
      var c = new g();
      return c.init(a, b), c;
    };
    return h;
  }),
  this.JpegMeta)
)
  throw Error("Library included multiple times");
var JpegMeta = {};
(JpegMeta.stringIsClean = function(a) {
  for (var b = 0; b < a.length; b++) if (a.charCodeAt(b) < 32) return !1;
  return !0;
}),
  (JpegMeta.parseNum = function(a, b, c, d) {
    var e,
      f,
      g = ">" === a;
    for (
      void 0 === c && (c = 0),
        void 0 === d && (d = b.length - c),
        e = g ? c : c + d - 1;
      g ? c + d > e : e >= c;
      g ? e++ : e--
    )
      (f <<= 8), (f += b.charCodeAt(e));
    return f;
  }),
  (JpegMeta.parseSnum = function(a, b, c, d) {
    var e,
      f,
      g,
      h = ">" === a;
    for (
      void 0 === c && (c = 0),
        void 0 === d && (d = b.length - c),
        e = h ? c : c + d - 1;
      h ? c + d > e : e >= c;
      h ? e++ : e--
    )
      void 0 === g && (g = 128 === (128 & b.charCodeAt(e))),
        (f <<= 8),
        (f += g ? 255 & ~b.charCodeAt(e) : b.charCodeAt(e));
    return g && ((f += 1), (f *= -1)), f;
  }),
  (JpegMeta.Rational = function(a, b) {
    return (this.num = a), (this.den = b || 1), this;
  }),
  (JpegMeta.Rational.prototype.toString = function() {
    return 0 === this.num
      ? "" + this.num
      : 1 === this.den
        ? "" + this.num
        : 1 === this.num
          ? this.num + " / " + this.den
          : this.num / this.den;
  }),
  (JpegMeta.Rational.prototype.asFloat = function() {
    return this.num / this.den;
  }),
  (JpegMeta.MetaGroup = function(a, b) {
    return (
      (this.fieldName = a), (this.description = b), (this.metaProps = {}), this
    );
  }),
  (JpegMeta.MetaGroup.prototype._addProperty = function(a, b, c) {
    var d = new JpegMeta.MetaProp(a, b, c);
    (this[d.fieldName] = d), (this.metaProps[d.fieldName] = d);
  }),
  (JpegMeta.MetaGroup.prototype.toString = function() {
    return "[MetaGroup " + this.description + "]";
  }),
  (JpegMeta.MetaProp = function(a, b, c) {
    return (this.fieldName = a), (this.description = b), (this.value = c), this;
  }),
  (JpegMeta.MetaProp.prototype.toString = function() {
    return "" + this.value;
  }),
  (this.JpegMeta.JpegFile = function(a, b) {
    var c = this._SOS;
    (this.metaGroups = {}), (this._binary_data = a), (this.filename = b);
    var d,
      e,
      f,
      g,
      h,
      i,
      j,
      k = 0,
      l = 0;
    if (this._binary_data.slice(0, 2) !== this._SOI_MARKER)
      throw new Error(
        "Doesn't look like a JPEG file. First two bytes are " +
          this._binary_data.charCodeAt(0) +
          "," +
          this._binary_data.charCodeAt(1) +
          "."
      );
    for (
      k += 2;
      k < this._binary_data.length &&
      ((d = this._binary_data.charCodeAt(k++)),
      (e = this._binary_data.charCodeAt(k++)),
      (l = k),
      d == this._DELIM) &&
      e !== c;

    ) {
      for (
        h = JpegMeta.parseNum(">", this._binary_data, k, 2), k += h;
        k < this._binary_data.length;

      )
        if (
          ((d = this._binary_data.charCodeAt(k++)),
          d == this._DELIM && ((f = this._binary_data.charCodeAt(k++)), 0 != f))
        ) {
          k -= 2;
          break;
        }
      (g = k - l),
        this._markers[e]
          ? ((i = this._markers[e][0]), (j = this._markers[e][1]))
          : ((i = "UNKN"), (j = void 0)),
        j && this[j](e, l + 2, g - 2);
    }
    if (void 0 === this.general) throw Error("Invalid JPEG file.");
    return this;
  }),
  (this.JpegMeta.JpegFile.prototype.toString = function() {
    return (
      "[JpegFile " +
      this.filename +
      " " +
      this.general.type +
      " " +
      this.general.pixelWidth +
      "x" +
      this.general.pixelHeight +
      " Depth: " +
      this.general.depth +
      "]"
    );
  }),
  (this.JpegMeta.JpegFile.prototype._SOI_MARKER = "ÿØ"),
  (this.JpegMeta.JpegFile.prototype._DELIM = 255),
  (this.JpegMeta.JpegFile.prototype._EOI = 217),
  (this.JpegMeta.JpegFile.prototype._SOS = 218),
  (this.JpegMeta.JpegFile.prototype._sofHandler = function(a, b) {
    if (void 0 !== this.general) throw Error("Unexpected multiple-frame image");
    this._addMetaGroup("general", "General"),
      this.general._addProperty(
        "depth",
        "Depth",
        JpegMeta.parseNum(">", this._binary_data, b, 1)
      ),
      this.general._addProperty(
        "pixelHeight",
        "Pixel Height",
        JpegMeta.parseNum(">", this._binary_data, b + 1, 2)
      ),
      this.general._addProperty(
        "pixelWidth",
        "Pixel Width",
        JpegMeta.parseNum(">", this._binary_data, b + 3, 2)
      ),
      this.general._addProperty("type", "Type", this._markers[a][2]);
  }),
  (this.JpegMeta.JpegFile.prototype._commentHandler = function(a, b, c) {
    var d, e;
    for (b++, c--, d = b, e = ""; b + c > d; )
      (e += String.fromCharCode(this._binary_data.charCodeAt(d))), d++;
    this._addMetaGroup("comment", "Comment"),
      this.comment._addProperty("comment", "Comment", e);
  }),
  (this.JpegMeta.JpegFile.prototype._JFIF_IDENT = "JFIF\x00"),
  (this.JpegMeta.JpegFile.prototype._JFXX_IDENT = "JFXX\x00"),
  (this.JpegMeta.JpegFile.prototype._EXIF_IDENT = "Exif\x00"),
  (this.JpegMeta.JpegFile.prototype._types = {
    1: ["BYTE", 1],
    2: ["ASCII", 1],
    3: ["SHORT", 2],
    4: ["LONG", 4],
    5: ["RATIONAL", 8],
    6: ["SBYTE", 1],
    7: ["UNDEFINED", 1],
    8: ["SSHORT", 2],
    9: ["SLONG", 4],
    10: ["SRATIONAL", 8],
    11: ["FLOAT", 4],
    12: ["DOUBLE", 8]
  }),
  (this.JpegMeta.JpegFile.prototype._tifftags = {
    256: ["Image width", "ImageWidth"],
    257: ["Image height", "ImageLength"],
    258: ["Number of bits per component", "BitsPerSample"],
    259: [
      "Compression scheme",
      "Compression",
      { 1: "uncompressed", 6: "JPEG compression" }
    ],
    262: [
      "Pixel composition",
      "PhotmetricInerpretation",
      { 2: "RGB", 6: "YCbCr" }
    ],
    274: [
      "Orientation of image",
      "Orientation",
      {
        1: "Normal",
        2: "Reverse?",
        3: "Upside-down",
        4: "Upside-down Reverse",
        5: "90 degree CW",
        6: "90 degree CW reverse",
        7: "90 degree CCW",
        8: "90 degree CCW reverse"
      }
    ],
    277: ["Number of components", "SamplesPerPixel"],
    284: [
      "Image data arrangement",
      "PlanarConfiguration",
      { 1: "chunky format", 2: "planar format" }
    ],
    530: ["Subsampling ratio of Y to C", "YCbCrSubSampling"],
    531: [
      "Y and C positioning",
      "YCbCrPositioning",
      { 1: "centered", 2: "co-sited" }
    ],
    282: ["X Resolution", "XResolution"],
    283: ["Y Resolution", "YResolution"],
    296: [
      "Resolution Unit",
      "ResolutionUnit",
      { 2: "inches", 3: "centimeters" }
    ],
    273: ["Image data location", "StripOffsets"],
    278: ["Number of rows per strip", "RowsPerStrip"],
    279: ["Bytes per compressed strip", "StripByteCounts"],
    513: ["Offset to JPEG SOI", "JPEGInterchangeFormat"],
    514: ["Bytes of JPEG Data", "JPEGInterchangeFormatLength"],
    301: ["Transfer function", "TransferFunction"],
    318: ["White point chromaticity", "WhitePoint"],
    319: ["Chromaticities of primaries", "PrimaryChromaticities"],
    529: [
      "Color space transformation matrix coefficients",
      "YCbCrCoefficients"
    ],
    532: ["Pair of black and white reference values", "ReferenceBlackWhite"],
    306: ["Date and time", "DateTime"],
    270: ["Image title", "ImageDescription"],
    271: ["Make", "Make"],
    272: ["Model", "Model"],
    305: ["Software", "Software"],
    315: ["Person who created the image", "Artist"],
    316: ["Host Computer", "HostComputer"],
    33432: ["Copyright holder", "Copyright"],
    34665: ["Exif tag", "ExifIfdPointer"],
    34853: ["GPS tag", "GPSInfoIfdPointer"]
  }),
  (this.JpegMeta.JpegFile.prototype._exiftags = {
    36864: ["Exif Version", "ExifVersion"],
    40960: ["FlashPix Version", "FlashpixVersion"],
    40961: ["Color Space", "ColorSpace"],
    37121: ["Meaning of each component", "ComponentsConfiguration"],
    37122: ["Compressed Bits Per Pixel", "CompressedBitsPerPixel"],
    40962: ["Pixel X Dimension", "PixelXDimension"],
    40963: ["Pixel Y Dimension", "PixelYDimension"],
    37500: ["Manufacturer notes", "MakerNote"],
    37510: ["User comments", "UserComment"],
    40964: ["Related audio file", "RelatedSoundFile"],
    36867: ["Date Time Original", "DateTimeOriginal"],
    36868: ["Date Time Digitized", "DateTimeDigitized"],
    37520: ["DateTime subseconds", "SubSecTime"],
    37521: ["DateTimeOriginal subseconds", "SubSecTimeOriginal"],
    37522: ["DateTimeDigitized subseconds", "SubSecTimeDigitized"],
    33434: ["Exposure time", "ExposureTime"],
    33437: ["FNumber", "FNumber"],
    34850: ["Exposure program", "ExposureProgram"],
    34852: ["Spectral sensitivity", "SpectralSensitivity"],
    34855: ["ISO Speed Ratings", "ISOSpeedRatings"],
    34856: ["Optoelectric coefficient", "OECF"],
    37377: ["Shutter Speed", "ShutterSpeedValue"],
    37378: ["Aperture Value", "ApertureValue"],
    37379: ["Brightness", "BrightnessValue"],
    37380: ["Exposure Bias Value", "ExposureBiasValue"],
    37381: ["Max Aperture Value", "MaxApertureValue"],
    37382: ["Subject Distance", "SubjectDistance"],
    37383: ["Metering Mode", "MeteringMode"],
    37384: ["Light Source", "LightSource"],
    37385: ["Flash", "Flash"],
    37386: ["Focal Length", "FocalLength"],
    37396: ["Subject Area", "SubjectArea"],
    41483: ["Flash Energy", "FlashEnergy"],
    41484: ["Spatial Frequency Response", "SpatialFrequencyResponse"],
    41486: ["Focal Plane X Resolution", "FocalPlaneXResolution"],
    41487: ["Focal Plane Y Resolution", "FocalPlaneYResolution"],
    41488: ["Focal Plane Resolution Unit", "FocalPlaneResolutionUnit"],
    41492: ["Subject Location", "SubjectLocation"],
    41493: ["Exposure Index", "ExposureIndex"],
    41495: ["Sensing Method", "SensingMethod"],
    41728: ["File Source", "FileSource"],
    41729: ["Scene Type", "SceneType"],
    41730: ["CFA Pattern", "CFAPattern"],
    41985: ["Custom Rendered", "CustomRendered"],
    41986: ["Exposure Mode", "Exposure Mode"],
    41987: ["White Balance", "WhiteBalance"],
    41988: ["Digital Zoom Ratio", "DigitalZoomRatio"],
    41989: ["Focal length in 35 mm film", "FocalLengthIn35mmFilm"],
    41990: ["Scene Capture Type", "SceneCaptureType"],
    41991: ["Gain Control", "GainControl"],
    41992: ["Contrast", "Contrast"],
    41993: ["Saturation", "Saturation"],
    41994: ["Sharpness", "Sharpness"],
    41995: ["Device settings description", "DeviceSettingDescription"],
    41996: ["Subject distance range", "SubjectDistanceRange"],
    42016: ["Unique image ID", "ImageUniqueID"],
    40965: ["Interoperability tag", "InteroperabilityIFDPointer"]
  }),
  (this.JpegMeta.JpegFile.prototype._gpstags = {
    0: ["GPS tag version", "GPSVersionID"],
    1: ["North or South Latitude", "GPSLatitudeRef"],
    2: ["Latitude", "GPSLatitude"],
    3: ["East or West Longitude", "GPSLongitudeRef"],
    4: ["Longitude", "GPSLongitude"],
    5: ["Altitude reference", "GPSAltitudeRef"],
    6: ["Altitude", "GPSAltitude"],
    7: ["GPS time (atomic clock)", "GPSTimeStamp"],
    8: ["GPS satellites usedd for measurement", "GPSSatellites"],
    9: ["GPS receiver status", "GPSStatus"],
    10: ["GPS mesaurement mode", "GPSMeasureMode"],
    11: ["Measurement precision", "GPSDOP"],
    12: ["Speed unit", "GPSSpeedRef"],
    13: ["Speed of GPS receiver", "GPSSpeed"],
    14: ["Reference for direction of movement", "GPSTrackRef"],
    15: ["Direction of movement", "GPSTrack"],
    16: ["Reference for direction of image", "GPSImgDirectionRef"],
    17: ["Direction of image", "GPSImgDirection"],
    18: ["Geodetic survey data used", "GPSMapDatum"],
    19: ["Reference for latitude of destination", "GPSDestLatitudeRef"],
    20: ["Latitude of destination", "GPSDestLatitude"],
    21: ["Reference for longitude of destination", "GPSDestLongitudeRef"],
    22: ["Longitude of destination", "GPSDestLongitude"],
    23: ["Reference for bearing of destination", "GPSDestBearingRef"],
    24: ["Bearing of destination", "GPSDestBearing"],
    25: ["Reference for distance to destination", "GPSDestDistanceRef"],
    26: ["Distance to destination", "GPSDestDistance"],
    27: ["Name of GPS processing method", "GPSProcessingMethod"],
    28: ["Name of GPS area", "GPSAreaInformation"],
    29: ["GPS Date", "GPSDateStamp"],
    30: ["GPS differential correction", "GPSDifferential"]
  }),
  (this.JpegMeta.JpegFile.prototype._iptctags = {
    0: ["Record Version", "recordVersion"],
    3: ["Object Type Reference", "objectType"],
    4: ["Object Attribute Reference", "objectAttribute"],
    5: ["Object Name", "objectName"],
    7: ["Edit Status", "editStatus"],
    8: ["Editorial Update", "editorialUpdate"],
    10: ["Urgency", "urgency"],
    12: ["Subject Reference", "subjectRef"],
    15: ["Category", "category"],
    20: ["Supplemental Category", "supplCategory"],
    22: ["Fixture Identifier", "fixtureID"],
    25: ["Keywords", "keywords"],
    26: ["Content Location Code", "contentLocCode"],
    27: ["Content Location Name", "contentLocName"],
    30: ["Release Date", "releaseDate"],
    35: ["Release Time", "releaseTime"],
    37: ["Expiration Date", "expirationDate"],
    38: ["Expiration Time", "expirationTime"],
    40: ["Special Instructions", "specialInstructions"],
    42: ["Action Advised", "actionAdvised"],
    45: ["Reference Service", "refService"],
    47: ["Reference Date", "refDate"],
    50: ["Reference Number", "refNumber"],
    55: ["Date Created", "dateCreated"],
    60: ["Time Created", "timeCreated"],
    62: ["Digital Creation Date", "digitalCreationDate"],
    63: ["Digital Creation Time", "digitalCreationTime"],
    65: ["Originating Program", "originatingProgram"],
    70: ["Program Version", "programVersion"],
    75: ["Object Cycle", "objectCycle"],
    80: ["By-line", "byline"],
    85: ["By-line Title", "bylineTitle"],
    90: ["City", "city"],
    92: ["Sub-location", "sublocation"],
    95: ["Province/State", "state"],
    100: ["Country Code", "countryCode"],
    101: ["Country Name", "countryName"],
    103: ["Original Transmission Reference", "origTransRef"],
    105: ["Headline", "headline"],
    110: ["Credit", "credit"],
    115: ["Source", "source"],
    116: ["Copyright Notice", "copyrightNotice"],
    118: ["Contact", "contact"],
    120: ["Caption/Abstract", "caption"],
    122: ["Writer/Editor", "writerEditor"],
    125: ["Rasterized Caption", "rasterizedCaption"],
    130: ["Image Type", "imageType"],
    131: ["Image Orientation", "imageOrientation"],
    135: ["Language Identifier", "languageID"],
    150: ["Audio Type", "audioType"],
    151: ["Audio Sampling Rate", "audioSamplingRate"],
    152: ["Audio Sampling Resolution", "audioSamplingRes"],
    153: ["Audio Duration", "audioDuration"],
    154: ["Audio Outcue", "audioOutcue"],
    200: ["Preview File Format", "previewFileFormat"],
    201: ["Preview File Format Version", "previewFileFormatVer"],
    202: ["Preview Data", "previewData"]
  }),
  (this.JpegMeta.JpegFile.prototype._markers = {
    192: ["SOF0", "_sofHandler", "Baseline DCT"],
    193: ["SOF1", "_sofHandler", "Extended sequential DCT"],
    194: ["SOF2", "_sofHandler", "Progressive DCT"],
    195: ["SOF3", "_sofHandler", "Lossless (sequential)"],
    197: ["SOF5", "_sofHandler", "Differential sequential DCT"],
    198: ["SOF6", "_sofHandler", "Differential progressive DCT"],
    199: ["SOF7", "_sofHandler", "Differential lossless (sequential)"],
    200: ["JPG", null, "Reserved for JPEG extensions"],
    201: ["SOF9", "_sofHandler", "Extended sequential DCT"],
    202: ["SOF10", "_sofHandler", "Progressive DCT"],
    203: ["SOF11", "_sofHandler", "Lossless (sequential)"],
    205: ["SOF13", "_sofHandler", "Differential sequential DCT"],
    206: ["SOF14", "_sofHandler", "Differential progressive DCT"],
    207: ["SOF15", "_sofHandler", "Differential lossless (sequential)"],
    196: ["DHT", null, "Define Huffman table(s)"],
    204: ["DAC", null, "Define arithmetic coding conditioning(s)"],
    208: ["RST0", null, "Restart with modulo 8 count �0�"],
    209: ["RST1", null, "Restart with modulo 8 count �1�"],
    210: ["RST2", null, "Restart with modulo 8 count �2�"],
    211: ["RST3", null, "Restart with modulo 8 count �3�"],
    212: ["RST4", null, "Restart with modulo 8 count �4�"],
    213: ["RST5", null, "Restart with modulo 8 count �5�"],
    214: ["RST6", null, "Restart with modulo 8 count �6�"],
    215: ["RST7", null, "Restart with modulo 8 count �7�"],
    216: ["SOI", null, "Start of image"],
    217: ["EOI", null, "End of image"],
    218: ["SOS", null, "Start of scan"],
    219: ["DQT", null, "Define quantization table(s)"],
    220: ["DNL", null, "Define number of lines"],
    221: ["DRI", null, "Define restart interval"],
    222: ["DHP", null, "Define hierarchical progression"],
    223: ["EXP", null, "Expand reference component(s)"],
    224: ["APP0", "_app0Handler", "Reserved for application segments"],
    225: ["APP1", "_app1Handler"],
    226: ["APP2", null],
    227: ["APP3", null],
    228: ["APP4", null],
    229: ["APP5", null],
    230: ["APP6", null],
    231: ["APP7", null],
    232: ["APP8", null],
    233: ["APP9", null],
    234: ["APP10", null],
    235: ["APP11", null],
    236: ["APP12", null],
    237: ["IPTC", "_iptcHandler", "IPTC Photo Metadata"],
    238: ["APP14", null],
    239: ["APP15", null],
    240: ["JPG0", null],
    241: ["JPG1", null],
    242: ["JPG2", null],
    243: ["JPG3", null],
    244: ["JPG4", null],
    245: ["JPG5", null],
    246: ["JPG6", null],
    247: ["JPG7", null],
    248: ["JPG8", null],
    249: ["JPG9", null],
    250: ["JPG10", null],
    251: ["JPG11", null],
    252: ["JPG12", null],
    253: ["JPG13", null],
    254: ["COM", "_commentHandler", "Comment"],
    1: ["JPG13", null]
  }),
  (this.JpegMeta.JpegFile.prototype._addMetaGroup = function(a, b) {
    var c = new JpegMeta.MetaGroup(a, b);
    return (this[c.fieldName] = c), (this.metaGroups[c.fieldName] = c), c;
  }),
  (this.JpegMeta.JpegFile.prototype._parseIfd = function(a, b, c, d, e, f, g) {
    var h,
      i,
      j,
      k,
      l,
      m,
      n,
      o,
      p,
      q,
      r,
      s = JpegMeta.parseNum(a, b, c + d, 2);
    r = this._addMetaGroup(f, g);
    for (var t = 0; s > t; t++)
      if (
        ((h = c + d + 2 + 12 * t),
        (i = JpegMeta.parseNum(a, b, h, 2)),
        (k = JpegMeta.parseNum(a, b, h + 2, 2)),
        (m = JpegMeta.parseNum(a, b, h + 4, 4)),
        (n = JpegMeta.parseNum(a, b, h + 8, 4)),
        void 0 !== this._types[k])
      ) {
        if (
          ((j = this._types[k][0]),
          (l = this._types[k][1]),
          (n = 4 >= l * m ? h + 8 : c + n),
          "UNDEFINED" == j)
        )
          o = void 0;
        else if ("ASCII" == j)
          (o = b.slice(n, n + m)),
            (o = o.split("\x00")[0]),
            JpegMeta.stringIsClean(o) || (o = "");
        else {
          o = new Array();
          for (var u = 0; m > u; u++, n += l)
            ("BYTE" == j || "SHORT" == j || "LONG" == j) &&
              o.push(JpegMeta.parseNum(a, b, n, l)),
              ("SBYTE" == j || "SSHORT" == j || "SLONG" == j) &&
                o.push(JpegMeta.parseSnum(a, b, n, l)),
              "RATIONAL" == j &&
                ((p = JpegMeta.parseNum(a, b, n, 4)),
                (q = JpegMeta.parseNum(a, b, n + 4, 4)),
                o.push(new JpegMeta.Rational(p, q))),
              "SRATIONAL" == j &&
                ((p = JpegMeta.parseSnum(a, b, n, 4)),
                (q = JpegMeta.parseSnum(a, b, n + 4, 4)),
                o.push(new JpegMeta.Rational(p, q))),
              o.push();
          1 === m && (o = o[0]);
        }
        e.hasOwnProperty(i)
          ? r._addProperty(e[i][1], e[i][0], o)
          : console.log("WARNING(jpegmeta.js): Unknown tag: ", i);
      }
  }),
  (this.JpegMeta.JpegFile.prototype._jfifHandler = function(a, b) {
    if (void 0 !== this.jfif) throw Error("Multiple JFIF segments found");
    this._addMetaGroup("jfif", "JFIF"),
      this.jfif._addProperty(
        "version_major",
        "Version Major",
        this._binary_data.charCodeAt(b + 5)
      ),
      this.jfif._addProperty(
        "version_minor",
        "Version Minor",
        this._binary_data.charCodeAt(b + 6)
      ),
      this.jfif._addProperty(
        "version",
        "JFIF Version",
        this.jfif.version_major.value + "." + this.jfif.version_minor.value
      ),
      this.jfif._addProperty(
        "units",
        "Density Unit",
        this._binary_data.charCodeAt(b + 7)
      ),
      this.jfif._addProperty(
        "Xdensity",
        "X density",
        JpegMeta.parseNum(">", this._binary_data, b + 8, 2)
      ),
      this.jfif._addProperty(
        "Ydensity",
        "Y Density",
        JpegMeta.parseNum(">", this._binary_data, b + 10, 2)
      ),
      this.jfif._addProperty(
        "Xthumbnail",
        "X Thumbnail",
        JpegMeta.parseNum(">", this._binary_data, b + 12, 1)
      ),
      this.jfif._addProperty(
        "Ythumbnail",
        "Y Thumbnail",
        JpegMeta.parseNum(">", this._binary_data, b + 13, 1)
      );
  }),
  (this.JpegMeta.JpegFile.prototype._app0Handler = function(a, b) {
    var c = this._binary_data.slice(b, b + 5);
    c == this._JFIF_IDENT ? this._jfifHandler(a, b) : c == this._JFXX_IDENT;
  }),
  (this.JpegMeta.JpegFile.prototype._app1Handler = function(a, b) {
    var c = this._binary_data.slice(b, b + 5);
    c == this._EXIF_IDENT && this._exifHandler(a, b + 6);
  }),
  (JpegMeta.JpegFile.prototype._exifHandler = function(a, b) {
    if (void 0 !== this.exif) throw new Error("Multiple JFIF segments found");
    var c,
      d,
      e,
      f = this._binary_data.slice(b, b + 2);
    if ("II" === f) c = "<";
    else {
      if ("MM" !== f)
        throw new Error("Malformed TIFF meta-data. Unknown endianess: " + f);
      c = ">";
    }
    if (((d = JpegMeta.parseNum(c, this._binary_data, b + 2, 2)), 42 !== d))
      throw new Error("Malformed TIFF meta-data. Bad magic: " + d);
    if (
      ((e = JpegMeta.parseNum(c, this._binary_data, b + 4, 4)),
      this._parseIfd(
        c,
        this._binary_data,
        b,
        e,
        this._tifftags,
        "tiff",
        "TIFF"
      ),
      this.tiff.ExifIfdPointer &&
        this._parseIfd(
          c,
          this._binary_data,
          b,
          this.tiff.ExifIfdPointer.value,
          this._exiftags,
          "exif",
          "Exif"
        ),
      this.tiff.GPSInfoIfdPointer)
    ) {
      if (
        (this._parseIfd(
          c,
          this._binary_data,
          b,
          this.tiff.GPSInfoIfdPointer.value,
          this._gpstags,
          "gps",
          "GPS"
        ),
        this.gps.GPSLatitude)
      ) {
        var g;
        (g =
          this.gps.GPSLatitude.value[0].asFloat() +
          1 / 60 * this.gps.GPSLatitude.value[1].asFloat() +
          1 / 3600 * this.gps.GPSLatitude.value[2].asFloat()),
          "S" === this.gps.GPSLatitudeRef.value && (g = -g),
          this.gps._addProperty("latitude", "Dec. Latitude", g);
      }
      if (this.gps.GPSLongitude) {
        var h;
        (h =
          this.gps.GPSLongitude.value[0].asFloat() +
          1 / 60 * this.gps.GPSLongitude.value[1].asFloat() +
          1 / 3600 * this.gps.GPSLongitude.value[2].asFloat()),
          "W" === this.gps.GPSLongitudeRef.value && (h = -h),
          this.gps._addProperty("longitude", "Dec. Longitude", h);
      }
    }
  }),
  (this.JpegMeta.JpegFile.prototype._iptcHandler = function(a, b, c) {
    this._addMetaGroup("iptc", "IPTC");
    for (
      var d,
        e,
        f,
        g,
        h = "<",
        i = JpegMeta.parseNum(h, this._binary_data, b + 4, 1),
        j = 28,
        k = 2,
        l = 0;
      c > l;
      l++
    )
      if (((e = b + l), JpegMeta.parseNum(h, this._binary_data, e, 1) == k)) {
        if (
          ((g = JpegMeta.parseNum(h, this._binary_data, e + 1, 1)),
          (tag_desc = this._iptctags[g]),
          !tag_desc)
        )
          continue;
        for (
          i = 0, d = 2;
          c > d &&
          JpegMeta.parseNum(h, this._binary_data, e + d, 1) != j &&
          JpegMeta.parseNum(h, this._binary_data, e + d + 1, 1) != k;

        )
          d++, i++;
        if (!i) continue;
        (f = this._binary_data.slice(b + l + 2, b + l + 2 + i)),
          (f = f.replace("\x00", "").trim()),
          this.iptc._addProperty(tag_desc[1], tag_desc[0], f),
          (l += i - 1);
      }
  }),
  "function" != typeof Object.create &&
    (Object.create = function(a) {
      function b() {}
      return (b.prototype = a), new b();
    }),
  (function(a) {
    var b = {
      init: function(b, c) {
        var d = this;
        (d.elem = c),
          (d.$elem = a(c)),
          (d.imageSrc = d.$elem.data("zoom-image")
            ? d.$elem.data("zoom-image")
            : d.$elem.attr("src")),
          (d.options = a.extend({}, a.fn.elevateZoom.options, b)),
          d.options.tint &&
            ((d.options.lensColour = "none"), (d.options.lensOpacity = "1")),
          "inner" == d.options.zoomType && (d.options.showLens = !1),
          d.$elem
            .parent()
            .removeAttr("title")
            .removeAttr("alt"),
          (d.zoomImage = d.imageSrc),
          d.refresh(1),
          a("#" + d.options.gallery + " a").click(function(b) {
            return (
              d.options.galleryActiveClass &&
                (a("#" + d.options.gallery + " a").removeClass(
                  d.options.galleryActiveClass
                ),
                a(this).addClass(d.options.galleryActiveClass)),
              b.preventDefault(),
              (d.zoomImagePre = a(this).data(
                a(this).data("zoom-image") ? "zoom-image" : "image"
              )),
              d.swaptheimage(a(this).data("image"), d.zoomImagePre),
              !1
            );
          });
      },
      refresh: function(a) {
        var b = this;
        setTimeout(function() {
          b.fetch(b.imageSrc);
        }, a || b.options.refresh);
      },
      fetch: function(a) {
        var b = this,
          c = new Image();
        (c.onload = function() {
          (b.largeWidth = c.width),
            (b.largeHeight = c.height),
            b.startZoom(),
            (b.currentImage = b.imageSrc),
            b.options.onZoomedImageLoaded(b.$elem);
        }),
          (c.src = a);
      },
      startZoom: function() {
        var b = this;
        if (
          ((b.nzWidth = b.$elem.width()),
          (b.nzHeight = b.$elem.height()),
          (b.isWindowActive = !1),
          (b.isLensActive = !1),
          (b.isTintActive = !1),
          (b.overWindow = !1),
          b.options.imageCrossfade &&
            ((b.zoomWrap = b.$elem.wrap(
              '<div style="height:' +
                b.nzHeight +
                "px;width:" +
                b.nzWidth +
                'px;" class="zoomWrapper" />'
            )),
            b.$elem.css("position", "absolute")),
          (b.zoomLock = 1),
          (b.scrollingLock = !1),
          (b.changeBgSize = !1),
          (b.currentZoomLevel = b.options.zoomLevel),
          (b.nzOffset = b.$elem.offset()),
          (b.widthRatio = b.largeWidth / b.currentZoomLevel / b.nzWidth),
          (b.heightRatio = b.largeHeight / b.currentZoomLevel / b.nzHeight),
          "window" == b.options.zoomType &&
            (b.zoomWindowStyle =
              "overflow: hidden;background-position: 0px 0px;text-align:center;background-color: " +
              String(b.options.zoomWindowBgColour) +
              ";width: " +
              String(b.options.zoomWindowWidth) +
              "px;height: " +
              String(b.options.zoomWindowHeight) +
              "px;float: left;background-size: " +
              b.largeWidth / b.currentZoomLevel +
              "px " +
              b.largeHeight / b.currentZoomLevel +
              "px;display: none;z-index:100;border: " +
              String(b.options.borderSize) +
              "px solid " +
              b.options.borderColour +
              ";background-repeat: no-repeat;position: absolute;"),
          "inner" == b.options.zoomType)
        ) {
          var c = b.$elem.css("border-left-width");
          b.zoomWindowStyle =
            "overflow: hidden;margin-left: " +
            String(c) +
            ";margin-top: " +
            String(c) +
            ";background-position: 0px 0px;width: " +
            String(b.nzWidth) +
            "px;height: " +
            String(b.nzHeight) +
            "px;px;float: left;display: none;cursor:" +
            b.options.cursor +
            ";px solid " +
            b.options.borderColour +
            ";background-repeat: no-repeat;position: absolute;";
        }
        "window" == b.options.zoomType &&
          ((lensHeight =
            b.nzHeight < b.options.zoomWindowWidth / b.widthRatio
              ? b.nzHeight
              : String(b.options.zoomWindowHeight / b.heightRatio)),
          (lensWidth =
            b.largeWidth < b.options.zoomWindowWidth
              ? b.nzWidth
              : b.options.zoomWindowWidth / b.widthRatio),
          (b.lensStyle =
            "background-position: 0px 0px;width: " +
            String(b.options.zoomWindowWidth / b.widthRatio) +
            "px;height: " +
            String(b.options.zoomWindowHeight / b.heightRatio) +
            "px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:" +
            b.options.lensOpacity +
            ";filter: alpha(opacity = " +
            100 * b.options.lensOpacity +
            "); zoom:1;width:" +
            lensWidth +
            "px;height:" +
            lensHeight +
            "px;background-color:" +
            b.options.lensColour +
            ";cursor:" +
            b.options.cursor +
            ";border: " +
            b.options.lensBorderSize +
            "px solid " +
            b.options.lensBorderColour +
            ";background-repeat: no-repeat;position: absolute;")),
          (b.tintStyle =
            "display: block;position: absolute;background-color: " +
            b.options.tintColour +
            ";filter:alpha(opacity=0);opacity: 0;width: " +
            b.nzWidth +
            "px;height: " +
            b.nzHeight +
            "px;"),
          (b.lensRound = ""),
          "lens" == b.options.zoomType &&
            (b.lensStyle =
              "background-position: 0px 0px;float: left;display: none;border: " +
              String(b.options.borderSize) +
              "px solid " +
              b.options.borderColour +
              ";width:" +
              String(b.options.lensSize) +
              "px;height:" +
              String(b.options.lensSize) +
              "px;background-repeat: no-repeat;position: absolute;"),
          "round" == b.options.lensShape &&
            (b.lensRound =
              "border-top-left-radius: " +
              String(b.options.lensSize / 2 + b.options.borderSize) +
              "px;border-top-right-radius: " +
              String(b.options.lensSize / 2 + b.options.borderSize) +
              "px;border-bottom-left-radius: " +
              String(b.options.lensSize / 2 + b.options.borderSize) +
              "px;border-bottom-right-radius: " +
              String(b.options.lensSize / 2 + b.options.borderSize) +
              "px;"),
          (b.zoomContainer = a(
            '<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:' +
              b.nzOffset.left +
              "px;top:" +
              b.nzOffset.top +
              "px;height:" +
              b.nzHeight +
              "px;width:" +
              b.nzWidth +
              'px;"></div>'
          )),
          a("body").append(b.zoomContainer),
          b.options.containLensZoom &&
            "lens" == b.options.zoomType &&
            b.zoomContainer.css("overflow", "hidden"),
          "inner" != b.options.zoomType &&
            ((b.zoomLens = a(
              "<div class='zoomLens' style='" +
                b.lensStyle +
                b.lensRound +
                "'>&nbsp;</div>"
            )
              .appendTo(b.zoomContainer)
              .click(function() {
                b.$elem.trigger("click");
              })),
            b.options.tint &&
              ((b.tintContainer = a("<div/>").addClass("tintContainer")),
              (b.zoomTint = a(
                "<div class='zoomTint' style='" + b.tintStyle + "'></div>"
              )),
              b.zoomLens.wrap(b.tintContainer),
              (b.zoomTintcss = b.zoomLens.after(b.zoomTint)),
              (b.zoomTintImage = a(
                '<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: ' +
                  b.nzWidth +
                  "px; height: " +
                  b.nzHeight +
                  'px;" src="' +
                  b.imageSrc +
                  '">'
              )
                .appendTo(b.zoomLens)
                .click(function() {
                  b.$elem.trigger("click");
                })))),
          (b.zoomWindow = isNaN(b.options.zoomWindowPosition)
            ? a(
                "<div style='z-index:999;left:" +
                  b.windowOffsetLeft +
                  "px;top:" +
                  b.windowOffsetTop +
                  "px;" +
                  b.zoomWindowStyle +
                  "' class='zoomWindow'>&nbsp;</div>"
              )
                .appendTo("body")
                .click(function() {
                  b.$elem.trigger("click");
                })
            : a(
                "<div style='z-index:999;left:" +
                  b.windowOffsetLeft +
                  "px;top:" +
                  b.windowOffsetTop +
                  "px;" +
                  b.zoomWindowStyle +
                  "' class='zoomWindow'>&nbsp;</div>"
              )
                .appendTo(b.zoomContainer)
                .click(function() {
                  b.$elem.trigger("click");
                })),
          (b.zoomWindowContainer = a("<div/>")
            .addClass("zoomWindowContainer")
            .css("width", b.options.zoomWindowWidth)),
          b.zoomWindow.wrap(b.zoomWindowContainer),
          "lens" == b.options.zoomType &&
            b.zoomLens.css({ backgroundImage: "url('" + b.imageSrc + "')" }),
          "window" == b.options.zoomType &&
            b.zoomWindow.css({ backgroundImage: "url('" + b.imageSrc + "')" }),
          "inner" == b.options.zoomType &&
            b.zoomWindow.css({ backgroundImage: "url('" + b.imageSrc + "')" }),
          b.$elem.bind("touchmove", function(a) {
            a.preventDefault();
            var c =
              a.originalEvent.touches[0] || a.originalEvent.changedTouches[0];
            b.setPosition(c);
          }),
          b.zoomContainer.bind("touchmove", function(a) {
            "inner" == b.options.zoomType && b.showHideWindow("show"),
              a.preventDefault();
            var c =
              a.originalEvent.touches[0] || a.originalEvent.changedTouches[0];
            b.setPosition(c);
          }),
          b.zoomContainer.bind("touchend", function() {
            b.showHideWindow("hide"),
              b.options.showLens && b.showHideLens("hide"),
              b.options.tint &&
                "inner" != b.options.zoomType &&
                b.showHideTint("hide");
          }),
          b.$elem.bind("touchend", function() {
            b.showHideWindow("hide"),
              b.options.showLens && b.showHideLens("hide"),
              b.options.tint &&
                "inner" != b.options.zoomType &&
                b.showHideTint("hide");
          }),
          b.options.showLens &&
            (b.zoomLens.bind("touchmove", function(a) {
              a.preventDefault();
              var c =
                a.originalEvent.touches[0] || a.originalEvent.changedTouches[0];
              b.setPosition(c);
            }),
            b.zoomLens.bind("touchend", function() {
              b.showHideWindow("hide"),
                b.options.showLens && b.showHideLens("hide"),
                b.options.tint &&
                  "inner" != b.options.zoomType &&
                  b.showHideTint("hide");
            })),
          b.$elem.bind("mousemove", function(a) {
            0 == b.overWindow && b.setElements("show"),
              (b.lastX !== a.clientX || b.lastY !== a.clientY) &&
                (b.setPosition(a), (b.currentLoc = a)),
              (b.lastX = a.clientX),
              (b.lastY = a.clientY);
          }),
          b.zoomContainer.bind("mousemove", function(a) {
            0 == b.overWindow && b.setElements("show"),
              (b.lastX !== a.clientX || b.lastY !== a.clientY) &&
                (b.setPosition(a), (b.currentLoc = a)),
              (b.lastX = a.clientX),
              (b.lastY = a.clientY);
          }),
          "inner" != b.options.zoomType &&
            b.zoomLens.bind("mousemove", function(a) {
              (b.lastX !== a.clientX || b.lastY !== a.clientY) &&
                (b.setPosition(a), (b.currentLoc = a)),
                (b.lastX = a.clientX),
                (b.lastY = a.clientY);
            }),
          b.options.tint &&
            "inner" != b.options.zoomType &&
            b.zoomTint.bind("mousemove", function(a) {
              (b.lastX !== a.clientX || b.lastY !== a.clientY) &&
                (b.setPosition(a), (b.currentLoc = a)),
                (b.lastX = a.clientX),
                (b.lastY = a.clientY);
            }),
          "inner" == b.options.zoomType &&
            b.zoomWindow.bind("mousemove", function(a) {
              (b.lastX !== a.clientX || b.lastY !== a.clientY) &&
                (b.setPosition(a), (b.currentLoc = a)),
                (b.lastX = a.clientX),
                (b.lastY = a.clientY);
            }),
          b.zoomContainer
            .add(b.$elem)
            .mouseenter(function() {
              0 == b.overWindow && b.setElements("show");
            })
            .mouseleave(function() {
              b.scrollLock ||
                (b.setElements("hide"), b.options.onDestroy(b.$elem));
            }),
          "inner" != b.options.zoomType &&
            b.zoomWindow
              .mouseenter(function() {
                (b.overWindow = !0), b.setElements("hide");
              })
              .mouseleave(function() {
                b.overWindow = !1;
              }),
          1 != b.options.zoomLevel,
          (b.minZoomLevel = b.options.minZoomLevel
            ? b.options.minZoomLevel
            : 2 * b.options.scrollZoomIncrement),
          b.options.scrollZoom &&
            b.zoomContainer
              .add(b.$elem)
              .bind("mousewheel DOMMouseScroll MozMousePixelScroll", function(
                c
              ) {
                (b.scrollLock = !0),
                  clearTimeout(a.data(this, "timer")),
                  a.data(
                    this,
                    "timer",
                    setTimeout(function() {
                      b.scrollLock = !1;
                    }, 250)
                  );
                var d =
                  c.originalEvent.wheelDelta || -1 * c.originalEvent.detail;
                return (
                  c.stopImmediatePropagation(),
                  c.stopPropagation(),
                  c.preventDefault(),
                  d / 120 > 0
                    ? b.currentZoomLevel >= b.minZoomLevel &&
                      b.changeZoomLevel(
                        b.currentZoomLevel - b.options.scrollZoomIncrement
                      )
                    : b.options.maxZoomLevel
                      ? b.currentZoomLevel <= b.options.maxZoomLevel &&
                        b.changeZoomLevel(
                          parseFloat(b.currentZoomLevel) +
                            b.options.scrollZoomIncrement
                        )
                      : b.changeZoomLevel(
                          parseFloat(b.currentZoomLevel) +
                            b.options.scrollZoomIncrement
                        ),
                  !1
                );
              });
      },
      setElements: function(a) {
        var b = this;
        return b.options.zoomEnabled
          ? ("show" == a &&
              b.isWindowSet &&
              ("inner" == b.options.zoomType && b.showHideWindow("show"),
              "window" == b.options.zoomType && b.showHideWindow("show"),
              b.options.showLens && b.showHideLens("show"),
              b.options.tint &&
                "inner" != b.options.zoomType &&
                b.showHideTint("show")),
            void (
              "hide" == a &&
              ("window" == b.options.zoomType && b.showHideWindow("hide"),
              b.options.tint || b.showHideWindow("hide"),
              b.options.showLens && b.showHideLens("hide"),
              b.options.tint && b.showHideTint("hide"))
            ))
          : !1;
      },
      setPosition: function(a) {
        var b = this;
        return b.options.zoomEnabled
          ? ((b.nzHeight = b.$elem.height()),
            (b.nzWidth = b.$elem.width()),
            (b.nzOffset = b.$elem.offset()),
            b.options.tint &&
              "inner" != b.options.zoomType &&
              (b.zoomTint.css({ top: 0 }), b.zoomTint.css({ left: 0 })),
            b.options.responsive &&
              !b.options.scrollZoom &&
              b.options.showLens &&
              ((lensHeight =
                b.nzHeight < b.options.zoomWindowWidth / b.widthRatio
                  ? b.nzHeight
                  : String(b.options.zoomWindowHeight / b.heightRatio)),
              (lensWidth =
                b.largeWidth < b.options.zoomWindowWidth
                  ? b.nzWidth
                  : b.options.zoomWindowWidth / b.widthRatio),
              (b.widthRatio = b.largeWidth / b.nzWidth),
              (b.heightRatio = b.largeHeight / b.nzHeight),
              "lens" != b.options.zoomType &&
                ((lensHeight =
                  b.nzHeight < b.options.zoomWindowWidth / b.widthRatio
                    ? b.nzHeight
                    : String(b.options.zoomWindowHeight / b.heightRatio)),
                (lensWidth =
                  b.nzWidth < b.options.zoomWindowHeight / b.heightRatio
                    ? b.nzWidth
                    : String(b.options.zoomWindowWidth / b.widthRatio)),
                b.zoomLens.css("width", lensWidth),
                b.zoomLens.css("height", lensHeight),
                b.options.tint &&
                  (b.zoomTintImage.css("width", b.nzWidth),
                  b.zoomTintImage.css("height", b.nzHeight))),
              "lens" == b.options.zoomType &&
                b.zoomLens.css({
                  width: String(b.options.lensSize) + "px",
                  height: String(b.options.lensSize) + "px"
                })),
            b.zoomContainer.css({ top: b.nzOffset.top }),
            b.zoomContainer.css({ left: b.nzOffset.left }),
            (b.mouseLeft = parseInt(a.pageX - b.nzOffset.left)),
            (b.mouseTop = parseInt(a.pageY - b.nzOffset.top)),
            "window" == b.options.zoomType &&
              ((b.Etoppos = b.mouseTop < b.zoomLens.height() / 2),
              (b.Eboppos =
                b.mouseTop >
                b.nzHeight -
                  b.zoomLens.height() / 2 -
                  2 * b.options.lensBorderSize),
              (b.Eloppos = b.mouseLeft < 0 + b.zoomLens.width() / 2),
              (b.Eroppos =
                b.mouseLeft >
                b.nzWidth -
                  b.zoomLens.width() / 2 -
                  2 * b.options.lensBorderSize)),
            "inner" == b.options.zoomType &&
              ((b.Etoppos = b.mouseTop < b.nzHeight / 2 / b.heightRatio),
              (b.Eboppos =
                b.mouseTop > b.nzHeight - b.nzHeight / 2 / b.heightRatio),
              (b.Eloppos = b.mouseLeft < 0 + b.nzWidth / 2 / b.widthRatio),
              (b.Eroppos =
                b.mouseLeft >
                b.nzWidth -
                  b.nzWidth / 2 / b.widthRatio -
                  2 * b.options.lensBorderSize)),
            b.mouseLeft < 0 ||
            b.mouseTop < 0 ||
            b.mouseLeft > b.nzWidth ||
            b.mouseTop > b.nzHeight
              ? void b.setElements("hide")
              : (b.options.showLens &&
                  ((b.lensLeftPos = String(
                    Math.floor(b.mouseLeft - b.zoomLens.width() / 2)
                  )),
                  (b.lensTopPos = String(
                    Math.floor(b.mouseTop - b.zoomLens.height() / 2)
                  ))),
                b.Etoppos && (b.lensTopPos = 0),
                b.Eloppos &&
                  ((b.windowLeftPos = 0), (b.lensLeftPos = 0), (b.tintpos = 0)),
                "window" == b.options.zoomType &&
                  (b.Eboppos &&
                    (b.lensTopPos = Math.max(
                      b.nzHeight -
                        b.zoomLens.height() -
                        2 * b.options.lensBorderSize,
                      0
                    )),
                  b.Eroppos &&
                    (b.lensLeftPos =
                      b.nzWidth -
                      b.zoomLens.width() -
                      2 * b.options.lensBorderSize)),
                "inner" == b.options.zoomType &&
                  (b.Eboppos &&
                    (b.lensTopPos = Math.max(
                      b.nzHeight - 2 * b.options.lensBorderSize,
                      0
                    )),
                  b.Eroppos &&
                    (b.lensLeftPos =
                      b.nzWidth - b.nzWidth - 2 * b.options.lensBorderSize)),
                "lens" == b.options.zoomType &&
                  ((b.windowLeftPos = String(
                    -1 *
                      ((a.pageX - b.nzOffset.left) * b.widthRatio -
                        b.zoomLens.width() / 2)
                  )),
                  (b.windowTopPos = String(
                    -1 *
                      ((a.pageY - b.nzOffset.top) * b.heightRatio -
                        b.zoomLens.height() / 2)
                  )),
                  b.zoomLens.css({
                    backgroundPosition:
                      b.windowLeftPos + "px " + b.windowTopPos + "px"
                  }),
                  b.changeBgSize &&
                    (b.nzHeight > b.nzWidth
                      ? ("lens" == b.options.zoomType &&
                          b.zoomLens.css({
                            "background-size":
                              b.largeWidth / b.newvalueheight +
                              "px " +
                              b.largeHeight / b.newvalueheight +
                              "px"
                          }),
                        b.zoomWindow.css({
                          "background-size":
                            b.largeWidth / b.newvalueheight +
                            "px " +
                            b.largeHeight / b.newvalueheight +
                            "px"
                        }))
                      : ("lens" == b.options.zoomType &&
                          b.zoomLens.css({
                            "background-size":
                              b.largeWidth / b.newvaluewidth +
                              "px " +
                              b.largeHeight / b.newvaluewidth +
                              "px"
                          }),
                        b.zoomWindow.css({
                          "background-size":
                            b.largeWidth / b.newvaluewidth +
                            "px " +
                            b.largeHeight / b.newvaluewidth +
                            "px"
                        })),
                    (b.changeBgSize = !1)),
                  b.setWindowPostition(a)),
                b.options.tint &&
                  "inner" != b.options.zoomType &&
                  b.setTintPosition(a),
                "window" == b.options.zoomType && b.setWindowPostition(a),
                "inner" == b.options.zoomType && b.setWindowPostition(a),
                void (
                  b.options.showLens &&
                  (b.fullwidth &&
                    "lens" != b.options.zoomType &&
                    (b.lensLeftPos = 0),
                  b.zoomLens.css({
                    left: b.lensLeftPos + "px",
                    top: b.lensTopPos + "px"
                  }))
                )))
          : !1;
      },
      showHideWindow: function(a) {
        var b = this;
        "show" == a &&
          (b.isWindowActive ||
            (b.options.zoomWindowFadeIn
              ? b.zoomWindow.stop(!0, !0, !1).fadeIn(b.options.zoomWindowFadeIn)
              : b.zoomWindow.show(),
            (b.isWindowActive = !0))),
          "hide" == a &&
            b.isWindowActive &&
            (b.options.zoomWindowFadeOut
              ? b.zoomWindow
                  .stop(!0, !0)
                  .fadeOut(b.options.zoomWindowFadeOut, function() {
                    b.loop && (clearInterval(b.loop), (b.loop = !1));
                  })
              : b.zoomWindow.hide(),
            (b.isWindowActive = !1));
      },
      showHideLens: function(a) {
        var b = this;
        "show" == a &&
          (b.isLensActive ||
            (b.options.lensFadeIn
              ? b.zoomLens.stop(!0, !0, !1).fadeIn(b.options.lensFadeIn)
              : b.zoomLens.show(),
            (b.isLensActive = !0))),
          "hide" == a &&
            b.isLensActive &&
            (b.options.lensFadeOut
              ? b.zoomLens.stop(!0, !0).fadeOut(b.options.lensFadeOut)
              : b.zoomLens.hide(),
            (b.isLensActive = !1));
      },
      showHideTint: function(a) {
        var b = this;
        "show" == a &&
          (b.isTintActive ||
            (b.options.zoomTintFadeIn
              ? b.zoomTint
                  .css({ opacity: b.options.tintOpacity })
                  .animate()
                  .stop(!0, !0)
                  .fadeIn("slow")
              : (b.zoomTint.css({ opacity: b.options.tintOpacity }).animate(),
                b.zoomTint.show()),
            (b.isTintActive = !0))),
          "hide" == a &&
            b.isTintActive &&
            (b.options.zoomTintFadeOut
              ? b.zoomTint.stop(!0, !0).fadeOut(b.options.zoomTintFadeOut)
              : b.zoomTint.hide(),
            (b.isTintActive = !1));
      },
      setLensPostition: function() {},
      setWindowPostition: function(b) {
        var c = this;
        if (isNaN(c.options.zoomWindowPosition))
          (c.externalContainer = a("#" + c.options.zoomWindowPosition)),
            (c.externalContainerWidth = c.externalContainer.width()),
            (c.externalContainerHeight = c.externalContainer.height()),
            (c.externalContainerOffset = c.externalContainer.offset()),
            (c.windowOffsetTop = c.externalContainerOffset.top),
            (c.windowOffsetLeft = c.externalContainerOffset.left);
        else
          switch (c.options.zoomWindowPosition) {
            case 1:
              (c.windowOffsetTop = c.options.zoomWindowOffety),
                (c.windowOffsetLeft = +c.nzWidth);
              break;
            case 2:
              c.options.zoomWindowHeight > c.nzHeight &&
                ((c.windowOffsetTop =
                  -1 * (c.options.zoomWindowHeight / 2 - c.nzHeight / 2)),
                (c.windowOffsetLeft = c.nzWidth));
              break;
            case 3:
              (c.windowOffsetTop =
                c.nzHeight - c.zoomWindow.height() - 2 * c.options.borderSize),
                (c.windowOffsetLeft = c.nzWidth);
              break;
            case 4:
              (c.windowOffsetTop = c.nzHeight),
                (c.windowOffsetLeft = c.nzWidth);
              break;
            case 5:
              (c.windowOffsetTop = c.nzHeight),
                (c.windowOffsetLeft =
                  c.nzWidth - c.zoomWindow.width() - 2 * c.options.borderSize);
              break;
            case 6:
              c.options.zoomWindowHeight > c.nzHeight &&
                ((c.windowOffsetTop = c.nzHeight),
                (c.windowOffsetLeft =
                  -1 *
                  (c.options.zoomWindowWidth / 2 -
                    c.nzWidth / 2 +
                    2 * c.options.borderSize)));
              break;
            case 7:
              (c.windowOffsetTop = c.nzHeight), (c.windowOffsetLeft = 0);
              break;
            case 8:
              (c.windowOffsetTop = c.nzHeight),
                (c.windowOffsetLeft =
                  -1 * (c.zoomWindow.width() + 2 * c.options.borderSize));
              break;
            case 9:
              (c.windowOffsetTop =
                c.nzHeight - c.zoomWindow.height() - 2 * c.options.borderSize),
                (c.windowOffsetLeft =
                  -1 * (c.zoomWindow.width() + 2 * c.options.borderSize));
              break;
            case 10:
              c.options.zoomWindowHeight > c.nzHeight &&
                ((c.windowOffsetTop =
                  -1 * (c.options.zoomWindowHeight / 2 - c.nzHeight / 2)),
                (c.windowOffsetLeft =
                  -1 * (c.zoomWindow.width() + 2 * c.options.borderSize)));
              break;
            case 11:
              (c.windowOffsetTop = c.options.zoomWindowOffety),
                (c.windowOffsetLeft =
                  -1 * (c.zoomWindow.width() + 2 * c.options.borderSize));
              break;
            case 12:
              (c.windowOffsetTop =
                -1 * (c.zoomWindow.height() + 2 * c.options.borderSize)),
                (c.windowOffsetLeft =
                  -1 * (c.zoomWindow.width() + 2 * c.options.borderSize));
              break;
            case 13:
              (c.windowOffsetTop =
                -1 * (c.zoomWindow.height() + 2 * c.options.borderSize)),
                (c.windowOffsetLeft = 0);
              break;
            case 14:
              c.options.zoomWindowHeight > c.nzHeight &&
                ((c.windowOffsetTop =
                  -1 * (c.zoomWindow.height() + 2 * c.options.borderSize)),
                (c.windowOffsetLeft =
                  -1 *
                  (c.options.zoomWindowWidth / 2 -
                    c.nzWidth / 2 +
                    2 * c.options.borderSize)));
              break;
            case 15:
              (c.windowOffsetTop =
                -1 * (c.zoomWindow.height() + 2 * c.options.borderSize)),
                (c.windowOffsetLeft =
                  c.nzWidth - c.zoomWindow.width() - 2 * c.options.borderSize);
              break;
            case 16:
              (c.windowOffsetTop =
                -1 * (c.zoomWindow.height() + 2 * c.options.borderSize)),
                (c.windowOffsetLeft = c.nzWidth);
              break;
            default:
              (c.windowOffsetTop = c.options.zoomWindowOffety),
                (c.windowOffsetLeft = c.nzWidth);
          }
        (c.isWindowSet = !0),
          (c.windowOffsetTop = c.windowOffsetTop + c.options.zoomWindowOffety),
          (c.windowOffsetLeft =
            c.windowOffsetLeft + c.options.zoomWindowOffetx),
          c.zoomWindow.css({ top: c.windowOffsetTop }),
          c.zoomWindow.css({ left: c.windowOffsetLeft }),
          "inner" == c.options.zoomType &&
            (c.zoomWindow.css({ top: 0 }), c.zoomWindow.css({ left: 0 })),
          (c.windowLeftPos = String(
            -1 *
              ((b.pageX - c.nzOffset.left) * c.widthRatio -
                c.zoomWindow.width() / 2)
          )),
          (c.windowTopPos = String(
            -1 *
              ((b.pageY - c.nzOffset.top) * c.heightRatio -
                c.zoomWindow.height() / 2)
          )),
          c.Etoppos && (c.windowTopPos = 0),
          c.Eloppos && (c.windowLeftPos = 0),
          c.Eboppos &&
            (c.windowTopPos =
              -1 *
              (c.largeHeight / c.currentZoomLevel - c.zoomWindow.height())),
          c.Eroppos &&
            (c.windowLeftPos =
              -1 * (c.largeWidth / c.currentZoomLevel - c.zoomWindow.width())),
          c.fullheight && (c.windowTopPos = 0),
          c.fullwidth && (c.windowLeftPos = 0),
          ("window" == c.options.zoomType || "inner" == c.options.zoomType) &&
            (1 == c.zoomLock &&
              (c.widthRatio <= 1 && (c.windowLeftPos = 0),
              c.heightRatio <= 1 && (c.windowTopPos = 0)),
            "window" == c.options.zoomType &&
              (c.largeHeight < c.options.zoomWindowHeight &&
                (c.windowTopPos = 0),
              c.largeWidth < c.options.zoomWindowWidth &&
                (c.windowLeftPos = 0)),
            c.options.easing
              ? (c.xp || (c.xp = 0),
                c.yp || (c.yp = 0),
                c.loop ||
                  (c.loop = setInterval(function() {
                    (c.xp += (c.windowLeftPos - c.xp) / c.options.easingAmount),
                      (c.yp +=
                        (c.windowTopPos - c.yp) / c.options.easingAmount),
                      c.scrollingLock
                        ? (clearInterval(c.loop),
                          (c.xp = c.windowLeftPos),
                          (c.yp = c.windowTopPos),
                          (c.xp =
                            -1 *
                            ((b.pageX - c.nzOffset.left) * c.widthRatio -
                              c.zoomWindow.width() / 2)),
                          (c.yp =
                            -1 *
                            ((b.pageY - c.nzOffset.top) * c.heightRatio -
                              c.zoomWindow.height() / 2)),
                          c.changeBgSize &&
                            (c.nzHeight > c.nzWidth
                              ? ("lens" == c.options.zoomType &&
                                  c.zoomLens.css({
                                    "background-size":
                                      c.largeWidth / c.newvalueheight +
                                      "px " +
                                      c.largeHeight / c.newvalueheight +
                                      "px"
                                  }),
                                c.zoomWindow.css({
                                  "background-size":
                                    c.largeWidth / c.newvalueheight +
                                    "px " +
                                    c.largeHeight / c.newvalueheight +
                                    "px"
                                }))
                              : ("lens" != c.options.zoomType &&
                                  c.zoomLens.css({
                                    "background-size":
                                      c.largeWidth / c.newvaluewidth +
                                      "px " +
                                      c.largeHeight / c.newvalueheight +
                                      "px"
                                  }),
                                c.zoomWindow.css({
                                  "background-size":
                                    c.largeWidth / c.newvaluewidth +
                                    "px " +
                                    c.largeHeight / c.newvaluewidth +
                                    "px"
                                })),
                            (c.changeBgSize = !1)),
                          c.zoomWindow.css({
                            backgroundPosition:
                              c.windowLeftPos + "px " + c.windowTopPos + "px"
                          }),
                          (c.scrollingLock = !1),
                          (c.loop = !1))
                        : Math.round(
                            Math.abs(c.xp - c.windowLeftPos) +
                              Math.abs(c.yp - c.windowTopPos)
                          ) < 1
                          ? (clearInterval(c.loop),
                            c.zoomWindow.css({
                              backgroundPosition:
                                c.windowLeftPos + "px " + c.windowTopPos + "px"
                            }),
                            (c.loop = !1))
                          : (c.changeBgSize &&
                              (c.nzHeight > c.nzWidth
                                ? ("lens" == c.options.zoomType &&
                                    c.zoomLens.css({
                                      "background-size":
                                        c.largeWidth / c.newvalueheight +
                                        "px " +
                                        c.largeHeight / c.newvalueheight +
                                        "px"
                                    }),
                                  c.zoomWindow.css({
                                    "background-size":
                                      c.largeWidth / c.newvalueheight +
                                      "px " +
                                      c.largeHeight / c.newvalueheight +
                                      "px"
                                  }))
                                : ("lens" != c.options.zoomType &&
                                    c.zoomLens.css({
                                      "background-size":
                                        c.largeWidth / c.newvaluewidth +
                                        "px " +
                                        c.largeHeight / c.newvaluewidth +
                                        "px"
                                    }),
                                  c.zoomWindow.css({
                                    "background-size":
                                      c.largeWidth / c.newvaluewidth +
                                      "px " +
                                      c.largeHeight / c.newvaluewidth +
                                      "px"
                                  })),
                              (c.changeBgSize = !1)),
                            c.zoomWindow.css({
                              backgroundPosition: c.xp + "px " + c.yp + "px"
                            }));
                  }, 16)))
              : (c.changeBgSize &&
                  (c.nzHeight > c.nzWidth
                    ? ("lens" == c.options.zoomType &&
                        c.zoomLens.css({
                          "background-size":
                            c.largeWidth / c.newvalueheight +
                            "px " +
                            c.largeHeight / c.newvalueheight +
                            "px"
                        }),
                      c.zoomWindow.css({
                        "background-size":
                          c.largeWidth / c.newvalueheight +
                          "px " +
                          c.largeHeight / c.newvalueheight +
                          "px"
                      }))
                    : ("lens" == c.options.zoomType &&
                        c.zoomLens.css({
                          "background-size":
                            c.largeWidth / c.newvaluewidth +
                            "px " +
                            c.largeHeight / c.newvaluewidth +
                            "px"
                        }),
                      c.zoomWindow.css(
                        c.largeHeight / c.newvaluewidth <
                        c.options.zoomWindowHeight
                          ? {
                              "background-size":
                                c.largeWidth / c.newvaluewidth +
                                "px " +
                                c.largeHeight / c.newvaluewidth +
                                "px"
                            }
                          : {
                              "background-size":
                                c.largeWidth / c.newvalueheight +
                                "px " +
                                c.largeHeight / c.newvalueheight +
                                "px"
                            }
                      )),
                  (c.changeBgSize = !1)),
                c.zoomWindow.css({
                  backgroundPosition:
                    c.windowLeftPos + "px " + c.windowTopPos + "px"
                })));
      },
      setTintPosition: function(a) {
        var b = this;
        (b.nzOffset = b.$elem.offset()),
          (b.tintpos = String(
            -1 * (a.pageX - b.nzOffset.left - b.zoomLens.width() / 2)
          )),
          (b.tintposy = String(
            -1 * (a.pageY - b.nzOffset.top - b.zoomLens.height() / 2)
          )),
          b.Etoppos && (b.tintposy = 0),
          b.Eloppos && (b.tintpos = 0),
          b.Eboppos &&
            (b.tintposy =
              -1 *
              (b.nzHeight -
                b.zoomLens.height() -
                2 * b.options.lensBorderSize)),
          b.Eroppos &&
            (b.tintpos =
              -1 *
              (b.nzWidth - b.zoomLens.width() - 2 * b.options.lensBorderSize)),
          b.options.tint &&
            (b.fullheight && (b.tintposy = 0),
            b.fullwidth && (b.tintpos = 0),
            b.zoomTintImage.css({ left: b.tintpos + "px" }),
            b.zoomTintImage.css({ top: b.tintposy + "px" }));
      },
      swaptheimage: function(b, c) {
        var d = this,
          e = new Image();
        d.options.loadingIcon &&
          ((d.spinner = a(
            "<div style=\"background: url('" +
              d.options.loadingIcon +
              "') no-repeat center;height:" +
              d.nzHeight +
              "px;width:" +
              d.nzWidth +
              'px;z-index: 2000;position: absolute; background-position: center center;"></div>'
          )),
          d.$elem.after(d.spinner)),
          d.options.onImageSwap(d.$elem),
          (e.onload = function() {
            (d.largeWidth = e.width),
              (d.largeHeight = e.height),
              (d.zoomImage = c),
              d.zoomWindow.css({
                "background-size": d.largeWidth + "px " + d.largeHeight + "px"
              }),
              d.swapAction(b, c);
          }),
          (e.src = c);
      },
      swapAction: function(b, c) {
        var d = this,
          e = new Image();
        if (
          ((e.onload = function() {
            (d.nzHeight = e.height),
              (d.nzWidth = e.width),
              d.options.onImageSwapComplete(d.$elem),
              d.doneCallback();
          }),
          (e.src = b),
          (d.currentZoomLevel = d.options.zoomLevel),
          (d.options.maxZoomLevel = !1),
          "lens" == d.options.zoomType &&
            d.zoomLens.css({ backgroundImage: "url('" + c + "')" }),
          "window" == d.options.zoomType &&
            d.zoomWindow.css({ backgroundImage: "url('" + c + "')" }),
          "inner" == d.options.zoomType &&
            d.zoomWindow.css({ backgroundImage: "url('" + c + "')" }),
          (d.currentImage = c),
          d.options.imageCrossfade)
        ) {
          var f = d.$elem,
            g = f.clone();
          if (
            (d.$elem.attr("src", b),
            d.$elem.after(g),
            g.stop(!0).fadeOut(d.options.imageCrossfade, function() {
              a(this).remove();
            }),
            d.$elem.width("auto").removeAttr("width"),
            d.$elem.height("auto").removeAttr("height"),
            f.fadeIn(d.options.imageCrossfade),
            d.options.tint && "inner" != d.options.zoomType)
          ) {
            var h = d.zoomTintImage,
              i = h.clone();
            d.zoomTintImage.attr("src", c),
              d.zoomTintImage.after(i),
              i.stop(!0).fadeOut(d.options.imageCrossfade, function() {
                a(this).remove();
              }),
              h.fadeIn(d.options.imageCrossfade),
              d.zoomTint.css({ height: d.$elem.height() }),
              d.zoomTint.css({ width: d.$elem.width() });
          }
          d.zoomContainer.css("height", d.$elem.height()),
            d.zoomContainer.css("width", d.$elem.width()),
            "inner" == d.options.zoomType &&
              (d.options.constrainType ||
                (d.zoomWrap.parent().css("height", d.$elem.height()),
                d.zoomWrap.parent().css("width", d.$elem.width()),
                d.zoomWindow.css("height", d.$elem.height()),
                d.zoomWindow.css("width", d.$elem.width()))),
            d.options.imageCrossfade &&
              (d.zoomWrap.css("height", d.$elem.height()),
              d.zoomWrap.css("width", d.$elem.width()));
        } else
          d.$elem.attr("src", b),
            d.options.tint &&
              (d.zoomTintImage.attr("src", c),
              d.zoomTintImage.attr("height", d.$elem.height()),
              d.zoomTintImage.css({ height: d.$elem.height() }),
              d.zoomTint.css({ height: d.$elem.height() })),
            d.zoomContainer.css("height", d.$elem.height()),
            d.zoomContainer.css("width", d.$elem.width()),
            d.options.imageCrossfade &&
              (d.zoomWrap.css("height", d.$elem.height()),
              d.zoomWrap.css("width", d.$elem.width()));
        d.options.constrainType &&
          ("height" == d.options.constrainType &&
            (d.zoomContainer.css("height", d.options.constrainSize),
            d.zoomContainer.css("width", "auto"),
            d.options.imageCrossfade
              ? (d.zoomWrap.css("height", d.options.constrainSize),
                d.zoomWrap.css("width", "auto"),
                (d.constwidth = d.zoomWrap.width()))
              : (d.$elem.css("height", d.options.constrainSize),
                d.$elem.css("width", "auto"),
                (d.constwidth = d.$elem.width())),
            "inner" == d.options.zoomType &&
              (d.zoomWrap.parent().css("height", d.options.constrainSize),
              d.zoomWrap.parent().css("width", d.constwidth),
              d.zoomWindow.css("height", d.options.constrainSize),
              d.zoomWindow.css("width", d.constwidth)),
            d.options.tint &&
              (d.tintContainer.css("height", d.options.constrainSize),
              d.tintContainer.css("width", d.constwidth),
              d.zoomTint.css("height", d.options.constrainSize),
              d.zoomTint.css("width", d.constwidth),
              d.zoomTintImage.css("height", d.options.constrainSize),
              d.zoomTintImage.css("width", d.constwidth))),
          "width" == d.options.constrainType &&
            (d.zoomContainer.css("height", "auto"),
            d.zoomContainer.css("width", d.options.constrainSize),
            d.options.imageCrossfade
              ? (d.zoomWrap.css("height", "auto"),
                d.zoomWrap.css("width", d.options.constrainSize),
                (d.constheight = d.zoomWrap.height()))
              : (d.$elem.css("height", "auto"),
                d.$elem.css("width", d.options.constrainSize),
                (d.constheight = d.$elem.height())),
            "inner" == d.options.zoomType &&
              (d.zoomWrap.parent().css("height", d.constheight),
              d.zoomWrap.parent().css("width", d.options.constrainSize),
              d.zoomWindow.css("height", d.constheight),
              d.zoomWindow.css("width", d.options.constrainSize)),
            d.options.tint &&
              (d.tintContainer.css("height", d.constheight),
              d.tintContainer.css("width", d.options.constrainSize),
              d.zoomTint.css("height", d.constheight),
              d.zoomTint.css("width", d.options.constrainSize),
              d.zoomTintImage.css("height", d.constheight),
              d.zoomTintImage.css("width", d.options.constrainSize))));
      },
      doneCallback: function() {
        var a = this;
        a.options.loadingIcon && a.spinner.hide(),
          (a.nzOffset = a.$elem.offset()),
          (a.nzWidth = a.$elem.width()),
          (a.nzHeight = a.$elem.height()),
          (a.currentZoomLevel = a.options.zoomLevel),
          (a.widthRatio = a.largeWidth / a.nzWidth),
          (a.heightRatio = a.largeHeight / a.nzHeight),
          "window" == a.options.zoomType &&
            ((lensHeight =
              a.nzHeight < a.options.zoomWindowWidth / a.widthRatio
                ? a.nzHeight
                : String(a.options.zoomWindowHeight / a.heightRatio)),
            (lensWidth =
              a.options.zoomWindowWidth < a.options.zoomWindowWidth
                ? a.nzWidth
                : a.options.zoomWindowWidth / a.widthRatio),
            a.zoomLens &&
              (a.zoomLens.css("width", lensWidth),
              a.zoomLens.css("height", lensHeight)));
      },
      getCurrentImage: function() {
        var a = this;
        return a.zoomImage;
      },
      getGalleryList: function() {
        var b = this;
        return (
          (b.gallerylist = []),
          b.options.gallery
            ? a("#" + b.options.gallery + " a").each(function() {
                var c = "";
                a(this).data("zoom-image")
                  ? (c = a(this).data("zoom-image"))
                  : a(this).data("image") && (c = a(this).data("image")),
                  c == b.zoomImage
                    ? b.gallerylist.unshift({
                        href: "" + c,
                        title: a(this)
                          .find("img")
                          .attr("title")
                      })
                    : b.gallerylist.push({
                        href: "" + c,
                        title: a(this)
                          .find("img")
                          .attr("title")
                      });
              })
            : b.gallerylist.push({
                href: "" + b.zoomImage,
                title: a(this)
                  .find("img")
                  .attr("title")
              }),
          b.gallerylist
        );
      },
      changeZoomLevel: function(a) {
        var b = this;
        (b.scrollingLock = !0),
          (b.newvalue = parseFloat(a).toFixed(2)),
          (newvalue = parseFloat(a).toFixed(2)),
          (maxheightnewvalue =
            b.largeHeight /
            (b.options.zoomWindowHeight / b.nzHeight * b.nzHeight)),
          (maxwidthtnewvalue =
            b.largeWidth / (b.options.zoomWindowWidth / b.nzWidth * b.nzWidth)),
          "inner" != b.options.zoomType &&
            (maxheightnewvalue <= newvalue
              ? ((b.heightRatio =
                  b.largeHeight / maxheightnewvalue / b.nzHeight),
                (b.newvalueheight = maxheightnewvalue),
                (b.fullheight = !0))
              : ((b.heightRatio = b.largeHeight / newvalue / b.nzHeight),
                (b.newvalueheight = newvalue),
                (b.fullheight = !1)),
            maxwidthtnewvalue <= newvalue
              ? ((b.widthRatio = b.largeWidth / maxwidthtnewvalue / b.nzWidth),
                (b.newvaluewidth = maxwidthtnewvalue),
                (b.fullwidth = !0))
              : ((b.widthRatio = b.largeWidth / newvalue / b.nzWidth),
                (b.newvaluewidth = newvalue),
                (b.fullwidth = !1)),
            "lens" == b.options.zoomType &&
              (maxheightnewvalue <= newvalue
                ? ((b.fullwidth = !0), (b.newvaluewidth = maxheightnewvalue))
                : ((b.widthRatio = b.largeWidth / newvalue / b.nzWidth),
                  (b.newvaluewidth = newvalue),
                  (b.fullwidth = !1)))),
          "inner" == b.options.zoomType &&
            ((maxheightnewvalue = parseFloat(
              b.largeHeight / b.nzHeight
            ).toFixed(2)),
            (maxwidthtnewvalue = parseFloat(b.largeWidth / b.nzWidth).toFixed(
              2
            )),
            newvalue > maxheightnewvalue && (newvalue = maxheightnewvalue),
            newvalue > maxwidthtnewvalue && (newvalue = maxwidthtnewvalue),
            maxheightnewvalue <= newvalue
              ? ((b.heightRatio = b.largeHeight / newvalue / b.nzHeight),
                (b.newvalueheight =
                  newvalue > maxheightnewvalue ? maxheightnewvalue : newvalue),
                (b.fullheight = !0))
              : ((b.heightRatio = b.largeHeight / newvalue / b.nzHeight),
                (b.newvalueheight =
                  newvalue > maxheightnewvalue ? maxheightnewvalue : newvalue),
                (b.fullheight = !1)),
            maxwidthtnewvalue <= newvalue
              ? ((b.widthRatio = b.largeWidth / newvalue / b.nzWidth),
                (b.newvaluewidth =
                  newvalue > maxwidthtnewvalue ? maxwidthtnewvalue : newvalue),
                (b.fullwidth = !0))
              : ((b.widthRatio = b.largeWidth / newvalue / b.nzWidth),
                (b.newvaluewidth = newvalue),
                (b.fullwidth = !1))),
          (scrcontinue = !1),
          "inner" == b.options.zoomType &&
            (b.nzWidth >= b.nzHeight &&
              (b.newvaluewidth <= maxwidthtnewvalue
                ? (scrcontinue = !0)
                : ((scrcontinue = !1),
                  (b.fullheight = !0),
                  (b.fullwidth = !0))),
            b.nzHeight > b.nzWidth &&
              (b.newvaluewidth <= maxwidthtnewvalue
                ? (scrcontinue = !0)
                : ((scrcontinue = !1),
                  (b.fullheight = !0),
                  (b.fullwidth = !0)))),
          "inner" != b.options.zoomType && (scrcontinue = !0),
          scrcontinue &&
            ((b.zoomLock = 0),
            (b.changeZoom = !0),
            b.options.zoomWindowHeight / b.heightRatio <= b.nzHeight &&
              ((b.currentZoomLevel = b.newvalueheight),
              "lens" != b.options.zoomType &&
                "inner" != b.options.zoomType &&
                ((b.changeBgSize = !0),
                b.zoomLens.css({
                  height:
                    String(b.options.zoomWindowHeight / b.heightRatio) + "px"
                })),
              ("lens" == b.options.zoomType || "inner" == b.options.zoomType) &&
                (b.changeBgSize = !0)),
            b.options.zoomWindowWidth / b.widthRatio <= b.nzWidth &&
              ("inner" != b.options.zoomType &&
                b.newvaluewidth > b.newvalueheight &&
                (b.currentZoomLevel = b.newvaluewidth),
              "lens" != b.options.zoomType &&
                "inner" != b.options.zoomType &&
                ((b.changeBgSize = !0),
                b.zoomLens.css({
                  width: String(b.options.zoomWindowWidth / b.widthRatio) + "px"
                })),
              ("lens" == b.options.zoomType || "inner" == b.options.zoomType) &&
                (b.changeBgSize = !0)),
            "inner" == b.options.zoomType &&
              ((b.changeBgSize = !0),
              b.nzWidth > b.nzHeight && (b.currentZoomLevel = b.newvaluewidth),
              b.nzHeight > b.nzWidth &&
                (b.currentZoomLevel = b.newvaluewidth))),
          b.setPosition(b.currentLoc);
      },
      closeAll: function() {
        self.zoomWindow && self.zoomWindow.hide(),
          self.zoomLens && self.zoomLens.hide(),
          self.zoomTint && self.zoomTint.hide();
      },
      changeState: function(a) {
        var b = this;
        "enable" == a && (b.options.zoomEnabled = !0),
          "disable" == a && (b.options.zoomEnabled = !1);
      }
    };
    (a.fn.elevateZoom = function(c) {
      return this.each(function() {
        var d = Object.create(b);
        d.init(c, this), a.data(this, "elevateZoom", d);
      });
    }),
      (a.fn.elevateZoom.options = {
        zoomActivation: "hover",
        zoomEnabled: !0,
        preloading: 1,
        zoomLevel: 1,
        scrollZoom: !1,
        scrollZoomIncrement: 0.1,
        minZoomLevel: !1,
        maxZoomLevel: !1,
        easing: !1,
        easingAmount: 12,
        lensSize: 200,
        zoomWindowWidth: 400,
        zoomWindowHeight: 400,
        zoomWindowOffetx: 0,
        zoomWindowOffety: 0,
        zoomWindowPosition: 1,
        zoomWindowBgColour: "#fff",
        lensFadeIn: !1,
        lensFadeOut: !1,
        debug: !1,
        zoomWindowFadeIn: !1,
        zoomWindowFadeOut: !1,
        zoomWindowAlwaysShow: !1,
        zoomTintFadeIn: !1,
        zoomTintFadeOut: !1,
        borderSize: 4,
        showLens: !0,
        borderColour: "#888",
        lensBorderSize: 1,
        lensBorderColour: "#000",
        lensShape: "square",
        zoomType: "window",
        containLensZoom: !1,
        lensColour: "white",
        lensOpacity: 0.4,
        lenszoom: !1,
        tint: !1,
        tintColour: "#333",
        tintOpacity: 0.4,
        gallery: !1,
        galleryActiveClass: "zoomGalleryActive",
        imageCrossfade: !1,
        constrainType: !1,
        constrainSize: !1,
        loadingIcon: !1,
        cursor: "default",
        responsive: !0,
        onComplete: a.noop,
        onDestroy: function() {},
        onZoomedImageLoaded: function() {},
        onImageSwap: a.noop,
        onImageSwapComplete: a.noop
      });
  })(jQuery, window, document),
  (function(a) {
    "function" == typeof define && define.amd
      ? define(["jquery"], a)
      : "undefined" != typeof module && module.exports
        ? (module.exports = a)
        : a(jQuery, window, document);
  })(function(a) {
    !(function(b) {
      var c = "function" == typeof define && define.amd,
        d = "undefined" != typeof module && module.exports,
        e = "https:" == document.location.protocol ? "https:" : "http:",
        f =
          "cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";
      c ||
        (d
          ? require("jquery-mousewheel")(a)
          : a.event.special.mousewheel ||
            a("head").append(
              decodeURI("%3Cscript src=" + e + "//" + f + "%3E%3C/script%3E")
            )),
        b();
    })(function() {
      var b,
        c = "mCustomScrollbar",
        d = "mCS",
        e = ".mCustomScrollbar",
        f = {
          setTop: 0,
          setLeft: 0,
          axis: "y",
          scrollbarPosition: "inside",
          scrollInertia: 950,
          autoDraggerLength: !0,
          alwaysShowScrollbar: 0,
          snapOffset: 0,
          mouseWheel: {
            enable: !0,
            scrollAmount: "auto",
            axis: "y",
            deltaFactor: "auto",
            disableOver: ["select", "option", "keygen", "datalist", "textarea"]
          },
          scrollButtons: { scrollType: "stepless", scrollAmount: "auto" },
          keyboard: {
            enable: !0,
            scrollType: "stepless",
            scrollAmount: "auto"
          },
          contentTouchScroll: 25,
          documentTouchScroll: !0,
          advanced: {
            autoScrollOnFocus:
              "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
            updateOnContentResize: !0,
            updateOnImageLoad: "auto",
            autoUpdateTimeout: 60
          },
          theme: "light",
          callbacks: {
            onTotalScrollOffset: 0,
            onTotalScrollBackOffset: 0,
            alwaysTriggerOffsets: !0
          }
        },
        g = 0,
        h = {},
        i = window.attachEvent && !window.addEventListener ? 1 : 0,
        j = !1,
        k = [
          "mCSB_dragger_onDrag",
          "mCSB_scrollTools_onDrag",
          "mCS_img_loaded",
          "mCS_disabled",
          "mCS_destroyed",
          "mCS_no_scrollbar",
          "mCS-autoHide",
          "mCS-dir-rtl",
          "mCS_no_scrollbar_y",
          "mCS_no_scrollbar_x",
          "mCS_y_hidden",
          "mCS_x_hidden",
          "mCSB_draggerContainer",
          "mCSB_buttonUp",
          "mCSB_buttonDown",
          "mCSB_buttonLeft",
          "mCSB_buttonRight"
        ],
        l = {
          init: function(b) {
            var b = a.extend(!0, {}, f, b),
              c = m.call(this);
            if (b.live) {
              var i = b.liveSelector || this.selector || e,
                j = a(i);
              if ("off" === b.live) return void o(i);
              h[i] = setTimeout(function() {
                j.mCustomScrollbar(b), "once" === b.live && j.length && o(i);
              }, 500);
            } else o(i);
            return (
              (b.setWidth = b.set_width ? b.set_width : b.setWidth),
              (b.setHeight = b.set_height ? b.set_height : b.setHeight),
              (b.axis = b.horizontalScroll ? "x" : p(b.axis)),
              (b.scrollInertia =
                b.scrollInertia > 0 && b.scrollInertia < 17
                  ? 17
                  : b.scrollInertia),
              "object" != typeof b.mouseWheel &&
                1 == b.mouseWheel &&
                (b.mouseWheel = {
                  enable: !0,
                  scrollAmount: "auto",
                  axis: "y",
                  preventDefault: !1,
                  deltaFactor: "auto",
                  normalizeDelta: !1,
                  invert: !1
                }),
              (b.mouseWheel.scrollAmount = b.mouseWheelPixels
                ? b.mouseWheelPixels
                : b.mouseWheel.scrollAmount),
              (b.mouseWheel.normalizeDelta = b.advanced.normalizeMouseWheelDelta
                ? b.advanced.normalizeMouseWheelDelta
                : b.mouseWheel.normalizeDelta),
              (b.scrollButtons.scrollType = q(b.scrollButtons.scrollType)),
              n(b),
              a(c).each(function() {
                var c = a(this);
                if (!c.data(d)) {
                  c.data(d, {
                    idx: ++g,
                    opt: b,
                    scrollRatio: { y: null, x: null },
                    overflowed: null,
                    contentReset: { y: null, x: null },
                    bindEvents: !1,
                    tweenRunning: !1,
                    sequential: {},
                    langDir: c.css("direction"),
                    cbOffsets: null,
                    trigger: null,
                    poll: {
                      size: { o: 0, n: 0 },
                      img: { o: 0, n: 0 },
                      change: { o: 0, n: 0 }
                    }
                  });
                  var e = c.data(d),
                    f = e.opt,
                    h = c.data("mcs-axis"),
                    i = c.data("mcs-scrollbar-position"),
                    j = c.data("mcs-theme");
                  h && (f.axis = h),
                    i && (f.scrollbarPosition = i),
                    j && ((f.theme = j), n(f)),
                    r.call(this),
                    e &&
                      f.callbacks.onCreate &&
                      "function" == typeof f.callbacks.onCreate &&
                      f.callbacks.onCreate.call(this),
                    a(
                      "#mCSB_" + e.idx + "_container img:not(." + k[2] + ")"
                    ).addClass(k[2]),
                    l.update.call(null, c);
                }
              })
            );
          },
          update: function(b, c) {
            var e = b || m.call(this);
            return a(e).each(function() {
              var b = a(this);
              if (b.data(d)) {
                var e = b.data(d),
                  f = e.opt,
                  g = a("#mCSB_" + e.idx + "_container"),
                  h = a("#mCSB_" + e.idx),
                  i = [
                    a("#mCSB_" + e.idx + "_dragger_vertical"),
                    a("#mCSB_" + e.idx + "_dragger_horizontal")
                  ];
                if (!g.length) return;
                e.tweenRunning && W(b),
                  c &&
                    e &&
                    f.callbacks.onBeforeUpdate &&
                    "function" == typeof f.callbacks.onBeforeUpdate &&
                    f.callbacks.onBeforeUpdate.call(this),
                  b.hasClass(k[3]) && b.removeClass(k[3]),
                  b.hasClass(k[4]) && b.removeClass(k[4]),
                  h.css("max-height", "none"),
                  h.height() !== b.height() && h.css("max-height", b.height()),
                  t.call(this),
                  "y" === f.axis ||
                    f.advanced.autoExpandHorizontalScroll ||
                    g.css("width", s(g)),
                  (e.overflowed = y.call(this)),
                  C.call(this),
                  f.autoDraggerLength && v.call(this),
                  w.call(this),
                  A.call(this);
                var j = [Math.abs(g[0].offsetTop), Math.abs(g[0].offsetLeft)];
                "x" !== f.axis &&
                  (e.overflowed[0]
                    ? i[0].height() > i[0].parent().height()
                      ? z.call(this)
                      : (X(b, j[0].toString(), {
                          dir: "y",
                          dur: 0,
                          overwrite: "none"
                        }),
                        (e.contentReset.y = null))
                    : (z.call(this),
                      "y" === f.axis
                        ? B.call(this)
                        : "yx" === f.axis &&
                          e.overflowed[1] &&
                          X(b, j[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                          }))),
                  "y" !== f.axis &&
                    (e.overflowed[1]
                      ? i[1].width() > i[1].parent().width()
                        ? z.call(this)
                        : (X(b, j[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                          }),
                          (e.contentReset.x = null))
                      : (z.call(this),
                        "x" === f.axis
                          ? B.call(this)
                          : "yx" === f.axis &&
                            e.overflowed[0] &&
                            X(b, j[0].toString(), {
                              dir: "y",
                              dur: 0,
                              overwrite: "none"
                            }))),
                  c &&
                    e &&
                    (2 === c &&
                    f.callbacks.onImageLoad &&
                    "function" == typeof f.callbacks.onImageLoad
                      ? f.callbacks.onImageLoad.call(this)
                      : 3 === c &&
                        f.callbacks.onSelectorChange &&
                        "function" == typeof f.callbacks.onSelectorChange
                        ? f.callbacks.onSelectorChange.call(this)
                        : f.callbacks.onUpdate &&
                          "function" == typeof f.callbacks.onUpdate &&
                          f.callbacks.onUpdate.call(this)),
                  U.call(this);
              }
            });
          },
          scrollTo: function(b, c) {
            if ("undefined" != typeof b && null != b) {
              var e = m.call(this);
              return a(e).each(function() {
                var e = a(this);
                if (e.data(d)) {
                  var f = e.data(d),
                    g = f.opt,
                    h = {
                      trigger: "external",
                      scrollInertia: g.scrollInertia,
                      scrollEasing: "mcsEaseInOut",
                      moveDragger: !1,
                      timeout: 60,
                      callbacks: !0,
                      onStart: !0,
                      onUpdate: !0,
                      onComplete: !0
                    },
                    i = a.extend(!0, {}, h, c),
                    j = S.call(this, b),
                    k =
                      i.scrollInertia > 0 && i.scrollInertia < 17
                        ? 17
                        : i.scrollInertia;
                  (j[0] = T.call(this, j[0], "y")),
                    (j[1] = T.call(this, j[1], "x")),
                    i.moveDragger &&
                      ((j[0] *= f.scrollRatio.y), (j[1] *= f.scrollRatio.x)),
                    (i.dur = ea() ? 0 : k),
                    setTimeout(function() {
                      null !== j[0] &&
                        "undefined" != typeof j[0] &&
                        "x" !== g.axis &&
                        f.overflowed[0] &&
                        ((i.dir = "y"),
                        (i.overwrite = "all"),
                        X(e, j[0].toString(), i)),
                        null !== j[1] &&
                          "undefined" != typeof j[1] &&
                          "y" !== g.axis &&
                          f.overflowed[1] &&
                          ((i.dir = "x"),
                          (i.overwrite = "none"),
                          X(e, j[1].toString(), i));
                    }, i.timeout);
                }
              });
            }
          },
          stop: function() {
            var b = m.call(this);
            return a(b).each(function() {
              var b = a(this);
              b.data(d) && W(b);
            });
          },
          disable: function(b) {
            var c = m.call(this);
            return a(c).each(function() {
              var c = a(this);
              if (c.data(d)) {
                {
                  c.data(d);
                }
                U.call(this, "remove"),
                  B.call(this),
                  b && z.call(this),
                  C.call(this, !0),
                  c.addClass(k[3]);
              }
            });
          },
          destroy: function() {
            var b = m.call(this);
            return a(b).each(function() {
              var e = a(this);
              if (e.data(d)) {
                var f = e.data(d),
                  g = f.opt,
                  h = a("#mCSB_" + f.idx),
                  i = a("#mCSB_" + f.idx + "_container"),
                  j = a(".mCSB_" + f.idx + "_scrollbar");
                g.live && o(g.liveSelector || a(b).selector),
                  U.call(this, "remove"),
                  B.call(this),
                  z.call(this),
                  e.removeData(d),
                  _(this, "mcs"),
                  j.remove(),
                  i.find("img." + k[2]).removeClass(k[2]),
                  h.replaceWith(i.contents()),
                  e
                    .removeClass(
                      c +
                        " _" +
                        d +
                        "_" +
                        f.idx +
                        " " +
                        k[6] +
                        " " +
                        k[7] +
                        " " +
                        k[5] +
                        " " +
                        k[3]
                    )
                    .addClass(k[4]);
              }
            });
          }
        },
        m = function() {
          return "object" != typeof a(this) || a(this).length < 1 ? e : this;
        },
        n = function(b) {
          var c = [
              "rounded",
              "rounded-dark",
              "rounded-dots",
              "rounded-dots-dark"
            ],
            d = [
              "rounded-dots",
              "rounded-dots-dark",
              "3d",
              "3d-dark",
              "3d-thick",
              "3d-thick-dark",
              "inset",
              "inset-dark",
              "inset-2",
              "inset-2-dark",
              "inset-3",
              "inset-3-dark"
            ],
            e = ["minimal", "minimal-dark"],
            f = ["minimal", "minimal-dark"],
            g = ["minimal", "minimal-dark"];
          (b.autoDraggerLength =
            a.inArray(b.theme, c) > -1 ? !1 : b.autoDraggerLength),
            (b.autoExpandScrollbar =
              a.inArray(b.theme, d) > -1 ? !1 : b.autoExpandScrollbar),
            (b.scrollButtons.enable =
              a.inArray(b.theme, e) > -1 ? !1 : b.scrollButtons.enable),
            (b.autoHideScrollbar =
              a.inArray(b.theme, f) > -1 ? !0 : b.autoHideScrollbar),
            (b.scrollbarPosition =
              a.inArray(b.theme, g) > -1 ? "outside" : b.scrollbarPosition);
        },
        o = function(a) {
          h[a] && (clearTimeout(h[a]), _(h, a));
        },
        p = function(a) {
          return "yx" === a || "xy" === a || "auto" === a
            ? "yx"
            : "x" === a || "horizontal" === a
              ? "x"
              : "y";
        },
        q = function(a) {
          return "stepped" === a ||
            "pixels" === a ||
            "step" === a ||
            "click" === a
            ? "stepped"
            : "stepless";
        },
        r = function() {
          var b = a(this),
            e = b.data(d),
            f = e.opt,
            g = f.autoExpandScrollbar ? " " + k[1] + "_expand" : "",
            h = [
              "<div id='mCSB_" +
                e.idx +
                "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" +
                e.idx +
                "_scrollbar mCS-" +
                f.theme +
                " mCSB_scrollTools_vertical" +
                g +
                "'><div class='" +
                k[12] +
                "'><div id='mCSB_" +
                e.idx +
                "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>",
              "<div id='mCSB_" +
                e.idx +
                "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" +
                e.idx +
                "_scrollbar mCS-" +
                f.theme +
                " mCSB_scrollTools_horizontal" +
                g +
                "'><div class='" +
                k[12] +
                "'><div id='mCSB_" +
                e.idx +
                "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"
            ],
            i =
              "yx" === f.axis
                ? "mCSB_vertical_horizontal"
                : "x" === f.axis
                  ? "mCSB_horizontal"
                  : "mCSB_vertical",
            j = "yx" === f.axis ? h[0] + h[1] : "x" === f.axis ? h[1] : h[0],
            l =
              "yx" === f.axis
                ? "<div id='mCSB_" +
                  e.idx +
                  "_container_wrapper' class='mCSB_container_wrapper' />"
                : "",
            m = f.autoHideScrollbar ? " " + k[6] : "",
            n = "x" !== f.axis && "rtl" === e.langDir ? " " + k[7] : "";
          f.setWidth && b.css("width", f.setWidth),
            f.setHeight && b.css("height", f.setHeight),
            (f.setLeft =
              "y" !== f.axis && "rtl" === e.langDir ? "989999px" : f.setLeft),
            b
              .addClass(c + " _" + d + "_" + e.idx + m + n)
              .wrapInner(
                "<div id='mCSB_" +
                  e.idx +
                  "' class='mCustomScrollBox mCS-" +
                  f.theme +
                  " " +
                  i +
                  "'><div id='mCSB_" +
                  e.idx +
                  "_container' class='mCSB_container' style='position:relative; top:" +
                  f.setTop +
                  "; left:" +
                  f.setLeft +
                  ";' dir='" +
                  e.langDir +
                  "' /></div>"
              );
          var o = a("#mCSB_" + e.idx),
            p = a("#mCSB_" + e.idx + "_container");
          "y" === f.axis ||
            f.advanced.autoExpandHorizontalScroll ||
            p.css("width", s(p)),
            "outside" === f.scrollbarPosition
              ? ("static" === b.css("position") &&
                  b.css("position", "relative"),
                b.css("overflow", "visible"),
                o.addClass("mCSB_outside").after(j))
              : (o.addClass("mCSB_inside").append(j), p.wrap(l)),
            u.call(this);
          var q = [
            a("#mCSB_" + e.idx + "_dragger_vertical"),
            a("#mCSB_" + e.idx + "_dragger_horizontal")
          ];
          q[0].css("min-height", q[0].height()),
            q[1].css("min-width", q[1].width());
        },
        s = function(b) {
          var c = [
              b[0].scrollWidth,
              Math.max.apply(
                Math,
                b
                  .children()
                  .map(function() {
                    return a(this).outerWidth(!0);
                  })
                  .get()
              )
            ],
            d = b.parent().width();
          return c[0] > d ? c[0] : c[1] > d ? c[1] : "100%";
        },
        t = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = a("#mCSB_" + c.idx + "_container");
          if (e.advanced.autoExpandHorizontalScroll && "y" !== e.axis) {
            f.css({ width: "auto", "min-width": 0, "overflow-x": "scroll" });
            var g = Math.ceil(f[0].scrollWidth);
            3 === e.advanced.autoExpandHorizontalScroll ||
            (2 !== e.advanced.autoExpandHorizontalScroll &&
              g > f.parent().width())
              ? f.css({
                  width: g,
                  "min-width": "100%",
                  "overflow-x": "inherit"
                })
              : f
                  .css({ "overflow-x": "inherit", position: "absolute" })
                  .wrap(
                    "<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"
                  )
                  .css({
                    width:
                      Math.ceil(f[0].getBoundingClientRect().right + 0.4) -
                      Math.floor(f[0].getBoundingClientRect().left),
                    "min-width": "100%",
                    position: "relative"
                  })
                  .unwrap();
          }
        },
        u = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = a(".mCSB_" + c.idx + "_scrollbar:first"),
            g = ca(e.scrollButtons.tabindex)
              ? "tabindex='" + e.scrollButtons.tabindex + "'"
              : "",
            h = [
              "<a href='#' class='" + k[13] + "' " + g + " />",
              "<a href='#' class='" + k[14] + "' " + g + " />",
              "<a href='#' class='" + k[15] + "' " + g + " />",
              "<a href='#' class='" + k[16] + "' " + g + " />"
            ],
            i = [
              "x" === e.axis ? h[2] : h[0],
              "x" === e.axis ? h[3] : h[1],
              h[2],
              h[3]
            ];
          e.scrollButtons.enable &&
            f
              .prepend(i[0])
              .append(i[1])
              .next(".mCSB_scrollTools")
              .prepend(i[2])
              .append(i[3]);
        },
        v = function() {
          var b = a(this),
            c = b.data(d),
            e = a("#mCSB_" + c.idx),
            f = a("#mCSB_" + c.idx + "_container"),
            g = [
              a("#mCSB_" + c.idx + "_dragger_vertical"),
              a("#mCSB_" + c.idx + "_dragger_horizontal")
            ],
            h = [e.height() / f.outerHeight(!1), e.width() / f.outerWidth(!1)],
            j = [
              parseInt(g[0].css("min-height")),
              Math.round(h[0] * g[0].parent().height()),
              parseInt(g[1].css("min-width")),
              Math.round(h[1] * g[1].parent().width())
            ],
            k = i && j[1] < j[0] ? j[0] : j[1],
            l = i && j[3] < j[2] ? j[2] : j[3];
          g[0]
            .css({ height: k, "max-height": g[0].parent().height() - 10 })
            .find(".mCSB_dragger_bar")
            .css({ "line-height": j[0] + "px" }),
            g[1].css({ width: l, "max-width": g[1].parent().width() - 10 });
        },
        w = function() {
          var b = a(this),
            c = b.data(d),
            e = a("#mCSB_" + c.idx),
            f = a("#mCSB_" + c.idx + "_container"),
            g = [
              a("#mCSB_" + c.idx + "_dragger_vertical"),
              a("#mCSB_" + c.idx + "_dragger_horizontal")
            ],
            h = [f.outerHeight(!1) - e.height(), f.outerWidth(!1) - e.width()],
            i = [
              h[0] / (g[0].parent().height() - g[0].height()),
              h[1] / (g[1].parent().width() - g[1].width())
            ];
          c.scrollRatio = { y: i[0], x: i[1] };
        },
        x = function(a, b, c) {
          var d = c ? k[0] + "_expanded" : "",
            e = a.closest(".mCSB_scrollTools");
          "active" === b
            ? (a.toggleClass(k[0] + " " + d),
              e.toggleClass(k[1]),
              (a[0]._draggable = a[0]._draggable ? 0 : 1))
            : a[0]._draggable ||
              ("hide" === b
                ? (a.removeClass(k[0]), e.removeClass(k[1]))
                : (a.addClass(k[0]), e.addClass(k[1])));
        },
        y = function() {
          var b = a(this),
            c = b.data(d),
            e = a("#mCSB_" + c.idx),
            f = a("#mCSB_" + c.idx + "_container"),
            g = null == c.overflowed ? f.height() : f.outerHeight(!1),
            h = null == c.overflowed ? f.width() : f.outerWidth(!1),
            i = f[0].scrollHeight,
            j = f[0].scrollWidth;
          return (
            i > g && (g = i), j > h && (h = j), [g > e.height(), h > e.width()]
          );
        },
        z = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = a("#mCSB_" + c.idx),
            g = a("#mCSB_" + c.idx + "_container"),
            h = [
              a("#mCSB_" + c.idx + "_dragger_vertical"),
              a("#mCSB_" + c.idx + "_dragger_horizontal")
            ];
          if (
            (W(b),
            (("x" !== e.axis && !c.overflowed[0]) ||
              ("y" === e.axis && c.overflowed[0])) &&
              (h[0].add(g).css("top", 0), X(b, "_resetY")),
            ("y" !== e.axis && !c.overflowed[1]) ||
              ("x" === e.axis && c.overflowed[1]))
          ) {
            var i = (dx = 0);
            "rtl" === c.langDir &&
              ((i = f.width() - g.outerWidth(!1)),
              (dx = Math.abs(i / c.scrollRatio.x))),
              g.css("left", i),
              h[1].css("left", dx),
              X(b, "_resetX");
          }
        },
        A = function() {
          function b() {
            g = setTimeout(function() {
              a.event.special.mousewheel
                ? (clearTimeout(g), H.call(c[0]))
                : b();
            }, 100);
          }
          var c = a(this),
            e = c.data(d),
            f = e.opt;
          if (!e.bindEvents) {
            if (
              (E.call(this),
              f.contentTouchScroll && F.call(this),
              G.call(this),
              f.mouseWheel.enable)
            ) {
              var g;
              b();
            }
            M.call(this),
              O.call(this),
              f.advanced.autoScrollOnFocus && N.call(this),
              f.scrollButtons.enable && P.call(this),
              f.keyboard.enable && Q.call(this),
              (e.bindEvents = !0);
          }
        },
        B = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = d + "_" + c.idx,
            g = ".mCSB_" + c.idx + "_scrollbar",
            h = a(
              "#mCSB_" +
                c.idx +
                ",#mCSB_" +
                c.idx +
                "_container,#mCSB_" +
                c.idx +
                "_container_wrapper," +
                g +
                " ." +
                k[12] +
                ",#mCSB_" +
                c.idx +
                "_dragger_vertical,#mCSB_" +
                c.idx +
                "_dragger_horizontal," +
                g +
                ">a"
            ),
            i = a("#mCSB_" + c.idx + "_container");
          e.advanced.releaseDraggableSelectors &&
            h.add(a(e.advanced.releaseDraggableSelectors)),
            e.advanced.extraDraggableSelectors &&
              h.add(a(e.advanced.extraDraggableSelectors)),
            c.bindEvents &&
              (a(document)
                .add(a(!J() || top.document))
                .unbind("." + f),
              h.each(function() {
                a(this).unbind("." + f);
              }),
              clearTimeout(b[0]._focusTimeout),
              _(b[0], "_focusTimeout"),
              clearTimeout(c.sequential.step),
              _(c.sequential, "step"),
              clearTimeout(i[0].onCompleteTimeout),
              _(i[0], "onCompleteTimeout"),
              (c.bindEvents = !1));
        },
        C = function(b) {
          var c = a(this),
            e = c.data(d),
            f = e.opt,
            g = a("#mCSB_" + e.idx + "_container_wrapper"),
            h = g.length ? g : a("#mCSB_" + e.idx + "_container"),
            i = [
              a("#mCSB_" + e.idx + "_scrollbar_vertical"),
              a("#mCSB_" + e.idx + "_scrollbar_horizontal")
            ],
            j = [i[0].find(".mCSB_dragger"), i[1].find(".mCSB_dragger")];
          "x" !== f.axis &&
            (e.overflowed[0] && !b
              ? (i[0]
                  .add(j[0])
                  .add(i[0].children("a"))
                  .css("display", "block"),
                h.removeClass(k[8] + " " + k[10]))
              : (f.alwaysShowScrollbar
                  ? (2 !== f.alwaysShowScrollbar && j[0].css("display", "none"),
                    h.removeClass(k[10]))
                  : (i[0].css("display", "none"), h.addClass(k[10])),
                h.addClass(k[8]))),
            "y" !== f.axis &&
              (e.overflowed[1] && !b
                ? (i[1]
                    .add(j[1])
                    .add(i[1].children("a"))
                    .css("display", "block"),
                  h.removeClass(k[9] + " " + k[11]))
                : (f.alwaysShowScrollbar
                    ? (2 !== f.alwaysShowScrollbar &&
                        j[1].css("display", "none"),
                      h.removeClass(k[11]))
                    : (i[1].css("display", "none"), h.addClass(k[11])),
                  h.addClass(k[9]))),
            e.overflowed[0] || e.overflowed[1]
              ? c.removeClass(k[5])
              : c.addClass(k[5]);
        },
        D = function(b) {
          var c = b.type,
            d =
              b.target.ownerDocument !== document && null !== frameElement
                ? [a(frameElement).offset().top, a(frameElement).offset().left]
                : null,
            e =
              J() &&
              b.target.ownerDocument !== top.document &&
              null !== frameElement
                ? [
                    a(b.view.frameElement).offset().top,
                    a(b.view.frameElement).offset().left
                  ]
                : [0, 0];
          switch (c) {
            case "pointerdown":
            case "MSPointerDown":
            case "pointermove":
            case "MSPointerMove":
            case "pointerup":
            case "MSPointerUp":
              return d
                ? [
                    b.originalEvent.pageY - d[0] + e[0],
                    b.originalEvent.pageX - d[1] + e[1],
                    !1
                  ]
                : [b.originalEvent.pageY, b.originalEvent.pageX, !1];
            case "touchstart":
            case "touchmove":
            case "touchend":
              var f =
                  b.originalEvent.touches[0] ||
                  b.originalEvent.changedTouches[0],
                g =
                  b.originalEvent.touches.length ||
                  b.originalEvent.changedTouches.length;
              return b.target.ownerDocument !== document
                ? [f.screenY, f.screenX, g > 1]
                : [f.pageY, f.pageX, g > 1];
            default:
              return d
                ? [b.pageY - d[0] + e[0], b.pageX - d[1] + e[1], !1]
                : [b.pageY, b.pageX, !1];
          }
        },
        E = function() {
          function b(a, b, d, e) {
            if (
              ((n[0].idleTimer = k.scrollInertia < 233 ? 250 : 0),
              c.attr("id") === m[1])
            )
              var f = "x",
                i = (c[0].offsetLeft - b + e) * h.scrollRatio.x;
            else
              var f = "y",
                i = (c[0].offsetTop - a + d) * h.scrollRatio.y;
            X(g, i.toString(), { dir: f, drag: !0 });
          }
          var c,
            e,
            f,
            g = a(this),
            h = g.data(d),
            k = h.opt,
            l = d + "_" + h.idx,
            m = [
              "mCSB_" + h.idx + "_dragger_vertical",
              "mCSB_" + h.idx + "_dragger_horizontal"
            ],
            n = a("#mCSB_" + h.idx + "_container"),
            o = a("#" + m[0] + ",#" + m[1]),
            p = k.advanced.releaseDraggableSelectors
              ? o.add(a(k.advanced.releaseDraggableSelectors))
              : o,
            q = k.advanced.extraDraggableSelectors
              ? a(!J() || top.document).add(
                  a(k.advanced.extraDraggableSelectors)
                )
              : a(!J() || top.document);
          o
            .bind("contextmenu." + l, function(a) {
              a.preventDefault();
            })
            .bind(
              "mousedown." +
                l +
                " touchstart." +
                l +
                " pointerdown." +
                l +
                " MSPointerDown." +
                l,
              function(b) {
                if ((b.stopImmediatePropagation(), b.preventDefault(), aa(b))) {
                  (j = !0),
                    i &&
                      (document.onselectstart = function() {
                        return !1;
                      }),
                    K.call(n, !1),
                    W(g),
                    (c = a(this));
                  var d = c.offset(),
                    h = D(b)[0] - d.top,
                    l = D(b)[1] - d.left,
                    m = c.height() + d.top,
                    o = c.width() + d.left;
                  m > h && h > 0 && o > l && l > 0 && ((e = h), (f = l)),
                    x(c, "active", k.autoExpandScrollbar);
                }
              }
            )
            .bind("touchmove." + l, function(a) {
              a.stopImmediatePropagation(), a.preventDefault();
              var d = c.offset(),
                g = D(a)[0] - d.top,
                h = D(a)[1] - d.left;
              b(e, f, g, h);
            }),
            a(document)
              .add(q)
              .bind(
                "mousemove." + l + " pointermove." + l + " MSPointerMove." + l,
                function(a) {
                  if (c) {
                    var d = c.offset(),
                      g = D(a)[0] - d.top,
                      h = D(a)[1] - d.left;
                    if (e === g && f === h) return;
                    b(e, f, g, h);
                  }
                }
              )
              .add(p)
              .bind(
                "mouseup." +
                  l +
                  " touchend." +
                  l +
                  " pointerup." +
                  l +
                  " MSPointerUp." +
                  l,
                function() {
                  c && (x(c, "active", k.autoExpandScrollbar), (c = null)),
                    (j = !1),
                    i && (document.onselectstart = null),
                    K.call(n, !0);
                }
              );
        },
        F = function() {
          function c(a) {
            if (!ba(a) || j || D(a)[2]) return void (b = 0);
            (b = 1),
              (w = 0),
              (x = 0),
              (k = 1),
              y.removeClass("mCS_touch_action");
            var c = E.offset();
            (l = D(a)[0] - c.top),
              (m = D(a)[1] - c.left),
              (L = [D(a)[0], D(a)[1]]);
          }
          function e(a) {
            if (
              ba(a) &&
              !j &&
              !D(a)[2] &&
              (A.documentTouchScroll || a.preventDefault(),
              a.stopImmediatePropagation(),
              (!x || w) && k)
            ) {
              q = Z();
              var b = C.offset(),
                c = D(a)[0] - b.top,
                d = D(a)[1] - b.left,
                e = "mcsLinearOut";
              if (
                (G.push(c),
                H.push(d),
                (L[2] = Math.abs(D(a)[0] - L[0])),
                (L[3] = Math.abs(D(a)[1] - L[1])),
                z.overflowed[0])
              )
                var f = F[0].parent().height() - F[0].height(),
                  g =
                    l - c > 0 &&
                    c - l > -(f * z.scrollRatio.y) &&
                    (2 * L[3] < L[2] || "yx" === A.axis);
              if (z.overflowed[1])
                var h = F[1].parent().width() - F[1].width(),
                  n =
                    m - d > 0 &&
                    d - m > -(h * z.scrollRatio.x) &&
                    (2 * L[2] < L[3] || "yx" === A.axis);
              g || n
                ? (O || a.preventDefault(), (w = 1))
                : ((x = 1), y.addClass("mCS_touch_action")),
                O && a.preventDefault(),
                (u =
                  "yx" === A.axis
                    ? [l - c, m - d]
                    : "x" === A.axis
                      ? [null, m - d]
                      : [l - c, null]),
                (E[0].idleTimer = 250),
                z.overflowed[0] && i(u[0], I, e, "y", "all", !0),
                z.overflowed[1] && i(u[1], I, e, "x", K, !0);
            }
          }
          function f(a) {
            if (!ba(a) || j || D(a)[2]) return void (b = 0);
            (b = 1), a.stopImmediatePropagation(), W(y), (p = Z());
            var c = C.offset();
            (n = D(a)[0] - c.top), (o = D(a)[1] - c.left), (G = []), (H = []);
          }
          function g(a) {
            if (ba(a) && !j && !D(a)[2]) {
              (k = 0),
                a.stopImmediatePropagation(),
                (w = 0),
                (x = 0),
                (r = Z());
              var b = C.offset(),
                c = D(a)[0] - b.top,
                d = D(a)[1] - b.left;
              if (!(r - q > 30)) {
                t = 1e3 / (r - p);
                var e = "mcsEaseOut",
                  f = 2.5 > t,
                  g = f ? [G[G.length - 2], H[H.length - 2]] : [0, 0];
                s = f ? [c - g[0], d - g[1]] : [c - n, d - o];
                var l = [Math.abs(s[0]), Math.abs(s[1])];
                t = f ? [Math.abs(s[0] / 4), Math.abs(s[1] / 4)] : [t, t];
                var m = [
                  Math.abs(E[0].offsetTop) - s[0] * h(l[0] / t[0], t[0]),
                  Math.abs(E[0].offsetLeft) - s[1] * h(l[1] / t[1], t[1])
                ];
                (u =
                  "yx" === A.axis
                    ? [m[0], m[1]]
                    : "x" === A.axis
                      ? [null, m[1]]
                      : [m[0], null]),
                  (v = [
                    4 * l[0] + A.scrollInertia,
                    4 * l[1] + A.scrollInertia
                  ]);
                var y = parseInt(A.contentTouchScroll) || 0;
                (u[0] = l[0] > y ? u[0] : 0),
                  (u[1] = l[1] > y ? u[1] : 0),
                  z.overflowed[0] && i(u[0], v[0], e, "y", K, !1),
                  z.overflowed[1] && i(u[1], v[1], e, "x", K, !1);
              }
            }
          }
          function h(a, b) {
            var c = [1.5 * b, 2 * b, b / 1.5, b / 2];
            return a > 90
              ? b > 4
                ? c[0]
                : c[3]
              : a > 60
                ? b > 3
                  ? c[3]
                  : c[2]
                : a > 30
                  ? b > 8
                    ? c[1]
                    : b > 6
                      ? c[0]
                      : b > 4
                        ? b
                        : c[2]
                  : b > 8
                    ? b
                    : c[3];
          }
          function i(a, b, c, d, e, f) {
            a &&
              X(y, a.toString(), {
                dur: b,
                scrollEasing: c,
                dir: d,
                overwrite: e,
                drag: f
              });
          }
          var k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s,
            t,
            u,
            v,
            w,
            x,
            y = a(this),
            z = y.data(d),
            A = z.opt,
            B = d + "_" + z.idx,
            C = a("#mCSB_" + z.idx),
            E = a("#mCSB_" + z.idx + "_container"),
            F = [
              a("#mCSB_" + z.idx + "_dragger_vertical"),
              a("#mCSB_" + z.idx + "_dragger_horizontal")
            ],
            G = [],
            H = [],
            I = 0,
            K = "yx" === A.axis ? "none" : "all",
            L = [],
            M = E.find("iframe"),
            N = [
              "touchstart." + B + " pointerdown." + B + " MSPointerDown." + B,
              "touchmove." + B + " pointermove." + B + " MSPointerMove." + B,
              "touchend." + B + " pointerup." + B + " MSPointerUp." + B
            ],
            O =
              void 0 !== document.body.style.touchAction &&
              "" !== document.body.style.touchAction;
          E.bind(N[0], function(a) {
            c(a);
          }).bind(N[1], function(a) {
            e(a);
          }),
            C.bind(N[0], function(a) {
              f(a);
            }).bind(N[2], function(a) {
              g(a);
            }),
            M.length &&
              M.each(function() {
                a(this).bind("load", function() {
                  J(this) &&
                    a(this.contentDocument || this.contentWindow.document)
                      .bind(N[0], function(a) {
                        c(a), f(a);
                      })
                      .bind(N[1], function(a) {
                        e(a);
                      })
                      .bind(N[2], function(a) {
                        g(a);
                      });
                });
              });
        },
        G = function() {
          function c() {
            return window.getSelection
              ? window.getSelection().toString()
              : document.selection && "Control" != document.selection.type
                ? document.selection.createRange().text
                : 0;
          }
          function e(a, b, c) {
            (k.type = c && f ? "stepped" : "stepless"),
              (k.scrollAmount = 10),
              R(g, a, b, "mcsLinearOut", c ? 60 : null);
          }
          var f,
            g = a(this),
            h = g.data(d),
            i = h.opt,
            k = h.sequential,
            l = d + "_" + h.idx,
            m = a("#mCSB_" + h.idx + "_container"),
            n = m.parent();
          m
            .bind("mousedown." + l, function() {
              b || f || ((f = 1), (j = !0));
            })
            .add(document)
            .bind("mousemove." + l, function(a) {
              if (!b && f && c()) {
                var d = m.offset(),
                  g = D(a)[0] - d.top + m[0].offsetTop,
                  j = D(a)[1] - d.left + m[0].offsetLeft;
                g > 0 && g < n.height() && j > 0 && j < n.width()
                  ? k.step && e("off", null, "stepped")
                  : ("x" !== i.axis &&
                      h.overflowed[0] &&
                      (0 > g ? e("on", 38) : g > n.height() && e("on", 40)),
                    "y" !== i.axis &&
                      h.overflowed[1] &&
                      (0 > j ? e("on", 37) : j > n.width() && e("on", 39)));
              }
            })
            .bind("mouseup." + l + " dragend." + l, function() {
              b || (f && ((f = 0), e("off", null)), (j = !1));
            });
        },
        H = function() {
          function b(b, d) {
            if ((W(c), !L(c, b.target))) {
              var g =
                  "auto" !== f.mouseWheel.deltaFactor
                    ? parseInt(f.mouseWheel.deltaFactor)
                    : i && b.deltaFactor < 100
                      ? 100
                      : b.deltaFactor || 100,
                k = f.scrollInertia;
              if ("x" === f.axis || "x" === f.mouseWheel.axis)
                var l = "x",
                  m = [
                    Math.round(g * e.scrollRatio.x),
                    parseInt(f.mouseWheel.scrollAmount)
                  ],
                  n =
                    "auto" !== f.mouseWheel.scrollAmount
                      ? m[1]
                      : m[0] >= h.width()
                        ? 0.9 * h.width()
                        : m[0],
                  o = Math.abs(
                    a("#mCSB_" + e.idx + "_container")[0].offsetLeft
                  ),
                  p = j[1][0].offsetLeft,
                  q = j[1].parent().width() - j[1].width(),
                  r = "y" === f.mouseWheel.axis ? b.deltaY || d : b.deltaX;
              else
                var l = "y",
                  m = [
                    Math.round(g * e.scrollRatio.y),
                    parseInt(f.mouseWheel.scrollAmount)
                  ],
                  n =
                    "auto" !== f.mouseWheel.scrollAmount
                      ? m[1]
                      : m[0] >= h.height()
                        ? 0.9 * h.height()
                        : m[0],
                  o = Math.abs(a("#mCSB_" + e.idx + "_container")[0].offsetTop),
                  p = j[0][0].offsetTop,
                  q = j[0].parent().height() - j[0].height(),
                  r = b.deltaY || d;
              ("y" === l && !e.overflowed[0]) ||
                ("x" === l && !e.overflowed[1]) ||
                ((f.mouseWheel.invert || b.webkitDirectionInvertedFromDevice) &&
                  (r = -r),
                f.mouseWheel.normalizeDelta && (r = 0 > r ? -1 : 1),
                ((r > 0 && 0 !== p) ||
                  (0 > r && p !== q) ||
                  f.mouseWheel.preventDefault) &&
                  (b.stopImmediatePropagation(), b.preventDefault()),
                b.deltaFactor < 5 &&
                  !f.mouseWheel.normalizeDelta &&
                  ((n = b.deltaFactor), (k = 17)),
                X(c, (o - r * n).toString(), { dir: l, dur: k }));
            }
          }
          if (a(this).data(d)) {
            var c = a(this),
              e = c.data(d),
              f = e.opt,
              g = d + "_" + e.idx,
              h = a("#mCSB_" + e.idx),
              j = [
                a("#mCSB_" + e.idx + "_dragger_vertical"),
                a("#mCSB_" + e.idx + "_dragger_horizontal")
              ],
              k = a("#mCSB_" + e.idx + "_container").find("iframe");
            k.length &&
              k.each(function() {
                a(this).bind("load", function() {
                  J(this) &&
                    a(this.contentDocument || this.contentWindow.document).bind(
                      "mousewheel." + g,
                      function(a, c) {
                        b(a, c);
                      }
                    );
                });
              }),
              h.bind("mousewheel." + g, function(a, c) {
                b(a, c);
              });
          }
        },
        I = new Object(),
        J = function(b) {
          var c = !1,
            d = !1,
            e = null;
          if (
            (void 0 === b
              ? (d = "#empty")
              : void 0 !== a(b).attr("id") && (d = a(b).attr("id")),
            d !== !1 && void 0 !== I[d])
          )
            return I[d];
          if (b) {
            try {
              var f = b.contentDocument || b.contentWindow.document;
              e = f.body.innerHTML;
            } catch (g) {}
            c = null !== e;
          } else {
            try {
              var f = top.document;
              e = f.body.innerHTML;
            } catch (g) {}
            c = null !== e;
          }
          return d !== !1 && (I[d] = c), c;
        },
        K = function(a) {
          var b = this.find("iframe");
          if (b.length) {
            var c = a ? "auto" : "none";
            b.css("pointer-events", c);
          }
        },
        L = function(b, c) {
          var e = c.nodeName.toLowerCase(),
            f = b.data(d).opt.mouseWheel.disableOver,
            g = ["select", "textarea"];
          return (
            a.inArray(e, f) > -1 &&
            !(a.inArray(e, g) > -1 && !a(c).is(":focus"))
          );
        },
        M = function() {
          var b,
            c = a(this),
            e = c.data(d),
            f = d + "_" + e.idx,
            g = a("#mCSB_" + e.idx + "_container"),
            h = g.parent(),
            i = a(".mCSB_" + e.idx + "_scrollbar ." + k[12]);
          i
            .bind(
              "mousedown." +
                f +
                " touchstart." +
                f +
                " pointerdown." +
                f +
                " MSPointerDown." +
                f,
              function(c) {
                (j = !0), a(c.target).hasClass("mCSB_dragger") || (b = 1);
              }
            )
            .bind(
              "touchend." + f + " pointerup." + f + " MSPointerUp." + f,
              function() {
                j = !1;
              }
            )
            .bind("click." + f, function(d) {
              if (
                b &&
                ((b = 0),
                a(d.target).hasClass(k[12]) ||
                  a(d.target).hasClass("mCSB_draggerRail"))
              ) {
                W(c);
                var f = a(this),
                  i = f.find(".mCSB_dragger");
                if (f.parent(".mCSB_scrollTools_horizontal").length > 0) {
                  if (!e.overflowed[1]) return;
                  var j = "x",
                    l = d.pageX > i.offset().left ? -1 : 1,
                    m = Math.abs(g[0].offsetLeft) - 0.9 * l * h.width();
                } else {
                  if (!e.overflowed[0]) return;
                  var j = "y",
                    l = d.pageY > i.offset().top ? -1 : 1,
                    m = Math.abs(g[0].offsetTop) - 0.9 * l * h.height();
                }
                X(c, m.toString(), { dir: j, scrollEasing: "mcsEaseInOut" });
              }
            });
        },
        N = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = d + "_" + c.idx,
            g = a("#mCSB_" + c.idx + "_container"),
            h = g.parent();
          g.bind("focusin." + f, function() {
            var c = a(document.activeElement),
              d = g.find(".mCustomScrollBox").length,
              f = 0;
            c.is(e.advanced.autoScrollOnFocus) &&
              (W(b),
              clearTimeout(b[0]._focusTimeout),
              (b[0]._focusTimer = d ? (f + 17) * d : 0),
              (b[0]._focusTimeout = setTimeout(function() {
                var a = [da(c)[0], da(c)[1]],
                  d = [g[0].offsetTop, g[0].offsetLeft],
                  i = [
                    d[0] + a[0] >= 0 &&
                      d[0] + a[0] < h.height() - c.outerHeight(!1),
                    d[1] + a[1] >= 0 &&
                      d[0] + a[1] < h.width() - c.outerWidth(!1)
                  ],
                  j = "yx" !== e.axis || i[0] || i[1] ? "all" : "none";
                "x" === e.axis ||
                  i[0] ||
                  X(b, a[0].toString(), {
                    dir: "y",
                    scrollEasing: "mcsEaseInOut",
                    overwrite: j,
                    dur: f
                  }),
                  "y" === e.axis ||
                    i[1] ||
                    X(b, a[1].toString(), {
                      dir: "x",
                      scrollEasing: "mcsEaseInOut",
                      overwrite: j,
                      dur: f
                    });
              }, b[0]._focusTimer)));
          });
        },
        O = function() {
          var b = a(this),
            c = b.data(d),
            e = d + "_" + c.idx,
            f = a("#mCSB_" + c.idx + "_container").parent();
          f.bind("scroll." + e, function() {
            (0 !== f.scrollTop() || 0 !== f.scrollLeft()) &&
              a(".mCSB_" + c.idx + "_scrollbar").css("visibility", "hidden");
          });
        },
        P = function() {
          var b = a(this),
            c = b.data(d),
            e = c.opt,
            f = c.sequential,
            g = d + "_" + c.idx,
            h = ".mCSB_" + c.idx + "_scrollbar",
            i = a(h + ">a");
          i
            .bind("contextmenu." + g, function(a) {
              a.preventDefault();
            })
            .bind(
              "mousedown." +
                g +
                " touchstart." +
                g +
                " pointerdown." +
                g +
                " MSPointerDown." +
                g +
                " mouseup." +
                g +
                " touchend." +
                g +
                " pointerup." +
                g +
                " MSPointerUp." +
                g +
                " mouseout." +
                g +
                " pointerout." +
                g +
                " MSPointerOut." +
                g +
                " click." +
                g,
              function(d) {
                function g(a, c) {
                  (f.scrollAmount = e.scrollButtons.scrollAmount), R(b, a, c);
                }
                if ((d.preventDefault(), aa(d))) {
                  var h = a(this).attr("class");
                  switch (((f.type = e.scrollButtons.scrollType), d.type)) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                      if ("stepped" === f.type) return;
                      (j = !0), (c.tweenRunning = !1), g("on", h);
                      break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                      if ("stepped" === f.type) return;
                      (j = !1), f.dir && g("off", h);
                      break;
                    case "click":
                      if ("stepped" !== f.type || c.tweenRunning) return;
                      g("on", h);
                  }
                }
              }
            );
        },
        Q = function() {
          function b(b) {
            function d(a, b) {
              (g.type = f.keyboard.scrollType),
                (g.scrollAmount = f.keyboard.scrollAmount),
                ("stepped" === g.type && e.tweenRunning) || R(c, a, b);
            }
            switch (b.type) {
              case "blur":
                e.tweenRunning && g.dir && d("off", null);
                break;
              case "keydown":
              case "keyup":
                var h = b.keyCode ? b.keyCode : b.which,
                  i = "on";
                if (
                  ("x" !== f.axis && (38 === h || 40 === h)) ||
                  ("y" !== f.axis && (37 === h || 39 === h))
                ) {
                  if (
                    ((38 === h || 40 === h) && !e.overflowed[0]) ||
                    ((37 === h || 39 === h) && !e.overflowed[1])
                  )
                    return;
                  "keyup" === b.type && (i = "off"),
                    a(document.activeElement).is(l) ||
                      (b.preventDefault(),
                      b.stopImmediatePropagation(),
                      d(i, h));
                } else if (33 === h || 34 === h) {
                  if (
                    ((e.overflowed[0] || e.overflowed[1]) &&
                      (b.preventDefault(), b.stopImmediatePropagation()),
                    "keyup" === b.type)
                  ) {
                    W(c);
                    var m = 34 === h ? -1 : 1;
                    if (
                      "x" === f.axis ||
                      ("yx" === f.axis && e.overflowed[1] && !e.overflowed[0])
                    )
                      var n = "x",
                        o = Math.abs(j[0].offsetLeft) - 0.9 * m * k.width();
                    else
                      var n = "y",
                        o = Math.abs(j[0].offsetTop) - 0.9 * m * k.height();
                    X(c, o.toString(), {
                      dir: n,
                      scrollEasing: "mcsEaseInOut"
                    });
                  }
                } else if (
                  (35 === h || 36 === h) &&
                  !a(document.activeElement).is(l) &&
                  ((e.overflowed[0] || e.overflowed[1]) &&
                    (b.preventDefault(), b.stopImmediatePropagation()),
                  "keyup" === b.type)
                ) {
                  if (
                    "x" === f.axis ||
                    ("yx" === f.axis && e.overflowed[1] && !e.overflowed[0])
                  )
                    var n = "x",
                      o = 35 === h ? Math.abs(k.width() - j.outerWidth(!1)) : 0;
                  else
                    var n = "y",
                      o =
                        35 === h ? Math.abs(k.height() - j.outerHeight(!1)) : 0;
                  X(c, o.toString(), { dir: n, scrollEasing: "mcsEaseInOut" });
                }
            }
          }
          var c = a(this),
            e = c.data(d),
            f = e.opt,
            g = e.sequential,
            h = d + "_" + e.idx,
            i = a("#mCSB_" + e.idx),
            j = a("#mCSB_" + e.idx + "_container"),
            k = j.parent(),
            l =
              "input,textarea,select,datalist,keygen,[contenteditable='true']",
            m = j.find("iframe"),
            n = ["blur." + h + " keydown." + h + " keyup." + h];
          m.length &&
            m.each(function() {
              a(this).bind("load", function() {
                J(this) &&
                  a(this.contentDocument || this.contentWindow.document).bind(
                    n[0],
                    function(a) {
                      b(a);
                    }
                  );
              });
            }),
            i.attr("tabindex", "0").bind(n[0], function(a) {
              b(a);
            });
        },
        R = function(b, c, e, f, g) {
          function h(a) {
            l.snapAmount &&
              (m.scrollAmount =
                l.snapAmount instanceof Array
                  ? "x" === m.dir[0]
                    ? l.snapAmount[1]
                    : l.snapAmount[0]
                  : l.snapAmount);
            var c = "stepped" !== m.type,
              d = g ? g : a ? (c ? p / 1.5 : q) : 1e3 / 60,
              e = a ? (c ? 7.5 : 40) : 2.5,
              i = [Math.abs(n[0].offsetTop), Math.abs(n[0].offsetLeft)],
              k = [
                j.scrollRatio.y > 10 ? 10 : j.scrollRatio.y,
                j.scrollRatio.x > 10 ? 10 : j.scrollRatio.x
              ],
              o =
                "x" === m.dir[0]
                  ? i[1] + m.dir[1] * k[1] * e
                  : i[0] + m.dir[1] * k[0] * e,
              r =
                "x" === m.dir[0]
                  ? i[1] + m.dir[1] * parseInt(m.scrollAmount)
                  : i[0] + m.dir[1] * parseInt(m.scrollAmount),
              s = "auto" !== m.scrollAmount ? r : o,
              t = f
                ? f
                : a
                  ? c
                    ? "mcsLinearOut"
                    : "mcsEaseInOut"
                  : "mcsLinear",
              u = a ? !0 : !1;
            return (
              a && 17 > d && (s = "x" === m.dir[0] ? i[1] : i[0]),
              X(b, s.toString(), {
                dir: m.dir[0],
                scrollEasing: t,
                dur: d,
                onComplete: u
              }),
              a
                ? void (m.dir = !1)
                : (clearTimeout(m.step),
                  void (m.step = setTimeout(function() {
                    h();
                  }, d)))
            );
          }
          function i() {
            clearTimeout(m.step), _(m, "step"), W(b);
          }
          var j = b.data(d),
            l = j.opt,
            m = j.sequential,
            n = a("#mCSB_" + j.idx + "_container"),
            o = "stepped" === m.type ? !0 : !1,
            p = l.scrollInertia < 26 ? 26 : l.scrollInertia,
            q = l.scrollInertia < 1 ? 17 : l.scrollInertia;
          switch (c) {
            case "on":
              if (
                ((m.dir = [
                  e === k[16] || e === k[15] || 39 === e || 37 === e
                    ? "x"
                    : "y",
                  e === k[13] || e === k[15] || 38 === e || 37 === e ? -1 : 1
                ]),
                W(b),
                ca(e) && "stepped" === m.type)
              )
                return;
              h(o);
              break;
            case "off":
              i(), (o || (j.tweenRunning && m.dir)) && h(!0);
          }
        },
        S = function(b) {
          var c = a(this).data(d).opt,
            e = [];
          return (
            "function" == typeof b && (b = b()),
            b instanceof Array
              ? (e =
                  b.length > 1
                    ? [b[0], b[1]]
                    : "x" === c.axis
                      ? [null, b[0]]
                      : [b[0], null])
              : ((e[0] = b.y ? b.y : b.x || "x" === c.axis ? null : b),
                (e[1] = b.x ? b.x : b.y || "y" === c.axis ? null : b)),
            "function" == typeof e[0] && (e[0] = e[0]()),
            "function" == typeof e[1] && (e[1] = e[1]()),
            e
          );
        },
        T = function(b, c) {
          if (null != b && "undefined" != typeof b) {
            var e = a(this),
              f = e.data(d),
              g = f.opt,
              h = a("#mCSB_" + f.idx + "_container"),
              i = h.parent(),
              j = typeof b;
            c || (c = "x" === g.axis ? "x" : "y");
            var k =
                "x" === c
                  ? h.outerWidth(!1) - i.width()
                  : h.outerHeight(!1) - i.height(),
              m = "x" === c ? h[0].offsetLeft : h[0].offsetTop,
              n = "x" === c ? "left" : "top";
            switch (j) {
              case "function":
                return b();
              case "object":
                var o = b.jquery ? b : a(b);
                if (!o.length) return;
                return "x" === c ? da(o)[1] : da(o)[0];
              case "string":
              case "number":
                if (ca(b)) return Math.abs(b);
                if (-1 !== b.indexOf("%"))
                  return Math.abs(k * parseInt(b) / 100);
                if (-1 !== b.indexOf("-="))
                  return Math.abs(m - parseInt(b.split("-=")[1]));
                if (-1 !== b.indexOf("+=")) {
                  var p = m + parseInt(b.split("+=")[1]);
                  return p >= 0 ? 0 : Math.abs(p);
                }
                if (-1 !== b.indexOf("px") && ca(b.split("px")[0]))
                  return Math.abs(b.split("px")[0]);
                if ("top" === b || "left" === b) return 0;
                if ("bottom" === b)
                  return Math.abs(i.height() - h.outerHeight(!1));
                if ("right" === b)
                  return Math.abs(i.width() - h.outerWidth(!1));
                if ("first" === b || "last" === b) {
                  var o = h.find(":" + b);
                  return "x" === c ? da(o)[1] : da(o)[0];
                }
                return a(b).length
                  ? "x" === c
                    ? da(a(b))[1]
                    : da(a(b))[0]
                  : (h.css(n, b), void l.update.call(null, e[0]));
            }
          }
        },
        U = function(b) {
          function c() {
            return (
              clearTimeout(m[0].autoUpdate),
              0 === h.parents("html").length
                ? void (h = null)
                : void (m[0].autoUpdate = setTimeout(function() {
                    return j.advanced.updateOnSelectorChange &&
                      ((i.poll.change.n = f()),
                      i.poll.change.n !== i.poll.change.o)
                      ? ((i.poll.change.o = i.poll.change.n), void g(3))
                      : j.advanced.updateOnContentResize &&
                        ((i.poll.size.n =
                          h[0].scrollHeight +
                          h[0].scrollWidth +
                          m[0].offsetHeight +
                          h[0].offsetHeight +
                          h[0].offsetWidth),
                        i.poll.size.n !== i.poll.size.o)
                        ? ((i.poll.size.o = i.poll.size.n), void g(1))
                        : !j.advanced.updateOnImageLoad ||
                          ("auto" === j.advanced.updateOnImageLoad &&
                            "y" === j.axis) ||
                          ((i.poll.img.n = m.find("img").length),
                          i.poll.img.n === i.poll.img.o)
                          ? void (
                              (j.advanced.updateOnSelectorChange ||
                                j.advanced.updateOnContentResize ||
                                j.advanced.updateOnImageLoad) &&
                              c()
                            )
                          : ((i.poll.img.o = i.poll.img.n),
                            void m.find("img").each(function() {
                              e(this);
                            }));
                  }, j.advanced.autoUpdateTimeout))
            );
          }
          function e(b) {
            function c(a, b) {
              return function() {
                return b.apply(a, arguments);
              };
            }
            function d() {
              (this.onload = null), a(b).addClass(k[2]), g(2);
            }
            if (a(b).hasClass(k[2])) return void g();
            var e = new Image();
            (e.onload = c(e, d)), (e.src = b.src);
          }
          function f() {
            j.advanced.updateOnSelectorChange === !0 &&
              (j.advanced.updateOnSelectorChange = "*");
            var a = 0,
              b = m.find(j.advanced.updateOnSelectorChange);
            return (
              j.advanced.updateOnSelectorChange &&
                b.length > 0 &&
                b.each(function() {
                  a += this.offsetHeight + this.offsetWidth;
                }),
              a
            );
          }
          function g(a) {
            clearTimeout(m[0].autoUpdate), l.update.call(null, h[0], a);
          }
          var h = a(this),
            i = h.data(d),
            j = i.opt,
            m = a("#mCSB_" + i.idx + "_container");
          return b
            ? (clearTimeout(m[0].autoUpdate), void _(m[0], "autoUpdate"))
            : void c();
        },
        V = function(a, b, c) {
          return Math.round(a / b) * b - c;
        },
        W = function(b) {
          var c = b.data(d),
            e = a(
              "#mCSB_" +
                c.idx +
                "_container,#mCSB_" +
                c.idx +
                "_container_wrapper,#mCSB_" +
                c.idx +
                "_dragger_vertical,#mCSB_" +
                c.idx +
                "_dragger_horizontal"
            );
          e.each(function() {
            $.call(this);
          });
        },
        X = function(b, c, e) {
          function f(a) {
            return i && j.callbacks[a] && "function" == typeof j.callbacks[a];
          }
          function g() {
            return [
              j.callbacks.alwaysTriggerOffsets || u >= v[0] + y,
              j.callbacks.alwaysTriggerOffsets || -z >= u
            ];
          }
          function h() {
            var a = [n[0].offsetTop, n[0].offsetLeft],
              c = [s[0].offsetTop, s[0].offsetLeft],
              d = [n.outerHeight(!1), n.outerWidth(!1)],
              f = [m.height(), m.width()];
            b[0].mcs = {
              content: n,
              top: a[0],
              left: a[1],
              draggerTop: c[0],
              draggerLeft: c[1],
              topPct: Math.round(
                100 * Math.abs(a[0]) / (Math.abs(d[0]) - f[0])
              ),
              leftPct: Math.round(
                100 * Math.abs(a[1]) / (Math.abs(d[1]) - f[1])
              ),
              direction: e.dir
            };
          }
          var i = b.data(d),
            j = i.opt,
            k = {
              trigger: "internal",
              dir: "y",
              scrollEasing: "mcsEaseOut",
              drag: !1,
              dur: j.scrollInertia,
              overwrite: "all",
              callbacks: !0,
              onStart: !0,
              onUpdate: !0,
              onComplete: !0
            },
            e = a.extend(k, e),
            l = [e.dur, e.drag ? 0 : e.dur],
            m = a("#mCSB_" + i.idx),
            n = a("#mCSB_" + i.idx + "_container"),
            o = n.parent(),
            p = j.callbacks.onTotalScrollOffset
              ? S.call(b, j.callbacks.onTotalScrollOffset)
              : [0, 0],
            q = j.callbacks.onTotalScrollBackOffset
              ? S.call(b, j.callbacks.onTotalScrollBackOffset)
              : [0, 0];
          if (
            ((i.trigger = e.trigger),
            (0 !== o.scrollTop() || 0 !== o.scrollLeft()) &&
              (a(".mCSB_" + i.idx + "_scrollbar").css("visibility", "visible"),
              o.scrollTop(0).scrollLeft(0)),
            "_resetY" !== c ||
              i.contentReset.y ||
              (f("onOverflowYNone") && j.callbacks.onOverflowYNone.call(b[0]),
              (i.contentReset.y = 1)),
            "_resetX" !== c ||
              i.contentReset.x ||
              (f("onOverflowXNone") && j.callbacks.onOverflowXNone.call(b[0]),
              (i.contentReset.x = 1)),
            "_resetY" !== c && "_resetX" !== c)
          ) {
            if (
              ((!i.contentReset.y && b[0].mcs) ||
                !i.overflowed[0] ||
                (f("onOverflowY") && j.callbacks.onOverflowY.call(b[0]),
                (i.contentReset.x = null)),
              (!i.contentReset.x && b[0].mcs) ||
                !i.overflowed[1] ||
                (f("onOverflowX") && j.callbacks.onOverflowX.call(b[0]),
                (i.contentReset.x = null)),
              j.snapAmount)
            ) {
              var r =
                j.snapAmount instanceof Array
                  ? "x" === e.dir
                    ? j.snapAmount[1]
                    : j.snapAmount[0]
                  : j.snapAmount;
              c = V(c, r, j.snapOffset);
            }
            switch (e.dir) {
              case "x":
                var s = a("#mCSB_" + i.idx + "_dragger_horizontal"),
                  t = "left",
                  u = n[0].offsetLeft,
                  v = [
                    m.width() - n.outerWidth(!1),
                    s.parent().width() - s.width()
                  ],
                  w = [c, 0 === c ? 0 : c / i.scrollRatio.x],
                  y = p[1],
                  z = q[1],
                  A = y > 0 ? y / i.scrollRatio.x : 0,
                  B = z > 0 ? z / i.scrollRatio.x : 0;
                break;
              case "y":
                var s = a("#mCSB_" + i.idx + "_dragger_vertical"),
                  t = "top",
                  u = n[0].offsetTop,
                  v = [
                    m.height() - n.outerHeight(!1),
                    s.parent().height() - s.height()
                  ],
                  w = [c, 0 === c ? 0 : c / i.scrollRatio.y],
                  y = p[0],
                  z = q[0],
                  A = y > 0 ? y / i.scrollRatio.y : 0,
                  B = z > 0 ? z / i.scrollRatio.y : 0;
            }
            w[1] < 0 || (0 === w[0] && 0 === w[1])
              ? (w = [0, 0])
              : w[1] >= v[1]
                ? (w = [v[0], v[1]])
                : (w[0] = -w[0]),
              b[0].mcs || (h(), f("onInit") && j.callbacks.onInit.call(b[0])),
              clearTimeout(n[0].onCompleteTimeout),
              Y(s[0], t, Math.round(w[1]), l[1], e.scrollEasing),
              (i.tweenRunning ||
                !((0 === u && w[0] >= 0) || (u === v[0] && w[0] <= v[0]))) &&
                Y(
                  n[0],
                  t,
                  Math.round(w[0]),
                  l[0],
                  e.scrollEasing,
                  e.overwrite,
                  {
                    onStart: function() {
                      e.callbacks &&
                        e.onStart &&
                        !i.tweenRunning &&
                        (f("onScrollStart") &&
                          (h(), j.callbacks.onScrollStart.call(b[0])),
                        (i.tweenRunning = !0),
                        x(s),
                        (i.cbOffsets = g()));
                    },
                    onUpdate: function() {
                      e.callbacks &&
                        e.onUpdate &&
                        f("whileScrolling") &&
                        (h(), j.callbacks.whileScrolling.call(b[0]));
                    },
                    onComplete: function() {
                      if (e.callbacks && e.onComplete) {
                        "yx" === j.axis && clearTimeout(n[0].onCompleteTimeout);
                        var a = n[0].idleTimer || 0;
                        n[0].onCompleteTimeout = setTimeout(function() {
                          f("onScroll") &&
                            (h(), j.callbacks.onScroll.call(b[0])),
                            f("onTotalScroll") &&
                              w[1] >= v[1] - A &&
                              i.cbOffsets[0] &&
                              (h(), j.callbacks.onTotalScroll.call(b[0])),
                            f("onTotalScrollBack") &&
                              w[1] <= B &&
                              i.cbOffsets[1] &&
                              (h(), j.callbacks.onTotalScrollBack.call(b[0])),
                            (i.tweenRunning = !1),
                            (n[0].idleTimer = 0),
                            x(s, "hide");
                        }, a);
                      }
                    }
                  }
                );
          }
        },
        Y = function(a, b, c, d, e, f, g) {
          function h() {
            v.stop ||
              (s || o.call(),
              (s = Z() - r),
              i(),
              s >= v.time &&
                ((v.time = s > v.time ? s + m - (s - v.time) : s + m - 1),
                v.time < s + 1 && (v.time = s + 1)),
              v.time < d ? (v.id = n(h)) : q.call());
          }
          function i() {
            d > 0
              ? ((v.currVal = l(v.time, t, w, d, e)),
                (u[b] = Math.round(v.currVal) + "px"))
              : (u[b] = c + "px"),
              p.call();
          }
          function j() {
            (m = 1e3 / 60),
              (v.time = s + m),
              (n = window.requestAnimationFrame
                ? window.requestAnimationFrame
                : function(a) {
                    return i(), setTimeout(a, 0.01);
                  }),
              (v.id = n(h));
          }
          function k() {
            null != v.id &&
              (window.requestAnimationFrame
                ? window.cancelAnimationFrame(v.id)
                : clearTimeout(v.id),
              (v.id = null));
          }
          function l(a, b, c, d, e) {
            switch (e) {
              case "linear":
              case "mcsLinear":
                return c * a / d + b;
              case "mcsLinearOut":
                return (a /= d), a--, c * Math.sqrt(1 - a * a) + b;
              case "easeInOutSmooth":
                return (
                  (a /= d / 2),
                  1 > a
                    ? c / 2 * a * a + b
                    : (a--, -c / 2 * (a * (a - 2) - 1) + b)
                );
              case "easeInOutStrong":
                return (
                  (a /= d / 2),
                  1 > a
                    ? c / 2 * Math.pow(2, 10 * (a - 1)) + b
                    : (a--, c / 2 * (-Math.pow(2, -10 * a) + 2) + b)
                );
              case "easeInOut":
              case "mcsEaseInOut":
                return (
                  (a /= d / 2),
                  1 > a
                    ? c / 2 * a * a * a + b
                    : ((a -= 2), c / 2 * (a * a * a + 2) + b)
                );
              case "easeOutSmooth":
                return (a /= d), a--, -c * (a * a * a * a - 1) + b;
              case "easeOutStrong":
                return c * (-Math.pow(2, -10 * a / d) + 1) + b;
              case "easeOut":
              case "mcsEaseOut":
              default:
                var f = (a /= d) * a,
                  g = f * a;
                return (
                  b +
                  c *
                    (0.499999999999997 * g * f +
                      -2.5 * f * f +
                      5.5 * g +
                      -6.5 * f +
                      4 * a)
                );
            }
          }
          a._mTween || (a._mTween = { top: {}, left: {} });
          var m,
            n,
            g = g || {},
            o = g.onStart || function() {},
            p = g.onUpdate || function() {},
            q = g.onComplete || function() {},
            r = Z(),
            s = 0,
            t = a.offsetTop,
            u = a.style,
            v = a._mTween[b];
          "left" === b && (t = a.offsetLeft);
          var w = c - t;
          (v.stop = 0), "none" !== f && k(), j();
        },
        Z = function() {
          return window.performance && window.performance.now
            ? window.performance.now()
            : window.performance && window.performance.webkitNow
              ? window.performance.webkitNow()
              : Date.now
                ? Date.now()
                : new Date().getTime();
        },
        $ = function() {
          var a = this;
          a._mTween || (a._mTween = { top: {}, left: {} });
          for (var b = ["top", "left"], c = 0; c < b.length; c++) {
            var d = b[c];
            a._mTween[d].id &&
              (window.requestAnimationFrame
                ? window.cancelAnimationFrame(a._mTween[d].id)
                : clearTimeout(a._mTween[d].id),
              (a._mTween[d].id = null),
              (a._mTween[d].stop = 1));
          }
        },
        _ = function(a, b) {
          try {
            delete a[b];
          } catch (c) {
            a[b] = null;
          }
        },
        aa = function(a) {
          return !(a.which && 1 !== a.which);
        },
        ba = function(a) {
          var b = a.originalEvent.pointerType;
          return !(b && "touch" !== b && 2 !== b);
        },
        ca = function(a) {
          return !isNaN(parseFloat(a)) && isFinite(a);
        },
        da = function(a) {
          var b = a.parents(".mCSB_container");
          return [
            a.offset().top - b.offset().top,
            a.offset().left - b.offset().left
          ];
        },
        ea = function() {
          function a() {
            var a = ["webkit", "moz", "ms", "o"];
            if ("hidden" in document) return "hidden";
            for (var b = 0; b < a.length; b++)
              if (a[b] + "Hidden" in document) return a[b] + "Hidden";
            return null;
          }
          var b = a();
          return b ? document[b] : !1;
        };
      (a.fn[c] = function(b) {
        return l[b]
          ? l[b].apply(this, Array.prototype.slice.call(arguments, 1))
          : "object" != typeof b && b
            ? void a.error("Method " + b + " does not exist")
            : l.init.apply(this, arguments);
      }),
        (a[c] = function(b) {
          return l[b]
            ? l[b].apply(this, Array.prototype.slice.call(arguments, 1))
            : "object" != typeof b && b
              ? void a.error("Method " + b + " does not exist")
              : l.init.apply(this, arguments);
        }),
        (a[c].defaults = f),
        (window[c] = !0),
        a(window).bind("load", function() {
          a(e)[c](),
            a.extend(a.expr[":"], {
              mcsInView:
                a.expr[":"].mcsInView ||
                function(b) {
                  var c,
                    d,
                    e = a(b),
                    f = e.parents(".mCSB_container");
                  if (f.length)
                    return (
                      (c = f.parent()),
                      (d = [f[0].offsetTop, f[0].offsetLeft]),
                      d[0] + da(e)[0] >= 0 &&
                        d[0] + da(e)[0] < c.height() - e.outerHeight(!1) &&
                        d[1] + da(e)[1] >= 0 &&
                        d[1] + da(e)[1] < c.width() - e.outerWidth(!1)
                    );
                },
              mcsInSight:
                a.expr[":"].mcsInSight ||
                function(b, c, d) {
                  var e,
                    f,
                    g,
                    h,
                    i = a(b),
                    j = i.parents(".mCSB_container"),
                    k =
                      "exact" === d[3]
                        ? [[1, 0], [1, 0]]
                        : [[0.9, 0.1], [0.6, 0.4]];
                  if (j.length)
                    return (
                      (e = [i.outerHeight(!1), i.outerWidth(!1)]),
                      (g = [
                        j[0].offsetTop + da(i)[0],
                        j[0].offsetLeft + da(i)[1]
                      ]),
                      (f = [
                        j.parent()[0].offsetHeight,
                        j.parent()[0].offsetWidth
                      ]),
                      (h = [
                        e[0] < f[0] ? k[0] : k[1],
                        e[1] < f[1] ? k[0] : k[1]
                      ]),
                      g[0] - f[0] * h[0][0] < 0 &&
                        g[0] + e[0] - f[0] * h[0][1] >= 0 &&
                        g[1] - f[1] * h[1][0] < 0 &&
                        g[1] + e[1] - f[1] * h[1][1] >= 0
                    );
                },
              mcsOverflow:
                a.expr[":"].mcsOverflow ||
                function(b) {
                  var c = a(b).data(d);
                  if (c) return c.overflowed[0] || c.overflowed[1];
                }
            });
        });
    });
  }),
  !(function(a, b, c) {
    function d(b, c) {
      this.bodyOverflowX,
        (this.callbacks = { hide: [], show: [] }),
        (this.checkInterval = null),
        this.Content,
        (this.$el = a(b)),
        this.$elProxy,
        this.elProxyPosition,
        (this.enabled = !0),
        (this.options = a.extend({}, i, c)),
        (this.mouseIsOverProxy = !1),
        (this.namespace = "tooltipster-" + Math.round(1e5 * Math.random())),
        (this.Status = "hidden"),
        (this.timerHide = null),
        (this.timerShow = null),
        this.$tooltip,
        (this.options.iconTheme = this.options.iconTheme.replace(".", "")),
        (this.options.theme = this.options.theme.replace(".", "")),
        this._init();
    }
    function e(b, c) {
      var d = !0;
      return (
        a.each(b, function(a) {
          return "undefined" == typeof c[a] || b[a] !== c[a]
            ? ((d = !1), !1)
            : void 0;
        }),
        d
      );
    }
    function f() {
      return !k && j;
    }
    function g() {
      var a = c.body || c.documentElement,
        b = a.style,
        d = "transition";
      if ("string" == typeof b[d]) return !0;
      (v = ["Moz", "Webkit", "Khtml", "O", "ms"]),
        (d = d.charAt(0).toUpperCase() + d.substr(1));
      for (var e = 0; e < v.length; e++)
        if ("string" == typeof b[v[e] + d]) return !0;
      return !1;
    }
    var h = "tooltipster",
      i = {
        animation: "fade",
        arrow: !0,
        arrowColor: "",
        autoClose: !0,
        content: null,
        contentAsHTML: !1,
        contentCloning: !0,
        debug: !0,
        delay: 200,
        minWidth: 0,
        maxWidth: null,
        functionInit: function() {},
        functionBefore: function(a, b) {
          b();
        },
        functionReady: function() {},
        functionAfter: function() {},
        hideOnClick: !1,
        icon: "(?)",
        iconCloning: !0,
        iconDesktop: !1,
        iconTouch: !1,
        iconTheme: "tooltipster-icon",
        interactive: !1,
        interactiveTolerance: 350,
        multiple: !1,
        offsetX: 0,
        offsetY: 0,
        onlyOne: !1,
        position: "top",
        positionTracker: !1,
        positionTrackerCallback: function() {
          "hover" == this.option("trigger") &&
            this.option("autoClose") &&
            this.hide();
        },
        restoration: "current",
        speed: 350,
        timer: 0,
        theme: "tooltipster-default",
        touchDevices: !0,
        trigger: "hover",
        updateAnimation: !0
      };
    (d.prototype = {
      _init: function() {
        var b = this;
        if (c.querySelector) {
          var d = null;
          void 0 === b.$el.data("tooltipster-initialTitle") &&
            ((d = b.$el.attr("title")),
            void 0 === d && (d = null),
            b.$el.data("tooltipster-initialTitle", d)),
            b._content_set(null !== b.options.content ? b.options.content : d);
          var e = b.options.functionInit.call(b.$el, b.$el, b.Content);
          "undefined" != typeof e && b._content_set(e),
            b.$el.removeAttr("title").addClass("tooltipstered"),
            (!j && b.options.iconDesktop) || (j && b.options.iconTouch)
              ? ("string" == typeof b.options.icon
                  ? ((b.$elProxy = a(
                      '<span class="' + b.options.iconTheme + '"></span>'
                    )),
                    b.$elProxy.text(b.options.icon))
                  : (b.$elProxy = b.options.iconCloning
                      ? b.options.icon.clone(!0)
                      : b.options.icon),
                b.$elProxy.insertAfter(b.$el))
              : (b.$elProxy = b.$el),
            "hover" == b.options.trigger
              ? (b.$elProxy
                  .on("mouseenter." + b.namespace, function() {
                    (!f() || b.options.touchDevices) &&
                      ((b.mouseIsOverProxy = !0), b._show());
                  })
                  .on("mouseleave." + b.namespace, function() {
                    (!f() || b.options.touchDevices) &&
                      (b.mouseIsOverProxy = !1);
                  }),
                j &&
                  b.options.touchDevices &&
                  b.$elProxy.on("touchstart." + b.namespace, function() {
                    b._showNow();
                  }))
              : "click" == b.options.trigger &&
                b.$elProxy.on("click." + b.namespace, function() {
                  (!f() || b.options.touchDevices) && b._show();
                });
        }
      },
      _show: function() {
        var a = this;
        "shown" != a.Status &&
          "appearing" != a.Status &&
          (a.options.delay
            ? (a.timerShow = setTimeout(function() {
                ("click" == a.options.trigger ||
                  ("hover" == a.options.trigger && a.mouseIsOverProxy)) &&
                  a._showNow();
              }, a.options.delay))
            : a._showNow());
      },
      _showNow: function(c) {
        var d = this;
        d.options.functionBefore.call(d.$el, d.$el, function() {
          if (d.enabled && null !== d.Content) {
            c && d.callbacks.show.push(c),
              (d.callbacks.hide = []),
              clearTimeout(d.timerShow),
              (d.timerShow = null),
              clearTimeout(d.timerHide),
              (d.timerHide = null),
              d.options.onlyOne &&
                a(".tooltipstered")
                  .not(d.$el)
                  .each(function(b, c) {
                    var d = a(c),
                      e = d.data("tooltipster-ns");
                    a.each(e, function(a, b) {
                      var c = d.data(b),
                        e = c.status(),
                        f = c.option("autoClose");
                      "hidden" !== e && "disappearing" !== e && f && c.hide();
                    });
                  });
            var e = function() {
              (d.Status = "shown"),
                a.each(d.callbacks.show, function(a, b) {
                  b.call(d.$el);
                }),
                (d.callbacks.show = []);
            };
            if ("hidden" !== d.Status) {
              var f = 0;
              "disappearing" === d.Status
                ? ((d.Status = "appearing"),
                  g()
                    ? (d.$tooltip
                        .clearQueue()
                        .removeClass("tooltipster-dying")
                        .addClass(
                          "tooltipster-" + d.options.animation + "-show"
                        ),
                      d.options.speed > 0 && d.$tooltip.delay(d.options.speed),
                      d.$tooltip.queue(e))
                    : d.$tooltip.stop().fadeIn(e))
                : "shown" === d.Status && e();
            } else {
              d.Status = "appearing";
              var f = d.options.speed;
              (d.bodyOverflowX = a("body").css("overflow-x")),
                a("body").css("overflow-x", "hidden");
              var h = "tooltipster-" + d.options.animation,
                i =
                  "-webkit-transition-duration: " +
                  d.options.speed +
                  "ms; -webkit-animation-duration: " +
                  d.options.speed +
                  "ms; -moz-transition-duration: " +
                  d.options.speed +
                  "ms; -moz-animation-duration: " +
                  d.options.speed +
                  "ms; -o-transition-duration: " +
                  d.options.speed +
                  "ms; -o-animation-duration: " +
                  d.options.speed +
                  "ms; -ms-transition-duration: " +
                  d.options.speed +
                  "ms; -ms-animation-duration: " +
                  d.options.speed +
                  "ms; transition-duration: " +
                  d.options.speed +
                  "ms; animation-duration: " +
                  d.options.speed +
                  "ms;",
                k = d.options.minWidth
                  ? "min-width:" + Math.round(d.options.minWidth) + "px;"
                  : "",
                l = d.options.maxWidth
                  ? "max-width:" + Math.round(d.options.maxWidth) + "px;"
                  : "",
                m = d.options.interactive ? "pointer-events: auto;" : "";
              if (
                ((d.$tooltip = a(
                  '<div class="tooltipster-base ' +
                    d.options.theme +
                    '" style="' +
                    k +
                    " " +
                    l +
                    " " +
                    m +
                    " " +
                    i +
                    '"><div class="tooltipster-content"></div></div>'
                )),
                g() && d.$tooltip.addClass(h),
                d._content_insert(),
                d.$tooltip.appendTo("body"),
                d.reposition(),
                d.options.functionReady.call(d.$el, d.$el, d.$tooltip),
                g()
                  ? (d.$tooltip.addClass(h + "-show"),
                    d.options.speed > 0 && d.$tooltip.delay(d.options.speed),
                    d.$tooltip.queue(e))
                  : d.$tooltip
                      .css("display", "none")
                      .fadeIn(d.options.speed, e),
                d._interval_set(),
                a(b).on(
                  "scroll." + d.namespace + " resize." + d.namespace,
                  function() {
                    d.reposition();
                  }
                ),
                d.options.autoClose)
              )
                if (
                  (a("body").off("." + d.namespace),
                  "hover" == d.options.trigger)
                ) {
                  if (
                    (j &&
                      setTimeout(function() {
                        a("body").on("touchstart." + d.namespace, function() {
                          d.hide();
                        });
                      }, 0),
                    d.options.interactive)
                  ) {
                    j &&
                      d.$tooltip.on("touchstart." + d.namespace, function(a) {
                        a.stopPropagation();
                      });
                    var n = null;
                    d.$elProxy
                      .add(d.$tooltip)
                      .on(
                        "mouseleave." + d.namespace + "-autoClose",
                        function() {
                          clearTimeout(n),
                            (n = setTimeout(function() {
                              d.hide();
                            }, d.options.interactiveTolerance));
                        }
                      )
                      .on(
                        "mouseenter." + d.namespace + "-autoClose",
                        function() {
                          clearTimeout(n);
                        }
                      );
                  } else
                    d.$elProxy.on(
                      "mouseleave." + d.namespace + "-autoClose",
                      function() {
                        d.hide();
                      }
                    );
                  d.options.hideOnClick &&
                    d.$elProxy.on(
                      "click." + d.namespace + "-autoClose",
                      function() {
                        d.hide();
                      }
                    );
                } else
                  "click" == d.options.trigger &&
                    (setTimeout(function() {
                      a("body").on(
                        "click." + d.namespace + " touchstart." + d.namespace,
                        function() {
                          d.hide();
                        }
                      );
                    }, 0),
                    d.options.interactive &&
                      d.$tooltip.on(
                        "click." + d.namespace + " touchstart." + d.namespace,
                        function(a) {
                          a.stopPropagation();
                        }
                      ));
            }
            d.options.timer > 0 &&
              (d.timerHide = setTimeout(function() {
                (d.timerHide = null), d.hide();
              }, d.options.timer + f));
          }
        });
      },
      _interval_set: function() {
        var b = this;
        b.checkInterval = setInterval(function() {
          if (
            0 === a("body").find(b.$el).length ||
            0 === a("body").find(b.$elProxy).length ||
            "hidden" == b.Status ||
            0 === a("body").find(b.$tooltip).length
          )
            ("shown" == b.Status || "appearing" == b.Status) && b.hide(),
              b._interval_cancel();
          else if (b.options.positionTracker) {
            var c = b._repositionInfo(b.$elProxy),
              d = !1;
            e(c.dimension, b.elProxyPosition.dimension) &&
              ("fixed" === b.$elProxy.css("position")
                ? e(c.position, b.elProxyPosition.position) && (d = !0)
                : e(c.offset, b.elProxyPosition.offset) && (d = !0)),
              d ||
                (b.reposition(),
                b.options.positionTrackerCallback.call(b, b.$el));
          }
        }, 200);
      },
      _interval_cancel: function() {
        clearInterval(this.checkInterval), (this.checkInterval = null);
      },
      _content_set: function(a) {
        "object" == typeof a &&
          null !== a &&
          this.options.contentCloning &&
          (a = a.clone(!0)),
          (this.Content = a);
      },
      _content_insert: function() {
        var a = this,
          b = this.$tooltip.find(".tooltipster-content");
        "string" != typeof a.Content || a.options.contentAsHTML
          ? b.empty().append(a.Content)
          : b.text(a.Content);
      },
      _update: function(a) {
        var b = this;
        b._content_set(a),
          null !== b.Content
            ? "hidden" !== b.Status &&
              (b._content_insert(),
              b.reposition(),
              b.options.updateAnimation &&
                (g()
                  ? (b.$tooltip
                      .css({
                        width: "",
                        "-webkit-transition":
                          "all " +
                          b.options.speed +
                          "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                        "-moz-transition":
                          "all " +
                          b.options.speed +
                          "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                        "-o-transition":
                          "all " +
                          b.options.speed +
                          "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                        "-ms-transition":
                          "all " +
                          b.options.speed +
                          "ms, width 0ms, height 0ms, left 0ms, top 0ms",
                        transition:
                          "all " +
                          b.options.speed +
                          "ms, width 0ms, height 0ms, left 0ms, top 0ms"
                      })
                      .addClass("tooltipster-content-changing"),
                    setTimeout(function() {
                      "hidden" != b.Status &&
                        (b.$tooltip.removeClass("tooltipster-content-changing"),
                        setTimeout(function() {
                          "hidden" !== b.Status &&
                            b.$tooltip.css({
                              "-webkit-transition": b.options.speed + "ms",
                              "-moz-transition": b.options.speed + "ms",
                              "-o-transition": b.options.speed + "ms",
                              "-ms-transition": b.options.speed + "ms",
                              transition: b.options.speed + "ms"
                            });
                        }, b.options.speed));
                    }, b.options.speed))
                  : b.$tooltip.fadeTo(b.options.speed, 0.5, function() {
                      "hidden" != b.Status &&
                        b.$tooltip.fadeTo(b.options.speed, 1);
                    })))
            : b.hide();
      },
      _repositionInfo: function(a) {
        return {
          dimension: { height: a.outerHeight(!1), width: a.outerWidth(!1) },
          offset: a.offset(),
          position: {
            left: parseInt(a.css("left")),
            top: parseInt(a.css("top"))
          }
        };
      },
      hide: function(c) {
        var d = this;
        c && d.callbacks.hide.push(c),
          (d.callbacks.show = []),
          clearTimeout(d.timerShow),
          (d.timerShow = null),
          clearTimeout(d.timerHide),
          (d.timerHide = null);
        var e = function() {
          a.each(d.callbacks.hide, function(a, b) {
            b.call(d.$el);
          }),
            (d.callbacks.hide = []);
        };
        if ("shown" == d.Status || "appearing" == d.Status) {
          d.Status = "disappearing";
          var f = function() {
            (d.Status = "hidden"),
              "object" == typeof d.Content &&
                null !== d.Content &&
                d.Content.detach(),
              d.$tooltip.remove(),
              (d.$tooltip = null),
              a(b).off("." + d.namespace),
              a("body")
                .off("." + d.namespace)
                .css("overflow-x", d.bodyOverflowX),
              a("body").off("." + d.namespace),
              d.$elProxy.off("." + d.namespace + "-autoClose"),
              d.options.functionAfter.call(d.$el, d.$el),
              e();
          };
          g()
            ? (d.$tooltip
                .clearQueue()
                .removeClass("tooltipster-" + d.options.animation + "-show")
                .addClass("tooltipster-dying"),
              d.options.speed > 0 && d.$tooltip.delay(d.options.speed),
              d.$tooltip.queue(f))
            : d.$tooltip.stop().fadeOut(d.options.speed, f);
        } else "hidden" == d.Status && e();
        return d;
      },
      show: function(a) {
        return this._showNow(a), this;
      },
      update: function(a) {
        return this.content(a);
      },
      content: function(a) {
        return "undefined" == typeof a ? this.Content : (this._update(a), this);
      },
      reposition: function() {
        function c() {
          var c = a(b).scrollLeft();
          0 > C - c && ((f = C - c), (C = c)),
            C + i - c > g && ((f = C - (g + c - i)), (C = g + c - i));
        }
        function d(c, d) {
          h.offset.top - a(b).scrollTop() - j - F - 12 < 0 &&
            d.indexOf("top") > -1 &&
            (H = c),
            h.offset.top + h.dimension.height + j + 12 + F >
              a(b).scrollTop() + a(b).height() &&
              d.indexOf("bottom") > -1 &&
              ((H = c), (E = h.offset.top - j - F - 12));
        }
        var e = this;
        if (0 !== a("body").find(e.$tooltip).length) {
          e.$tooltip.css("width", ""),
            (e.elProxyPosition = e._repositionInfo(e.$elProxy));
          var f = null,
            g = a(b).width(),
            h = e.elProxyPosition,
            i = e.$tooltip.outerWidth(!1),
            j = (e.$tooltip.innerWidth() + 1, e.$tooltip.outerHeight(!1));
          if (e.$elProxy.is("area")) {
            var k = e.$elProxy.attr("shape"),
              l = e.$elProxy.parent().attr("name"),
              m = a('img[usemap="#' + l + '"]'),
              n = m.offset().left,
              o = m.offset().top,
              p =
                void 0 !== e.$elProxy.attr("coords")
                  ? e.$elProxy.attr("coords").split(",")
                  : void 0;
            if ("circle" == k) {
              var q = parseInt(p[0]),
                r = parseInt(p[1]),
                s = parseInt(p[2]);
              (h.dimension.height = 2 * s),
                (h.dimension.width = 2 * s),
                (h.offset.top = o + r - s),
                (h.offset.left = n + q - s);
            } else if ("rect" == k) {
              var q = parseInt(p[0]),
                r = parseInt(p[1]),
                t = parseInt(p[2]),
                u = parseInt(p[3]);
              (h.dimension.height = u - r),
                (h.dimension.width = t - q),
                (h.offset.top = o + r),
                (h.offset.left = n + q);
            } else if ("poly" == k) {
              for (
                var v = 0, w = 0, x = 0, y = 0, z = "even", A = 0;
                A < p.length;
                A++
              ) {
                var B = parseInt(p[A]);
                "even" == z
                  ? (B > x && ((x = B), 0 === A && (v = x)),
                    v > B && (v = B),
                    (z = "odd"))
                  : (B > y && ((y = B), 1 == A && (w = y)),
                    w > B && (w = B),
                    (z = "even"));
              }
              (h.dimension.height = y - w),
                (h.dimension.width = x - v),
                (h.offset.top = o + w),
                (h.offset.left = n + v);
            } else
              (h.dimension.height = m.outerHeight(!1)),
                (h.dimension.width = m.outerWidth(!1)),
                (h.offset.top = o),
                (h.offset.left = n);
          }
          var C = 0,
            D = 0,
            E = 0,
            F = parseInt(e.options.offsetY),
            G = parseInt(e.options.offsetX),
            H = e.options.position;
          if ("top" == H) {
            var I = h.offset.left + i - (h.offset.left + h.dimension.width);
            (C = h.offset.left + G - I / 2),
              (E = h.offset.top - j - F - 12),
              c(),
              d("bottom", "top");
          }
          if (
            ("top-left" == H &&
              ((C = h.offset.left + G),
              (E = h.offset.top - j - F - 12),
              c(),
              d("bottom-left", "top-left")),
            "top-right" == H &&
              ((C = h.offset.left + h.dimension.width + G - i),
              (E = h.offset.top - j - F - 12),
              c(),
              d("bottom-right", "top-right")),
            "bottom" == H)
          ) {
            var I = h.offset.left + i - (h.offset.left + h.dimension.width);
            (C = h.offset.left - I / 2 + G),
              (E = h.offset.top + h.dimension.height + F + 12),
              c(),
              d("top", "bottom");
          }
          if (
            ("bottom-left" == H &&
              ((C = h.offset.left + G),
              (E = h.offset.top + h.dimension.height + F + 12),
              c(),
              d("top-left", "bottom-left")),
            "bottom-right" == H &&
              ((C = h.offset.left + h.dimension.width + G - i),
              (E = h.offset.top + h.dimension.height + F + 12),
              c(),
              d("top-right", "bottom-right")),
            "left" == H)
          ) {
            (C = h.offset.left - G - i - 12),
              (D = h.offset.left + G + h.dimension.width + 12);
            var J = h.offset.top + j - (h.offset.top + h.dimension.height);
            if (((E = h.offset.top - J / 2 - F), 0 > C && D + i > g)) {
              var K = 2 * parseFloat(e.$tooltip.css("border-width")),
                L = i + C - K;
              e.$tooltip.css("width", L + "px"),
                (j = e.$tooltip.outerHeight(!1)),
                (C = h.offset.left - G - L - 12 - K),
                (J = h.offset.top + j - (h.offset.top + h.dimension.height)),
                (E = h.offset.top - J / 2 - F);
            } else
              0 > C &&
                ((C = h.offset.left + G + h.dimension.width + 12),
                (f = "left"));
          }
          if ("right" == H) {
            (C = h.offset.left + G + h.dimension.width + 12),
              (D = h.offset.left - G - i - 12);
            var J = h.offset.top + j - (h.offset.top + h.dimension.height);
            if (((E = h.offset.top - J / 2 - F), C + i > g && 0 > D)) {
              var K = 2 * parseFloat(e.$tooltip.css("border-width")),
                L = g - C - K;
              e.$tooltip.css("width", L + "px"),
                (j = e.$tooltip.outerHeight(!1)),
                (J = h.offset.top + j - (h.offset.top + h.dimension.height)),
                (E = h.offset.top - J / 2 - F);
            } else
              C + i > g && ((C = h.offset.left - G - i - 12), (f = "right"));
          }
          if (e.options.arrow) {
            var M = "tooltipster-arrow-" + H;
            if (e.options.arrowColor.length < 1)
              var N = e.$tooltip.css("background-color");
            else var N = e.options.arrowColor;
            if (
              (f
                ? "left" == f
                  ? ((M = "tooltipster-arrow-right"), (f = ""))
                  : "right" == f
                    ? ((M = "tooltipster-arrow-left"), (f = ""))
                    : (f = "left:" + Math.round(f) + "px;")
                : (f = ""),
              "top" == H || "top-left" == H || "top-right" == H)
            )
              var O = parseFloat(e.$tooltip.css("border-bottom-width")),
                P = e.$tooltip.css("border-bottom-color");
            else if ("bottom" == H || "bottom-left" == H || "bottom-right" == H)
              var O = parseFloat(e.$tooltip.css("border-top-width")),
                P = e.$tooltip.css("border-top-color");
            else if ("left" == H)
              var O = parseFloat(e.$tooltip.css("border-right-width")),
                P = e.$tooltip.css("border-right-color");
            else if ("right" == H)
              var O = parseFloat(e.$tooltip.css("border-left-width")),
                P = e.$tooltip.css("border-left-color");
            else
              var O = parseFloat(e.$tooltip.css("border-bottom-width")),
                P = e.$tooltip.css("border-bottom-color");
            O > 1 && O++;
            var Q = "";
            if (0 !== O) {
              var R = "",
                S = "border-color: " + P + ";";
              -1 !== M.indexOf("bottom")
                ? (R = "margin-top: -" + Math.round(O) + "px;")
                : -1 !== M.indexOf("top")
                  ? (R = "margin-bottom: -" + Math.round(O) + "px;")
                  : -1 !== M.indexOf("left")
                    ? (R = "margin-right: -" + Math.round(O) + "px;")
                    : -1 !== M.indexOf("right") &&
                      (R = "margin-left: -" + Math.round(O) + "px;"),
                (Q =
                  '<span class="tooltipster-arrow-border" style="' +
                  R +
                  " " +
                  S +
                  ';"></span>');
            }
            e.$tooltip.find(".tooltipster-arrow").remove();
            var T =
              '<div class="' +
              M +
              ' tooltipster-arrow" style="' +
              f +
              '">' +
              Q +
              '<span style="border-color:' +
              N +
              ';"></span></div>';
            e.$tooltip.append(T);
          }
          e.$tooltip.css({
            top: Math.round(E) + "px",
            left: Math.round(C) + "px"
          });
        }
        return e;
      },
      enable: function() {
        return (this.enabled = !0), this;
      },
      disable: function() {
        return this.hide(), (this.enabled = !1), this;
      },
      destroy: function() {
        var b = this;
        b.hide(),
          b.$el[0] !== b.$elProxy[0] && b.$elProxy.remove(),
          b.$el.removeData(b.namespace).off("." + b.namespace);
        var c = b.$el.data("tooltipster-ns");
        if (1 === c.length) {
          var d = null;
          "previous" === b.options.restoration
            ? (d = b.$el.data("tooltipster-initialTitle"))
            : "current" === b.options.restoration &&
              (d =
                "string" == typeof b.Content
                  ? b.Content
                  : a("<div></div>")
                      .append(b.Content)
                      .html()),
            d && b.$el.attr("title", d),
            b.$el
              .removeClass("tooltipstered")
              .removeData("tooltipster-ns")
              .removeData("tooltipster-initialTitle");
        } else
          (c = a.grep(c, function(a) {
            return a !== b.namespace;
          })),
            b.$el.data("tooltipster-ns", c);
        return b;
      },
      elementIcon: function() {
        return this.$el[0] !== this.$elProxy[0] ? this.$elProxy[0] : void 0;
      },
      elementTooltip: function() {
        return this.$tooltip ? this.$tooltip[0] : void 0;
      },
      option: function(a, b) {
        return "undefined" == typeof b
          ? this.options[a]
          : ((this.options[a] = b), this);
      },
      status: function() {
        return this.Status;
      }
    }),
      (a.fn[h] = function() {
        var b = arguments;
        if (0 === this.length) {
          if ("string" == typeof b[0]) {
            var c = !0;
            switch (b[0]) {
              case "setDefaults":
                a.extend(i, b[1]);
                break;
              default:
                c = !1;
            }
            return c ? !0 : this;
          }
          return this;
        }
        if ("string" == typeof b[0]) {
          var e = "#*$~&";
          return (
            this.each(function() {
              var c = a(this).data("tooltipster-ns"),
                d = c ? a(this).data(c[0]) : null;
              if (!d)
                throw new Error(
                  "You called Tooltipster's \"" +
                    b[0] +
                    '" method on an uninitialized element'
                );
              if ("function" != typeof d[b[0]])
                throw new Error('Unknown method .tooltipster("' + b[0] + '")');
              var f = d[b[0]](b[1], b[2]);
              return f !== d ? ((e = f), !1) : void 0;
            }),
            "#*$~&" !== e ? e : this
          );
        }
        var f = [],
          g = b[0] && "undefined" != typeof b[0].multiple,
          h = (g && b[0].multiple) || (!g && i.multiple),
          j = b[0] && "undefined" != typeof b[0].debug,
          k = (j && b[0].debug) || (!j && i.debug);
        return (
          this.each(function() {
            var c = !1,
              e = a(this).data("tooltipster-ns"),
              g = null;
            e
              ? h
                ? (c = !0)
                : k &&
                  console.log(
                    'Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'
                  )
              : (c = !0),
              c &&
                ((g = new d(this, b[0])),
                e || (e = []),
                e.push(g.namespace),
                a(this).data("tooltipster-ns", e),
                a(this).data(g.namespace, g)),
              f.push(g);
          }),
          h ? f : this
        );
      });
    var j = !!("ontouchstart" in b),
      k = !1;
    a("body").one("mousemove", function() {
      k = !0;
    });
  })(jQuery, window, document),
  (function(a) {
    function b(a, b) {
      if (!(a.originalEvent.touches.length > 1)) {
        a.preventDefault();
        var c = a.originalEvent.changedTouches[0],
          d = document.createEvent("MouseEvents");
        d.initMouseEvent(
          b,
          !0,
          !0,
          window,
          1,
          c.screenX,
          c.screenY,
          c.clientX,
          c.clientY,
          !1,
          !1,
          !1,
          !1,
          0,
          null
        ),
          a.target.dispatchEvent(d);
      }
    }
    if (((a.support.touch = "ontouchend" in document), a.support.touch)) {
      var c,
        d = a.ui.mouse.prototype,
        e = d._mouseInit,
        f = d._mouseDestroy;
      (d._touchStart = function(a) {
        var d = this;
        !c &&
          d._mouseCapture(a.originalEvent.changedTouches[0]) &&
          ((c = !0),
          (d._touchMoved = !1),
          b(a, "mouseover"),
          b(a, "mousemove"),
          b(a, "mousedown"));
      }),
        (d._touchMove = function(a) {
          c && ((this._touchMoved = !0), b(a, "mousemove"));
        }),
        (d._touchEnd = function(a) {
          c &&
            (b(a, "mouseup"),
            b(a, "mouseout"),
            this._touchMoved || b(a, "click"),
            (c = !1));
        }),
        (d._mouseInit = function() {
          var b = this;
          b.element.bind({
            touchstart: a.proxy(b, "_touchStart"),
            touchmove: a.proxy(b, "_touchMove"),
            touchend: a.proxy(b, "_touchEnd")
          }),
            e.call(b);
        }),
        (d._mouseDestroy = function() {
          var b = this;
          b.element.unbind({
            touchstart: a.proxy(b, "_touchStart"),
            touchmove: a.proxy(b, "_touchMove"),
            touchend: a.proxy(b, "_touchEnd")
          }),
            f.call(b);
        });
    }
  })(jQuery);
var jsPDF = (function() {
  function a(d, e, f, g) {
    (d = "undefined" == typeof d ? "p" : d.toString().toLowerCase()),
      "undefined" == typeof e && (e = "mm"),
      "undefined" == typeof f && (f = "a4"),
      "undefined" == typeof g && "undefined" == typeof zpipe && (g = !1);
    var h = f.toString().toLowerCase(),
      i = [],
      j = 0,
      k = g;
    g = {
      a0: [2383.94, 3370.39],
      a1: [1683.78, 2383.94],
      a2: [1190.55, 1683.78],
      a3: [841.89, 1190.55],
      a4: [595.28, 841.89],
      a5: [419.53, 595.28],
      a6: [297.64, 419.53],
      a7: [209.76, 297.64],
      a8: [147.4, 209.76],
      a9: [104.88, 147.4],
      a10: [73.7, 104.88],
      b0: [2834.65, 4008.19],
      b1: [2004.09, 2834.65],
      b2: [1417.32, 2004.09],
      b3: [1000.63, 1417.32],
      b4: [708.66, 1000.63],
      b5: [498.9, 708.66],
      b6: [354.33, 498.9],
      b7: [249.45, 354.33],
      b8: [175.75, 249.45],
      b9: [124.72, 175.75],
      b10: [87.87, 124.72],
      c0: [2599.37, 3676.54],
      c1: [1836.85, 2599.37],
      c2: [1298.27, 1836.85],
      c3: [918.43, 1298.27],
      c4: [649.13, 918.43],
      c5: [459.21, 649.13],
      c6: [323.15, 459.21],
      c7: [229.61, 323.15],
      c8: [161.57, 229.61],
      c9: [113.39, 161.57],
      c10: [79.37, 113.39],
      letter: [612, 792],
      "government-letter": [576, 756],
      legal: [612, 1008],
      "junior-legal": [576, 360],
      ledger: [1224, 792],
      tabloid: [792, 1224]
    };
    var l,
      m,
      n,
      o,
      p,
      q,
      r,
      s,
      t = "0 g",
      u = 0,
      v = [],
      w = 2,
      x = !1,
      y = [],
      z = {},
      A = {},
      B = 16,
      C = { title: "", subject: "", author: "", keywords: "", creator: "" },
      D = 0,
      E = 0,
      F = {},
      G = new c(F),
      H = function(a) {
        return a.toFixed(2);
      },
      I = function(a) {
        var b = a.toFixed(0);
        return 10 > a ? "0" + b : b;
      },
      J = function(a) {
        x ? v[u].push(a) : (i.push(a), (j += a.length + 1));
      },
      K = function() {
        return w++, (y[w] = j), J(w + " 0 obj"), w;
      },
      L = function(a) {
        J("stream"), J(a), J("endstream");
      },
      M = function(a, b) {
        var c;
        c = a;
        var d,
          e,
          f,
          g,
          h,
          i,
          j = b;
        if (
          (void 0 === j && (j = {}),
          (d = j.sourceEncoding ? d : "Unicode"),
          (f = j.outputEncoding),
          (j.autoencode || f) &&
            z[l].metadata &&
            z[l].metadata[d] &&
            z[l].metadata[d].encoding &&
            ((d = z[l].metadata[d].encoding),
            !f && z[l].encoding && (f = z[l].encoding),
            !f && d.codePages && (f = d.codePages[0]),
            "string" == typeof f && (f = d[f]),
            f))
        ) {
          for (h = !1, g = [], d = 0, e = c.length; e > d; d++)
            g.push((i = f[c.charCodeAt(d)]) ? String.fromCharCode(i) : c[d]),
              g[d].charCodeAt(0) >> 8 && (h = !0);
          c = g.join("");
        }
        for (d = c.length; void 0 === h && 0 !== d; )
          c.charCodeAt(d - 1) >> 8 && (h = !0), d--;
        if (h) {
          for (g = j.noBOM ? [] : [254, 255], d = 0, e = c.length; e > d; d++) {
            if (((i = c.charCodeAt(d)), (j = i >> 8), j >> 8))
              throw Error(
                "Character at position " +
                  d.toString(10) +
                  " of string '" +
                  c +
                  "' exceeds 16bits. Cannot be encoded into UCS-2 BE"
              );
            g.push(j), g.push(i - (j << 8));
          }
          c = String.fromCharCode.apply(void 0, g);
        }
        return c
          .replace(/\\/g, "\\\\")
          .replace(/\(/g, "\\(")
          .replace(/\)/g, "\\)");
      },
      N = function() {
        u++,
          (x = !0),
          (v[u] = []),
          J(H(0.200025 * o) + " w"),
          J("0 G"),
          0 !== D && J(D.toString(10) + " J"),
          0 !== E && J(E.toString(10) + " j"),
          G.publish("addPage", { pageNumber: u });
      },
      O = function(a, b) {
        var c;
        void 0 === a && (a = z[l].fontName),
          void 0 === b && (b = z[l].fontStyle);
        try {
          c = A[a][b];
        } catch (d) {
          c = void 0;
        }
        if (!c)
          throw Error(
            "Unable to look up font label for font '" +
              a +
              "', '" +
              b +
              "'. Refer to getFontList() for available fonts."
          );
        return c;
      },
      P = function() {
        (x = !1), (i = []), (y = []), J("%PDF-1.3"), (q = n * o), (r = m * o);
        var a, b, c, d, e;
        for (a = 1; u >= a; a++) {
          if (
            (K(),
            J("<</Type /Page"),
            J("/Parent 1 0 R"),
            J("/Resources 2 0 R"),
            J("/Contents " + (w + 1) + " 0 R>>"),
            J("endobj"),
            (b = v[a].join("\n")),
            K(),
            k)
          ) {
            for (c = [], d = 0; d < b.length; ++d) c[d] = b.charCodeAt(d);
            (e = adler32cs.from(b)),
              (b = new Deflater(6)),
              b.append(new Uint8Array(c)),
              (b = b.flush()),
              (c = [
                new Uint8Array([120, 156]),
                new Uint8Array(b),
                new Uint8Array([
                  255 & e,
                  (e >> 8) & 255,
                  (e >> 16) & 255,
                  (e >> 24) & 255
                ])
              ]),
              (b = "");
            for (d in c)
              c.hasOwnProperty(d) &&
                (b += String.fromCharCode.apply(null, c[d]));
            J("<</Length " + b.length + " /Filter [/FlateDecode]>>");
          } else J("<</Length " + b.length + ">>");
          L(b), J("endobj");
        }
        for (
          y[1] = j, J("1 0 obj"), J("<</Type /Pages"), s = "/Kids [", d = 0;
          u > d;
          d++
        )
          s += 3 + 2 * d + " 0 R ";
        J(s + "]"),
          J("/Count " + u),
          J("/MediaBox [0 0 " + H(q) + " " + H(r) + "]"),
          J(">>"),
          J("endobj");
        for (var f in z)
          z.hasOwnProperty(f) &&
            ((a = z[f]),
            (a.objectNumber = K()),
            J("<</BaseFont/" + a.PostScriptName + "/Type/Font"),
            "string" == typeof a.encoding && J("/Encoding/" + a.encoding),
            J("/Subtype/Type1>>"),
            J("endobj"));
        G.publish("putResources"),
          (y[2] = j),
          J("2 0 obj"),
          J("<<"),
          J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),
          J("/Font <<");
        for (var g in z)
          z.hasOwnProperty(g) && J("/" + g + " " + z[g].objectNumber + " 0 R");
        for (
          J(">>"),
            J("/XObject <<"),
            G.publish("putXobjectDict"),
            J(">>"),
            J(">>"),
            J("endobj"),
            G.publish("postPutResources"),
            K(),
            J("<<"),
            J("/Producer (jsPDF 0.9.0rc2)"),
            C.title && J("/Title (" + M(C.title) + ")"),
            C.subject && J("/Subject (" + M(C.subject) + ")"),
            C.author && J("/Author (" + M(C.author) + ")"),
            C.keywords && J("/Keywords (" + M(C.keywords) + ")"),
            C.creator && J("/Creator (" + M(C.creator) + ")"),
            f = new Date(),
            J(
              "/CreationDate (D:" +
                [
                  f.getFullYear(),
                  I(f.getMonth() + 1),
                  I(f.getDate()),
                  I(f.getHours()),
                  I(f.getMinutes()),
                  I(f.getSeconds())
                ].join("") +
                ")"
            ),
            J(">>"),
            J("endobj"),
            K(),
            J("<<"),
            J("/Type /Catalog"),
            J("/Pages 1 0 R"),
            J("/OpenAction [3 0 R /FitH null]"),
            J("/PageLayout /OneColumn"),
            G.publish("putCatalog"),
            J(">>"),
            J("endobj"),
            f = j,
            J("xref"),
            J("0 " + (w + 1)),
            J("0000000000 65535 f "),
            g = 1;
          w >= g;
          g++
        )
          (a = y[g].toFixed(0)),
            (a = 10 > a.length ? Array(11 - a.length).join("0") + a : a),
            J(a + " 00000 n ");
        return (
          J("trailer"),
          J("<<"),
          J("/Size " + (w + 1)),
          J("/Root " + w + " 0 R"),
          J("/Info " + (w - 1) + " 0 R"),
          J(">>"),
          J("startxref"),
          J(f),
          J("%%EOF"),
          (x = !0),
          i.join("\n")
        );
      },
      Q = function(a) {
        var b = "S";
        return (
          "F" === a ? (b = "f") : ("FD" === a || "DF" === a) && (b = "B"), b
        );
      },
      R = function(a, b) {
        var c, d, e, f;
        switch (a) {
          case void 0:
            return P();
          case "save":
            if (
              navigator.getUserMedia &&
              (void 0 === window.URL || void 0 === window.URL.createObjectURL)
            )
              return F.output("dataurlnewwindow");
            for (
              c = P(),
                d = c.length,
                e = new Uint8Array(new ArrayBuffer(d)),
                f = 0;
              d > f;
              f++
            )
              e[f] = c.charCodeAt(f);
            (c = new Blob([e], { type: "application/pdf" })), saveAs(c, b);
            break;
          case "datauristring":
          case "dataurlstring":
            return "data:application/pdf;base64," + btoa(P());
          case "datauri":
          case "dataurl":
            document.location.href = "data:application/pdf;base64," + btoa(P());
            break;
          case "dataurlnewwindow":
            window.open("data:application/pdf;base64," + btoa(P()));
            break;
          default:
            throw Error('Output type "' + a + '" is not supported.');
        }
      };
    if ("pt" === e) o = 1;
    else if ("mm" === e) o = 72 / 25.4;
    else if ("cm" === e) o = 72 / 2.54;
    else {
      if ("in" !== e) throw "Invalid unit: " + e;
      o = 72;
    }
    if (g.hasOwnProperty(h)) (m = g[h][1] / o), (n = g[h][0] / o);
    else
      try {
        (m = f[1]), (n = f[0]);
      } catch (S) {
        throw "Invalid format: " + f;
      }
    if ("p" === d || "portrait" === d)
      (d = "p"), n > m && ((d = n), (n = m), (m = d));
    else {
      if ("l" !== d && "landscape" !== d) throw "Invalid orientation: " + d;
      (d = "l"), m > n && ((d = n), (n = m), (m = d));
    }
    (F.internal = {
      pdfEscape: M,
      getStyle: Q,
      getFont: function() {
        return z[O.apply(F, arguments)];
      },
      getFontSize: function() {
        return B;
      },
      getLineHeight: function() {
        return 1.15 * B;
      },
      btoa: btoa,
      write: function(a) {
        J(
          1 === arguments.length ? a : Array.prototype.join.call(arguments, " ")
        );
      },
      getCoordinateString: function(a) {
        return H(a * o);
      },
      getVerticalCoordinateString: function(a) {
        return H((m - a) * o);
      },
      collections: {},
      newObject: K,
      putStream: L,
      events: G,
      scaleFactor: o,
      pageSize: { width: n, height: m },
      output: function(a, b) {
        return R(a, b);
      },
      getNumberOfPages: function() {
        return v.length - 1;
      },
      pages: v
    }),
      (F.addPage = function() {
        return N(), this;
      }),
      (F.text = function(a, b, c, d) {
        var e, f;
        if (
          ("number" == typeof a &&
            ((e = a), (f = b), (a = c), (b = e), (c = f)),
          "string" == typeof a &&
            a.match(/[\n\r]/) &&
            (a = a.split(/\r\n|\r|\n/g)),
          "undefined" == typeof d
            ? (d = { noBOM: !0, autoencode: !0 })
            : (void 0 === d.noBOM && (d.noBOM = !0),
              void 0 === d.autoencode && (d.autoencode = !0)),
          "string" == typeof a)
        )
          d = M(a, d);
        else {
          if (!(a instanceof Array))
            throw Error(
              'Type of text must be string or Array. "' +
                a +
                '" is not recognized.'
            );
          for (a = a.concat(), e = a.length - 1; -1 !== e; e--)
            a[e] = M(a[e], d);
          d = a.join(") Tj\nT* (");
        }
        return (
          J(
            "BT\n/" +
              l +
              " " +
              B +
              " Tf\n" +
              1.15 * B +
              " TL\n" +
              t +
              "\n" +
              H(b * o) +
              " " +
              H((m - c) * o) +
              " Td\n(" +
              d +
              ") Tj\nET"
          ),
          this
        );
      }),
      (F.line = function(a, b, c, d) {
        return (
          J(
            H(a * o) +
              " " +
              H((m - b) * o) +
              " m " +
              H(c * o) +
              " " +
              H((m - d) * o) +
              " l S"
          ),
          this
        );
      }),
      (F.lines = function(a, b, c, d, e, f) {
        var g, h, i, j, k, l, n, p;
        for (
          "number" == typeof a && ((g = a), (h = b), (a = c), (b = g), (c = h)),
            e = Q(e),
            d = void 0 === d ? [1, 1] : d,
            J((b * o).toFixed(3) + " " + ((m - c) * o).toFixed(3) + " m "),
            g = d[0],
            d = d[1],
            h = a.length,
            p = c,
            c = 0;
          h > c;
          c++
        )
          (i = a[c]),
            2 === i.length
              ? ((b = i[0] * g + b),
                (p = i[1] * d + p),
                J((b * o).toFixed(3) + " " + ((m - p) * o).toFixed(3) + " l"))
              : ((j = i[0] * g + b),
                (k = i[1] * d + p),
                (l = i[2] * g + b),
                (n = i[3] * d + p),
                (b = i[4] * g + b),
                (p = i[5] * d + p),
                J(
                  (j * o).toFixed(3) +
                    " " +
                    ((m - k) * o).toFixed(3) +
                    " " +
                    (l * o).toFixed(3) +
                    " " +
                    ((m - n) * o).toFixed(3) +
                    " " +
                    (b * o).toFixed(3) +
                    " " +
                    ((m - p) * o).toFixed(3) +
                    " c"
                ));
        return 1 == f && J(" h"), J(e), this;
      }),
      (F.rect = function(a, b, c, d, e) {
        return (
          (e = Q(e)),
          J([H(a * o), H((m - b) * o), H(c * o), H(-d * o), "re", e].join(" ")),
          this
        );
      }),
      (F.triangle = function(a, b, c, d, e, f, g) {
        return (
          this.lines(
            [[c - a, d - b], [e - c, f - d], [a - e, b - f]],
            a,
            b,
            [1, 1],
            g,
            !0
          ),
          this
        );
      }),
      (F.roundedRect = function(a, b, c, d, e, f, g) {
        var h = 4 / 3 * (Math.SQRT2 - 1);
        return (
          this.lines(
            [
              [c - 2 * e, 0],
              [e * h, 0, e, f - f * h, e, f],
              [0, d - 2 * f],
              [0, f * h, -(e * h), f, -e, f],
              [-c + 2 * e, 0],
              [-(e * h), 0, -e, -(f * h), -e, -f],
              [0, -d + 2 * f],
              [0, -(f * h), e * h, -f, e, -f]
            ],
            a + e,
            b,
            [1, 1],
            g
          ),
          this
        );
      }),
      (F.ellipse = function(a, b, c, d, e) {
        e = Q(e);
        var f = 4 / 3 * (Math.SQRT2 - 1) * c,
          g = 4 / 3 * (Math.SQRT2 - 1) * d;
        return (
          J(
            [
              H((a + c) * o),
              H((m - b) * o),
              "m",
              H((a + c) * o),
              H((m - (b - g)) * o),
              H((a + f) * o),
              H((m - (b - d)) * o),
              H(a * o),
              H((m - (b - d)) * o),
              "c"
            ].join(" ")
          ),
          J(
            [
              H((a - f) * o),
              H((m - (b - d)) * o),
              H((a - c) * o),
              H((m - (b - g)) * o),
              H((a - c) * o),
              H((m - b) * o),
              "c"
            ].join(" ")
          ),
          J(
            [
              H((a - c) * o),
              H((m - (b + g)) * o),
              H((a - f) * o),
              H((m - (b + d)) * o),
              H(a * o),
              H((m - (b + d)) * o),
              "c"
            ].join(" ")
          ),
          J(
            [
              H((a + f) * o),
              H((m - (b + d)) * o),
              H((a + c) * o),
              H((m - (b + g)) * o),
              H((a + c) * o),
              H((m - b) * o),
              "c",
              e
            ].join(" ")
          ),
          this
        );
      }),
      (F.circle = function(a, b, c, d) {
        return this.ellipse(a, b, c, c, d);
      }),
      (F.setProperties = function(a) {
        for (var b in C) C.hasOwnProperty(b) && a[b] && (C[b] = a[b]);
        return this;
      }),
      (F.setFontSize = function(a) {
        return (B = a), this;
      }),
      (F.setFont = function(a, b) {
        return (l = O(a, b)), this;
      }),
      (F.setFontStyle = F.setFontType = function(a) {
        return (l = O(void 0, a)), this;
      }),
      (F.getFontList = function() {
        var a,
          b,
          c,
          d = {};
        for (a in A)
          if (A.hasOwnProperty(a))
            for (b in ((d[a] = c = []), A[a]))
              A[a].hasOwnProperty(b) && c.push(b);
        return d;
      }),
      (F.setLineWidth = function(a) {
        return J((a * o).toFixed(2) + " w"), this;
      }),
      (F.setDrawColor = function(a, b, c, d) {
        return (
          (a =
            void 0 === b || (void 0 === d && (a === b) === c)
              ? "string" == typeof a
                ? a + " G"
                : H(a / 255) + " G"
              : void 0 === d
                ? "string" == typeof a
                  ? [a, b, c, "RG"].join(" ")
                  : [H(a / 255), H(b / 255), H(c / 255), "RG"].join(" ")
                : "string" == typeof a
                  ? [a, b, c, d, "K"].join(" ")
                  : [H(a), H(b), H(c), H(d), "K"].join(" ")),
          J(a),
          this
        );
      }),
      (F.setFillColor = function(a, b, c, d) {
        return (
          (a =
            void 0 === b || (void 0 === d && (a === b) === c)
              ? "string" == typeof a
                ? a + " g"
                : H(a / 255) + " g"
              : void 0 === d
                ? "string" == typeof a
                  ? [a, b, c, "rg"].join(" ")
                  : [H(a / 255), H(b / 255), H(c / 255), "rg"].join(" ")
                : "string" == typeof a
                  ? [a, b, c, d, "k"].join(" ")
                  : [H(a), H(b), H(c), H(d), "k"].join(" ")),
          J(a),
          this
        );
      }),
      (F.setTextColor = function(a, b, c) {
        return (
          (t =
            (0 === a && 0 === b && 0 === c) || "undefined" == typeof b
              ? (a / 255).toFixed(3) + " g"
              : [
                  (a / 255).toFixed(3),
                  (b / 255).toFixed(3),
                  (c / 255).toFixed(3),
                  "rg"
                ].join(" ")),
          this
        );
      }),
      (F.CapJoinStyles = {
        0: 0,
        butt: 0,
        but: 0,
        miter: 0,
        1: 1,
        round: 1,
        rounded: 1,
        circle: 1,
        2: 2,
        projecting: 2,
        project: 2,
        square: 2,
        bevel: 2
      }),
      (F.setLineCap = function(a) {
        var b = this.CapJoinStyles[a];
        if (void 0 === b)
          throw Error(
            "Line cap style of '" +
              a +
              "' is not recognized. See or extend .CapJoinStyles property for valid styles"
          );
        return (D = b), J(b.toString(10) + " J"), this;
      }),
      (F.setLineJoin = function(a) {
        var b = this.CapJoinStyles[a];
        if (void 0 === b)
          throw Error(
            "Line join style of '" +
              a +
              "' is not recognized. See or extend .CapJoinStyles property for valid styles"
          );
        return (E = b), J(b.toString(10) + " j"), this;
      }),
      (F.output = R),
      (F.save = function(a) {
        F.output("save", a);
      });
    for (p in a.API)
      a.API.hasOwnProperty(p) &&
        ("events" === p && a.API.events.length
          ? (function(a, b) {
              var c, d, e;
              for (e = b.length - 1; -1 !== e; e--)
                (c = b[e][0]),
                  (d = b[e][1]),
                  a.subscribe.apply(
                    a,
                    [c].concat("function" == typeof d ? [d] : d)
                  );
            })(G, a.API.events)
          : (F[p] = a.API[p]));
    return (
      (function() {
        var a,
          c,
          d,
          e,
          f = [
            ["Helvetica", "helvetica", "normal"],
            ["Helvetica-Bold", "helvetica", "bold"],
            ["Helvetica-Oblique", "helvetica", "italic"],
            ["Helvetica-BoldOblique", "helvetica", "bolditalic"],
            ["Courier", "courier", "normal"],
            ["Courier-Bold", "courier", "bold"],
            ["Courier-Oblique", "courier", "italic"],
            ["Courier-BoldOblique", "courier", "bolditalic"],
            ["Times-Roman", "times", "normal"],
            ["Times-Bold", "times", "bold"],
            ["Times-Italic", "times", "italic"],
            ["Times-BoldItalic", "times", "bolditalic"]
          ];
        for (a = 0, c = f.length; c > a; a++) {
          var g = f[a][0],
            h = f[a][1];
          (d = f[a][2]), (e = "F" + (b(z) + 1).toString(10));
          var g = (z[e] = {
              id: e,
              PostScriptName: g,
              fontName: h,
              fontStyle: d,
              encoding: "StandardEncoding",
              metadata: {}
            }),
            i = e;
          void 0 === A[h] && (A[h] = {}),
            (A[h][d] = i),
            G.publish("addFont", g),
            (d = e),
            (e = f[a][0].split("-")),
            (g = e[0]),
            (e = e[1] || ""),
            void 0 === A[g] && (A[g] = {}),
            (A[g][e] = d);
        }
        G.publish("addFonts", { fonts: z, dictionary: A });
      })(),
      (l = "F1"),
      N(),
      G.publish("initialized"),
      F
    );
  }
  "undefined" == typeof btoa &&
    (window.btoa = function(a) {
      var b,
        c,
        d,
        e,
        f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(
          ""
        ),
        g = 0,
        h = 0,
        i = "",
        i = [];
      do
        (b = a.charCodeAt(g++)),
          (c = a.charCodeAt(g++)),
          (d = a.charCodeAt(g++)),
          (e = (b << 16) | (c << 8) | d),
          (b = (e >> 18) & 63),
          (c = (e >> 12) & 63),
          (d = (e >> 6) & 63),
          (e &= 63),
          (i[h++] = f[b] + f[c] + f[d] + f[e]);
      while (g < a.length);
      return (
        (i = i.join("")),
        (a = a.length % 3),
        (a ? i.slice(0, a - 3) : i) + "===".slice(a || 3)
      );
    }),
    "undefined" == typeof atob &&
      (window.atob = function(a) {
        var b,
          c,
          d,
          e,
          f,
          g = 0,
          h = 0;
        e = "";
        var i = [];
        if (!a) return a;
        a += "";
        do
          (b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(
            a.charAt(g++)
          )),
            (c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(
              a.charAt(g++)
            )),
            (e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(
              a.charAt(g++)
            )),
            (f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(
              a.charAt(g++)
            )),
            (d = (b << 18) | (c << 12) | (e << 6) | f),
            (b = (d >> 16) & 255),
            (c = (d >> 8) & 255),
            (d &= 255),
            (i[h++] =
              64 === e
                ? String.fromCharCode(b)
                : 64 === f
                  ? String.fromCharCode(b, c)
                  : String.fromCharCode(b, c, d));
        while (g < a.length);
        return (e = i.join(""));
      });
  var b =
      "function" == typeof Object.keys
        ? function(a) {
            return Object.keys(a).length;
          }
        : function(a) {
            var b,
              c = 0;
            for (b in a) a.hasOwnProperty(b) && c++;
            return c;
          },
    c = function(a) {
      (this.topics = {}),
        (this.context = a),
        (this.publish = function(a, b) {
          if (this.topics[a]) {
            var c,
              d,
              e,
              f,
              g = this.topics[a],
              h = [],
              i = function() {};
            for (
              b = Array.prototype.slice.call(arguments, 1), d = 0, e = g.length;
              e > d;
              d++
            )
              (f = g[d]),
                (c = f[0]),
                f[1] && ((f[0] = i), h.push(d)),
                c.apply(this.context, b);
            for (d = 0, e = h.length; e > d; d++) g.splice(h[d], 1);
          }
        }),
        (this.subscribe = function(a, b, c) {
          return (
            this.topics[a]
              ? this.topics[a].push([b, c])
              : (this.topics[a] = [[b, c]]),
            { topic: a, callback: b }
          );
        }),
        (this.unsubscribe = function(a) {
          if (this.topics[a.topic]) {
            var b,
              c,
              d = this.topics[a.topic];
            for (b = 0, c = d.length; c > b; b++)
              d[b][0] === a.callback && d.splice(b, 1);
          }
        });
    };
  return (a.API = { events: [] }), a;
})();
!(function(a) {
  var b = function() {
      var a,
        b = this.internal.collections.addImage_images;
      for (a in b) {
        var c = b[a],
          d = this.internal.newObject(),
          e = this.internal.write,
          f = this.internal.putStream;
        if (
          ((c.n = d),
          e("<</Type /XObject"),
          e("/Subtype /Image"),
          e("/Width " + c.w),
          e("/Height " + c.h),
          "Indexed" === c.cs
            ? e(
                "/ColorSpace [/Indexed /DeviceRGB " +
                  (c.pal.length / 3 - 1) +
                  " " +
                  (d + 1) +
                  " 0 R]"
              )
            : (e("/ColorSpace /" + c.cs),
              "DeviceCMYK" === c.cs && e("/Decode [1 0 1 0 1 0 1 0]")),
          e("/BitsPerComponent " + c.bpc),
          "f" in c && e("/Filter /" + c.f),
          "dp" in c && e("/DecodeParms <<" + c.dp + ">>"),
          "trns" in c && c.trns.constructor == Array)
        )
          for (var g = "", h = 0; h < c.trns.length; h++)
            (g += c[g][h] + " " + c.trns[h] + " "), e("/Mask [" + g + "]");
        "smask" in c && e("/SMask " + (d + 1) + " 0 R"),
          e("/Length " + c.data.length + ">>"),
          f(c.data),
          e("endobj");
      }
    },
    c = function() {
      var a,
        b,
        c = this.internal.collections.addImage_images,
        d = this.internal.write;
      for (b in c) (a = c[b]), d("/I" + a.i, a.n, "0", "R");
    };
  a.addImage = function(a, d, e, f, g, h) {
    if ("object" == typeof a && 1 === a.nodeType) {
      (d = document.createElement("canvas")),
        (d.width = a.clientWidth),
        (d.height = a.clientHeight);
      var i = d.getContext("2d");
      if (!i) throw "addImage requires canvas to be supported by browser.";
      i.drawImage(a, 0, 0, d.width, d.height),
        (a = d.toDataURL("image/jpeg")),
        (d = "JPEG");
    }
    if ("JPEG" !== d.toUpperCase())
      throw Error(
        "addImage currently only supports format 'JPEG', not '" + d + "'"
      );
    var j;
    d = this.internal.collections.addImage_images;
    var i = this.internal.getCoordinateString,
      k = this.internal.getVerticalCoordinateString;
    if (
      ("data:image/jpeg;base64," === a.substring(0, 23) &&
        (a = atob(a.replace("data:image/jpeg;base64,", ""))),
      d)
    )
      if (Object.keys) j = Object.keys(d).length;
      else {
        var l = d,
          m = 0;
        for (j in l) l.hasOwnProperty(j) && m++;
        j = m;
      }
    else
      (j = 0),
        (this.internal.collections.addImage_images = d = {}),
        this.internal.events.subscribe("putResources", b),
        this.internal.events.subscribe("putXobjectDict", c);
    a: {
      var n,
        l = a;
      if (
        255 === !l.charCodeAt(0) ||
        216 === !l.charCodeAt(1) ||
        255 === !l.charCodeAt(2) ||
        224 === !l.charCodeAt(3) ||
        74 === !l.charCodeAt(6) ||
        70 === !l.charCodeAt(7) ||
        73 === !l.charCodeAt(8) ||
        70 === !l.charCodeAt(9) ||
        0 === !l.charCodeAt(10)
      )
        throw Error("getJpegSize requires a binary jpeg file");
      n = 256 * l.charCodeAt(4) + l.charCodeAt(5);
      for (var m = 4, o = l.length; o > m; ) {
        if (((m += n), 255 !== l.charCodeAt(m)))
          throw Error("getJpegSize could not find the size of the image");
        if (
          192 === l.charCodeAt(m + 1) ||
          193 === l.charCodeAt(m + 1) ||
          194 === l.charCodeAt(m + 1) ||
          195 === l.charCodeAt(m + 1) ||
          196 === l.charCodeAt(m + 1) ||
          197 === l.charCodeAt(m + 1) ||
          198 === l.charCodeAt(m + 1) ||
          199 === l.charCodeAt(m + 1)
        ) {
          (n = 256 * l.charCodeAt(m + 5) + l.charCodeAt(m + 6)),
            (l = 256 * l.charCodeAt(m + 7) + l.charCodeAt(m + 8)),
            (l = [l, n]);
          break a;
        }
        (m += 2), (n = 256 * l.charCodeAt(m) + l.charCodeAt(m + 1));
      }
      l = void 0;
    }
    return (
      (a = {
        w: l[0],
        h: l[1],
        cs: "DeviceRGB",
        bpc: 8,
        f: "DCTDecode",
        i: j,
        data: a
      }),
      (d[j] = a),
      g || h || (h = g = -96),
      0 > g && (g = -72 * a.w / g / this.internal.scaleFactor),
      0 > h && (h = -72 * a.h / h / this.internal.scaleFactor),
      0 === g && (g = h * a.w / a.h),
      0 === h && (h = g * a.h / a.w),
      this.internal.write(
        "q",
        i(g),
        "0 0",
        i(h),
        i(e),
        k(f + h),
        "cm /I" + a.i,
        "Do Q"
      ),
      this
    );
  };
})(jsPDF.API),
  (function(a) {
    function b(a, b, c, d) {
      return (
        (this.pdf = a),
        (this.x = b),
        (this.y = c),
        (this.settings = d),
        this.init(),
        this
      );
    }
    function c(a) {
      var b = h[a];
      return b
        ? b
        : ((b = {
            "xx-small": 9,
            "x-small": 11,
            small: 13,
            medium: 16,
            large: 19,
            "x-large": 23,
            "xx-large": 28,
            auto: 0
          }[a]),
          void 0 !== b || (b = parseFloat(a))
            ? (h[a] = b / 16)
            : ((b = a.match(/([\d\.]+)(px)/)),
              (h[a] = 3 === b.length ? parseFloat(b[1]) / 16 : 1)));
    }
    function d(a, b, h) {
      var i,
        j = a.childNodes;
      (i = $(a)), (a = {});
      for (var k, l = i.css("font-family").split(","), m = l.shift(); !k && m; )
        (k = e[m.trim().toLowerCase()]), (m = l.shift());
      for (
        a["font-family"] = k || "times",
          a["font-style"] = g[i.css("font-style")] || "normal",
          k = f[i.css("font-weight")] || "normal",
          "bold" === k &&
            (a["font-style"] =
              "normal" === a["font-style"] ? k : k + a["font-style"]),
          a["font-size"] = c(i.css("font-size")) || 1,
          a["line-height"] = c(i.css("line-height")) || 1,
          a.display = "inline" === i.css("display") ? "inline" : "block",
          "block" === a.display &&
            ((a["margin-top"] = c(i.css("margin-top")) || 0),
            (a["margin-bottom"] = c(i.css("margin-bottom")) || 0),
            (a["padding-top"] = c(i.css("padding-top")) || 0),
            (a["padding-bottom"] = c(i.css("padding-bottom")) || 0)),
          (k = "block" === a.display) &&
            (b.setBlockBoundary(), b.setBlockStyle(a)),
          l = 0,
          m = j.length;
        m > l;
        l++
      )
        if (((i = j[l]), "object" == typeof i))
          if (1 === i.nodeType && "SCRIPT" != i.nodeName) {
            var n = i,
              o = b,
              p = h,
              q = !1,
              r = void 0,
              s = void 0,
              t = p["#" + n.id];
            if (t)
              if ("function" == typeof t) q = t(n, o);
              else
                for (r = 0, s = t.length; !q && r !== s; )
                  (q = t[r](n, o)), r++;
            if (((t = p[n.nodeName]), !q && t))
              if ("function" == typeof t) q = t(n, o);
              else
                for (r = 0, s = t.length; !q && r !== s; )
                  (q = t[r](n, o)), r++;
            q || d(i, b, h);
          } else 3 === i.nodeType && b.addText(i.nodeValue, a);
        else "string" == typeof i && b.addText(i, a);
      k && b.setBlockBoundary();
    }
    String.prototype.trim ||
      (String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "");
      }),
      String.prototype.trimLeft ||
        (String.prototype.trimLeft = function() {
          return this.replace(/^\s+/g, "");
        }),
      String.prototype.trimRight ||
        (String.prototype.trimRight = function() {
          return this.replace(/\s+$/g, "");
        }),
      (b.prototype.init = function() {
        (this.paragraph = { text: [], style: [] }),
          this.pdf.internal.write("q");
      }),
      (b.prototype.dispose = function() {
        return this.pdf.internal.write("Q"), { x: this.x, y: this.y };
      }),
      (b.prototype.splitFragmentsIntoLines = function(a, b) {
        for (
          var c,
            d,
            e,
            f,
            g,
            h = this.pdf.internal.scaleFactor,
            i = {},
            j = [],
            k = [j],
            l = 0,
            m = this.settings.width;
          a.length;

        )
          if (((f = a.shift()), (g = b.shift()), f))
            if (
              ((c = g["font-family"]),
              (d = g["font-style"]),
              (e = i[c + d]),
              e ||
                ((e = this.pdf.internal.getFont(c, d).metadata.Unicode),
                (i[c + d] = e)),
              (c = {
                widths: e.widths,
                kerning: e.kerning,
                fontSize: 12 * g["font-size"],
                textIndent: l
              }),
              (d = this.pdf.getStringUnitWidth(f, c) * c.fontSize / h),
              l + d > m)
            ) {
              for (
                f = this.pdf.splitTextToSize(f, m, c), j.push([f.shift(), g]);
                f.length;

              )
                (j = [[f.shift(), g]]), k.push(j);
              l = this.pdf.getStringUnitWidth(j[0][0], c) * c.fontSize / h;
            } else j.push([f, g]), (l += d);
        return k;
      }),
      (b.prototype.RenderTextFragment = function(a, b) {
        var c = this.pdf.internal.getFont(b["font-family"], b["font-style"]);
        this.pdf.internal.write(
          "/" + c.id,
          (12 * b["font-size"]).toFixed(2),
          "Tf",
          "(" + this.pdf.internal.pdfEscape(a) + ") Tj"
        );
      }),
      (b.prototype.renderParagraph = function() {
        for (
          var a, b = this.paragraph.text, c = 0, d = b.length, e = !1, f = !1;
          !e && c !== d;

        )
          (a = b[c] = b[c].trimLeft()) && (e = !0), c++;
        for (c = d - 1; d && !f && -1 !== c; )
          (a = b[c] = b[c].trimRight()) && (f = !0), c--;
        for (e = /\s+$/g, f = !0, c = 0; c !== d; c++)
          (a = b[c].replace(/\s+/g, " ")),
            f && (a = a.trimLeft()),
            a && (f = e.test(a)),
            (b[c] = a);
        if (
          ((c = this.paragraph.style),
          (a = (d = this.paragraph.blockstyle) || {}),
          (this.paragraph = {
            text: [],
            style: [],
            blockstyle: {},
            priorblockstyle: d
          }),
          b.join("").trim())
        ) {
          (b = this.splitFragmentsIntoLines(b, c)),
            (c = 12 / this.pdf.internal.scaleFactor),
            (e =
              (Math.max((d["margin-top"] || 0) - (a["margin-bottom"] || 0), 0) +
                (d["padding-top"] || 0)) *
              c),
            (d = ((d["margin-bottom"] || 0) + (d["padding-bottom"] || 0)) * c),
            (a = this.pdf.internal.write);
          var g, h;
          for (
            this.y += e,
              a(
                "q",
                "BT",
                this.pdf.internal.getCoordinateString(this.x),
                this.pdf.internal.getVerticalCoordinateString(this.y),
                "Td"
              );
            b.length;

          ) {
            for (e = b.shift(), g = f = 0, h = e.length; g !== h; g++)
              e[g][0].trim() &&
                (f = Math.max(f, e[g][1]["line-height"], e[g][1]["font-size"]));
            for (
              a(0, (-12 * f).toFixed(2), "Td"), g = 0, h = e.length;
              g !== h;
              g++
            )
              e[g][0] && this.RenderTextFragment(e[g][0], e[g][1]);
            this.y += f * c;
          }
          a("ET", "Q"), (this.y += d);
        }
      }),
      (b.prototype.setBlockBoundary = function() {
        this.renderParagraph();
      }),
      (b.prototype.setBlockStyle = function(a) {
        this.paragraph.blockstyle = a;
      }),
      (b.prototype.addText = function(a, b) {
        this.paragraph.text.push(a), this.paragraph.style.push(b);
      });
    var e = {
        helvetica: "helvetica",
        "sans-serif": "helvetica",
        serif: "times",
        times: "times",
        "times new roman": "times",
        monospace: "courier",
        courier: "courier"
      },
      f = {
        100: "normal",
        200: "normal",
        300: "normal",
        400: "normal",
        500: "bold",
        600: "bold",
        700: "bold",
        800: "bold",
        900: "bold",
        normal: "normal",
        bold: "bold",
        bolder: "bold",
        lighter: "normal"
      },
      g = { normal: "normal", italic: "italic", oblique: "italic" },
      h = { normal: 1 };
    a.fromHTML = function(a, c, e, f) {
      if ("string" == typeof a) {
        var g =
          "jsPDFhtmlText" +
          Date.now().toString() +
          (1e3 * Math.random()).toFixed(0);
        $(
          '<div style="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;"><iframe style="height:1px;width:1px" name="' +
            g +
            '" /></div>'
        ).appendTo(document.body),
          (a = $(window.frames[g].document.body).html(a)[0]);
      }
      return (
        (c = new b(this, c, e, f)), d(a, c, f.elementHandlers), c.dispose()
      );
    };
  })(jsPDF.API),
  (function(a) {
    a.addSVG = function(a, b, c, d, e) {
      function f(a) {
        for (
          var b = parseFloat(a[1]),
            c = parseFloat(a[2]),
            d = [],
            e = 3,
            f = a.length;
          f > e;

        )
          "c" === a[e]
            ? (d.push([
                parseFloat(a[e + 1]),
                parseFloat(a[e + 2]),
                parseFloat(a[e + 3]),
                parseFloat(a[e + 4]),
                parseFloat(a[e + 5]),
                parseFloat(a[e + 6])
              ]),
              (e += 7))
            : "l" === a[e]
              ? (d.push([parseFloat(a[e + 1]), parseFloat(a[e + 2])]), (e += 3))
              : (e += 1);
        return [b, c, d];
      }
      if (void 0 === b || void 0 === b)
        throw Error("addSVG needs values for 'x' and 'y'");
      var g = (function(a) {
          var b = a.createElement("iframe"),
            c = a.createElement("style");
          return (
            (c.type = "text/css"),
            c.styleSheet
              ? (c.styleSheet.cssText =
                  ".jsPDF_sillysvg_iframe {display:none;position:absolute;}")
              : c.appendChild(
                  a.createTextNode(
                    ".jsPDF_sillysvg_iframe {display:none;position:absolute;}"
                  )
                ),
            a.getElementsByTagName("head")[0].appendChild(c),
            (b.name = "childframe"),
            b.setAttribute("width", 0),
            b.setAttribute("height", 0),
            b.setAttribute("frameborder", "0"),
            b.setAttribute("scrolling", "no"),
            b.setAttribute("seamless", "seamless"),
            b.setAttribute("class", "jsPDF_sillysvg_iframe"),
            a.body.appendChild(b),
            b
          );
        })(document),
        g = (function(a, b) {
          var c = (b.contentWindow || b.contentDocument).document;
          return c.write(a), c.close(), c.getElementsByTagName("svg")[0];
        })(a, g);
      a = [1, 1];
      var h = parseFloat(g.getAttribute("width")),
        i = parseFloat(g.getAttribute("height"));
      for (
        h &&
          i &&
          (d && e
            ? (a = [d / h, e / i])
            : d
              ? (a = [d / h, d / h])
              : e && (a = [e / i, e / i])),
          g = g.childNodes,
          d = 0,
          e = g.length;
        e > d;
        d++
      )
        (h = g[d]),
          h.tagName &&
            "PATH" === h.tagName.toUpperCase() &&
            ((h = f(h.getAttribute("d").split(" "))),
            (h[0] = h[0] * a[0] + b),
            (h[1] = h[1] * a[1] + c),
            this.lines.call(this, h[2], h[0], h[1], a));
      return this;
    };
  })(jsPDF.API),
  (function(a) {
    var b = (a.getCharWidthsArray = function(a, b) {
        b || (b = {});
        var c,
          d,
          e,
          f = b.widths
            ? b.widths
            : this.internal.getFont().metadata.Unicode.widths,
          g = f.fof ? f.fof : 1,
          h = b.kerning
            ? b.kerning
            : this.internal.getFont().metadata.Unicode.kerning,
          i = h.fof ? h.fof : 1,
          j = 0,
          k = f[0] || g,
          l = [];
        for (c = 0, d = a.length; d > c; c++)
          (e = a.charCodeAt(c)),
            l.push((f[e] || k) / g + ((h[e] && h[e][j]) || 0) / i),
            (j = e);
        return l;
      }),
      c = function(a) {
        for (var b = a.length, c = 0; b; ) b--, (c += a[b]);
        return c;
      };
    a.getStringUnitWidth = function(a, d) {
      return c(b.call(this, a, d));
    };
    var d = function(a, d, e) {
      e || (e = {});
      var f = b(" ", e)[0],
        g = a.split(" "),
        h = [];
      a = [h];
      var i,
        j,
        k,
        l,
        m = e.textIndent || 0,
        n = 0,
        o = 0;
      for (k = 0, l = g.length; l > k; k++) {
        if (((i = g[k]), (j = b(i, e)), (o = c(j)), m + n + o > d)) {
          if (o > d) {
            for (
              var o = i, p = j, q = d, r = [], s = 0, t = o.length, u = 0;
              s !== t && u + p[s] < d - (m + n);

            )
              (u += p[s]), s++;
            for (r.push(o.slice(0, s)), m = s, u = 0; s !== t; )
              u + p[s] > q && (r.push(o.slice(m, s)), (u = 0), (m = s)),
                (u += p[s]),
                s++;
            for (
              m !== s && r.push(o.slice(m, s)),
                m = r,
                h.push(m.shift()),
                h = [m.pop()];
              m.length;

            )
              a.push([m.shift()]);
            o = c(j.slice(i.length - h[0].length));
          } else h = [i];
          a.push(h), (m = o);
        } else h.push(i), (m += n + o);
        n = f;
      }
      for (d = [], k = 0, l = a.length; l > k; k++) d.push(a[k].join(" "));
      return d;
    };
    a.splitTextToSize = function(a, b, c) {
      c || (c = {});
      var e,
        f = c.fontSize || this.internal.getFontSize(),
        g = c;
      e = { 0: 1 };
      var h = {};
      for (
        g.widths && g.kerning
          ? (e = { widths: g.widths, kerning: g.kerning })
          : ((g = this.internal.getFont(g.fontName, g.fontStyle)),
            (e = g.metadata.Unicode
              ? {
                  widths: g.metadata.Unicode.widths || e,
                  kerning: g.metadata.Unicode.kerning || h
                }
              : { widths: e, kerning: h })),
          a = a.match(/[\n\r]/) ? a.split(/\r\n|\r|\n/g) : [a],
          b = 1 * this.internal.scaleFactor * b / f,
          e.textIndent = c.textIndent
            ? 1 * c.textIndent * this.internal.scaleFactor / f
            : 0,
          h = [],
          c = 0,
          f = a.length;
        f > c;
        c++
      )
        h = h.concat(d(a[c], b, e));
      return h;
    };
  })(jsPDF.API),
  (function(a) {
    var b = function(a) {
        for (var b = {}, c = 0; 16 > c; c++)
          b["klmnopqrstuvwxyz"[c]] = "0123456789abcdef"[c];
        for (
          var d,
            e,
            f,
            g = {},
            h = 1,
            i = g,
            j = [],
            k = "",
            l = "",
            m = a.length - 1,
            c = 1;
          c != m;

        )
          (e = a[c]),
            (c += 1),
            "'" == e
              ? d
                ? ((f = d.join("")), (d = void 0))
                : (d = [])
              : d
                ? d.push(e)
                : "{" == e
                  ? (j.push([i, f]), (i = {}), (f = void 0))
                  : "}" == e
                    ? ((e = j.pop()),
                      (e[0][e[1]] = i),
                      (f = void 0),
                      (i = e[0]))
                    : "-" == e
                      ? (h = -1)
                      : void 0 === f
                        ? b.hasOwnProperty(e)
                          ? ((k += b[e]),
                            (f = parseInt(k, 16) * h),
                            (h = 1),
                            (k = ""))
                          : (k += e)
                        : b.hasOwnProperty(e)
                          ? ((l += b[e]),
                            (i[f] = parseInt(l, 16) * h),
                            (h = 1),
                            (f = void 0),
                            (l = ""))
                          : (l += e);
        return g;
      },
      c = {
        codePages: ["WinAnsiEncoding"],
        WinAnsiEncoding: b(
          "{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}"
        )
      },
      d = {
        Unicode: {
          Courier: c,
          "Courier-Bold": c,
          "Courier-BoldOblique": c,
          "Courier-Oblique": c,
          Helvetica: c,
          "Helvetica-Bold": c,
          "Helvetica-BoldOblique": c,
          "Helvetica-Oblique": c,
          "Times-Roman": c,
          "Times-Bold": c,
          "Times-BoldItalic": c,
          "Times-Italic": c
        }
      },
      e = {
        Unicode: {
          "Courier-Oblique": b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
          "Times-BoldItalic": b(
            "{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"
          ),
          "Helvetica-Bold": b(
            "{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"
          ),
          Courier: b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
          "Courier-BoldOblique": b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
          "Times-Bold": b(
            "{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"
          ),
          Helvetica: b(
            "{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"
          ),
          "Helvetica-BoldOblique": b(
            "{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"
          ),
          "Courier-Bold": b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
          "Times-Italic": b(
            "{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"
          ),
          "Times-Roman": b(
            "{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"
          ),
          "Helvetica-Oblique": b(
            "{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"
          )
        }
      };
    a.events.push([
      "addFonts",
      function(a) {
        var b, c, f, g;
        for (c in a.fonts)
          a.fonts.hasOwnProperty(c) &&
            ((b = a.fonts[c]),
            (f = e.Unicode[b.PostScriptName]) &&
              ((g = b.metadata.Unicode
                ? b.metadata.Unicode
                : (b.metadata.Unicode = {})),
              (g.widths = f.widths),
              (g.kerning = f.kerning)),
            (f = d.Unicode[b.PostScriptName]) &&
              ((g = b.metadata.Unicode
                ? b.metadata.Unicode
                : (b.metadata.Unicode = {})),
              (g.encoding = f),
              f.codePages &&
                f.codePages.length &&
                (b.encoding = f.codePages[0])));
      }
    ]);
  })(jsPDF.API),
  (function(a) {
    var b,
      c,
      d,
      e,
      f = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 },
      g = 1;
    (a.setHeaderFunction = function(a) {
      e = a;
    }),
      (a.getTextDimensions = function(a) {
        (b = this.internal.getFont().fontName),
          (c = this.internal.getFontSize()),
          (d = this.internal.getFont().fontStyle);
        var e,
          f = 19.049976 / 25.4;
        return (
          (e = document.createElement("font")),
          (e.id = "jsPDFCell"),
          (e.style.fontStyle = d),
          (e.style.fontName = b),
          (e.style.fontSize = c + "pt"),
          (e.innerText = a),
          document.body.appendChild(e),
          (a = { w: (e.offsetWidth + 1) * f, h: (e.offsetHeight + 1) * f }),
          document.body.removeChild(e),
          a
        );
      }),
      (a.cellAddPage = function() {
        this.addPage(),
          (f = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 }),
          (g += 1);
      }),
      (a.cellInitialize = function() {
        (f = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 }),
          (g = 1);
      }),
      (a.cell = function(a, b, c, d, e, g, h) {
        var i = f;
        if (
          (void 0 !== i.ln &&
            (i.ln === g
              ? ((a = i.x + i.w), (b = i.y))
              : (i.y + i.h + d + 13 >= this.internal.pageSize.height &&
                  (this.cellAddPage(),
                  this.printHeaders &&
                    this.tableHeaderRow &&
                    this.printHeaderRow(g)),
                (b = f.y + f.h))),
          "" !== e[0])
        )
          if (
            (this.printingHeaderRow
              ? this.rect(a, b, c, d, "FD")
              : this.rect(a, b, c, d),
            "right" === h)
          ) {
            if (e instanceof Array)
              for (h = 0; h < e.length; h++) {
                var i = e[h],
                  j = this.getStringUnitWidth(i) * this.internal.getFontSize();
                this.text(
                  i,
                  a + c - j - 3,
                  b + this.internal.getLineHeight() * (h + 1)
                );
              }
          } else this.text(e, a + 3, b + this.internal.getLineHeight());
        return (f = { x: a, y: b, w: c, h: d, ln: g }), this;
      }),
      (a.getKeys =
        "function" == typeof Object.keys
          ? function(a) {
              return a ? Object.keys(a) : [];
            }
          : function(a) {
              var b,
                c = [];
              for (b in a) a.hasOwnProperty(b) && c.push(b);
              return c;
            }),
      (a.arrayMax = function(a, b) {
        var c,
          d,
          e,
          f = a[0];
        for (c = 0, d = a.length; d > c; c += 1)
          (e = a[c]), b ? -1 === b(f, e) && (f = e) : e > f && (f = e);
        return f;
      }),
      (a.table = function(b, c, d) {
        var e,
          f,
          g,
          h,
          i,
          j,
          k,
          l = [],
          m = [],
          n = {},
          o = {},
          p = [],
          q = [];
        if (
          ((this.lnMod = 0),
          d && (this.printHeaders = d.printHeaders || !0),
          !b)
        )
          throw "No data for PDF table";
        if (void 0 === c || null === c) l = this.getKeys(b[0]);
        else if (c[0] && "string" != typeof c[0])
          for (f = 0, g = c.length; g > f; f += 1)
            (e = c[f]), l.push(e.name), m.push(e.prompt), (o[e.name] = e.width);
        else l = c;
        if (d.autoSize)
          for (
            k = function(a) {
              return a[e];
            },
              f = 0,
              g = l.length;
            g > f;
            f += 1
          ) {
            for (
              e = l[f],
                n[e] = b.map(k),
                p.push(this.getTextDimensions(m[f] || e).w),
                i = n[e],
                j = 0,
                g = i.length;
              g > j;
              j += 1
            )
              (h = i[j]), p.push(this.getTextDimensions(h).w);
            o[e] = a.arrayMax(p);
          }
        if (d.printHeaders) {
          for (
            d = this.calculateLineHeight(l, o, m.length ? m : l),
              f = 0,
              g = l.length;
            g > f;
            f += 1
          )
            (e = l[f]), q.push([13, 13, o[e], d, String(m.length ? m[f] : e)]);
          this.setTableHeaderRow(q), this.printHeaderRow(1);
        }
        for (f = 0, g = b.length; g > f; f += 1)
          for (
            m = b[f],
              d = this.calculateLineHeight(l, o, m),
              j = 0,
              q = l.length;
            q > j;
            j += 1
          )
            (e = l[j]), this.cell(13, 13, o[e], d, m[e], f + 2, c[j].align);
        return this;
      }),
      (a.calculateLineHeight = function(a, b, c) {
        for (var d, e = 0, f = 0; f < a.length; f++)
          (d = a[f]),
            (c[d] = this.splitTextToSize(String(c[d]), b[d] - 3)),
            (d = this.internal.getLineHeight() * c[d].length + 3),
            d > e && (e = d);
        return e;
      }),
      (a.setTableHeaderRow = function(a) {
        this.tableHeaderRow = a;
      }),
      (a.printHeaderRow = function(a) {
        if (!this.tableHeaderRow)
          throw "Property tableHeaderRow does not exist.";
        var b, c, d;
        for (
          this.printingHeaderRow = !0,
            void 0 !== e &&
              ((c = e(this, g)),
              (f = { x: c[0], y: c[1], w: c[2], h: c[3], ln: -1 })),
            this.setFontStyle("bold"),
            c = 0,
            d = this.tableHeaderRow.length;
          d > c;
          c += 1
        )
          this.setFillColor(200, 200, 200),
            (b = this.tableHeaderRow[c]),
            (b = [].concat(b)),
            this.cell.apply(this, b.concat(a));
        this.setFontStyle("normal"), (this.printingHeaderRow = !1);
      });
  })(jsPDF.API),
  (function(a) {
    a.putTotalPages = function(a) {
      a = RegExp(a, "g");
      for (var b = 1; b <= this.internal.getNumberOfPages(); b++)
        for (var c = 0; c < this.internal.pages[b].length; c++)
          this.internal.pages[b][c] = this.internal.pages[b][c].replace(
            a,
            this.internal.getNumberOfPages()
          );
      return this;
    };
  })(jsPDF.API);
var BlobBuilder =
    BlobBuilder ||
    self.WebKitBlobBuilder ||
    self.MozBlobBuilder ||
    self.MSBlobBuilder ||
    (function(a) {
      var b = function(a) {
          return Object.prototype.toString
            .call(a)
            .match(/^\[object\s(.*)\]$/)[1];
        },
        c = function() {
          this.data = [];
        },
        d = function(a, b, c) {
          (this.data = a),
            (this.size = a.length),
            (this.type = b),
            (this.encoding = c);
        },
        e = c.prototype,
        f = d.prototype,
        g = a.FileReaderSync,
        h = function(a) {
          this.code = this[(this.name = a)];
        },
        i = "NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(
          " "
        ),
        j = i.length,
        k = a.URL || a.webkitURL || a,
        l = k.createObjectURL,
        m = k.revokeObjectURL,
        n = k,
        o = a.btoa,
        p = a.atob,
        q = !1,
        r = function(a) {
          q = !a;
        },
        s = a.ArrayBuffer,
        t = a.Uint8Array;
      for (c.fake = f.fake = !0; j--; ) h.prototype[i[j]] = j + 1;
      try {
        t && r.apply(0, new t(1));
      } catch (u) {}
      return (
        k.createObjectURL || (n = a.URL = {}),
        (n.createObjectURL = function(a) {
          var b = a.type;
          return (
            null === b && (b = "application/octet-stream"),
            a instanceof d
              ? ((b = "data:" + b),
                "base64" === a.encoding
                  ? b + ";base64," + a.data
                  : "URI" === a.encoding
                    ? b + "," + decodeURIComponent(a.data)
                    : o
                      ? b + ";base64," + o(a.data)
                      : b + "," + encodeURIComponent(a.data))
              : l
                ? l.call(k, a)
                : void 0
          );
        }),
        (n.revokeObjectURL = function(a) {
          "data:" !== a.substring(0, 5) && m && m.call(k, a);
        }),
        (e.append = function(a) {
          var c = this.data;
          if (t && a instanceof s)
            if (q) c.push(String.fromCharCode.apply(String, new t(a)));
            else {
              (c = ""), (a = new t(a));
              for (var e = 0, f = a.length; f > e; e++)
                c += String.fromCharCode(a[e]);
            }
          else if ("Blob" === b(a) || "File" === b(a)) {
            if (!g) throw new h("NOT_READABLE_ERR");
            (e = new g()), c.push(e.readAsBinaryString(a));
          } else
            a instanceof d
              ? "base64" === a.encoding && p
                ? c.push(p(a.data))
                : "URI" === a.encoding
                  ? c.push(decodeURIComponent(a.data))
                  : "raw" === a.encoding && c.push(a.data)
              : ("string" != typeof a && (a += ""),
                c.push(unescape(encodeURIComponent(a))));
        }),
        (e.getBlob = function(a) {
          return (
            arguments.length || (a = null), new d(this.data.join(""), a, "raw")
          );
        }),
        (e.toString = function() {
          return "[object BlobBuilder]";
        }),
        (f.slice = function(a, b, c) {
          var e = arguments.length;
          return (
            3 > e && (c = null),
            new d(
              this.data.slice(a, e > 1 ? b : this.data.length),
              c,
              this.encoding
            )
          );
        }),
        (f.toString = function() {
          return "[object Blob]";
        }),
        c
      );
    })(self),
  saveAs =
    saveAs ||
    (navigator.msSaveBlob && navigator.msSaveBlob.bind(navigator)) ||
    (function(a) {
      var b = a.document,
        c = a.URL || a.webkitURL || a,
        d = b.createElementNS("http://www.w3.org/1999/xhtml", "a"),
        e = "download" in d,
        f = function(c) {
          var d = b.createEvent("MouseEvents");
          return (
            d.initMouseEvent(
              "click",
              !0,
              !1,
              a,
              0,
              0,
              0,
              0,
              0,
              !1,
              !1,
              !1,
              !1,
              0,
              null
            ),
            c.dispatchEvent(d)
          );
        },
        g = a.webkitRequestFileSystem,
        h = a.requestFileSystem || g || a.mozRequestFileSystem,
        i = function(b) {
          (a.setImmediate || a.setTimeout)(function() {
            throw b;
          }, 0);
        },
        j = 0,
        k = [],
        l = function(a, b, c) {
          b = [].concat(b);
          for (var d = b.length; d--; ) {
            var e = a["on" + b[d]];
            if ("function" == typeof e)
              try {
                e.call(a, c || a);
              } catch (f) {
                i(f);
              }
          }
        },
        m = function(b, c) {
          var i,
            m,
            n,
            o = this,
            p = b.type,
            q = !1,
            r = function() {
              var c = (a.URL || a.webkitURL || a).createObjectURL(b);
              return k.push(c), c;
            },
            s = function() {
              l(o, ["writestart", "progress", "write", "writeend"]);
            },
            t = function() {
              (q || !i) && (i = r(b)),
                m && (m.location.href = i),
                (o.readyState = o.DONE),
                s();
            },
            u = function(a) {
              return function() {
                return o.readyState !== o.DONE
                  ? a.apply(this, arguments)
                  : void 0;
              };
            },
            v = { create: !0, exclusive: !1 };
          return (
            (o.readyState = o.INIT),
            c || (c = "download"),
            e && ((i = r(b)), (d.href = i), (d.download = c), f(d))
              ? ((o.readyState = o.DONE), void s())
              : (a.chrome &&
                  p &&
                  "application/octet-stream" !== p &&
                  ((n = b.slice || b.webkitSlice),
                  (b = n.call(b, 0, b.size, "application/octet-stream")),
                  (q = !0)),
                g && "download" !== c && (c += ".download"),
                (m = "application/octet-stream" === p || g ? a : a.open()),
                void (h
                  ? ((j += b.size),
                    h(
                      a.TEMPORARY,
                      j,
                      u(function(a) {
                        a.root.getDirectory(
                          "saved",
                          v,
                          u(function(a) {
                            var d = function() {
                              a.getFile(
                                c,
                                v,
                                u(function(a) {
                                  a.createWriter(
                                    u(function(c) {
                                      (c.onwriteend = function(b) {
                                        (m.location.href = a.toURL()),
                                          k.push(a),
                                          (o.readyState = o.DONE),
                                          l(o, "writeend", b);
                                      }),
                                        (c.onerror = function() {
                                          var a = c.error;
                                          a.code !== a.ABORT_ERR && t();
                                        }),
                                        [
                                          "writestart",
                                          "progress",
                                          "write",
                                          "abort"
                                        ].forEach(function(a) {
                                          c["on" + a] = o["on" + a];
                                        }),
                                        c.write(b),
                                        (o.abort = function() {
                                          c.abort(), (o.readyState = o.DONE);
                                        }),
                                        (o.readyState = o.WRITING);
                                    }),
                                    t
                                  );
                                }),
                                t
                              );
                            };
                            a.getFile(
                              c,
                              { create: !1 },
                              u(function(a) {
                                a.remove(), d();
                              }),
                              u(function(a) {
                                a.code === a.NOT_FOUND_ERR ? d() : t();
                              })
                            );
                          }),
                          t
                        );
                      }),
                      t
                    ))
                  : t()))
          );
        },
        n = m.prototype;
      return (
        (n.abort = function() {
          (this.readyState = this.DONE), l(this, "abort");
        }),
        (n.readyState = n.INIT = 0),
        (n.WRITING = 1),
        (n.DONE = 2),
        (n.error = n.onwritestart = n.onprogress = n.onwrite = n.onabort = n.onerror = n.onwriteend = null),
        a.addEventListener(
          "unload",
          function() {
            for (var a = k.length; a--; ) {
              var b = k[a];
              "string" == typeof b ? c.revokeObjectURL(b) : b.remove();
            }
            k.length = 0;
          },
          !1
        ),
        function(a, b) {
          return new m(a, b);
        }
      );
    })(self),
  MAX_BITS = 15,
  D_CODES = 30,
  BL_CODES = 19,
  LENGTH_CODES = 29,
  LITERALS = 256,
  L_CODES = LITERALS + 1 + LENGTH_CODES,
  HEAP_SIZE = 2 * L_CODES + 1,
  END_BLOCK = 256,
  MAX_BL_BITS = 7,
  REP_3_6 = 16,
  REPZ_3_10 = 17,
  REPZ_11_138 = 18,
  Buf_size = 16,
  Z_DEFAULT_COMPRESSION = -1,
  Z_FILTERED = 1,
  Z_HUFFMAN_ONLY = 2,
  Z_DEFAULT_STRATEGY = 0,
  Z_NO_FLUSH = 0,
  Z_PARTIAL_FLUSH = 1,
  Z_FULL_FLUSH = 3,
  Z_FINISH = 4,
  Z_OK = 0,
  Z_STREAM_END = 1,
  Z_NEED_DICT = 2,
  Z_STREAM_ERROR = -2,
  Z_DATA_ERROR = -3,
  Z_BUF_ERROR = -5,
  _dist_code = [
    0,
    1,
    2,
    3,
    4,
    4,
    5,
    5,
    6,
    6,
    6,
    6,
    7,
    7,
    7,
    7,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    8,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    9,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    10,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    11,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    12,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    13,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    14,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    15,
    0,
    0,
    16,
    17,
    18,
    18,
    19,
    19,
    20,
    20,
    20,
    20,
    21,
    21,
    21,
    21,
    22,
    22,
    22,
    22,
    22,
    22,
    22,
    22,
    23,
    23,
    23,
    23,
    23,
    23,
    23,
    23,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    24,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    25,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    26,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    27,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    28,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29,
    29
  ];
(Tree._length_code = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  8,
  9,
  9,
  10,
  10,
  11,
  11,
  12,
  12,
  12,
  12,
  13,
  13,
  13,
  13,
  14,
  14,
  14,
  14,
  15,
  15,
  15,
  15,
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  17,
  17,
  17,
  17,
  17,
  17,
  17,
  17,
  18,
  18,
  18,
  18,
  18,
  18,
  18,
  18,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  19,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  20,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  21,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  22,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  23,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  24,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  25,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  26,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  27,
  28
]),
  (Tree.base_length = [
    0,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    10,
    12,
    14,
    16,
    20,
    24,
    28,
    32,
    40,
    48,
    56,
    64,
    80,
    96,
    112,
    128,
    160,
    192,
    224,
    0
  ]),
  (Tree.base_dist = [
    0,
    1,
    2,
    3,
    4,
    6,
    8,
    12,
    16,
    24,
    32,
    48,
    64,
    96,
    128,
    192,
    256,
    384,
    512,
    768,
    1024,
    1536,
    2048,
    3072,
    4096,
    6144,
    8192,
    12288,
    16384,
    24576
  ]),
  (Tree.d_code = function(a) {
    return 256 > a ? _dist_code[a] : _dist_code[256 + (a >>> 7)];
  }),
  (Tree.extra_lbits = [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    3,
    3,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    5,
    5,
    5,
    0
  ]),
  (Tree.extra_dbits = [
    0,
    0,
    0,
    0,
    1,
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    5,
    5,
    6,
    6,
    7,
    7,
    8,
    8,
    9,
    9,
    10,
    10,
    11,
    11,
    12,
    12,
    13,
    13
  ]),
  (Tree.extra_blbits = [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    2,
    3,
    7
  ]),
  (Tree.bl_order = [
    16,
    17,
    18,
    0,
    8,
    7,
    9,
    6,
    10,
    5,
    11,
    4,
    12,
    3,
    13,
    2,
    14,
    1,
    15
  ]),
  (StaticTree.static_ltree = [
    12,
    8,
    140,
    8,
    76,
    8,
    204,
    8,
    44,
    8,
    172,
    8,
    108,
    8,
    236,
    8,
    28,
    8,
    156,
    8,
    92,
    8,
    220,
    8,
    60,
    8,
    188,
    8,
    124,
    8,
    252,
    8,
    2,
    8,
    130,
    8,
    66,
    8,
    194,
    8,
    34,
    8,
    162,
    8,
    98,
    8,
    226,
    8,
    18,
    8,
    146,
    8,
    82,
    8,
    210,
    8,
    50,
    8,
    178,
    8,
    114,
    8,
    242,
    8,
    10,
    8,
    138,
    8,
    74,
    8,
    202,
    8,
    42,
    8,
    170,
    8,
    106,
    8,
    234,
    8,
    26,
    8,
    154,
    8,
    90,
    8,
    218,
    8,
    58,
    8,
    186,
    8,
    122,
    8,
    250,
    8,
    6,
    8,
    134,
    8,
    70,
    8,
    198,
    8,
    38,
    8,
    166,
    8,
    102,
    8,
    230,
    8,
    22,
    8,
    150,
    8,
    86,
    8,
    214,
    8,
    54,
    8,
    182,
    8,
    118,
    8,
    246,
    8,
    14,
    8,
    142,
    8,
    78,
    8,
    206,
    8,
    46,
    8,
    174,
    8,
    110,
    8,
    238,
    8,
    30,
    8,
    158,
    8,
    94,
    8,
    222,
    8,
    62,
    8,
    190,
    8,
    126,
    8,
    254,
    8,
    1,
    8,
    129,
    8,
    65,
    8,
    193,
    8,
    33,
    8,
    161,
    8,
    97,
    8,
    225,
    8,
    17,
    8,
    145,
    8,
    81,
    8,
    209,
    8,
    49,
    8,
    177,
    8,
    113,
    8,
    241,
    8,
    9,
    8,
    137,
    8,
    73,
    8,
    201,
    8,
    41,
    8,
    169,
    8,
    105,
    8,
    233,
    8,
    25,
    8,
    153,
    8,
    89,
    8,
    217,
    8,
    57,
    8,
    185,
    8,
    121,
    8,
    249,
    8,
    5,
    8,
    133,
    8,
    69,
    8,
    197,
    8,
    37,
    8,
    165,
    8,
    101,
    8,
    229,
    8,
    21,
    8,
    149,
    8,
    85,
    8,
    213,
    8,
    53,
    8,
    181,
    8,
    117,
    8,
    245,
    8,
    13,
    8,
    141,
    8,
    77,
    8,
    205,
    8,
    45,
    8,
    173,
    8,
    109,
    8,
    237,
    8,
    29,
    8,
    157,
    8,
    93,
    8,
    221,
    8,
    61,
    8,
    189,
    8,
    125,
    8,
    253,
    8,
    19,
    9,
    275,
    9,
    147,
    9,
    403,
    9,
    83,
    9,
    339,
    9,
    211,
    9,
    467,
    9,
    51,
    9,
    307,
    9,
    179,
    9,
    435,
    9,
    115,
    9,
    371,
    9,
    243,
    9,
    499,
    9,
    11,
    9,
    267,
    9,
    139,
    9,
    395,
    9,
    75,
    9,
    331,
    9,
    203,
    9,
    459,
    9,
    43,
    9,
    299,
    9,
    171,
    9,
    427,
    9,
    107,
    9,
    363,
    9,
    235,
    9,
    491,
    9,
    27,
    9,
    283,
    9,
    155,
    9,
    411,
    9,
    91,
    9,
    347,
    9,
    219,
    9,
    475,
    9,
    59,
    9,
    315,
    9,
    187,
    9,
    443,
    9,
    123,
    9,
    379,
    9,
    251,
    9,
    507,
    9,
    7,
    9,
    263,
    9,
    135,
    9,
    391,
    9,
    71,
    9,
    327,
    9,
    199,
    9,
    455,
    9,
    39,
    9,
    295,
    9,
    167,
    9,
    423,
    9,
    103,
    9,
    359,
    9,
    231,
    9,
    487,
    9,
    23,
    9,
    279,
    9,
    151,
    9,
    407,
    9,
    87,
    9,
    343,
    9,
    215,
    9,
    471,
    9,
    55,
    9,
    311,
    9,
    183,
    9,
    439,
    9,
    119,
    9,
    375,
    9,
    247,
    9,
    503,
    9,
    15,
    9,
    271,
    9,
    143,
    9,
    399,
    9,
    79,
    9,
    335,
    9,
    207,
    9,
    463,
    9,
    47,
    9,
    303,
    9,
    175,
    9,
    431,
    9,
    111,
    9,
    367,
    9,
    239,
    9,
    495,
    9,
    31,
    9,
    287,
    9,
    159,
    9,
    415,
    9,
    95,
    9,
    351,
    9,
    223,
    9,
    479,
    9,
    63,
    9,
    319,
    9,
    191,
    9,
    447,
    9,
    127,
    9,
    383,
    9,
    255,
    9,
    511,
    9,
    0,
    7,
    64,
    7,
    32,
    7,
    96,
    7,
    16,
    7,
    80,
    7,
    48,
    7,
    112,
    7,
    8,
    7,
    72,
    7,
    40,
    7,
    104,
    7,
    24,
    7,
    88,
    7,
    56,
    7,
    120,
    7,
    4,
    7,
    68,
    7,
    36,
    7,
    100,
    7,
    20,
    7,
    84,
    7,
    52,
    7,
    116,
    7,
    3,
    8,
    131,
    8,
    67,
    8,
    195,
    8,
    35,
    8,
    163,
    8,
    99,
    8,
    227,
    8
  ]),
  (StaticTree.static_dtree = [
    0,
    5,
    16,
    5,
    8,
    5,
    24,
    5,
    4,
    5,
    20,
    5,
    12,
    5,
    28,
    5,
    2,
    5,
    18,
    5,
    10,
    5,
    26,
    5,
    6,
    5,
    22,
    5,
    14,
    5,
    30,
    5,
    1,
    5,
    17,
    5,
    9,
    5,
    25,
    5,
    5,
    5,
    21,
    5,
    13,
    5,
    29,
    5,
    3,
    5,
    19,
    5,
    11,
    5,
    27,
    5,
    7,
    5,
    23,
    5
  ]),
  (StaticTree.static_l_desc = new StaticTree(
    StaticTree.static_ltree,
    Tree.extra_lbits,
    LITERALS + 1,
    L_CODES,
    MAX_BITS
  )),
  (StaticTree.static_d_desc = new StaticTree(
    StaticTree.static_dtree,
    Tree.extra_dbits,
    0,
    D_CODES,
    MAX_BITS
  )),
  (StaticTree.static_bl_desc = new StaticTree(
    null,
    Tree.extra_blbits,
    0,
    BL_CODES,
    MAX_BL_BITS
  ));
var MAX_MEM_LEVEL = 9,
  DEF_MEM_LEVEL = 8,
  STORED = 0,
  FAST = 1,
  SLOW = 2,
  config_table = [
    new Config(0, 0, 0, 0, STORED),
    new Config(4, 4, 8, 4, FAST),
    new Config(4, 5, 16, 8, FAST),
    new Config(4, 6, 32, 32, FAST),
    new Config(4, 4, 16, 16, SLOW),
    new Config(8, 16, 32, 32, SLOW),
    new Config(8, 16, 128, 128, SLOW),
    new Config(8, 32, 128, 256, SLOW),
    new Config(32, 128, 258, 1024, SLOW),
    new Config(32, 258, 258, 4096, SLOW)
  ],
  z_errmsg = "need dictionary;stream end;;;stream error;data error;;buffer error;;".split(
    ";"
  ),
  NeedMore = 0,
  BlockDone = 1,
  FinishStarted = 2,
  FinishDone = 3,
  PRESET_DICT = 32,
  INIT_STATE = 42,
  BUSY_STATE = 113,
  FINISH_STATE = 666,
  Z_DEFLATED = 8,
  STORED_BLOCK = 0,
  STATIC_TREES = 1,
  DYN_TREES = 2,
  MIN_MATCH = 3,
  MAX_MATCH = 258,
  MIN_LOOKAHEAD = MAX_MATCH + MIN_MATCH + 1;
(ZStream.prototype = {
  deflateInit: function(a, b) {
    return (
      (this.dstate = new Deflate()),
      b || (b = MAX_BITS),
      this.dstate.deflateInit(this, a, b)
    );
  },
  deflate: function(a) {
    return this.dstate ? this.dstate.deflate(this, a) : Z_STREAM_ERROR;
  },
  deflateEnd: function() {
    if (!this.dstate) return Z_STREAM_ERROR;
    var a = this.dstate.deflateEnd();
    return (this.dstate = null), a;
  },
  deflateParams: function(a, b) {
    return this.dstate ? this.dstate.deflateParams(this, a, b) : Z_STREAM_ERROR;
  },
  deflateSetDictionary: function(a, b) {
    return this.dstate
      ? this.dstate.deflateSetDictionary(this, a, b)
      : Z_STREAM_ERROR;
  },
  read_buf: function(a, b, c) {
    var d = this.avail_in;
    return (
      d > c && (d = c),
      0 === d
        ? 0
        : ((this.avail_in -= d),
          a.set(
            this.next_in.subarray(this.next_in_index, this.next_in_index + d),
            b
          ),
          (this.next_in_index += d),
          (this.total_in += d),
          d)
    );
  },
  flush_pending: function() {
    var a = this.dstate.pending;
    a > this.avail_out && (a = this.avail_out),
      0 !== a &&
        (this.next_out.set(
          this.dstate.pending_buf.subarray(
            this.dstate.pending_out,
            this.dstate.pending_out + a
          ),
          this.next_out_index
        ),
        (this.next_out_index += a),
        (this.dstate.pending_out += a),
        (this.total_out += a),
        (this.avail_out -= a),
        (this.dstate.pending -= a),
        0 === this.dstate.pending && (this.dstate.pending_out = 0));
  }
}),
  void (function(a, b) {
    "object" == typeof module
      ? (module.exports = b())
      : "function" == typeof define
        ? define(b)
        : (a.adler32cs = b());
  })(this, function() {
    var a = "function" == typeof ArrayBuffer && "function" == typeof Uint8Array,
      b = null,
      c = (function() {
        if (!a)
          return function() {
            return !1;
          };
        try {
          var c = require("buffer");
          "function" == typeof c.Buffer && (b = c.Buffer);
        } catch (d) {}
        return function(a) {
          return a instanceof ArrayBuffer || (null !== b && a instanceof b);
        };
      })(),
      d = (function() {
        return null !== b
          ? function(a) {
              return new b(a, "utf8").toString("binary");
            }
          : function(a) {
              return unescape(encodeURIComponent(a));
            };
      })(),
      e = function(a, b) {
        for (var c = 65535 & a, d = a >>> 16, e = 0, f = b.length; f > e; e++)
          (c = (c + (255 & b.charCodeAt(e))) % 65521), (d = (d + c) % 65521);
        return ((d << 16) | c) >>> 0;
      },
      f = function(a, b) {
        for (var c = 65535 & a, d = a >>> 16, e = 0, f = b.length; f > e; e++)
          (c = (c + b[e]) % 65521), (d = (d + c) % 65521);
        return ((d << 16) | c) >>> 0;
      },
      g = {},
      h = (g.Adler32 = (function() {
        var b = function(a) {
            if (!(this instanceof b))
              throw new TypeError(
                "Constructor cannot called be as a function."
              );
            if (!isFinite((a = null == a ? 1 : +a)))
              throw Error("First arguments needs to be a finite number.");
            this.checksum = a >>> 0;
          },
          g = (b.prototype = {});
        return (
          (g.constructor = b),
          (b.from = (function(a) {
            return (a.prototype = g), a;
          })(function(a) {
            if (!(this instanceof b))
              throw new TypeError(
                "Constructor cannot called be as a function."
              );
            if (null == a) throw Error("First argument needs to be a string.");
            this.checksum = e(1, a.toString());
          })),
          (b.fromUtf8 = (function(a) {
            return (a.prototype = g), a;
          })(function(a) {
            if (!(this instanceof b))
              throw new TypeError(
                "Constructor cannot called be as a function."
              );
            if (null == a) throw Error("First argument needs to be a string.");
            (a = d(a.toString())), (this.checksum = e(1, a));
          })),
          a &&
            (b.fromBuffer = (function(a) {
              return (a.prototype = g), a;
            })(function(a) {
              if (!(this instanceof b))
                throw new TypeError(
                  "Constructor cannot called be as a function."
                );
              if (!c(a)) throw Error("First argument needs to be ArrayBuffer.");
              return (a = new Uint8Array(a)), (this.checksum = f(1, a));
            })),
          (g.update = function(a) {
            if (null == a) throw Error("First argument needs to be a string.");
            return (a = a.toString()), (this.checksum = e(this.checksum, a));
          }),
          (g.updateUtf8 = function(a) {
            if (null == a) throw Error("First argument needs to be a string.");
            return (a = d(a.toString())), (this.checksum = e(this.checksum, a));
          }),
          a &&
            (g.updateBuffer = function(a) {
              if (!c(a)) throw Error("First argument needs to be ArrayBuffer.");
              return (
                (a = new Uint8Array(a)), (this.checksum = f(this.checksum, a))
              );
            }),
          (g.clone = function() {
            return new h(this.checksum);
          }),
          b
        );
      })());
    return (
      (g.from = function(a) {
        if (null == a) throw Error("First argument needs to be a string.");
        return e(1, a.toString());
      }),
      (g.fromUtf8 = function(a) {
        if (null == a) throw Error("First argument needs to be a string.");
        return (a = d(a.toString())), e(1, a);
      }),
      a &&
        (g.fromBuffer = function(a) {
          if (!c(a)) throw Error("First argument need to be ArrayBuffer.");
          return (a = new Uint8Array(a)), f(1, a);
        }),
      g
    );
  });
var QRCode;
!(function() {
  function a(a) {
    (this.mode = j.MODE_8BIT_BYTE), (this.data = a), (this.parsedData = []);
    for (var b = 0, c = this.data.length; c > b; b++) {
      var d = [],
        e = this.data.charCodeAt(b);
      e > 65536
        ? ((d[0] = 240 | ((1835008 & e) >>> 18)),
          (d[1] = 128 | ((258048 & e) >>> 12)),
          (d[2] = 128 | ((4032 & e) >>> 6)),
          (d[3] = 128 | (63 & e)))
        : e > 2048
          ? ((d[0] = 224 | ((61440 & e) >>> 12)),
            (d[1] = 128 | ((4032 & e) >>> 6)),
            (d[2] = 128 | (63 & e)))
          : e > 128
            ? ((d[0] = 192 | ((1984 & e) >>> 6)), (d[1] = 128 | (63 & e)))
            : (d[0] = e),
        this.parsedData.push(d);
    }
    (this.parsedData = Array.prototype.concat.apply([], this.parsedData)),
      this.parsedData.length != this.data.length &&
        (this.parsedData.unshift(191),
        this.parsedData.unshift(187),
        this.parsedData.unshift(239));
  }
  function b(a, b) {
    (this.typeNumber = a),
      (this.errorCorrectLevel = b),
      (this.modules = null),
      (this.moduleCount = 0),
      (this.dataCache = null),
      (this.dataList = []);
  }
  function c(a, b) {
    if (void 0 == a.length) throw new Error(a.length + "/" + b);
    for (var c = 0; c < a.length && 0 == a[c]; ) c++;
    this.num = new Array(a.length - c + b);
    for (var d = 0; d < a.length - c; d++) this.num[d] = a[d + c];
  }
  function d(a, b) {
    (this.totalCount = a), (this.dataCount = b);
  }
  function e() {
    (this.buffer = []), (this.length = 0);
  }
  function f() {
    return "undefined" != typeof CanvasRenderingContext2D;
  }
  function g() {
    var a = !1,
      b = navigator.userAgent;
    if (/android/i.test(b)) {
      a = !0;
      var c = b.toString().match(/android ([0-9]\.[0-9])/i);
      c && c[1] && (a = parseFloat(c[1]));
    }
    return a;
  }
  function h(a, b) {
    for (var c = 1, d = i(a), e = 0, f = p.length; f >= e; e++) {
      var g = 0;
      switch (b) {
        case k.L:
          g = p[e][0];
          break;
        case k.M:
          g = p[e][1];
          break;
        case k.Q:
          g = p[e][2];
          break;
        case k.H:
          g = p[e][3];
      }
      if (g >= d) break;
      c++;
    }
    if (c > p.length) throw new Error("Too long data");
    return c;
  }
  function i(a) {
    var b = encodeURI(a)
      .toString()
      .replace(/\%[0-9a-fA-F]{2}/g, "a");
    return b.length + (b.length != a ? 3 : 0);
  }
  (a.prototype = {
    getLength: function() {
      return this.parsedData.length;
    },
    write: function(a) {
      for (var b = 0, c = this.parsedData.length; c > b; b++)
        a.put(this.parsedData[b], 8);
    }
  }),
    (b.prototype = {
      addData: function(b) {
        var c = new a(b);
        this.dataList.push(c), (this.dataCache = null);
      },
      isDark: function(a, b) {
        if (0 > a || this.moduleCount <= a || 0 > b || this.moduleCount <= b)
          throw new Error(a + "," + b);
        return this.modules[a][b];
      },
      getModuleCount: function() {
        return this.moduleCount;
      },
      make: function() {
        this.makeImpl(!1, this.getBestMaskPattern());
      },
      makeImpl: function(a, c) {
        (this.moduleCount = 4 * this.typeNumber + 17),
          (this.modules = new Array(this.moduleCount));
        for (var d = 0; d < this.moduleCount; d++) {
          this.modules[d] = new Array(this.moduleCount);
          for (var e = 0; e < this.moduleCount; e++) this.modules[d][e] = null;
        }
        this.setupPositionProbePattern(0, 0),
          this.setupPositionProbePattern(this.moduleCount - 7, 0),
          this.setupPositionProbePattern(0, this.moduleCount - 7),
          this.setupPositionAdjustPattern(),
          this.setupTimingPattern(),
          this.setupTypeInfo(a, c),
          this.typeNumber >= 7 && this.setupTypeNumber(a),
          null == this.dataCache &&
            (this.dataCache = b.createData(
              this.typeNumber,
              this.errorCorrectLevel,
              this.dataList
            )),
          this.mapData(this.dataCache, c);
      },
      setupPositionProbePattern: function(a, b) {
        for (var c = -1; 7 >= c; c++)
          if (!(-1 >= a + c || this.moduleCount <= a + c))
            for (var d = -1; 7 >= d; d++)
              -1 >= b + d ||
                this.moduleCount <= b + d ||
                (this.modules[a + c][b + d] =
                  (c >= 0 && 6 >= c && (0 == d || 6 == d)) ||
                  (d >= 0 && 6 >= d && (0 == c || 6 == c)) ||
                  (c >= 2 && 4 >= c && d >= 2 && 4 >= d)
                    ? !0
                    : !1);
      },
      getBestMaskPattern: function() {
        for (var a = 0, b = 0, c = 0; 8 > c; c++) {
          this.makeImpl(!0, c);
          var d = m.getLostPoint(this);
          (0 == c || a > d) && ((a = d), (b = c));
        }
        return b;
      },
      createMovieClip: function(a, b, c) {
        var d = a.createEmptyMovieClip(b, c),
          e = 1;
        this.make();
        for (var f = 0; f < this.modules.length; f++)
          for (var g = f * e, h = 0; h < this.modules[f].length; h++) {
            var i = h * e,
              j = this.modules[f][h];
            j &&
              (d.beginFill(0, 100),
              d.moveTo(i, g),
              d.lineTo(i + e, g),
              d.lineTo(i + e, g + e),
              d.lineTo(i, g + e),
              d.endFill());
          }
        return d;
      },
      setupTimingPattern: function() {
        for (var a = 8; a < this.moduleCount - 8; a++)
          null == this.modules[a][6] && (this.modules[a][6] = a % 2 == 0);
        for (var b = 8; b < this.moduleCount - 8; b++)
          null == this.modules[6][b] && (this.modules[6][b] = b % 2 == 0);
      },
      setupPositionAdjustPattern: function() {
        for (
          var a = m.getPatternPosition(this.typeNumber), b = 0;
          b < a.length;
          b++
        )
          for (var c = 0; c < a.length; c++) {
            var d = a[b],
              e = a[c];
            if (null == this.modules[d][e])
              for (var f = -2; 2 >= f; f++)
                for (var g = -2; 2 >= g; g++)
                  this.modules[d + f][e + g] =
                    -2 == f || 2 == f || -2 == g || 2 == g || (0 == f && 0 == g)
                      ? !0
                      : !1;
          }
      },
      setupTypeNumber: function(a) {
        for (var b = m.getBCHTypeNumber(this.typeNumber), c = 0; 18 > c; c++) {
          var d = !a && 1 == ((b >> c) & 1);
          this.modules[Math.floor(c / 3)][c % 3 + this.moduleCount - 8 - 3] = d;
        }
        for (var c = 0; 18 > c; c++) {
          var d = !a && 1 == ((b >> c) & 1);
          this.modules[c % 3 + this.moduleCount - 8 - 3][Math.floor(c / 3)] = d;
        }
      },
      setupTypeInfo: function(a, b) {
        for (
          var c = (this.errorCorrectLevel << 3) | b,
            d = m.getBCHTypeInfo(c),
            e = 0;
          15 > e;
          e++
        ) {
          var f = !a && 1 == ((d >> e) & 1);
          6 > e
            ? (this.modules[e][8] = f)
            : 8 > e
              ? (this.modules[e + 1][8] = f)
              : (this.modules[this.moduleCount - 15 + e][8] = f);
        }
        for (var e = 0; 15 > e; e++) {
          var f = !a && 1 == ((d >> e) & 1);
          8 > e
            ? (this.modules[8][this.moduleCount - e - 1] = f)
            : 9 > e
              ? (this.modules[8][15 - e - 1 + 1] = f)
              : (this.modules[8][15 - e - 1] = f);
        }
        this.modules[this.moduleCount - 8][8] = !a;
      },
      mapData: function(a, b) {
        for (
          var c = -1,
            d = this.moduleCount - 1,
            e = 7,
            f = 0,
            g = this.moduleCount - 1;
          g > 0;
          g -= 2
        )
          for (6 == g && g--; ; ) {
            for (var h = 0; 2 > h; h++)
              if (null == this.modules[d][g - h]) {
                var i = !1;
                f < a.length && (i = 1 == ((a[f] >>> e) & 1));
                var j = m.getMask(b, d, g - h);
                j && (i = !i),
                  (this.modules[d][g - h] = i),
                  e--,
                  -1 == e && (f++, (e = 7));
              }
            if (((d += c), 0 > d || this.moduleCount <= d)) {
              (d -= c), (c = -c);
              break;
            }
          }
      }
    }),
    (b.PAD0 = 236),
    (b.PAD1 = 17),
    (b.createData = function(a, c, f) {
      for (var g = d.getRSBlocks(a, c), h = new e(), i = 0; i < f.length; i++) {
        var j = f[i];
        h.put(j.mode, 4),
          h.put(j.getLength(), m.getLengthInBits(j.mode, a)),
          j.write(h);
      }
      for (var k = 0, i = 0; i < g.length; i++) k += g[i].dataCount;
      if (h.getLengthInBits() > 8 * k)
        throw new Error(
          "code length overflow. (" + h.getLengthInBits() + ">" + 8 * k + ")"
        );
      for (
        h.getLengthInBits() + 4 <= 8 * k && h.put(0, 4);
        h.getLengthInBits() % 8 != 0;

      )
        h.putBit(!1);
      for (
        ;
        !(h.getLengthInBits() >= 8 * k) &&
        (h.put(b.PAD0, 8), !(h.getLengthInBits() >= 8 * k));

      )
        h.put(b.PAD1, 8);
      return b.createBytes(h, g);
    }),
    (b.createBytes = function(a, b) {
      for (
        var d = 0,
          e = 0,
          f = 0,
          g = new Array(b.length),
          h = new Array(b.length),
          i = 0;
        i < b.length;
        i++
      ) {
        var j = b[i].dataCount,
          k = b[i].totalCount - j;
        (e = Math.max(e, j)), (f = Math.max(f, k)), (g[i] = new Array(j));
        for (var l = 0; l < g[i].length; l++) g[i][l] = 255 & a.buffer[l + d];
        d += j;
        var n = m.getErrorCorrectPolynomial(k),
          o = new c(g[i], n.getLength() - 1),
          p = o.mod(n);
        h[i] = new Array(n.getLength() - 1);
        for (var l = 0; l < h[i].length; l++) {
          var q = l + p.getLength() - h[i].length;
          h[i][l] = q >= 0 ? p.get(q) : 0;
        }
      }
      for (var r = 0, l = 0; l < b.length; l++) r += b[l].totalCount;
      for (var s = new Array(r), t = 0, l = 0; e > l; l++)
        for (var i = 0; i < b.length; i++)
          l < g[i].length && (s[t++] = g[i][l]);
      for (var l = 0; f > l; l++)
        for (var i = 0; i < b.length; i++)
          l < h[i].length && (s[t++] = h[i][l]);
      return s;
    });
  for (
    var j = {
        MODE_NUMBER: 1,
        MODE_ALPHA_NUM: 2,
        MODE_8BIT_BYTE: 4,
        MODE_KANJI: 8
      },
      k = { L: 1, M: 0, Q: 3, H: 2 },
      l = {
        PATTERN000: 0,
        PATTERN001: 1,
        PATTERN010: 2,
        PATTERN011: 3,
        PATTERN100: 4,
        PATTERN101: 5,
        PATTERN110: 6,
        PATTERN111: 7
      },
      m = {
        PATTERN_POSITION_TABLE: [
          [],
          [6, 18],
          [6, 22],
          [6, 26],
          [6, 30],
          [6, 34],
          [6, 22, 38],
          [6, 24, 42],
          [6, 26, 46],
          [6, 28, 50],
          [6, 30, 54],
          [6, 32, 58],
          [6, 34, 62],
          [6, 26, 46, 66],
          [6, 26, 48, 70],
          [6, 26, 50, 74],
          [6, 30, 54, 78],
          [6, 30, 56, 82],
          [6, 30, 58, 86],
          [6, 34, 62, 90],
          [6, 28, 50, 72, 94],
          [6, 26, 50, 74, 98],
          [6, 30, 54, 78, 102],
          [6, 28, 54, 80, 106],
          [6, 32, 58, 84, 110],
          [6, 30, 58, 86, 114],
          [6, 34, 62, 90, 118],
          [6, 26, 50, 74, 98, 122],
          [6, 30, 54, 78, 102, 126],
          [6, 26, 52, 78, 104, 130],
          [6, 30, 56, 82, 108, 134],
          [6, 34, 60, 86, 112, 138],
          [6, 30, 58, 86, 114, 142],
          [6, 34, 62, 90, 118, 146],
          [6, 30, 54, 78, 102, 126, 150],
          [6, 24, 50, 76, 102, 128, 154],
          [6, 28, 54, 80, 106, 132, 158],
          [6, 32, 58, 84, 110, 136, 162],
          [6, 26, 54, 82, 110, 138, 166],
          [6, 30, 58, 86, 114, 142, 170]
        ],
        G15: 1335,
        G18: 7973,
        G15_MASK: 21522,
        getBCHTypeInfo: function(a) {
          for (var b = a << 10; m.getBCHDigit(b) - m.getBCHDigit(m.G15) >= 0; )
            b ^= m.G15 << (m.getBCHDigit(b) - m.getBCHDigit(m.G15));
          return ((a << 10) | b) ^ m.G15_MASK;
        },
        getBCHTypeNumber: function(a) {
          for (var b = a << 12; m.getBCHDigit(b) - m.getBCHDigit(m.G18) >= 0; )
            b ^= m.G18 << (m.getBCHDigit(b) - m.getBCHDigit(m.G18));
          return (a << 12) | b;
        },
        getBCHDigit: function(a) {
          for (var b = 0; 0 != a; ) b++, (a >>>= 1);
          return b;
        },
        getPatternPosition: function(a) {
          return m.PATTERN_POSITION_TABLE[a - 1];
        },
        getMask: function(a, b, c) {
          switch (a) {
            case l.PATTERN000:
              return (b + c) % 2 == 0;
            case l.PATTERN001:
              return b % 2 == 0;
            case l.PATTERN010:
              return c % 3 == 0;
            case l.PATTERN011:
              return (b + c) % 3 == 0;
            case l.PATTERN100:
              return (Math.floor(b / 2) + Math.floor(c / 3)) % 2 == 0;
            case l.PATTERN101:
              return (b * c) % 2 + (b * c) % 3 == 0;
            case l.PATTERN110:
              return ((b * c) % 2 + (b * c) % 3) % 2 == 0;
            case l.PATTERN111:
              return ((b * c) % 3 + (b + c) % 2) % 2 == 0;
            default:
              throw new Error("bad maskPattern:" + a);
          }
        },
        getErrorCorrectPolynomial: function(a) {
          for (var b = new c([1], 0), d = 0; a > d; d++)
            b = b.multiply(new c([1, n.gexp(d)], 0));
          return b;
        },
        getLengthInBits: function(a, b) {
          if (b >= 1 && 10 > b)
            switch (a) {
              case j.MODE_NUMBER:
                return 10;
              case j.MODE_ALPHA_NUM:
                return 9;
              case j.MODE_8BIT_BYTE:
                return 8;
              case j.MODE_KANJI:
                return 8;
              default:
                throw new Error("mode:" + a);
            }
          else if (27 > b)
            switch (a) {
              case j.MODE_NUMBER:
                return 12;
              case j.MODE_ALPHA_NUM:
                return 11;
              case j.MODE_8BIT_BYTE:
                return 16;
              case j.MODE_KANJI:
                return 10;
              default:
                throw new Error("mode:" + a);
            }
          else {
            if (!(41 > b)) throw new Error("type:" + b);
            switch (a) {
              case j.MODE_NUMBER:
                return 14;
              case j.MODE_ALPHA_NUM:
                return 13;
              case j.MODE_8BIT_BYTE:
                return 16;
              case j.MODE_KANJI:
                return 12;
              default:
                throw new Error("mode:" + a);
            }
          }
        },
        getLostPoint: function(a) {
          for (var b = a.getModuleCount(), c = 0, d = 0; b > d; d++)
            for (var e = 0; b > e; e++) {
              for (var f = 0, g = a.isDark(d, e), h = -1; 1 >= h; h++)
                if (!(0 > d + h || d + h >= b))
                  for (var i = -1; 1 >= i; i++)
                    0 > e + i ||
                      e + i >= b ||
                      ((0 != h || 0 != i) &&
                        g == a.isDark(d + h, e + i) &&
                        f++);
              f > 5 && (c += 3 + f - 5);
            }
          for (var d = 0; b - 1 > d; d++)
            for (var e = 0; b - 1 > e; e++) {
              var j = 0;
              a.isDark(d, e) && j++,
                a.isDark(d + 1, e) && j++,
                a.isDark(d, e + 1) && j++,
                a.isDark(d + 1, e + 1) && j++,
                (0 == j || 4 == j) && (c += 3);
            }
          for (var d = 0; b > d; d++)
            for (var e = 0; b - 6 > e; e++)
              a.isDark(d, e) &&
                !a.isDark(d, e + 1) &&
                a.isDark(d, e + 2) &&
                a.isDark(d, e + 3) &&
                a.isDark(d, e + 4) &&
                !a.isDark(d, e + 5) &&
                a.isDark(d, e + 6) &&
                (c += 40);
          for (var e = 0; b > e; e++)
            for (var d = 0; b - 6 > d; d++)
              a.isDark(d, e) &&
                !a.isDark(d + 1, e) &&
                a.isDark(d + 2, e) &&
                a.isDark(d + 3, e) &&
                a.isDark(d + 4, e) &&
                !a.isDark(d + 5, e) &&
                a.isDark(d + 6, e) &&
                (c += 40);
          for (var k = 0, e = 0; b > e; e++)
            for (var d = 0; b > d; d++) a.isDark(d, e) && k++;
          var l = Math.abs(100 * k / b / b - 50) / 5;
          return (c += 10 * l);
        }
      },
      n = {
        glog: function(a) {
          if (1 > a) throw new Error("glog(" + a + ")");
          return n.LOG_TABLE[a];
        },
        gexp: function(a) {
          for (; 0 > a; ) a += 255;
          for (; a >= 256; ) a -= 255;
          return n.EXP_TABLE[a];
        },
        EXP_TABLE: new Array(256),
        LOG_TABLE: new Array(256)
      },
      o = 0;
    8 > o;
    o++
  )
    n.EXP_TABLE[o] = 1 << o;
  for (var o = 8; 256 > o; o++)
    n.EXP_TABLE[o] =
      n.EXP_TABLE[o - 4] ^
      n.EXP_TABLE[o - 5] ^
      n.EXP_TABLE[o - 6] ^
      n.EXP_TABLE[o - 8];
  for (var o = 0; 255 > o; o++) n.LOG_TABLE[n.EXP_TABLE[o]] = o;
  (c.prototype = {
    get: function(a) {
      return this.num[a];
    },
    getLength: function() {
      return this.num.length;
    },
    multiply: function(a) {
      for (
        var b = new Array(this.getLength() + a.getLength() - 1), d = 0;
        d < this.getLength();
        d++
      )
        for (var e = 0; e < a.getLength(); e++)
          b[d + e] ^= n.gexp(n.glog(this.get(d)) + n.glog(a.get(e)));
      return new c(b, 0);
    },
    mod: function(a) {
      if (this.getLength() - a.getLength() < 0) return this;
      for (
        var b = n.glog(this.get(0)) - n.glog(a.get(0)),
          d = new Array(this.getLength()),
          e = 0;
        e < this.getLength();
        e++
      )
        d[e] = this.get(e);
      for (var e = 0; e < a.getLength(); e++)
        d[e] ^= n.gexp(n.glog(a.get(e)) + b);
      return new c(d, 0).mod(a);
    }
  }),
    (d.RS_BLOCK_TABLE = [
      [1, 26, 19],
      [1, 26, 16],
      [1, 26, 13],
      [1, 26, 9],
      [1, 44, 34],
      [1, 44, 28],
      [1, 44, 22],
      [1, 44, 16],
      [1, 70, 55],
      [1, 70, 44],
      [2, 35, 17],
      [2, 35, 13],
      [1, 100, 80],
      [2, 50, 32],
      [2, 50, 24],
      [4, 25, 9],
      [1, 134, 108],
      [2, 67, 43],
      [2, 33, 15, 2, 34, 16],
      [2, 33, 11, 2, 34, 12],
      [2, 86, 68],
      [4, 43, 27],
      [4, 43, 19],
      [4, 43, 15],
      [2, 98, 78],
      [4, 49, 31],
      [2, 32, 14, 4, 33, 15],
      [4, 39, 13, 1, 40, 14],
      [2, 121, 97],
      [2, 60, 38, 2, 61, 39],
      [4, 40, 18, 2, 41, 19],
      [4, 40, 14, 2, 41, 15],
      [2, 146, 116],
      [3, 58, 36, 2, 59, 37],
      [4, 36, 16, 4, 37, 17],
      [4, 36, 12, 4, 37, 13],
      [2, 86, 68, 2, 87, 69],
      [4, 69, 43, 1, 70, 44],
      [6, 43, 19, 2, 44, 20],
      [6, 43, 15, 2, 44, 16],
      [4, 101, 81],
      [1, 80, 50, 4, 81, 51],
      [4, 50, 22, 4, 51, 23],
      [3, 36, 12, 8, 37, 13],
      [2, 116, 92, 2, 117, 93],
      [6, 58, 36, 2, 59, 37],
      [4, 46, 20, 6, 47, 21],
      [7, 42, 14, 4, 43, 15],
      [4, 133, 107],
      [8, 59, 37, 1, 60, 38],
      [8, 44, 20, 4, 45, 21],
      [12, 33, 11, 4, 34, 12],
      [3, 145, 115, 1, 146, 116],
      [4, 64, 40, 5, 65, 41],
      [11, 36, 16, 5, 37, 17],
      [11, 36, 12, 5, 37, 13],
      [5, 109, 87, 1, 110, 88],
      [5, 65, 41, 5, 66, 42],
      [5, 54, 24, 7, 55, 25],
      [11, 36, 12],
      [5, 122, 98, 1, 123, 99],
      [7, 73, 45, 3, 74, 46],
      [15, 43, 19, 2, 44, 20],
      [3, 45, 15, 13, 46, 16],
      [1, 135, 107, 5, 136, 108],
      [10, 74, 46, 1, 75, 47],
      [1, 50, 22, 15, 51, 23],
      [2, 42, 14, 17, 43, 15],
      [5, 150, 120, 1, 151, 121],
      [9, 69, 43, 4, 70, 44],
      [17, 50, 22, 1, 51, 23],
      [2, 42, 14, 19, 43, 15],
      [3, 141, 113, 4, 142, 114],
      [3, 70, 44, 11, 71, 45],
      [17, 47, 21, 4, 48, 22],
      [9, 39, 13, 16, 40, 14],
      [3, 135, 107, 5, 136, 108],
      [3, 67, 41, 13, 68, 42],
      [15, 54, 24, 5, 55, 25],
      [15, 43, 15, 10, 44, 16],
      [4, 144, 116, 4, 145, 117],
      [17, 68, 42],
      [17, 50, 22, 6, 51, 23],
      [19, 46, 16, 6, 47, 17],
      [2, 139, 111, 7, 140, 112],
      [17, 74, 46],
      [7, 54, 24, 16, 55, 25],
      [34, 37, 13],
      [4, 151, 121, 5, 152, 122],
      [4, 75, 47, 14, 76, 48],
      [11, 54, 24, 14, 55, 25],
      [16, 45, 15, 14, 46, 16],
      [6, 147, 117, 4, 148, 118],
      [6, 73, 45, 14, 74, 46],
      [11, 54, 24, 16, 55, 25],
      [30, 46, 16, 2, 47, 17],
      [8, 132, 106, 4, 133, 107],
      [8, 75, 47, 13, 76, 48],
      [7, 54, 24, 22, 55, 25],
      [22, 45, 15, 13, 46, 16],
      [10, 142, 114, 2, 143, 115],
      [19, 74, 46, 4, 75, 47],
      [28, 50, 22, 6, 51, 23],
      [33, 46, 16, 4, 47, 17],
      [8, 152, 122, 4, 153, 123],
      [22, 73, 45, 3, 74, 46],
      [8, 53, 23, 26, 54, 24],
      [12, 45, 15, 28, 46, 16],
      [3, 147, 117, 10, 148, 118],
      [3, 73, 45, 23, 74, 46],
      [4, 54, 24, 31, 55, 25],
      [11, 45, 15, 31, 46, 16],
      [7, 146, 116, 7, 147, 117],
      [21, 73, 45, 7, 74, 46],
      [1, 53, 23, 37, 54, 24],
      [19, 45, 15, 26, 46, 16],
      [5, 145, 115, 10, 146, 116],
      [19, 75, 47, 10, 76, 48],
      [15, 54, 24, 25, 55, 25],
      [23, 45, 15, 25, 46, 16],
      [13, 145, 115, 3, 146, 116],
      [2, 74, 46, 29, 75, 47],
      [42, 54, 24, 1, 55, 25],
      [23, 45, 15, 28, 46, 16],
      [17, 145, 115],
      [10, 74, 46, 23, 75, 47],
      [10, 54, 24, 35, 55, 25],
      [19, 45, 15, 35, 46, 16],
      [17, 145, 115, 1, 146, 116],
      [14, 74, 46, 21, 75, 47],
      [29, 54, 24, 19, 55, 25],
      [11, 45, 15, 46, 46, 16],
      [13, 145, 115, 6, 146, 116],
      [14, 74, 46, 23, 75, 47],
      [44, 54, 24, 7, 55, 25],
      [59, 46, 16, 1, 47, 17],
      [12, 151, 121, 7, 152, 122],
      [12, 75, 47, 26, 76, 48],
      [39, 54, 24, 14, 55, 25],
      [22, 45, 15, 41, 46, 16],
      [6, 151, 121, 14, 152, 122],
      [6, 75, 47, 34, 76, 48],
      [46, 54, 24, 10, 55, 25],
      [2, 45, 15, 64, 46, 16],
      [17, 152, 122, 4, 153, 123],
      [29, 74, 46, 14, 75, 47],
      [49, 54, 24, 10, 55, 25],
      [24, 45, 15, 46, 46, 16],
      [4, 152, 122, 18, 153, 123],
      [13, 74, 46, 32, 75, 47],
      [48, 54, 24, 14, 55, 25],
      [42, 45, 15, 32, 46, 16],
      [20, 147, 117, 4, 148, 118],
      [40, 75, 47, 7, 76, 48],
      [43, 54, 24, 22, 55, 25],
      [10, 45, 15, 67, 46, 16],
      [19, 148, 118, 6, 149, 119],
      [18, 75, 47, 31, 76, 48],
      [34, 54, 24, 34, 55, 25],
      [20, 45, 15, 61, 46, 16]
    ]),
    (d.getRSBlocks = function(a, b) {
      var c = d.getRsBlockTable(a, b);
      if (void 0 == c)
        throw new Error(
          "bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + b
        );
      for (var e = c.length / 3, f = [], g = 0; e > g; g++)
        for (
          var h = c[3 * g + 0], i = c[3 * g + 1], j = c[3 * g + 2], k = 0;
          h > k;
          k++
        )
          f.push(new d(i, j));
      return f;
    }),
    (d.getRsBlockTable = function(a, b) {
      switch (b) {
        case k.L:
          return d.RS_BLOCK_TABLE[4 * (a - 1) + 0];
        case k.M:
          return d.RS_BLOCK_TABLE[4 * (a - 1) + 1];
        case k.Q:
          return d.RS_BLOCK_TABLE[4 * (a - 1) + 2];
        case k.H:
          return d.RS_BLOCK_TABLE[4 * (a - 1) + 3];
        default:
          return;
      }
    }),
    (e.prototype = {
      get: function(a) {
        var b = Math.floor(a / 8);
        return 1 == ((this.buffer[b] >>> (7 - a % 8)) & 1);
      },
      put: function(a, b) {
        for (var c = 0; b > c; c++) this.putBit(1 == ((a >>> (b - c - 1)) & 1));
      },
      getLengthInBits: function() {
        return this.length;
      },
      putBit: function(a) {
        var b = Math.floor(this.length / 8);
        this.buffer.length <= b && this.buffer.push(0),
          a && (this.buffer[b] |= 128 >>> (this.length % 8)),
          this.length++;
      }
    });
  var p = [
      [17, 14, 11, 7],
      [32, 26, 20, 14],
      [53, 42, 32, 24],
      [78, 62, 46, 34],
      [106, 84, 60, 44],
      [134, 106, 74, 58],
      [154, 122, 86, 64],
      [192, 152, 108, 84],
      [230, 180, 130, 98],
      [271, 213, 151, 119],
      [321, 251, 177, 137],
      [367, 287, 203, 155],
      [425, 331, 241, 177],
      [458, 362, 258, 194],
      [520, 412, 292, 220],
      [586, 450, 322, 250],
      [644, 504, 364, 280],
      [718, 560, 394, 310],
      [792, 624, 442, 338],
      [858, 666, 482, 382],
      [929, 711, 509, 403],
      [1003, 779, 565, 439],
      [1091, 857, 611, 461],
      [1171, 911, 661, 511],
      [1273, 997, 715, 535],
      [1367, 1059, 751, 593],
      [1465, 1125, 805, 625],
      [1528, 1190, 868, 658],
      [1628, 1264, 908, 698],
      [1732, 1370, 982, 742],
      [1840, 1452, 1030, 790],
      [1952, 1538, 1112, 842],
      [2068, 1628, 1168, 898],
      [2188, 1722, 1228, 958],
      [2303, 1809, 1283, 983],
      [2431, 1911, 1351, 1051],
      [2563, 1989, 1423, 1093],
      [2699, 2099, 1499, 1139],
      [2809, 2213, 1579, 1219],
      [2953, 2331, 1663, 1273]
    ],
    q = (function() {
      var a = function(a, b) {
        (this._el = a), (this._htOption = b);
      };
      return (
        (a.prototype.draw = function(a) {
          function b(a, b) {
            var c = document.createElementNS("http://www.w3.org/2000/svg", a);
            for (var d in b) b.hasOwnProperty(d) && c.setAttribute(d, b[d]);
            return c;
          }
          {
            var c = this._htOption,
              d = this._el,
              e = a.getModuleCount();
            Math.floor(c.width / e), Math.floor(c.height / e);
          }
          this.clear();
          var f = b("svg", {
            viewBox: "0 0 " + String(e) + " " + String(e),
            width: "100%",
            height: "100%",
            fill: c.colorLight
          });
          f.setAttributeNS(
            "http://www.w3.org/2000/xmlns/",
            "xmlns:xlink",
            "http://www.w3.org/1999/xlink"
          ),
            d.appendChild(f),
            f.appendChild(
              b("rect", { fill: c.colorLight, width: "100%", height: "100%" })
            ),
            f.appendChild(
              b("rect", {
                fill: c.colorDark,
                width: "1",
                height: "1",
                id: "template"
              })
            );
          for (var g = 0; e > g; g++)
            for (var h = 0; e > h; h++)
              if (a.isDark(g, h)) {
                var i = b("use", { x: String(h), y: String(g) });
                i.setAttributeNS(
                  "http://www.w3.org/1999/xlink",
                  "href",
                  "#template"
                ),
                  f.appendChild(i);
              }
        }),
        (a.prototype.clear = function() {
          for (; this._el.hasChildNodes(); )
            this._el.removeChild(this._el.lastChild);
        }),
        a
      );
    })(),
    r = "svg" === document.documentElement.tagName.toLowerCase(),
    s = r
      ? q
      : f()
        ? (function() {
            function a() {
              (this._elImage.src = this._elCanvas.toDataURL("image/png")),
                (this._elImage.style.display = "block"),
                (this._elCanvas.style.display = "none");
            }
            function b(a, b) {
              var c = this;
              if (
                ((c._fFail = b), (c._fSuccess = a), null === c._bSupportDataURI)
              ) {
                var d = document.createElement("img"),
                  e = function() {
                    (c._bSupportDataURI = !1), c._fFail && c._fFail.call(c);
                  },
                  f = function() {
                    (c._bSupportDataURI = !0),
                      c._fSuccess && c._fSuccess.call(c);
                  };
                return (
                  (d.onabort = e),
                  (d.onerror = e),
                  (d.onload = f),
                  void (d.src =
                    "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")
                );
              }
              c._bSupportDataURI === !0 && c._fSuccess
                ? c._fSuccess.call(c)
                : c._bSupportDataURI === !1 && c._fFail && c._fFail.call(c);
            }
            if (this._android && this._android <= 2.1) {
              var c = 1 / window.devicePixelRatio,
                d = CanvasRenderingContext2D.prototype.drawImage;
              CanvasRenderingContext2D.prototype.drawImage = function(
                a,
                b,
                e,
                f,
                g,
                h,
                i,
                j
              ) {
                if ("nodeName" in a && /img/i.test(a.nodeName))
                  for (var k = arguments.length - 1; k >= 1; k--)
                    arguments[k] = arguments[k] * c;
                else
                  "undefined" == typeof j &&
                    ((arguments[1] *= c),
                    (arguments[2] *= c),
                    (arguments[3] *= c),
                    (arguments[4] *= c));
                d.apply(this, arguments);
              };
            }
            var e = function(a, b) {
              (this._bIsPainted = !1),
                (this._android = g()),
                (this._htOption = b),
                (this._elCanvas = document.createElement("canvas")),
                (this._elCanvas.width = b.width),
                (this._elCanvas.height = b.height),
                a.appendChild(this._elCanvas),
                (this._el = a),
                (this._oContext = this._elCanvas.getContext("2d")),
                (this._bIsPainted = !1),
                (this._elImage = document.createElement("img")),
                (this._elImage.alt = "Scan me!"),
                (this._elImage.style.display = "none"),
                this._el.appendChild(this._elImage),
                (this._bSupportDataURI = null);
            };
            return (
              (e.prototype.draw = function(a) {
                var b = this._elImage,
                  c = this._oContext,
                  d = this._htOption,
                  e = a.getModuleCount(),
                  f = d.width / e,
                  g = d.height / e,
                  h = Math.round(f),
                  i = Math.round(g);
                (b.style.display = "none"), this.clear();
                for (var j = 0; e > j; j++)
                  for (var k = 0; e > k; k++) {
                    var l = a.isDark(j, k),
                      m = k * f,
                      n = j * g;
                    (c.strokeStyle = l ? d.colorDark : d.colorLight),
                      (c.lineWidth = 1),
                      (c.fillStyle = l ? d.colorDark : d.colorLight),
                      c.fillRect(m, n, f, g),
                      c.strokeRect(
                        Math.floor(m) + 0.5,
                        Math.floor(n) + 0.5,
                        h,
                        i
                      ),
                      c.strokeRect(
                        Math.ceil(m) - 0.5,
                        Math.ceil(n) - 0.5,
                        h,
                        i
                      );
                  }
                this._bIsPainted = !0;
              }),
              (e.prototype.makeImage = function() {
                this._bIsPainted && b.call(this, a);
              }),
              (e.prototype.isPainted = function() {
                return this._bIsPainted;
              }),
              (e.prototype.clear = function() {
                this._oContext.clearRect(
                  0,
                  0,
                  this._elCanvas.width,
                  this._elCanvas.height
                ),
                  (this._bIsPainted = !1);
              }),
              (e.prototype.round = function(a) {
                return a ? Math.floor(1e3 * a) / 1e3 : a;
              }),
              e
            );
          })()
        : (function() {
            var a = function(a, b) {
              (this._el = a), (this._htOption = b);
            };
            return (
              (a.prototype.draw = function(a) {
                for (
                  var b = this._htOption,
                    c = this._el,
                    d = a.getModuleCount(),
                    e = Math.floor(b.width / d),
                    f = Math.floor(b.height / d),
                    g = ['<table style="border:0;border-collapse:collapse;">'],
                    h = 0;
                  d > h;
                  h++
                ) {
                  g.push("<tr>");
                  for (var i = 0; d > i; i++)
                    g.push(
                      '<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:' +
                        e +
                        "px;height:" +
                        f +
                        "px;background-color:" +
                        (a.isDark(h, i) ? b.colorDark : b.colorLight) +
                        ';"></td>'
                    );
                  g.push("</tr>");
                }
                g.push("</table>"), (c.innerHTML = g.join(""));
                var j = c.childNodes[0],
                  k = (b.width - j.offsetWidth) / 2,
                  l = (b.height - j.offsetHeight) / 2;
                k > 0 && l > 0 && (j.style.margin = l + "px " + k + "px");
              }),
              (a.prototype.clear = function() {
                this._el.innerHTML = "";
              }),
              a
            );
          })();
  (QRCode = function(a, b) {
    if (
      ((this._htOption = {
        width: 256,
        height: 256,
        typeNumber: 4,
        colorDark: "#000000",
        colorLight: "#ffffff",
        correctLevel: k.H
      }),
      "string" == typeof b && (b = { text: b }),
      b)
    )
      for (var c in b) this._htOption[c] = b[c];
    "string" == typeof a && (a = document.getElementById(a)),
      this._htOption.useSVG && (s = q),
      (this._android = g()),
      (this._el = a),
      (this._oQRCode = null),
      (this._oDrawing = new s(this._el, this._htOption)),
      this._htOption.text && this.makeCode(this._htOption.text);
  }),
    (QRCode.prototype.makeCode = function(a) {
      (this._oQRCode = new b(
        h(a, this._htOption.correctLevel),
        this._htOption.correctLevel
      )),
        this._oQRCode.addData(a),
        this._oQRCode.make(),
        (this._el.title = a),
        this._oDrawing.draw(this._oQRCode),
        this.makeImage();
    }),
    (QRCode.prototype.makeImage = function() {
      "function" == typeof this._oDrawing.makeImage &&
        (!this._android || this._android >= 3) &&
        this._oDrawing.makeImage();
    }),
    (QRCode.prototype.clear = function() {
      this._oDrawing.clear();
    }),
    (QRCode.CorrectLevel = k);
})(),
  !(function(a) {
    "use strict";
    "function" == typeof define && define.amd
      ? define(["jquery"], a)
      : "object" == typeof exports
        ? (module.exports = a(require("jquery")))
        : a(jQuery);
  })(function(a) {
    "use strict";
    function b() {
      var a = document.createElement("input");
      return a.setAttribute("type", "range"), "text" !== a.type;
    }
    function c(a, b) {
      var c = Array.prototype.slice.call(arguments, 2);
      return setTimeout(function() {
        return a.apply(null, c);
      }, b);
    }
    function d(a, b) {
      return (
        (b = b || 100),
        function() {
          if (!a.debouncing) {
            var c = Array.prototype.slice.apply(arguments);
            (a.lastReturnVal = a.apply(window, c)), (a.debouncing = !0);
          }
          return (
            clearTimeout(a.debounceTimeout),
            (a.debounceTimeout = setTimeout(function() {
              a.debouncing = !1;
            }, b)),
            a.lastReturnVal
          );
        }
      );
    }
    function e(a) {
      return (
        a && (0 === a.offsetWidth || 0 === a.offsetHeight || a.open === !1)
      );
    }
    function f(a) {
      for (var b = [], c = a.parentNode; e(c); ) b.push(c), (c = c.parentNode);
      return b;
    }
    function g(a, b) {
      function c(a) {
        "undefined" != typeof a.open && (a.open = a.open ? !1 : !0);
      }
      var d = f(a),
        e = d.length,
        g = [],
        h = a[b];
      if (e) {
        for (var i = 0; e > i; i++)
          (g[i] = d[i].style.cssText),
            (d[i].style.display = "block"),
            (d[i].style.height = "0"),
            (d[i].style.overflow = "hidden"),
            (d[i].style.visibility = "hidden"),
            c(d[i]);
        h = a[b];
        for (var j = 0; e > j; j++) (d[j].style.cssText = g[j]), c(d[j]);
      }
      return h;
    }
    function h(a, b) {
      var c = parseFloat(a);
      return Number.isNaN(c) ? b : c;
    }
    function i(a) {
      return a.charAt(0).toUpperCase() + a.substr(1);
    }
    function j(b, e) {
      if (
        ((this.$window = a(window)),
        (this.$document = a(document)),
        (this.$element = a(b)),
        (this.options = a.extend({}, n, e)),
        (this.polyfill = this.options.polyfill),
        (this.orientation =
          this.$element[0].getAttribute("data-orientation") ||
          this.options.orientation),
        (this.onInit = this.options.onInit),
        (this.onSlide = this.options.onSlide),
        (this.onSlideEnd = this.options.onSlideEnd),
        (this.DIMENSION = o.orientation[this.orientation].dimension),
        (this.DIRECTION = o.orientation[this.orientation].direction),
        (this.DIRECTION_STYLE = o.orientation[this.orientation].directionStyle),
        (this.COORDINATE = o.orientation[this.orientation].coordinate),
        this.polyfill && m)
      )
        return !1;
      (this.identifier = "js-" + k + "-" + l++),
        (this.startEvent =
          this.options.startEvent.join("." + this.identifier + " ") +
          "." +
          this.identifier),
        (this.moveEvent =
          this.options.moveEvent.join("." + this.identifier + " ") +
          "." +
          this.identifier),
        (this.endEvent =
          this.options.endEvent.join("." + this.identifier + " ") +
          "." +
          this.identifier),
        (this.toFixed = (this.step + "").replace(".", "").length - 1),
        (this.$fill = a('<div class="' + this.options.fillClass + '" />')),
        (this.$handle = a('<div class="' + this.options.handleClass + '" />')),
        (this.$range = a(
          '<div class="' +
            this.options.rangeClass +
            " " +
            this.options[this.orientation + "Class"] +
            '" id="' +
            this.identifier +
            '" />'
        )
          .insertAfter(this.$element)
          .prepend(this.$fill, this.$handle)),
        this.$element.css({
          position: "absolute",
          width: "1px",
          height: "1px",
          overflow: "hidden",
          opacity: "0"
        }),
        (this.handleDown = a.proxy(this.handleDown, this)),
        (this.handleMove = a.proxy(this.handleMove, this)),
        (this.handleEnd = a.proxy(this.handleEnd, this)),
        this.init();
      var f = this;
      this.$window.on(
        "resize." + this.identifier,
        d(function() {
          c(function() {
            f.update();
          }, 300);
        }, 20)
      ),
        this.$document.on(
          this.startEvent,
          "#" + this.identifier + ":not(." + this.options.disabledClass + ")",
          this.handleDown
        ),
        this.$element.on("change." + this.identifier, function(a, b) {
          if (!b || b.origin !== f.identifier) {
            var c = a.target.value,
              d = f.getPositionFromValue(c);
            f.setPosition(d);
          }
        });
    }
    Number.isNaN =
      Number.isNaN ||
      function(a) {
        return "number" == typeof a && a !== a;
      };
    var k = "rangeslider",
      l = 0,
      m = b(),
      n = {
        polyfill: !0,
        orientation: "horizontal",
        rangeClass: "rangeslider",
        disabledClass: "rangeslider--disabled",
        horizontalClass: "rangeslider--horizontal",
        verticalClass: "rangeslider--vertical",
        fillClass: "rangeslider__fill",
        handleClass: "rangeslider__handle",
        startEvent: ["mousedown", "touchstart", "pointerdown"],
        moveEvent: ["mousemove", "touchmove", "pointermove"],
        endEvent: ["mouseup", "touchend", "pointerup"]
      },
      o = {
        orientation: {
          horizontal: {
            dimension: "width",
            direction: "left",
            directionStyle: "left",
            coordinate: "x"
          },
          vertical: {
            dimension: "height",
            direction: "top",
            directionStyle: "bottom",
            coordinate: "y"
          }
        }
      };
    (j.prototype.init = function() {
      this.update(!0, !1),
        this.onInit && "function" == typeof this.onInit && this.onInit();
    }),
      (j.prototype.update = function(a, b) {
        (a = a || !1),
          a &&
            ((this.min = h(this.$element[0].getAttribute("min"), 0)),
            (this.max = h(this.$element[0].getAttribute("max"), 100)),
            (this.value = h(
              this.$element[0].value,
              Math.round(this.min + (this.max - this.min) / 2)
            )),
            (this.step = h(this.$element[0].getAttribute("step"), 1))),
          (this.handleDimension = g(
            this.$handle[0],
            "offset" + i(this.DIMENSION)
          )),
          (this.rangeDimension = g(
            this.$range[0],
            "offset" + i(this.DIMENSION)
          )),
          (this.maxHandlePos = this.rangeDimension - this.handleDimension),
          (this.grabPos = this.handleDimension / 2),
          (this.position = this.getPositionFromValue(this.value)),
          this.$element[0].disabled
            ? this.$range.addClass(this.options.disabledClass)
            : this.$range.removeClass(this.options.disabledClass),
          this.setPosition(this.position, b);
      }),
      (j.prototype.handleDown = function(a) {
        if (
          (this.$document.on(this.moveEvent, this.handleMove),
          this.$document.on(this.endEvent, this.handleEnd),
          !(
            (" " + a.target.className + " ")
              .replace(/[\n\t]/g, " ")
              .indexOf(this.options.handleClass) > -1
          ))
        ) {
          var b = this.getRelativePosition(a),
            c = this.$range[0].getBoundingClientRect()[this.DIRECTION],
            d = this.getPositionFromNode(this.$handle[0]) - c,
            e =
              "vertical" === this.orientation
                ? this.maxHandlePos - (b - this.grabPos)
                : b - this.grabPos;
          this.setPosition(e),
            b >= d && b < d + this.handleDimension && (this.grabPos = b - d);
        }
      }),
      (j.prototype.handleMove = function(a) {
        a.preventDefault();
        var b = this.getRelativePosition(a),
          c =
            "vertical" === this.orientation
              ? this.maxHandlePos - (b - this.grabPos)
              : b - this.grabPos;
        this.setPosition(c);
      }),
      (j.prototype.handleEnd = function(a) {
        a.preventDefault(),
          this.$document.off(this.moveEvent, this.handleMove),
          this.$document.off(this.endEvent, this.handleEnd),
          this.$element.trigger("change", { origin: this.identifier }),
          this.onSlideEnd &&
            "function" == typeof this.onSlideEnd &&
            this.onSlideEnd(this.position, this.value);
      }),
      (j.prototype.cap = function(a, b, c) {
        return b > a ? b : a > c ? c : a;
      }),
      (j.prototype.setPosition = function(a, b) {
        var c, d;
        void 0 === b && (b = !0),
          (c = this.getValueFromPosition(this.cap(a, 0, this.maxHandlePos))),
          (d = this.getPositionFromValue(c)),
          (this.$fill[0].style[this.DIMENSION] = d + this.grabPos + "px"),
          (this.$handle[0].style[this.DIRECTION_STYLE] = d + "px"),
          this.setValue(c),
          (this.position = d),
          (this.value = c),
          b &&
            this.onSlide &&
            "function" == typeof this.onSlide &&
            this.onSlide(d, c);
      }),
      (j.prototype.getPositionFromNode = function(a) {
        for (var b = 0; null !== a; ) (b += a.offsetLeft), (a = a.offsetParent);
        return b;
      }),
      (j.prototype.getRelativePosition = function(a) {
        var b = i(this.COORDINATE),
          c = this.$range[0].getBoundingClientRect()[this.DIRECTION],
          d = 0;
        return (
          "undefined" != typeof a["page" + b]
            ? (d = a["client" + b])
            : "undefined" != typeof a.originalEvent["client" + b]
              ? (d = a.originalEvent["client" + b])
              : a.originalEvent.touches &&
                a.originalEvent.touches[0] &&
                "undefined" != typeof a.originalEvent.touches[0]["client" + b]
                ? (d = a.originalEvent.touches[0]["client" + b])
                : a.currentPoint &&
                  "undefined" != typeof a.currentPoint[this.COORDINATE] &&
                  (d = a.currentPoint[this.COORDINATE]),
          d - c
        );
      }),
      (j.prototype.getPositionFromValue = function(a) {
        var b, c;
        return (
          (b = (a - this.min) / (this.max - this.min)),
          (c = Number.isNaN(b) ? 0 : b * this.maxHandlePos)
        );
      }),
      (j.prototype.getValueFromPosition = function(a) {
        var b, c;
        return (
          (b = a / (this.maxHandlePos || 1)),
          (c =
            this.step * Math.round(b * (this.max - this.min) / this.step) +
            this.min),
          Number(c.toFixed(this.toFixed))
        );
      }),
      (j.prototype.setValue = function(a) {
        (a !== this.value || "" === this.$element[0].value) &&
          this.$element.val(a).trigger("input", { origin: this.identifier });
      }),
      (j.prototype.destroy = function() {
        this.$document.off("." + this.identifier),
          this.$window.off("." + this.identifier),
          this.$element
            .off("." + this.identifier)
            .removeAttr("style")
            .removeData("plugin_" + k),
          this.$range &&
            this.$range.length &&
            this.$range[0].parentNode.removeChild(this.$range[0]);
      }),
      (a.fn[k] = function(b) {
        var c = Array.prototype.slice.call(arguments, 1);
        return this.each(function() {
          var d = a(this),
            e = d.data("plugin_" + k);
          e || d.data("plugin_" + k, (e = new j(this, b))),
            "string" == typeof b && e[b].apply(e, c);
        });
      });
  }),
  !(function(a) {
    "use strict";
    "function" == typeof define && define.amd
      ? define(["jquery"], a)
      : "object" == typeof exports && "object" == typeof module
        ? (module.exports = a)
        : a(jQuery);
  })(function(a, b) {
    "use strict";
    function c(b, c, d, e) {
      for (var f = [], g = 0; g < b.length; g++) {
        var h = b[g];
        if (h) {
          var i = tinycolor(h),
            j =
              i.toHsl().l < 0.5
                ? "sp-thumb-el sp-thumb-dark"
                : "sp-thumb-el sp-thumb-light";
          j += tinycolor.equals(c, h) ? " sp-thumb-active" : "";
          var k = i.toString(e.preferredFormat || "rgb"),
            l = q
              ? "background-color:" + i.toRgbString()
              : "filter:" + i.toFilter();
          f.push(
            '<span title="' +
              k +
              '" data-color="' +
              i.toRgbString() +
              '" class="' +
              j +
              '"><span class="sp-thumb-inner" style="' +
              l +
              ';" /></span>'
          );
        } else {
          var m = "sp-clear-display";
          f.push(
            a("<div />")
              .append(
                a(
                  '<span data-color="" style="background-color:transparent;" class="' +
                    m +
                    '"></span>'
                ).attr("title", e.noColorSelectedText)
              )
              .html()
          );
        }
      }
      return "<div class='sp-cf " + d + "'>" + f.join("") + "</div>";
    }
    function d() {
      for (var a = 0; a < o.length; a++) o[a] && o[a].hide();
    }
    function e(b, c) {
      var d = a.extend({}, n, b);
      return (
        (d.callbacks = {
          move: j(d.move, c),
          change: j(d.change, c),
          show: j(d.show, c),
          hide: j(d.hide, c),
          beforeShow: j(d.beforeShow, c)
        }),
        d
      );
    }
    function f(f, h) {
      function j() {
        if (
          (U.showPaletteOnly && (U.showPalette = !0),
          Ma.text(
            U.showPaletteOnly
              ? U.togglePaletteMoreText
              : U.togglePaletteLessText
          ),
          U.palette)
        ) {
          (na = U.palette.slice(0)),
            (oa = a.isArray(na[0]) ? na : [na]),
            (pa = {});
          for (var b = 0; b < oa.length; b++)
            for (var c = 0; c < oa[b].length; c++) {
              var d = tinycolor(oa[b][c]).toRgbString();
              pa[d] = !0;
            }
        }
        xa.toggleClass("sp-flat", V),
          xa.toggleClass("sp-input-disabled", !U.showInput),
          xa.toggleClass("sp-alpha-enabled", U.showAlpha),
          xa.toggleClass("sp-clear-enabled", Za),
          xa.toggleClass("sp-buttons-disabled", !U.showButtons),
          xa.toggleClass("sp-palette-buttons-disabled", !U.togglePaletteOnly),
          xa.toggleClass("sp-palette-disabled", !U.showPalette),
          xa.toggleClass("sp-palette-only", U.showPaletteOnly),
          xa.toggleClass("sp-initial-disabled", !U.showInitial),
          xa.addClass(U.className).addClass(U.containerClassName),
          O();
      }
      function n() {
        function b(b) {
          return (
            b.data && b.data.ignore
              ? (H(
                  a(b.target)
                    .closest(".sp-thumb-el")
                    .data("color")
                ),
                K())
              : (H(
                  a(b.target)
                    .closest(".sp-thumb-el")
                    .data("color")
                ),
                K(),
                N(!0),
                U.hideAfterPaletteSelect && F()),
            !1
          );
        }
        if (
          (p && xa.find("*:not(input)").attr("unselectable", "on"),
          j(),
          Pa && va.after(Qa).hide(),
          Za || Ka.hide(),
          V)
        )
          va.after(xa).hide();
        else {
          var c = "parent" === U.appendTo ? va.parent() : a(U.appendTo);
          1 !== c.length && (c = a("body")), c.append(xa);
        }
        t(),
          Ra.bind("click.spectrum touchstart.spectrum", function(b) {
            wa || B(),
              b.stopPropagation(),
              a(b.target).is("input") || b.preventDefault();
          }),
          (va.is(":disabled") || U.disabled === !0) && S(),
          xa.click(i),
          Ga.change(A),
          Ga.bind("paste", function() {
            setTimeout(A, 1);
          }),
          Ga.keydown(function(a) {
            13 == a.keyCode && A();
          }),
          Ja.text(U.cancelText),
          Ja.bind("click.spectrum", function(a) {
            a.stopPropagation(), a.preventDefault(), G(), F();
          }),
          Ka.attr("title", U.clearText),
          Ka.bind("click.spectrum", function(a) {
            a.stopPropagation(), a.preventDefault(), (Ya = !0), K(), V && N(!0);
          }),
          La.text(U.chooseText),
          La.bind("click.spectrum", function(a) {
            a.stopPropagation(),
              a.preventDefault(),
              p && Ga.is(":focus") && Ga.trigger("change"),
              J() && (N(!0), F());
          }),
          Ma.text(
            U.showPaletteOnly
              ? U.togglePaletteMoreText
              : U.togglePaletteLessText
          ),
          Ma.bind("click.spectrum", function(a) {
            a.stopPropagation(),
              a.preventDefault(),
              (U.showPaletteOnly = !U.showPaletteOnly),
              U.showPaletteOnly ||
                V ||
                xa.css("left", "-=" + (ya.outerWidth(!0) + 5)),
              j();
          }),
          k(
            Ea,
            function(a, b, c) {
              (ma = a / ga),
                (Ya = !1),
                c.shiftKey && (ma = Math.round(10 * ma) / 10),
                K();
            },
            y,
            z
          ),
          k(
            Ba,
            function(a, b) {
              (ja = parseFloat(b / ea)),
                (Ya = !1),
                U.showAlpha || (ma = 1),
                K();
            },
            y,
            z
          ),
          k(
            za,
            function(a, b, c) {
              if (c.shiftKey) {
                if (!ta) {
                  var d = ka * ba,
                    e = ca - la * ca,
                    f = Math.abs(a - d) > Math.abs(b - e);
                  ta = f ? "x" : "y";
                }
              } else ta = null;
              var g = !ta || "x" === ta,
                h = !ta || "y" === ta;
              g && (ka = parseFloat(a / ba)),
                h && (la = parseFloat((ca - b) / ca)),
                (Ya = !1),
                U.showAlpha || (ma = 1),
                K();
            },
            y,
            z
          ),
          Ta ? (H(Ta), L(), (Wa = Va || tinycolor(Ta).format), u(Ta)) : L(),
          V && C();
        var d = p ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
        Ha.delegate(".sp-thumb-el", d, b),
          Ia.delegate(".sp-thumb-el:nth-child(1)", d, { ignore: !0 }, b);
      }
      function t() {
        if (X && window.localStorage) {
          try {
            var b = window.localStorage[X].split(",#");
            b.length > 1 &&
              (delete window.localStorage[X],
              a.each(b, function(a, b) {
                u(b);
              }));
          } catch (c) {}
          try {
            qa = window.localStorage[X].split(";");
          } catch (c) {}
        }
      }
      function u(b) {
        if (W) {
          var c = tinycolor(b).toRgbString();
          if (!pa[c] && -1 === a.inArray(c, qa))
            for (qa.push(c); qa.length > ra; ) qa.shift();
          if (X && window.localStorage)
            try {
              window.localStorage[X] = qa.join(";");
            } catch (d) {}
        }
      }
      function v() {
        var a = [];
        if (U.showPalette)
          for (var b = 0; b < qa.length; b++) {
            var c = tinycolor(qa[b]).toRgbString();
            pa[c] || a.push(qa[b]);
          }
        return a.reverse().slice(0, U.maxSelectionSize);
      }
      function w() {
        var b = I(),
          d = a.map(oa, function(a, d) {
            return c(a, b, "sp-palette-row sp-palette-row-" + d, U);
          });
        t(),
          qa && d.push(c(v(), b, "sp-palette-row sp-palette-row-selection", U)),
          Ha.html(d.join(""));
      }
      function x() {
        if (U.showInitial) {
          var a = Ua,
            b = I();
          Ia.html(c([a, b], b, "sp-palette-row-initial", U));
        }
      }
      function y() {
        (0 >= ca || 0 >= ba || 0 >= ea) && O(),
          (aa = !0),
          xa.addClass(sa),
          (ta = null),
          va.trigger("dragstart.spectrum", [I()]);
      }
      function z() {
        (aa = !1), xa.removeClass(sa), va.trigger("dragstop.spectrum", [I()]);
      }
      function A() {
        var a = Ga.val();
        if ((null !== a && "" !== a) || !Za) {
          var b = tinycolor(a);
          b.isValid() ? (H(b), N(!0)) : Ga.addClass("sp-validation-error");
        } else H(null), N(!0);
      }
      function B() {
        _ ? F() : C();
      }
      function C() {
        var b = a.Event("beforeShow.spectrum");
        return _
          ? void O()
          : (va.trigger(b, [I()]),
            void (
              Z.beforeShow(I()) === !1 ||
              b.isDefaultPrevented() ||
              (d(),
              (_ = !0),
              a(ua).bind("keydown.spectrum", D),
              a(ua).bind("click.spectrum", E),
              a(window).bind("resize.spectrum", $),
              Qa.addClass("sp-active"),
              xa.removeClass("sp-hidden"),
              O(),
              L(),
              (Ua = I()),
              x(),
              Z.show(Ua),
              va.trigger("show.spectrum", [Ua]))
            ));
      }
      function D(a) {
        27 === a.keyCode && F();
      }
      function E(a) {
        2 != a.button && (aa || (Xa ? N(!0) : G(), F()));
      }
      function F() {
        _ &&
          !V &&
          ((_ = !1),
          a(ua).unbind("keydown.spectrum", D),
          a(ua).unbind("click.spectrum", E),
          a(window).unbind("resize.spectrum", $),
          Qa.removeClass("sp-active"),
          xa.addClass("sp-hidden"),
          Z.hide(I()),
          va.trigger("hide.spectrum", [I()]));
      }
      function G() {
        H(Ua, !0);
      }
      function H(a, b) {
        if (tinycolor.equals(a, I())) return void L();
        var c, d;
        !a && Za
          ? (Ya = !0)
          : ((Ya = !1),
            (c = tinycolor(a)),
            (d = c.toHsv()),
            (ja = (d.h % 360) / 360),
            (ka = d.s),
            (la = d.v),
            (ma = d.a)),
          L(),
          c && c.isValid() && !b && (Wa = Va || c.getFormat());
      }
      function I(a) {
        return (
          (a = a || {}),
          Za && Ya
            ? null
            : tinycolor.fromRatio(
                { h: ja, s: ka, v: la, a: Math.round(100 * ma) / 100 },
                { format: a.format || Wa }
              )
        );
      }
      function J() {
        return !Ga.hasClass("sp-validation-error");
      }
      function K() {
        L(), Z.move(I()), va.trigger("move.spectrum", [I()]);
      }
      function L() {
        Ga.removeClass("sp-validation-error"), M();
        var a = tinycolor.fromRatio({ h: ja, s: 1, v: 1 });
        za.css("background-color", a.toHexString());
        var b = Wa;
        1 > ma &&
          (0 !== ma || "name" !== b) &&
          ("hex" === b || "hex3" === b || "hex6" === b || "name" === b) &&
          (b = "rgb");
        var c = I({ format: b }),
          d = "";
        if (
          (Sa.removeClass("sp-clear-display"),
          Sa.css("background-color", "transparent"),
          !c && Za)
        )
          Sa.addClass("sp-clear-display");
        else {
          var e = c.toHexString(),
            f = c.toRgbString();
          if (
            (q || 1 === c.alpha
              ? Sa.css("background-color", f)
              : (Sa.css("background-color", "transparent"),
                Sa.css("filter", c.toFilter())),
            U.showAlpha)
          ) {
            var g = c.toRgb();
            g.a = 0;
            var h = tinycolor(g).toRgbString(),
              i = "linear-gradient(left, " + h + ", " + e + ")";
            p
              ? Da.css("filter", tinycolor(h).toFilter({ gradientType: 1 }, e))
              : (Da.css("background", "-webkit-" + i),
                Da.css("background", "-moz-" + i),
                Da.css("background", "-ms-" + i),
                Da.css(
                  "background",
                  "linear-gradient(to right, " + h + ", " + e + ")"
                ));
          }
          d = c.toString(b);
        }
        U.showInput && Ga.val(d), U.showPalette && w(), x();
      }
      function M() {
        var a = ka,
          b = la;
        if (Za && Ya) Fa.hide(), Ca.hide(), Aa.hide();
        else {
          Fa.show(), Ca.show(), Aa.show();
          var c = a * ba,
            d = ca - b * ca;
          (c = Math.max(-da, Math.min(ba - da, c - da))),
            (d = Math.max(-da, Math.min(ca - da, d - da))),
            Aa.css({ top: d + "px", left: c + "px" });
          var e = ma * ga;
          Fa.css({ left: e - ha / 2 + "px" });
          var f = ja * ea;
          Ca.css({ top: f - ia + "px" });
        }
      }
      function N(a) {
        var b = I(),
          c = "",
          d = !tinycolor.equals(b, Ua);
        b && ((c = b.toString(Wa)), u(b)),
          Na && va.val(c),
          a && d && (Z.change(b), va.trigger("change", [b]));
      }
      function O() {
        (ba = za.width()),
          (ca = za.height()),
          (da = Aa.height()),
          (fa = Ba.width()),
          (ea = Ba.height()),
          (ia = Ca.height()),
          (ga = Ea.width()),
          (ha = Fa.width()),
          V ||
            (xa.css("position", "absolute"),
            xa.offset(U.offset ? U.offset : g(xa, Ra))),
          M(),
          U.showPalette && w(),
          va.trigger("reflow.spectrum");
      }
      function P() {
        va.show(),
          Ra.unbind("click.spectrum touchstart.spectrum"),
          xa.remove(),
          Qa.remove(),
          (o[$a.id] = null);
      }
      function Q(c, d) {
        return c === b
          ? a.extend({}, U)
          : d === b
            ? U[c]
            : ((U[c] = d), void j());
      }
      function R() {
        (wa = !1), va.attr("disabled", !1), Ra.removeClass("sp-disabled");
      }
      function S() {
        F(), (wa = !0), va.attr("disabled", !0), Ra.addClass("sp-disabled");
      }
      function T(a) {
        (U.offset = a), O();
      }
      var U = e(h, f),
        V = U.flat,
        W = U.showSelectionPalette,
        X = U.localStorageKey,
        Y = U.theme,
        Z = U.callbacks,
        $ = l(O, 10),
        _ = !1,
        aa = !1,
        ba = 0,
        ca = 0,
        da = 0,
        ea = 0,
        fa = 0,
        ga = 0,
        ha = 0,
        ia = 0,
        ja = 0,
        ka = 0,
        la = 0,
        ma = 1,
        na = [],
        oa = [],
        pa = {},
        qa = U.selectionPalette.slice(0),
        ra = U.maxSelectionSize,
        sa = "sp-dragging",
        ta = null,
        ua = f.ownerDocument,
        va = (ua.body, a(f)),
        wa = !1,
        xa = a(s, ua).addClass(Y),
        ya = xa.find(".sp-picker-container"),
        za = xa.find(".sp-color"),
        Aa = xa.find(".sp-dragger"),
        Ba = xa.find(".sp-hue"),
        Ca = xa.find(".sp-slider"),
        Da = xa.find(".sp-alpha-inner"),
        Ea = xa.find(".sp-alpha"),
        Fa = xa.find(".sp-alpha-handle"),
        Ga = xa.find(".sp-input"),
        Ha = xa.find(".sp-palette"),
        Ia = xa.find(".sp-initial"),
        Ja = xa.find(".sp-cancel"),
        Ka = xa.find(".sp-clear"),
        La = xa.find(".sp-choose"),
        Ma = xa.find(".sp-palette-toggle"),
        Na = va.is("input"),
        Oa = Na && "color" === va.attr("type") && m(),
        Pa = Na && !V,
        Qa = Pa
          ? a(r)
              .addClass(Y)
              .addClass(U.className)
              .addClass(U.replacerClassName)
          : a([]),
        Ra = Pa ? Qa : va,
        Sa = Qa.find(".sp-preview-inner"),
        Ta = U.color || (Na && va.val()),
        Ua = !1,
        Va = U.preferredFormat,
        Wa = Va,
        Xa = !U.showButtons || U.clickoutFiresChange,
        Ya = !Ta,
        Za = U.allowEmpty && !Oa;
      n();
      var $a = {
        show: C,
        hide: F,
        toggle: B,
        reflow: O,
        option: Q,
        enable: R,
        disable: S,
        offset: T,
        set: function(a) {
          H(a), N();
        },
        get: I,
        destroy: P,
        container: xa
      };
      return ($a.id = o.push($a) - 1), $a;
    }
    function g(b, c) {
      var d = 0,
        e = b.outerWidth(),
        f = b.outerHeight(),
        g = c.outerHeight(),
        h = b[0].ownerDocument,
        i = h.documentElement,
        j = i.clientWidth + a(h).scrollLeft(),
        k = i.clientHeight + a(h).scrollTop(),
        l = c.offset();
      return (
        (l.top += g),
        (l.left -= Math.min(
          l.left,
          l.left + e > j && j > e ? Math.abs(l.left + e - j) : 0
        )),
        (l.top -= Math.min(
          l.top,
          l.top + f > k && k > f ? Math.abs(f + g - d) : d
        )),
        l
      );
    }
    function h() {}
    function i(a) {
      a.stopPropagation();
    }
    function j(a, b) {
      var c = Array.prototype.slice,
        d = c.call(arguments, 2);
      return function() {
        return a.apply(b, d.concat(c.call(arguments)));
      };
    }
    function k(b, c, d, e) {
      function f(a) {
        a.stopPropagation && a.stopPropagation(),
          a.preventDefault && a.preventDefault(),
          (a.returnValue = !1);
      }
      function g(a) {
        if (k) {
          if (p && j.documentMode < 9 && !a.button) return i();
          var d =
              a.originalEvent &&
              a.originalEvent.touches &&
              a.originalEvent.touches[0],
            e = (d && d.pageX) || a.pageX,
            g = (d && d.pageY) || a.pageY,
            h = Math.max(0, Math.min(e - l.left, n)),
            q = Math.max(0, Math.min(g - l.top, m));
          o && f(a), c.apply(b, [h, q, a]);
        }
      }
      function h(c) {
        var e = c.which ? 3 == c.which : 2 == c.button;
        e ||
          k ||
          (d.apply(b, arguments) !== !1 &&
            ((k = !0),
            (m = a(b).height()),
            (n = a(b).width()),
            (l = a(b).offset()),
            a(j).bind(q),
            a(j.body).addClass("sp-dragging"),
            g(c),
            f(c)));
      }
      function i() {
        k &&
          (a(j).unbind(q),
          a(j.body).removeClass("sp-dragging"),
          setTimeout(function() {
            e.apply(b, arguments);
          }, 0)),
          (k = !1);
      }
      (c = c || function() {}),
        (d = d || function() {}),
        (e = e || function() {});
      var j = document,
        k = !1,
        l = {},
        m = 0,
        n = 0,
        o = "ontouchstart" in window,
        q = {};
      (q.selectstart = f),
        (q.dragstart = f),
        (q["touchmove mousemove"] = g),
        (q["touchend mouseup"] = i),
        a(b).bind("touchstart mousedown", h);
    }
    function l(a, b, c) {
      var d;
      return function() {
        var e = this,
          f = arguments,
          g = function() {
            (d = null), a.apply(e, f);
          };
        c && clearTimeout(d), (c || !d) && (d = setTimeout(g, b));
      };
    }
    function m() {
      return a.fn.spectrum.inputTypeColorSupport();
    }
    var n = {
        beforeShow: h,
        move: h,
        change: h,
        show: h,
        hide: h,
        color: !1,
        flat: !1,
        showInput: !1,
        allowEmpty: !1,
        showButtons: !0,
        clickoutFiresChange: !0,
        showInitial: !1,
        showPalette: !1,
        showPaletteOnly: !1,
        hideAfterPaletteSelect: !1,
        togglePaletteOnly: !1,
        showSelectionPalette: !0,
        localStorageKey: !1,
        appendTo: "body",
        maxSelectionSize: 7,
        cancelText: "cancel",
        chooseText: "choose",
        togglePaletteMoreText: "more",
        togglePaletteLessText: "less",
        clearText: "Clear Color Selection",
        noColorSelectedText: "No Color Selected",
        preferredFormat: !1,
        className: "",
        containerClassName: "",
        replacerClassName: "",
        showAlpha: !1,
        theme: "sp-light",
        palette: [
          [
            "#ffffff",
            "#000000",
            "#ff0000",
            "#ff8000",
            "#ffff00",
            "#008000",
            "#0000ff",
            "#4b0082",
            "#9400d3"
          ]
        ],
        selectionPalette: [],
        disabled: !1,
        offset: null
      },
      o = [],
      p = !!/msie/i.exec(window.navigator.userAgent),
      q = (function() {
        function a(a, b) {
          return !!~("" + a).indexOf(b);
        }
        var b = document.createElement("div"),
          c = b.style;
        return (
          (c.cssText = "background-color:rgba(0,0,0,.5)"),
          a(c.backgroundColor, "rgba") || a(c.backgroundColor, "hsla")
        );
      })(),
      r = [
        "<div class='sp-replacer'>",
        "<div class='sp-preview'><div class='sp-preview-inner'></div></div>",
        "<div class='sp-dd'>&#9660;</div>",
        "</div>"
      ].join(""),
      s = (function() {
        var a = "";
        if (p)
          for (var b = 1; 6 >= b; b++) a += "<div class='sp-" + b + "'></div>";
        return [
          "<div class='sp-container sp-hidden'>",
          "<div class='sp-palette-container'>",
          "<div class='sp-palette sp-thumb sp-cf'></div>",
          "<div class='sp-palette-button-container sp-cf'>",
          "<button type='button' class='sp-palette-toggle'></button>",
          "</div>",
          "</div>",
          "<div class='sp-picker-container'>",
          "<div class='sp-top sp-cf'>",
          "<div class='sp-fill'></div>",
          "<div class='sp-top-inner'>",
          "<div class='sp-color'>",
          "<div class='sp-sat'>",
          "<div class='sp-val'>",
          "<div class='sp-dragger'></div>",
          "</div>",
          "</div>",
          "</div>",
          "<div class='sp-clear sp-clear-display'>",
          "</div>",
          "<div class='sp-hue'>",
          "<div class='sp-slider'></div>",
          a,
          "</div>",
          "</div>",
          "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>",
          "</div>",
          "<div class='sp-input-container sp-cf'>",
          "<input class='sp-input' type='text' spellcheck='false'  />",
          "</div>",
          "<div class='sp-initial sp-thumb sp-cf'></div>",
          "<div class='sp-button-container sp-cf'>",
          "<a class='sp-cancel' href='#'></a>",
          "<button type='button' class='sp-choose'></button>",
          "</div>",
          "</div>",
          "</div>"
        ].join("");
      })(),
      t = "spectrum.id";
    (a.fn.spectrum = function(b) {
      if ("string" == typeof b) {
        var c = this,
          d = Array.prototype.slice.call(arguments, 1);
        return (
          this.each(function() {
            var e = o[a(this).data(t)];
            if (e) {
              var f = e[b];
              if (!f) throw new Error("Spectrum: no such method: '" + b + "'");
              "get" == b
                ? (c = e.get())
                : "container" == b
                  ? (c = e.container)
                  : "option" == b
                    ? (c = e.option.apply(e, d))
                    : "destroy" == b
                      ? (e.destroy(), a(this).removeData(t))
                      : f.apply(e, d);
            }
          }),
          c
        );
      }
      return this.spectrum("destroy").each(function() {
        var c = a.extend({}, b, a(this).data()),
          d = f(this, c);
        a(this).data(t, d.id);
      });
    }),
      (a.fn.spectrum.load = !0),
      (a.fn.spectrum.loadOpts = {}),
      (a.fn.spectrum.draggable = k),
      (a.fn.spectrum.defaults = n),
      (a.fn.spectrum.inputTypeColorSupport = function u() {
        if ("undefined" == typeof u._cachedResult) {
          var b = a("<input type='color'/>")[0];
          u._cachedResult = "color" === b.type && "" !== b.value;
        }
        return u._cachedResult;
      }),
      (a.spectrum = {}),
      (a.spectrum.localization = {}),
      (a.spectrum.palettes = {}),
      (a.fn.spectrum.processNativeColorInputs = function() {
        var b = a("input[type=color]");
        b.length && !m() && b.spectrum({ preferredFormat: "hex6" });
      }),
      (function() {
        function a(a) {
          var c = { r: 0, g: 0, b: 0 },
            e = 1,
            g = !1,
            h = !1;
          return (
            "string" == typeof a && (a = G(a)),
            "object" == typeof a &&
              (a.hasOwnProperty("r") &&
              a.hasOwnProperty("g") &&
              a.hasOwnProperty("b")
                ? ((c = b(a.r, a.g, a.b)),
                  (g = !0),
                  (h = "%" === String(a.r).substr(-1) ? "prgb" : "rgb"))
                : a.hasOwnProperty("h") &&
                  a.hasOwnProperty("s") &&
                  a.hasOwnProperty("v")
                  ? ((a.s = D(a.s)),
                    (a.v = D(a.v)),
                    (c = f(a.h, a.s, a.v)),
                    (g = !0),
                    (h = "hsv"))
                  : a.hasOwnProperty("h") &&
                    a.hasOwnProperty("s") &&
                    a.hasOwnProperty("l") &&
                    ((a.s = D(a.s)),
                    (a.l = D(a.l)),
                    (c = d(a.h, a.s, a.l)),
                    (g = !0),
                    (h = "hsl")),
              a.hasOwnProperty("a") && (e = a.a)),
            (e = w(e)),
            {
              ok: g,
              format: a.format || h,
              r: M(255, N(c.r, 0)),
              g: M(255, N(c.g, 0)),
              b: M(255, N(c.b, 0)),
              a: e
            }
          );
        }
        function b(a, b, c) {
          return { r: 255 * x(a, 255), g: 255 * x(b, 255), b: 255 * x(c, 255) };
        }
        function c(a, b, c) {
          (a = x(a, 255)), (b = x(b, 255)), (c = x(c, 255));
          var d,
            e,
            f = N(a, b, c),
            g = M(a, b, c),
            h = (f + g) / 2;
          if (f == g) d = e = 0;
          else {
            var i = f - g;
            switch (((e = h > 0.5 ? i / (2 - f - g) : i / (f + g)), f)) {
              case a:
                d = (b - c) / i + (c > b ? 6 : 0);
                break;
              case b:
                d = (c - a) / i + 2;
                break;
              case c:
                d = (a - b) / i + 4;
            }
            d /= 6;
          }
          return { h: d, s: e, l: h };
        }
        function d(a, b, c) {
          function d(a, b, c) {
            return (
              0 > c && (c += 1),
              c > 1 && (c -= 1),
              1 / 6 > c
                ? a + 6 * (b - a) * c
                : 0.5 > c
                  ? b
                  : 2 / 3 > c
                    ? a + (b - a) * (2 / 3 - c) * 6
                    : a
            );
          }
          var e, f, g;
          if (((a = x(a, 360)), (b = x(b, 100)), (c = x(c, 100)), 0 === b))
            e = f = g = c;
          else {
            var h = 0.5 > c ? c * (1 + b) : c + b - c * b,
              i = 2 * c - h;
            (e = d(i, h, a + 1 / 3)),
              (f = d(i, h, a)),
              (g = d(i, h, a - 1 / 3));
          }
          return { r: 255 * e, g: 255 * f, b: 255 * g };
        }
        function e(a, b, c) {
          (a = x(a, 255)), (b = x(b, 255)), (c = x(c, 255));
          var d,
            e,
            f = N(a, b, c),
            g = M(a, b, c),
            h = f,
            i = f - g;
          if (((e = 0 === f ? 0 : i / f), f == g)) d = 0;
          else {
            switch (f) {
              case a:
                d = (b - c) / i + (c > b ? 6 : 0);
                break;
              case b:
                d = (c - a) / i + 2;
                break;
              case c:
                d = (a - b) / i + 4;
            }
            d /= 6;
          }
          return { h: d, s: e, v: h };
        }
        function f(a, b, c) {
          (a = 6 * x(a, 360)), (b = x(b, 100)), (c = x(c, 100));
          var d = K.floor(a),
            e = a - d,
            f = c * (1 - b),
            g = c * (1 - e * b),
            h = c * (1 - (1 - e) * b),
            i = d % 6,
            j = [c, g, f, f, h, c][i],
            k = [h, c, c, g, f, f][i],
            l = [f, f, h, c, c, g][i];
          return { r: 255 * j, g: 255 * k, b: 255 * l };
        }
        function g(a, b, c, d) {
          var e = [
            C(L(a).toString(16)),
            C(L(b).toString(16)),
            C(L(c).toString(16))
          ];
          return d &&
            e[0].charAt(0) == e[0].charAt(1) &&
            e[1].charAt(0) == e[1].charAt(1) &&
            e[2].charAt(0) == e[2].charAt(1)
            ? e[0].charAt(0) + e[1].charAt(0) + e[2].charAt(0)
            : e.join("");
        }
        function h(a, b, c, d) {
          var e = [
            C(E(d)),
            C(L(a).toString(16)),
            C(L(b).toString(16)),
            C(L(c).toString(16))
          ];
          return e.join("");
        }
        function i(a, b) {
          b = 0 === b ? 0 : b || 10;
          var c = P(a).toHsl();
          return (c.s -= b / 100), (c.s = y(c.s)), P(c);
        }
        function j(a, b) {
          b = 0 === b ? 0 : b || 10;
          var c = P(a).toHsl();
          return (c.s += b / 100), (c.s = y(c.s)), P(c);
        }
        function k(a) {
          return P(a).desaturate(100);
        }
        function l(a, b) {
          b = 0 === b ? 0 : b || 10;
          var c = P(a).toHsl();
          return (c.l += b / 100), (c.l = y(c.l)), P(c);
        }
        function m(a, b) {
          b = 0 === b ? 0 : b || 10;
          var c = P(a).toRgb();
          return (
            (c.r = N(0, M(255, c.r - L(255 * -(b / 100))))),
            (c.g = N(0, M(255, c.g - L(255 * -(b / 100))))),
            (c.b = N(0, M(255, c.b - L(255 * -(b / 100))))),
            P(c)
          );
        }
        function n(a, b) {
          b = 0 === b ? 0 : b || 10;
          var c = P(a).toHsl();
          return (c.l -= b / 100), (c.l = y(c.l)), P(c);
        }
        function o(a, b) {
          var c = P(a).toHsl(),
            d = (L(c.h) + b) % 360;
          return (c.h = 0 > d ? 360 + d : d), P(c);
        }
        function p(a) {
          var b = P(a).toHsl();
          return (b.h = (b.h + 180) % 360), P(b);
        }
        function q(a) {
          var b = P(a).toHsl(),
            c = b.h;
          return [
            P(a),
            P({ h: (c + 120) % 360, s: b.s, l: b.l }),
            P({ h: (c + 240) % 360, s: b.s, l: b.l })
          ];
        }
        function r(a) {
          var b = P(a).toHsl(),
            c = b.h;
          return [
            P(a),
            P({ h: (c + 90) % 360, s: b.s, l: b.l }),
            P({ h: (c + 180) % 360, s: b.s, l: b.l }),
            P({ h: (c + 270) % 360, s: b.s, l: b.l })
          ];
        }
        function s(a) {
          var b = P(a).toHsl(),
            c = b.h;
          return [
            P(a),
            P({ h: (c + 72) % 360, s: b.s, l: b.l }),
            P({ h: (c + 216) % 360, s: b.s, l: b.l })
          ];
        }
        function t(a, b, c) {
          (b = b || 6), (c = c || 30);
          var d = P(a).toHsl(),
            e = 360 / c,
            f = [P(a)];
          for (d.h = (d.h - ((e * b) >> 1) + 720) % 360; --b; )
            (d.h = (d.h + e) % 360), f.push(P(d));
          return f;
        }
        function u(a, b) {
          b = b || 6;
          for (
            var c = P(a).toHsv(), d = c.h, e = c.s, f = c.v, g = [], h = 1 / b;
            b--;

          )
            g.push(P({ h: d, s: e, v: f })), (f = (f + h) % 1);
          return g;
        }
        function v(a) {
          var b = {};
          for (var c in a) a.hasOwnProperty(c) && (b[a[c]] = c);
          return b;
        }
        function w(a) {
          return (
            (a = parseFloat(a)), (isNaN(a) || 0 > a || a > 1) && (a = 1), a
          );
        }
        function x(a, b) {
          A(a) && (a = "100%");
          var c = B(a);
          return (
            (a = M(b, N(0, parseFloat(a)))),
            c && (a = parseInt(a * b, 10) / 100),
            K.abs(a - b) < 1e-6 ? 1 : (a % b) / parseFloat(b)
          );
        }
        function y(a) {
          return M(1, N(0, a));
        }
        function z(a) {
          return parseInt(a, 16);
        }
        function A(a) {
          return (
            "string" == typeof a && -1 != a.indexOf(".") && 1 === parseFloat(a)
          );
        }
        function B(a) {
          return "string" == typeof a && -1 != a.indexOf("%");
        }
        function C(a) {
          return 1 == a.length ? "0" + a : "" + a;
        }
        function D(a) {
          return 1 >= a && (a = 100 * a + "%"), a;
        }
        function E(a) {
          return Math.round(255 * parseFloat(a)).toString(16);
        }
        function F(a) {
          return z(a) / 255;
        }
        function G(a) {
          a = a
            .replace(H, "")
            .replace(I, "")
            .toLowerCase();
          var b = !1;
          if (Q[a]) (a = Q[a]), (b = !0);
          else if ("transparent" == a)
            return { r: 0, g: 0, b: 0, a: 0, format: "name" };
          var c;
          return (c = S.rgb.exec(a))
            ? { r: c[1], g: c[2], b: c[3] }
            : (c = S.rgba.exec(a))
              ? { r: c[1], g: c[2], b: c[3], a: c[4] }
              : (c = S.hsl.exec(a))
                ? { h: c[1], s: c[2], l: c[3] }
                : (c = S.hsla.exec(a))
                  ? { h: c[1], s: c[2], l: c[3], a: c[4] }
                  : (c = S.hsv.exec(a))
                    ? { h: c[1], s: c[2], v: c[3] }
                    : (c = S.hsva.exec(a))
                      ? { h: c[1], s: c[2], v: c[3], a: c[4] }
                      : (c = S.hex8.exec(a))
                        ? {
                            a: F(c[1]),
                            r: z(c[2]),
                            g: z(c[3]),
                            b: z(c[4]),
                            format: b ? "name" : "hex8"
                          }
                        : (c = S.hex6.exec(a))
                          ? {
                              r: z(c[1]),
                              g: z(c[2]),
                              b: z(c[3]),
                              format: b ? "name" : "hex"
                            }
                          : (c = S.hex3.exec(a))
                            ? {
                                r: z(c[1] + "" + c[1]),
                                g: z(c[2] + "" + c[2]),
                                b: z(c[3] + "" + c[3]),
                                format: b ? "name" : "hex"
                              }
                            : !1;
        }
        var H = /^[\s,#]+/,
          I = /\s+$/,
          J = 0,
          K = Math,
          L = K.round,
          M = K.min,
          N = K.max,
          O = K.random,
          P = function(b, c) {
            if (((b = b ? b : ""), (c = c || {}), b instanceof P)) return b;
            if (!(this instanceof P)) return new P(b, c);
            var d = a(b);
            (this._originalInput = b),
              (this._r = d.r),
              (this._g = d.g),
              (this._b = d.b),
              (this._a = d.a),
              (this._roundA = L(100 * this._a) / 100),
              (this._format = c.format || d.format),
              (this._gradientType = c.gradientType),
              this._r < 1 && (this._r = L(this._r)),
              this._g < 1 && (this._g = L(this._g)),
              this._b < 1 && (this._b = L(this._b)),
              (this._ok = d.ok),
              (this._tc_id = J++);
          };
        (P.prototype = {
          isDark: function() {
            return this.getBrightness() < 128;
          },
          isLight: function() {
            return !this.isDark();
          },
          isValid: function() {
            return this._ok;
          },
          getOriginalInput: function() {
            return this._originalInput;
          },
          getFormat: function() {
            return this._format;
          },
          getAlpha: function() {
            return this._a;
          },
          getBrightness: function() {
            var a = this.toRgb();
            return (299 * a.r + 587 * a.g + 114 * a.b) / 1e3;
          },
          setAlpha: function(a) {
            return (
              (this._a = w(a)), (this._roundA = L(100 * this._a) / 100), this
            );
          },
          toHsv: function() {
            var a = e(this._r, this._g, this._b);
            return { h: 360 * a.h, s: a.s, v: a.v, a: this._a };
          },
          toHsvString: function() {
            var a = e(this._r, this._g, this._b),
              b = L(360 * a.h),
              c = L(100 * a.s),
              d = L(100 * a.v);
            return 1 == this._a
              ? "hsv(" + b + ", " + c + "%, " + d + "%)"
              : "hsva(" + b + ", " + c + "%, " + d + "%, " + this._roundA + ")";
          },
          toHsl: function() {
            var a = c(this._r, this._g, this._b);
            return { h: 360 * a.h, s: a.s, l: a.l, a: this._a };
          },
          toHslString: function() {
            var a = c(this._r, this._g, this._b),
              b = L(360 * a.h),
              d = L(100 * a.s),
              e = L(100 * a.l);
            return 1 == this._a
              ? "hsl(" + b + ", " + d + "%, " + e + "%)"
              : "hsla(" + b + ", " + d + "%, " + e + "%, " + this._roundA + ")";
          },
          toHex: function(a) {
            return g(this._r, this._g, this._b, a);
          },
          toHexString: function(a) {
            return "#" + this.toHex(a);
          },
          toHex8: function() {
            return h(this._r, this._g, this._b, this._a);
          },
          toHex8String: function() {
            return "#" + this.toHex8();
          },
          toRgb: function() {
            return { r: L(this._r), g: L(this._g), b: L(this._b), a: this._a };
          },
          toRgbString: function() {
            return 1 == this._a
              ? "rgb(" +
                  L(this._r) +
                  ", " +
                  L(this._g) +
                  ", " +
                  L(this._b) +
                  ")"
              : "rgba(" +
                  L(this._r) +
                  ", " +
                  L(this._g) +
                  ", " +
                  L(this._b) +
                  ", " +
                  this._roundA +
                  ")";
          },
          toPercentageRgb: function() {
            return {
              r: L(100 * x(this._r, 255)) + "%",
              g: L(100 * x(this._g, 255)) + "%",
              b: L(100 * x(this._b, 255)) + "%",
              a: this._a
            };
          },
          toPercentageRgbString: function() {
            return 1 == this._a
              ? "rgb(" +
                  L(100 * x(this._r, 255)) +
                  "%, " +
                  L(100 * x(this._g, 255)) +
                  "%, " +
                  L(100 * x(this._b, 255)) +
                  "%)"
              : "rgba(" +
                  L(100 * x(this._r, 255)) +
                  "%, " +
                  L(100 * x(this._g, 255)) +
                  "%, " +
                  L(100 * x(this._b, 255)) +
                  "%, " +
                  this._roundA +
                  ")";
          },
          toName: function() {
            return 0 === this._a
              ? "transparent"
              : this._a < 1
                ? !1
                : R[g(this._r, this._g, this._b, !0)] || !1;
          },
          toFilter: function(a) {
            var b = "#" + h(this._r, this._g, this._b, this._a),
              c = b,
              d = this._gradientType ? "GradientType = 1, " : "";
            if (a) {
              var e = P(a);
              c = e.toHex8String();
            }
            return (
              "progid:DXImageTransform.Microsoft.gradient(" +
              d +
              "startColorstr=" +
              b +
              ",endColorstr=" +
              c +
              ")"
            );
          },
          toString: function(a) {
            var b = !!a;
            a = a || this._format;
            var c = !1,
              d = this._a < 1 && this._a >= 0,
              e =
                !b &&
                d &&
                ("hex" === a || "hex6" === a || "hex3" === a || "name" === a);
            return e
              ? "name" === a && 0 === this._a
                ? this.toName()
                : this.toRgbString()
              : ("rgb" === a && (c = this.toRgbString()),
                "prgb" === a && (c = this.toPercentageRgbString()),
                ("hex" === a || "hex6" === a) && (c = this.toHexString()),
                "hex3" === a && (c = this.toHexString(!0)),
                "hex8" === a && (c = this.toHex8String()),
                "name" === a && (c = this.toName()),
                "hsl" === a && (c = this.toHslString()),
                "hsv" === a && (c = this.toHsvString()),
                c || this.toHexString());
          },
          _applyModification: function(a, b) {
            var c = a.apply(null, [this].concat([].slice.call(b)));
            return (
              (this._r = c._r),
              (this._g = c._g),
              (this._b = c._b),
              this.setAlpha(c._a),
              this
            );
          },
          lighten: function() {
            return this._applyModification(l, arguments);
          },
          brighten: function() {
            return this._applyModification(m, arguments);
          },
          darken: function() {
            return this._applyModification(n, arguments);
          },
          desaturate: function() {
            return this._applyModification(i, arguments);
          },
          saturate: function() {
            return this._applyModification(j, arguments);
          },
          greyscale: function() {
            return this._applyModification(k, arguments);
          },
          spin: function() {
            return this._applyModification(o, arguments);
          },
          _applyCombination: function(a, b) {
            return a.apply(null, [this].concat([].slice.call(b)));
          },
          analogous: function() {
            return this._applyCombination(t, arguments);
          },
          complement: function() {
            return this._applyCombination(p, arguments);
          },
          monochromatic: function() {
            return this._applyCombination(u, arguments);
          },
          splitcomplement: function() {
            return this._applyCombination(s, arguments);
          },
          triad: function() {
            return this._applyCombination(q, arguments);
          },
          tetrad: function() {
            return this._applyCombination(r, arguments);
          }
        }),
          (P.fromRatio = function(a, b) {
            if ("object" == typeof a) {
              var c = {};
              for (var d in a)
                a.hasOwnProperty(d) && (c[d] = "a" === d ? a[d] : D(a[d]));
              a = c;
            }
            return P(a, b);
          }),
          (P.equals = function(a, b) {
            return a && b ? P(a).toRgbString() == P(b).toRgbString() : !1;
          }),
          (P.random = function() {
            return P.fromRatio({ r: O(), g: O(), b: O() });
          }),
          (P.mix = function(a, b, c) {
            c = 0 === c ? 0 : c || 50;
            var d,
              e = P(a).toRgb(),
              f = P(b).toRgb(),
              g = c / 100,
              h = 2 * g - 1,
              i = f.a - e.a;
            (d = h * i == -1 ? h : (h + i) / (1 + h * i)), (d = (d + 1) / 2);
            var j = 1 - d,
              k = {
                r: f.r * d + e.r * j,
                g: f.g * d + e.g * j,
                b: f.b * d + e.b * j,
                a: f.a * g + e.a * (1 - g)
              };
            return P(k);
          }),
          (P.readability = function(a, b) {
            var c = P(a),
              d = P(b),
              e = c.toRgb(),
              f = d.toRgb(),
              g = c.getBrightness(),
              h = d.getBrightness(),
              i =
                Math.max(e.r, f.r) -
                Math.min(e.r, f.r) +
                Math.max(e.g, f.g) -
                Math.min(e.g, f.g) +
                Math.max(e.b, f.b) -
                Math.min(e.b, f.b);
            return { brightness: Math.abs(g - h), color: i };
          }),
          (P.isReadable = function(a, b) {
            var c = P.readability(a, b);
            return c.brightness > 125 && c.color > 500;
          }),
          (P.mostReadable = function(a, b) {
            for (var c = null, d = 0, e = !1, f = 0; f < b.length; f++) {
              var g = P.readability(a, b[f]),
                h = g.brightness > 125 && g.color > 500,
                i = 3 * (g.brightness / 125) + g.color / 500;
              ((h && !e) || (h && e && i > d) || (!h && !e && i > d)) &&
                ((e = h), (d = i), (c = P(b[f])));
            }
            return c;
          });
        var Q = (P.names = {
            aliceblue: "f0f8ff",
            antiquewhite: "faebd7",
            aqua: "0ff",
            aquamarine: "7fffd4",
            azure: "f0ffff",
            beige: "f5f5dc",
            bisque: "ffe4c4",
            black: "000",
            blanchedalmond: "ffebcd",
            blue: "00f",
            blueviolet: "8a2be2",
            brown: "a52a2a",
            burlywood: "deb887",
            burntsienna: "ea7e5d",
            cadetblue: "5f9ea0",
            chartreuse: "7fff00",
            chocolate: "d2691e",
            coral: "ff7f50",
            cornflowerblue: "6495ed",
            cornsilk: "fff8dc",
            crimson: "dc143c",
            cyan: "0ff",
            darkblue: "00008b",
            darkcyan: "008b8b",
            darkgoldenrod: "b8860b",
            darkgray: "a9a9a9",
            darkgreen: "006400",
            darkgrey: "a9a9a9",
            darkkhaki: "bdb76b",
            darkmagenta: "8b008b",
            darkolivegreen: "556b2f",
            darkorange: "ff8c00",
            darkorchid: "9932cc",
            darkred: "8b0000",
            darksalmon: "e9967a",
            darkseagreen: "8fbc8f",
            darkslateblue: "483d8b",
            darkslategray: "2f4f4f",
            darkslategrey: "2f4f4f",
            darkturquoise: "00ced1",
            darkviolet: "9400d3",
            deeppink: "ff1493",
            deepskyblue: "00bfff",
            dimgray: "696969",
            dimgrey: "696969",
            dodgerblue: "1e90ff",
            firebrick: "b22222",
            floralwhite: "fffaf0",
            forestgreen: "228b22",
            fuchsia: "f0f",
            gainsboro: "dcdcdc",
            ghostwhite: "f8f8ff",
            gold: "ffd700",
            goldenrod: "daa520",
            gray: "808080",
            green: "008000",
            greenyellow: "adff2f",
            grey: "808080",
            honeydew: "f0fff0",
            hotpink: "ff69b4",
            indianred: "cd5c5c",
            indigo: "4b0082",
            ivory: "fffff0",
            khaki: "f0e68c",
            lavender: "e6e6fa",
            lavenderblush: "fff0f5",
            lawngreen: "7cfc00",
            lemonchiffon: "fffacd",
            lightblue: "add8e6",
            lightcoral: "f08080",
            lightcyan: "e0ffff",
            lightgoldenrodyellow: "fafad2",
            lightgray: "d3d3d3",
            lightgreen: "90ee90",
            lightgrey: "d3d3d3",
            lightpink: "ffb6c1",
            lightsalmon: "ffa07a",
            lightseagreen: "20b2aa",
            lightskyblue: "87cefa",
            lightslategray: "789",
            lightslategrey: "789",
            lightsteelblue: "b0c4de",
            lightyellow: "ffffe0",
            lime: "0f0",
            limegreen: "32cd32",
            linen: "faf0e6",
            magenta: "f0f",
            maroon: "800000",
            mediumaquamarine: "66cdaa",
            mediumblue: "0000cd",
            mediumorchid: "ba55d3",
            mediumpurple: "9370db",
            mediumseagreen: "3cb371",
            mediumslateblue: "7b68ee",
            mediumspringgreen: "00fa9a",
            mediumturquoise: "48d1cc",
            mediumvioletred: "c71585",
            midnightblue: "191970",
            mintcream: "f5fffa",
            mistyrose: "ffe4e1",
            moccasin: "ffe4b5",
            navajowhite: "ffdead",
            navy: "000080",
            oldlace: "fdf5e6",
            olive: "808000",
            olivedrab: "6b8e23",
            orange: "ffa500",
            orangered: "ff4500",
            orchid: "da70d6",
            palegoldenrod: "eee8aa",
            palegreen: "98fb98",
            paleturquoise: "afeeee",
            palevioletred: "db7093",
            papayawhip: "ffefd5",
            peachpuff: "ffdab9",
            peru: "cd853f",
            pink: "ffc0cb",
            plum: "dda0dd",
            powderblue: "b0e0e6",
            purple: "800080",
            rebeccapurple: "663399",
            red: "f00",
            rosybrown: "bc8f8f",
            royalblue: "4169e1",
            saddlebrown: "8b4513",
            salmon: "fa8072",
            sandybrown: "f4a460",
            seagreen: "2e8b57",
            seashell: "fff5ee",
            sienna: "a0522d",
            silver: "c0c0c0",
            skyblue: "87ceeb",
            slateblue: "6a5acd",
            slategray: "708090",
            slategrey: "708090",
            snow: "fffafa",
            springgreen: "00ff7f",
            steelblue: "4682b4",
            tan: "d2b48c",
            teal: "008080",
            thistle: "d8bfd8",
            tomato: "ff6347",
            turquoise: "40e0d0",
            violet: "ee82ee",
            wheat: "f5deb3",
            white: "fff",
            whitesmoke: "f5f5f5",
            yellow: "ff0",
            yellowgreen: "9acd32"
          }),
          R = (P.hexNames = v(Q)),
          S = (function() {
            var a = "[-\\+]?\\d+%?",
              b = "[-\\+]?\\d*\\.\\d+%?",
              c = "(?:" + b + ")|(?:" + a + ")",
              d =
                "[\\s|\\(]+(" +
                c +
                ")[,|\\s]+(" +
                c +
                ")[,|\\s]+(" +
                c +
                ")\\s*\\)?",
              e =
                "[\\s|\\(]+(" +
                c +
                ")[,|\\s]+(" +
                c +
                ")[,|\\s]+(" +
                c +
                ")[,|\\s]+(" +
                c +
                ")\\s*\\)?";
            return {
              rgb: new RegExp("rgb" + d),
              rgba: new RegExp("rgba" + e),
              hsl: new RegExp("hsl" + d),
              hsla: new RegExp("hsla" + e),
              hsv: new RegExp("hsv" + d),
              hsva: new RegExp("hsva" + e),
              hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
              hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
              hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
            };
          })();
        window.tinycolor = P;
      })(),
      a(function() {
        a.fn.spectrum.load && a.fn.spectrum.processNativeColorInputs();
      });
  }),
  (function() {
    function a(a) {
      return a.call.apply(a.bind, arguments);
    }
    function b(a, b) {
      if (!a) throw Error();
      if (2 < arguments.length) {
        var c = Array.prototype.slice.call(arguments, 2);
        return function() {
          var d = Array.prototype.slice.call(arguments);
          return Array.prototype.unshift.apply(d, c), a.apply(b, d);
        };
      }
      return function() {
        return a.apply(b, arguments);
      };
    }
    function c() {
      return (
        (c =
          Function.prototype.bind &&
          -1 != Function.prototype.bind.toString().indexOf("native code")
            ? a
            : b),
        c.apply(null, arguments)
      );
    }
    function d(a, b) {
      (this.a = a), (this.m = b || a), (this.c = this.m.document);
    }
    function e(a, b, c, d) {
      if (((b = a.c.createElement(b)), c))
        for (var e in c)
          c.hasOwnProperty(e) &&
            ("style" == e ? (b.style.cssText = c[e]) : b.setAttribute(e, c[e]));
      return d && b.appendChild(a.c.createTextNode(d)), b;
    }
    function f(a, b, c) {
      (a = a.c.getElementsByTagName(b)[0]),
        a || (a = document.documentElement),
        a.insertBefore(c, a.lastChild);
    }
    function g(a) {
      a.parentNode && a.parentNode.removeChild(a);
    }
    function h(a, b, c) {
      (b = b || []), (c = c || []);
      for (var d = a.className.split(/\s+/), e = 0; e < b.length; e += 1) {
        for (var f = !1, g = 0; g < d.length; g += 1)
          if (b[e] === d[g]) {
            f = !0;
            break;
          }
        f || d.push(b[e]);
      }
      for (b = [], e = 0; e < d.length; e += 1) {
        for (f = !1, g = 0; g < c.length; g += 1)
          if (d[e] === c[g]) {
            f = !0;
            break;
          }
        f || b.push(d[e]);
      }
      a.className = b
        .join(" ")
        .replace(/\s+/g, " ")
        .replace(/^\s+|\s+$/, "");
    }
    function i(a, b) {
      for (var c = a.className.split(/\s+/), d = 0, e = c.length; e > d; d++)
        if (c[d] == b) return !0;
      return !1;
    }
    function j(a) {
      if ("string" == typeof a.f) return a.f;
      var b = a.m.location.protocol;
      return (
        "about:" == b && (b = a.a.location.protocol),
        "https:" == b ? "https:" : "http:"
      );
    }
    function k(a) {
      return a.m.location.hostname || a.a.location.hostname;
    }
    function l(a, b, c) {
      function d() {
        j && g && h && (j(i), (j = null));
      }
      b = e(a, "link", { rel: "stylesheet", href: b, media: "all" });
      var g = !1,
        h = !0,
        i = null,
        j = c || null;
      da
        ? ((b.onload = function() {
            (g = !0), d();
          }),
          (b.onerror = function() {
            (g = !0), (i = Error("Stylesheet failed to load")), d();
          }))
        : setTimeout(function() {
            (g = !0), d();
          }, 0),
        f(a, "head", b);
    }
    function m(a, b, c, d) {
      var f = a.c.getElementsByTagName("head")[0];
      if (f) {
        var g = e(a, "script", { src: b }),
          h = !1;
        return (
          (g.onload = g.onreadystatechange = function() {
            h ||
              (this.readyState &&
                "loaded" != this.readyState &&
                "complete" != this.readyState) ||
              ((h = !0),
              c && c(null),
              (g.onload = g.onreadystatechange = null),
              "HEAD" == g.parentNode.tagName && f.removeChild(g));
          }),
          f.appendChild(g),
          setTimeout(function() {
            h || ((h = !0), c && c(Error("Script load timeout")));
          }, d || 5e3),
          g
        );
      }
      return null;
    }
    function n() {
      (this.a = 0), (this.c = null);
    }
    function o(a) {
      return (
        a.a++,
        function() {
          a.a--, q(a);
        }
      );
    }
    function p(a, b) {
      (a.c = b), q(a);
    }
    function q(a) {
      0 == a.a && a.c && (a.c(), (a.c = null));
    }
    function r(a) {
      this.a = a || "-";
    }
    function s(a, b) {
      (this.c = a), (this.f = 4), (this.a = "n");
      var c = (b || "n4").match(/^([nio])([1-9])$/i);
      c && ((this.a = c[1]), (this.f = parseInt(c[2], 10)));
    }
    function t(a) {
      return w(a) + " " + (a.f + "00") + " 300px " + u(a.c);
    }
    function u(a) {
      var b = [];
      a = a.split(/,\s*/);
      for (var c = 0; c < a.length; c++) {
        var d = a[c].replace(/['"]/g, "");
        b.push(-1 != d.indexOf(" ") || /^\d/.test(d) ? "'" + d + "'" : d);
      }
      return b.join(",");
    }
    function v(a) {
      return a.a + a.f;
    }
    function w(a) {
      var b = "normal";
      return "o" === a.a ? (b = "oblique") : "i" === a.a && (b = "italic"), b;
    }
    function x(a) {
      var b = 4,
        c = "n",
        d = null;
      return (
        a &&
          ((d = a.match(/(normal|oblique|italic)/i)) &&
            d[1] &&
            (c = d[1].substr(0, 1).toLowerCase()),
          (d = a.match(/([1-9]00|normal|bold)/i)) &&
            d[1] &&
            (/bold/i.test(d[1])
              ? (b = 7)
              : /[1-9]00/.test(d[1]) && (b = parseInt(d[1].substr(0, 1), 10)))),
        c + b
      );
    }
    function y(a, b) {
      (this.c = a),
        (this.f = a.m.document.documentElement),
        (this.h = b),
        (this.a = new r("-")),
        (this.j = !1 !== b.events),
        (this.g = !1 !== b.classes);
    }
    function z(a) {
      a.g && h(a.f, [a.a.c("wf", "loading")]), B(a, "loading");
    }
    function A(a) {
      if (a.g) {
        var b = i(a.f, a.a.c("wf", "active")),
          c = [],
          d = [a.a.c("wf", "loading")];
        b || c.push(a.a.c("wf", "inactive")), h(a.f, c, d);
      }
      B(a, "inactive");
    }
    function B(a, b, c) {
      a.j && a.h[b] && (c ? a.h[b](c.c, v(c)) : a.h[b]());
    }
    function C() {
      this.c = {};
    }
    function D(a, b, c) {
      var d,
        e = [];
      for (d in b)
        if (b.hasOwnProperty(d)) {
          var f = a.c[d];
          f && e.push(f(b[d], c));
        }
      return e;
    }
    function E(a, b) {
      (this.c = a),
        (this.f = b),
        (this.a = e(this.c, "span", { "aria-hidden": "true" }, this.f));
    }
    function F(a) {
      f(a.c, "body", a.a);
    }
    function G(a) {
      return (
        "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" +
        u(a.c) +
        ";" +
        ("font-style:" + w(a) + ";font-weight:" + (a.f + "00") + ";")
      );
    }
    function H(a, b, c, d, e, f) {
      (this.g = a),
        (this.j = b),
        (this.a = d),
        (this.c = c),
        (this.f = e || 3e3),
        (this.h = f || void 0);
    }
    function I(a, b, c, d, e, f, g) {
      (this.v = a),
        (this.B = b),
        (this.c = c),
        (this.a = d),
        (this.s = g || "BESbswy"),
        (this.f = {}),
        (this.w = e || 3e3),
        (this.u = f || null),
        (this.o = this.j = this.h = this.g = null),
        (this.g = new E(this.c, this.s)),
        (this.h = new E(this.c, this.s)),
        (this.j = new E(this.c, this.s)),
        (this.o = new E(this.c, this.s)),
        (a = new s(this.a.c + ",serif", v(this.a))),
        (a = G(a)),
        (this.g.a.style.cssText = a),
        (a = new s(this.a.c + ",sans-serif", v(this.a))),
        (a = G(a)),
        (this.h.a.style.cssText = a),
        (a = new s("serif", v(this.a))),
        (a = G(a)),
        (this.j.a.style.cssText = a),
        (a = new s("sans-serif", v(this.a))),
        (a = G(a)),
        (this.o.a.style.cssText = a),
        F(this.g),
        F(this.h),
        F(this.j),
        F(this.o);
    }
    function J() {
      if (null === fa) {
        var a = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(
          window.navigator.userAgent
        );
        fa =
          !!a &&
          (536 > parseInt(a[1], 10) ||
            (536 === parseInt(a[1], 10) && 11 >= parseInt(a[2], 10)));
      }
      return fa;
    }
    function K(a, b, c) {
      for (var d in ea)
        if (ea.hasOwnProperty(d) && b === a.f[ea[d]] && c === a.f[ea[d]])
          return !0;
      return !1;
    }
    function L(a) {
      var b,
        c = a.g.a.offsetWidth,
        d = a.h.a.offsetWidth;
      (b = c === a.f.serif && d === a.f["sans-serif"]) ||
        (b = J() && K(a, c, d)),
        b
          ? ca() - a.A >= a.w
            ? J() && K(a, c, d) && (null === a.u || a.u.hasOwnProperty(a.a.c))
              ? N(a, a.v)
              : N(a, a.B)
            : M(a)
          : N(a, a.v);
    }
    function M(a) {
      setTimeout(
        c(function() {
          L(this);
        }, a),
        50
      );
    }
    function N(a, b) {
      setTimeout(
        c(function() {
          g(this.g.a), g(this.h.a), g(this.j.a), g(this.o.a), b(this.a);
        }, a),
        0
      );
    }
    function O(a, b, c) {
      (this.c = a),
        (this.a = b),
        (this.f = 0),
        (this.o = this.j = !1),
        (this.s = c);
    }
    function P(a) {
      0 == --a.f &&
        a.j &&
        (a.o
          ? ((a = a.a),
            a.g &&
              h(
                a.f,
                [a.a.c("wf", "active")],
                [a.a.c("wf", "loading"), a.a.c("wf", "inactive")]
              ),
            B(a, "active"))
          : A(a.a));
    }
    function Q(a) {
      (this.j = a), (this.a = new C()), (this.h = 0), (this.f = this.g = !0);
    }
    function R(a, b, d, e, f) {
      var g = 0 == --a.h;
      (a.f || a.g) &&
        setTimeout(function() {
          var a = f || null,
            i = e || null || {};
          if (0 === d.length && g) A(b.a);
          else {
            (b.f += d.length), g && (b.j = g);
            var j,
              k = [];
            for (j = 0; j < d.length; j++) {
              var l = d[j],
                m = i[l.c],
                n = b.a,
                o = l;
              if (
                (n.g && h(n.f, [n.a.c("wf", o.c, v(o).toString(), "loading")]),
                B(n, "fontloading", o),
                (n = null),
                null === ga)
              )
                if (window.FontFace) {
                  var o = /Gecko.*Firefox\/(\d+)/.exec(
                      window.navigator.userAgent
                    ),
                    p =
                      /OS X.*Version\/10\..*Safari/.exec(
                        window.navigator.userAgent
                      ) && /Apple/.exec(window.navigator.vendor);
                  ga = o ? 42 < parseInt(o[1], 10) : p ? !1 : !0;
                } else ga = !1;
              (n = ga
                ? new H(c(b.g, b), c(b.h, b), b.c, l, b.s, m)
                : new I(c(b.g, b), c(b.h, b), b.c, l, b.s, a, m)),
                k.push(n);
            }
            for (j = 0; j < k.length; j++) k[j].start();
          }
        }, 0);
    }
    function S(a, b, c) {
      var d = [],
        e = c.timeout;
      z(b);
      var d = D(a.a, c, a.c),
        f = new O(a.c, b, e);
      for (a.h = d.length, b = 0, c = d.length; c > b; b++)
        d[b].load(function(b, c, d) {
          R(a, f, b, c, d);
        });
    }
    function T(a, b) {
      (this.c = a), (this.a = b);
    }
    function U(a, b, c) {
      var d = j(a.c);
      return (
        (a = (a.a.api || "fast.fonts.net/jsapi").replace(
          /^.*http(s?):(\/\/)?/,
          ""
        )),
        d + "//" + a + "/" + b + ".js" + (c ? "?v=" + c : "")
      );
    }
    function V(a, b) {
      (this.c = a), (this.a = b);
    }
    function W(a, b, c) {
      (this.c = a ? a : b + ha),
        (this.a = []),
        (this.f = []),
        (this.g = c || "");
    }
    function X(a, b) {
      for (var c = b.length, d = 0; c > d; d++) {
        var e = b[d].split(":");
        3 == e.length && a.f.push(e.pop());
        var f = "";
        2 == e.length && "" != e[1] && (f = ":"), a.a.push(e.join(f));
      }
    }
    function Y(a) {
      if (0 == a.a.length) throw Error("No fonts to load!");
      if (-1 != a.c.indexOf("kit=")) return a.c;
      for (var b = a.a.length, c = [], d = 0; b > d; d++)
        c.push(a.a[d].replace(/ /g, "+"));
      return (
        (b = a.c + "?family=" + c.join("%7C")),
        0 < a.f.length && (b += "&subset=" + a.f.join(",")),
        0 < a.g.length && (b += "&text=" + encodeURIComponent(a.g)),
        b
      );
    }
    function Z(a) {
      (this.f = a), (this.a = []), (this.c = {});
    }
    function $(a) {
      for (var b = a.f.length, c = 0; b > c; c++) {
        var d = a.f[c].split(":"),
          e = d[0].replace(/\+/g, " "),
          f = ["n4"];
        if (2 <= d.length) {
          var g,
            h = d[1];
          if (((g = []), h))
            for (var h = h.split(","), i = h.length, j = 0; i > j; j++) {
              var k;
              if (((k = h[j]), k.match(/^[\w-]+$/))) {
                var l = la.exec(k.toLowerCase());
                if (null == l) k = "";
                else {
                  if (
                    ((k = l[2]),
                    (k = null == k || "" == k ? "n" : ka[k]),
                    (l = l[1]),
                    null == l || "" == l)
                  )
                    l = "4";
                  else
                    var m = ja[l],
                      l = m ? m : isNaN(l) ? "4" : l.substr(0, 1);
                  k = [k, l].join("");
                }
              } else k = "";
              k && g.push(k);
            }
          0 < g.length && (f = g),
            3 == d.length &&
              ((d = d[2]),
              (g = []),
              (d = d ? d.split(",") : g),
              0 < d.length && (d = ia[d[0]]) && (a.c[e] = d));
        }
        for (
          a.c[e] || ((d = ia[e]) && (a.c[e] = d)), d = 0;
          d < f.length;
          d += 1
        )
          a.a.push(new s(e, f[d]));
      }
    }
    function _(a, b) {
      (this.c = a), (this.a = b);
    }
    function aa(a, b) {
      (this.c = a), (this.a = b);
    }
    function ba(a, b) {
      (this.c = a), (this.f = b), (this.a = []);
    }
    var ca =
        Date.now ||
        function() {
          return +new Date();
        },
      da = !!window.FontFace;
    (r.prototype.c = function() {
      for (var a = [], b = 0; b < arguments.length; b++)
        a.push(arguments[b].replace(/[\W_]+/g, "").toLowerCase());
      return a.join(this.a);
    }),
      (H.prototype.start = function() {
        var a = this.c.m.document,
          b = this,
          c = ca(),
          d = new Promise(function(d, e) {
            function f() {
              ca() - c >= b.f
                ? e()
                : a.fonts.load(t(b.a), b.h).then(
                    function(a) {
                      1 <= a.length ? d() : setTimeout(f, 25);
                    },
                    function() {
                      e();
                    }
                  );
            }
            f();
          }),
          e = new Promise(function(a, c) {
            setTimeout(c, b.f);
          });
        Promise.race([e, d]).then(
          function() {
            b.g(b.a);
          },
          function() {
            b.j(b.a);
          }
        );
      });
    var ea = { D: "serif", C: "sans-serif" },
      fa = null;
    I.prototype.start = function() {
      (this.f.serif = this.j.a.offsetWidth),
        (this.f["sans-serif"] = this.o.a.offsetWidth),
        (this.A = ca()),
        L(this);
    };
    var ga = null;
    (O.prototype.g = function(a) {
      var b = this.a;
      b.g &&
        h(
          b.f,
          [b.a.c("wf", a.c, v(a).toString(), "active")],
          [
            b.a.c("wf", a.c, v(a).toString(), "loading"),
            b.a.c("wf", a.c, v(a).toString(), "inactive")
          ]
        ),
        B(b, "fontactive", a),
        (this.o = !0),
        P(this);
    }),
      (O.prototype.h = function(a) {
        var b = this.a;
        if (b.g) {
          var c = i(b.f, b.a.c("wf", a.c, v(a).toString(), "active")),
            d = [],
            e = [b.a.c("wf", a.c, v(a).toString(), "loading")];
          c || d.push(b.a.c("wf", a.c, v(a).toString(), "inactive")),
            h(b.f, d, e);
        }
        B(b, "fontinactive", a), P(this);
      }),
      (Q.prototype.load = function(a) {
        (this.c = new d(this.j, a.context || this.j)),
          (this.g = !1 !== a.events),
          (this.f = !1 !== a.classes),
          S(this, new y(this.c, a), a);
      }),
      (T.prototype.load = function(a) {
        function b() {
          if (f["__mti_fntLst" + d]) {
            var c,
              e = f["__mti_fntLst" + d](),
              g = [];
            if (e)
              for (var h = 0; h < e.length; h++) {
                var i = e[h].fontfamily;
                void 0 != e[h].fontStyle && void 0 != e[h].fontWeight
                  ? ((c = e[h].fontStyle + e[h].fontWeight),
                    g.push(new s(i, c)))
                  : g.push(new s(i));
              }
            a(g);
          } else
            setTimeout(function() {
              b();
            }, 50);
        }
        var c = this,
          d = c.a.projectId,
          e = c.a.version;
        if (d) {
          var f = c.c.m;
          m(this.c, U(c, d, e), function(e) {
            e
              ? a([])
              : ((f["__MonotypeConfiguration__" + d] = function() {
                  return c.a;
                }),
                b());
          }).id =
            "__MonotypeAPIScript__" + d;
        } else a([]);
      }),
      (V.prototype.load = function(a) {
        var b,
          c,
          d = this.a.urls || [],
          e = this.a.families || [],
          f = this.a.testStrings || {},
          g = new n();
        for (b = 0, c = d.length; c > b; b++) l(this.c, d[b], o(g));
        var h = [];
        for (b = 0, c = e.length; c > b; b++)
          if (((d = e[b].split(":")), d[1]))
            for (var i = d[1].split(","), j = 0; j < i.length; j += 1)
              h.push(new s(d[0], i[j]));
          else h.push(new s(d[0]));
        p(g, function() {
          a(h, f);
        });
      });
    var ha = "//fonts.googleapis.com/css",
      ia = {
        latin: "BESbswy",
        "latin-ext": "çöüğş",
        cyrillic: "йяЖ",
        greek: "αβΣ",
        khmer: "កខគ",
        Hanuman: "កខគ"
      },
      ja = {
        thin: "1",
        extralight: "2",
        "extra-light": "2",
        ultralight: "2",
        "ultra-light": "2",
        light: "3",
        regular: "4",
        book: "4",
        medium: "5",
        "semi-bold": "6",
        semibold: "6",
        "demi-bold": "6",
        demibold: "6",
        bold: "7",
        "extra-bold": "8",
        extrabold: "8",
        "ultra-bold": "8",
        ultrabold: "8",
        black: "9",
        heavy: "9",
        l: "3",
        r: "4",
        b: "7"
      },
      ka = { i: "i", italic: "i", n: "n", normal: "n" },
      la = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,
      ma = { Arimo: !0, Cousine: !0, Tinos: !0 };
    (_.prototype.load = function(a) {
      var b = new n(),
        c = this.c,
        d = new W(this.a.api, j(c), this.a.text),
        e = this.a.families;
      X(d, e);
      var f = new Z(e);
      $(f),
        l(c, Y(d), o(b)),
        p(b, function() {
          a(f.a, f.c, ma);
        });
    }),
      (aa.prototype.load = function(a) {
        var b = this.a.id,
          c = this.c.m;
        b
          ? m(
              this.c,
              (this.a.api || "https://use.typekit.net") + "/" + b + ".js",
              function(b) {
                if (b) a([]);
                else if (c.Typekit && c.Typekit.config && c.Typekit.config.fn) {
                  b = c.Typekit.config.fn;
                  for (var d = [], e = 0; e < b.length; e += 2)
                    for (var f = b[e], g = b[e + 1], h = 0; h < g.length; h++)
                      d.push(new s(f, g[h]));
                  try {
                    c.Typekit.load({ events: !1, classes: !1, async: !0 });
                  } catch (i) {}
                  a(d);
                }
              },
              2e3
            )
          : a([]);
      }),
      (ba.prototype.load = function(a) {
        var b = this.f.id,
          c = this.c.m,
          d = this;
        b
          ? (c.__webfontfontdeckmodule__ || (c.__webfontfontdeckmodule__ = {}),
            (c.__webfontfontdeckmodule__[b] = function(b, c) {
              for (var e = 0, f = c.fonts.length; f > e; ++e) {
                var g = c.fonts[e];
                d.a.push(
                  new s(
                    g.name,
                    x("font-weight:" + g.weight + ";font-style:" + g.style)
                  )
                );
              }
              a(d.a);
            }),
            m(
              this.c,
              j(this.c) +
                (this.f.api || "//f.fontdeck.com/s/css/js/") +
                k(this.c) +
                "/" +
                b +
                ".js",
              function(b) {
                b && a([]);
              }
            ))
          : a([]);
      });
    var na = new Q(window);
    (na.a.c.custom = function(a, b) {
      return new V(b, a);
    }),
      (na.a.c.fontdeck = function(a, b) {
        return new ba(b, a);
      }),
      (na.a.c.monotype = function(a, b) {
        return new T(b, a);
      }),
      (na.a.c.typekit = function(a, b) {
        return new aa(b, a);
      }),
      (na.a.c.google = function(a, b) {
        return new _(b, a);
      });
    var oa = { load: c(na.load, na) };
    "function" == typeof define && define.amd
      ? define(function() {
          return oa;
        })
      : "undefined" != typeof module && module.exports
        ? (module.exports = oa)
        : ((window.WebFont = oa),
          window.WebFontConfig && na.load(window.WebFontConfig));
  })();
