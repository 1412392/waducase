
@using WaduCaseBusiness.Model;
@using WaduCase.Common;

@model ProductBO
@{
    double percentSaleOff = Math.Ceiling(100 - (Model.newprice / Model.oldprice) * 100);
}
<div class="product-gallery large-7 col">
    <div class="fpd-product-designer-wrapper">
        <div id="fancy-product-designer-1996" class="fpd-container fpd-views-inside-left fpd-top-actions-centered fpd-clearfix fpd-device-desktop fpd-grid-columns-2 fpd-shadow-1 fpd-bottom-actions-centered fpd-right-actions-centered fpd-left-actions-centered fpd-sidebar fpd-tabs fpd-tabs-side fpd-hidden"></div>@*fpd-hidden*@
    </div>

    <div class="product-images relative mb-half has-hover woocommerce-product-gallery woocommerce-product-gallery--with-images woocommerce-product-gallery--columns-4 images" data-columns="4">
        <div class="badge-container is-larger absolute left top z-1">
            <div class="callout badge badge-frame">
                <div class="badge-inner secondary on-sale"><span class="onsale">-@percentSaleOff%</span></div>
            </div>
        </div>
        <div class="image-tools absolute top show-on-hover right z-3"></div>
        <figure class="woocommerce-product-gallery__wrapper product-gallery-slider slider slider-nav-small mb-half has-image-zoom"
                data-flickity-options='{
                                         "cellAlign": "center",
                                         "wrapAround": true,
                                         "autoPlay": false,
                                         "prevNextButtons":true,
                                         "adaptiveHeight": true,
                                         "imagesLoaded": true,
                                         "lazyLoad": 1,
                                         "dragThreshold" : 15,
                                         "pageDots": false,
                                         "rightToLeft": false       }'>

            @foreach (var item in Model.slide)
            {
                <div data-thumb="@item.url" class="woocommerce-product-gallery__image slide first">
                    <a href="@item.url">
                        <img width="900" height="900" src="@item.url"
                             class="wp-post-image skip-lazy" alt="" title="@Model.seoname"
                             data-caption="" data-src="@item.url"
                             data-large_image="@item.url" data-large_image_width="900" data-large_image_height="900" />
                    </a>
                </div>
            }

        </figure>
        <div class="image-tools absolute bottom left z-3">
            <a href="#product-zoom" class="zoom-button button is-outline circle icon tooltip hide-for-small" title="Zoom"> <i class="icon-expand"></i> </a>
        </div>
    </div>

    <div class="product-thumbnails thumbnails slider-no-arrows slider row row-small row-slider slider-nav-small small-columns-4"
         data-flickity-options='{
                                     "cellAlign": "left",
                                     "wrapAround": false,
                                     "autoPlay": false,
                                     "prevNextButtons": true,
                                     "asNavFor": ".product-gallery-slider",
                                     "percentPosition": true,
                                     "imagesLoaded": true,
                                     "pageDots": false,
                                     "rightToLeft": false,
                                     "contain": true
                                     }'>
        @foreach (var item in Model.slide)
        {
            <div class="col @(item.displayorder==1 ? "is-nav-selected first" : "")">
                <a>
                    <img src="@item.url" width="300" height="300" class="attachment-woocommerce_thumbnail" />
                </a>
            </div>
        }


    </div>
</div>
